{"version":3,"file":"static/js/9684.99bc977d.chunk.js","mappings":"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","sources":["pages/Login/Login.tsx","shared/layouts/WelcomeLayout.tsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport { WelcomeLayout } from 'shared/layouts/WelcomeLayout';\nimport isEmpty from 'lodash/isEmpty';\nimport { useFormik } from 'formik';\nimport * as yup from 'yup';\nimport Actions from 'store/actions';\nimport { useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { KntInput } from 'shared/components/Fields';\nimport { useRouter } from '../../shared/hooks';\nimport { useTranslation } from 'react-i18next';\nimport Localization from 'i18n';\n\nconst validationSchema = yup.object({\n\tusername: yup\n\t\t.string()\n\t\t.email(Localization.t('valid_email'))\n\t\t.required(Localization.t('email_required')),\n\tpassword: yup\n\t\t.string()\n\t\t.strict(true)\n\t\t.trim(Localization.t('password_cannot_blank'))\n\t\t.min(6, Localization.t('password_validation'))\n\t\t.required(Localization.t('password_required'))\n});\n\nfunction Login() {\n\tconst dispatch = useDispatch();\n\tconst { t } = useTranslation();\n\tconst emailRef = useRef<HTMLInputElement>(null);\n\tconst { history } = useRouter();\n\tconst formik = useFormik({\n\t\tinitialValues: {\n\t\t\tusername: '',\n\t\t\tpassword: ''\n\t\t},\n\t\tvalidationSchema: validationSchema,\n\t\tonSubmit: (values, { setFieldError, setSubmitting }) => {\n\t\t\t// alert(JSON.stringify(values, null, 2));\n\t\t\tdispatch(\n\t\t\t\tActions.auth.Login.request({\n\t\t\t\t\tvalues,\n\t\t\t\t\tcb: {\n\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\tsetSubmitting(false);\n\t\t\t\t\t\t\thistory.push('/');\n\t\t\t\t\t\t\tdispatch(Actions.auth.GetMe.request());\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: (errors: { message: string; code: string }) => {\n\t\t\t\t\t\t\t// console.log('login error', errors);\n\t\t\t\t\t\t\tif (!isEmpty(errors)) {\n\t\t\t\t\t\t\t\tsetFieldError('password', errors.message);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (errors.message.includes('Invalid token')) {\n\t\t\t\t\t\t\t\tlocalStorage.clear();\n\t\t\t\t\t\t\t\tdocument.location.reload();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetSubmitting(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfinally: () => {}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t});\n\n\tuseEffect(() => {\n\t\tif (emailRef?.current) emailRef?.current.focus();\n\t}, []);\n\n\treturn (\n\t\t<WelcomeLayout\n\t\t\ttitle={t('sign_in_to_kennekt')}\n\t\t\tdescription={t('login_sub_info')}\n\t\t\tgoToPageLink={'/signup'}\n\t\t\tgoToPage={''}\n\t\t\tgoToPageLinkText={t('sign_up')}\n\t\t\tback\n\t\t\tshowLanguageSelect\n\t\t\tcontent={\n\t\t\t\t<>\n\t\t\t\t\t<form onSubmit={formik.handleSubmit}>\n\t\t\t\t\t\t<div className=\" w-full font-poppins md:max-w-[423px]\">\n\t\t\t\t\t\t\t<KntInput\n\t\t\t\t\t\t\t\tname={'username'}\n\t\t\t\t\t\t\t\tplaceholder={'Email'}\n\t\t\t\t\t\t\t\tlabel={t('email_address')}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\t\t\t\ttype={'email'}\n\t\t\t\t\t\t\t\tvalue={formik.values.username}\n\t\t\t\t\t\t\t\terror={formik.touched.username && Boolean(formik.errors.username)}\n\t\t\t\t\t\t\t\thelperText={formik.touched.username && formik.errors.username}\n\t\t\t\t\t\t\t\tref={emailRef}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<KntInput\n\t\t\t\t\t\t\t\tname={'password'}\n\t\t\t\t\t\t\t\tplaceholder={t('password')}\n\t\t\t\t\t\t\t\tlabel={t('password')}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\t\t\t\ttype={'password'}\n\t\t\t\t\t\t\t\tvalue={formik.values.password}\n\t\t\t\t\t\t\t\terror={formik.touched.password && Boolean(formik.errors.password)}\n\t\t\t\t\t\t\t\thelperText={formik.touched.password && formik.errors.password}\n\t\t\t\t\t\t\t\tclassNames={'mb-8'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tdisabled={formik.isSubmitting}\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'bg-primary py-3.5 uppercase transition ' +\n\t\t\t\t\t\t\t\t\t'w-full rounded-lg text-center text-sm font-light text-white hover:bg-primary-dark'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{formik.isSubmitting ? t('sign_in_loading') : t('sign_in')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<p className={'mt-5 text-center text-xs font-light text-kgrey-welcome'}>\n\t\t\t\t\t\t\t\t{t('signin_label_info')}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={'/request-password'}\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'mt-6 inline-block w-full text-center font-poppins text-xs font-light text-kgrey-welcome underline hover:no-underline'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('forget_password')}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n}\n\nexport default Login;\n","/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\n\nimport config from 'config';\nimport { Link } from 'react-router-dom';\nimport { useHistory } from 'react-router';\nimport clsx from 'clsx';\nimport { isMobile } from 'react-device-detect';\nimport { HtmlParser } from 'shared/components';\nimport React from 'react';\nimport { FiChevronLeft, FiChevronRight } from 'react-icons/fi';\nimport { useTranslation } from 'react-i18next';\nimport { LanguageSelect } from 'shared/components/HeaderKnt/components/LanguageSelect/LanguageSelect';\nimport { useTranslationHelpers } from 'shared/hooks/useTranslationHelpers';\nconst imgPath = `${config.PUBLIC_ASSETS}img/`;\n\ntype Prop = {\n\tcontent: React.ReactNode;\n\ttitle: string;\n\tdescription: string;\n\tgoToPage: string | React.ReactNode;\n\tgoToPageLinkText: string;\n\tgoToPageLink: string;\n\tback?: boolean;\n\tisInitialPage?: boolean;\n\tshowLanguageSelect?: boolean;\n};\n\nexport function WelcomeLayout({\n\tcontent,\n\ttitle,\n\tdescription,\n\tgoToPage,\n\tgoToPageLinkText,\n\tgoToPageLink,\n\tback,\n\tisInitialPage,\n\tshowLanguageSelect = false\n}: Prop) {\n\tconst history = useHistory();\n\tconst { t } = useTranslation();\n\tconst { isRTL } = useTranslationHelpers();\n\t// @ts-ignore\n\treturn (\n\t\t<div className={'welcome flex min-h-full font-poppins '}>\n\t\t\t<div\n\t\t\t\tclassName={clsx(\n\t\t\t\t\t'welcome__left hidden bg-cover bg-no-repeat py-14 px-20 md:block md:w-[52%]',\n\t\t\t\t\t{ 'md:!w-[52%]': isInitialPage }\n\t\t\t\t)}\n\t\t\t\tcss={css`\n\t\t\t\t\tbackground-image: url(${imgPath}bg-welcome.jpg);\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t<Link to={'/'} className={'h-8 w-40'}>\n\t\t\t\t\t<img src={`${imgPath}logo-kennekt-2.svg`} alt=\"\" className={'object-cover'} />\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName={clsx(\n\t\t\t\t\t'flex w-full flex-col justify-between p-4 md:block md:w-[48%] md:pl-12 md:pt-14 md:pr-20 md:pb-14',\n\t\t\t\t\t{ 'md:!w-[48%]': isInitialPage }\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName={clsx('top', {\n\t\t\t\t\t\t'flex items-center justify-between': isMobile && isInitialPage\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"mobile-logo mb-2 lg:hidden\">\n\t\t\t\t\t\t<Link to={'/'} className={'block h-6 w-32'}>\n\t\t\t\t\t\t\t<img src={`${imgPath}logo-kennekt-2.svg`} alt=\"\" className={'object-cover'} />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={clsx('top-nav flex justify-between md:mb-28')}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t'group flex cursor-pointer items-center text-kgrey-welcome',\n\t\t\t\t\t\t\t\t!back && 'opacity-0',\n\t\t\t\t\t\t\t\tisInitialPage && 'hidden',\n\t\t\t\t\t\t\t\t!isInitialPage && !isMobile && 'md:flex'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonClick={() => history.goBack()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className=\"text-2xl transition group-hover:text-primary\">\n\t\t\t\t\t\t\t\t{isRTL ? <FiChevronRight /> : <FiChevronLeft />}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'mr-4 text-sm font-medium transition group-hover:text-primary md:ml-3 md:text-base'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('back')}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex items-center text-sm font-light md:text-lg\">\n\t\t\t\t\t\t\t<span className={'hidden text-kgrey-welcome md:block '}>{goToPage}</span>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={goToPageLink}\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'transitions mx-2 whitespace-nowrap text-primary hover:text-primary-dark '\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{goToPageLinkText}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t{showLanguageSelect ? <LanguageSelect isRegistering /> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className={'content-wrapper'}>\n\t\t\t\t\t<div className=\"welcome__header mb-8 md:mb-12\">\n\t\t\t\t\t\t<div className=\"mb-1 text-2xl font-bold md:mb-2.5 md:text-3xl\">{title}</div>\n\t\t\t\t\t\t<p className={'text-sm font-light text-kgrey-welcome md:text-base'}>\n\t\t\t\t\t\t\t{/*@ts-ignore*/}\n\t\t\t\t\t\t\t<HtmlParser text={description} />\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"welcome__content\">{content}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={'opacity-0'}>Footer</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":["validationSchema","yup","username","email","Localization","required","password","strict","trim","min","dispatch","useDispatch","t","useTranslation","emailRef","useRef","history","useRouter","formik","useFormik","initialValues","onSubmit","values","setFieldError","setSubmitting","Actions","cb","success","push","error","errors","isEmpty","message","includes","localStorage","clear","document","location","reload","finally","useEffect","current","focus","WelcomeLayout","title","description","goToPageLink","goToPage","goToPageLinkText","back","showLanguageSelect","content","handleSubmit","className","name","placeholder","label","onChange","handleChange","type","value","touched","Boolean","helperText","ref","classNames","disabled","isSubmitting","to","imgPath","config","isInitialPage","useHistory","isRTL","useTranslationHelpers","clsx","css","src","alt","isMobile","onClick","goBack","isRegistering","text"],"sourceRoot":""}