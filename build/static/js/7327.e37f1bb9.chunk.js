"use strict";(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[7327],{87327:function(e,n,c){c.r(n),c.d(n,{default:function(){return _}});var t=c(70885),l=c(47313),i=c(23405),a=c(53446),r=c(19106),o=c(95762),s=c(51328),d=c(77344),u=c(79447),h=c(44329),j=c(54070),x=c(49911),m=c(4058),p=c(1413),v=c(94435),f=c(73923),y=c(46417);function g(e){var n,c=e.handleModalOpen,i=e.open,a=(0,d.m)().companyId,r=(0,l.useState)(!1),o=(0,t.Z)(r,2),u=o[0],h=o[1],j=(0,f.v)({entity:"incomingRequest",name:"AllIncomingRequest-".concat(a),method:"post",url:"/".concat(a,"/my/company/user_connection_requests/").concat(null===i||void 0===i?void 0:i.id,"/reject/"),deleteData:!0,id:null===i||void 0===i?void 0:i.id,cb:{success:function(e){c(null,"reject"),h(!1)},error:function(e){h(!1)},finally:function(){}}}).handleRequest,x=function(){c(null,"reject")};return(0,y.jsx)("div",{className:"relative",children:(0,y.jsxs)(v.Cx,{handleModalOpen:x,open:Boolean(i),children:[(0,y.jsxs)(v.$N,{id:"alert-dialog-title",children:["Are you sure to reject the request from ",(0,y.jsx)("strong",{children:null===i||void 0===i||null===(n=i.requested_company)||void 0===n?void 0:n.name}),"?"]}),(0,y.jsx)(v.cZ,{children:(0,y.jsx)(v.fS,{id:"alert-dialog-description",children:"You will not be able to accept it again until the company sends request again."})}),(0,y.jsxs)(v.kX,{children:[(0,y.jsx)(v.zx,{onClick:x,autoFocus:!0,variant:"contained",children:"Cancel"}),(0,y.jsx)(v.zx,{onClick:function(){i&&(h(!0),j())},variant:"contained",color:"secondary",children:"Reject"})]}),u&&(0,y.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70",children:(0,y.jsx)(s.aN,{})})]})})}function k(e){return(0,y.jsx)(s.SV,{children:(0,y.jsx)(g,(0,p.Z)({},e))})}function b(e){var n,c=e.handleModalOpen,i=e.open,a=(0,d.m)().companyId,r=(0,l.useState)(!1),o=(0,t.Z)(r,2),u=o[0],h=o[1],j=(0,f.v)({entity:"incomingRequest",name:"AllIncomingRequest-".concat(a),method:"post",url:"/".concat(a,"/my/company/user_connection_requests/").concat(null===i||void 0===i?void 0:i.id,"/accept/"),deleteData:!0,id:null===i||void 0===i?void 0:i.id,cb:{success:function(e){c(null,"accept"),h(!1)},error:function(e){h(!1)}}}).handleRequest,x=function(){c(null,"reject")};return(0,y.jsx)("div",{className:"relative",children:(0,y.jsxs)(v.Cx,{handleModalOpen:x,open:Boolean(i),children:[(0,y.jsxs)(v.$N,{id:"alert-dialog-title",children:["Are you sure to accept the request from ",(0,y.jsx)("strong",{children:null===i||void 0===i||null===(n=i.requested_company)||void 0===n?void 0:n.name}),"?"]}),(0,y.jsxs)(v.kX,{children:[(0,y.jsx)(v.zx,{onClick:x,autoFocus:!0,variant:"contained",children:"Cancel"}),(0,y.jsx)(v.zx,{onClick:function(){i&&(h(!0),j())},variant:"contained",color:"secondary",children:"Accept"})]}),u&&(0,y.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70",children:(0,y.jsx)(s.aN,{})})]})})}var q=c(3203);function Z(){var e=(0,d.m)().companyId,n=(0,u.h0)(),c=n.page,p=n.handlePage,v=n.handlePageChange,f=n.removePage,g=(0,u.A3)(),Z=g.searchQuery,_=g.setQuery,C=g.query,N=(0,l.useState)(null),A=(0,t.Z)(N,2),R=A[0],S=A[1],w=(0,l.useState)(null),E=(0,t.Z)(w,2),M=E[0],O=E[1];(0,l.useEffect)((function(){return function(){return f()}}),[]);var I=function(e){v(1),_(e.target.value)},U=function(e,n){if(e)return"accept"===n&&O(e),void("reject"===n&&S(e));S(null),O(null)};return(0,y.jsx)("div",{children:e?(0,y.jsx)(o.Z.All,{entity:"incomingRequest",name:"AllIncomingRequest-".concat(e),url:"/".concat(e,"/my/company/user_connection_requests/"),params:{limit:10,extra:{search:Z},page:c},children:function(e){var n=e.items,t=e.isFetched,l=e.meta,o=n.map((function(e){return e}));return(0,y.jsxs)("div",{children:[(0,y.jsxs)(i.Z,{classes:{root:"relative"},children:[(0,y.jsxs)(s.k6,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,y.jsx)(a.Z,{children:(0,y.jsxs)(s.AF,{children:[(0,y.jsx)(s.EU,{children:"\u2116"}),(0,y.jsx)(s.EU,{children:"Requested company"}),(0,y.jsx)(s.EU,{children:"User role"}),(0,y.jsx)(s.EU,{children:"Actions"}),(0,y.jsx)(s.EU,{children:(0,y.jsx)(q.P,{query:C,handleSearch:I,placeholder:"Search by Business company name"})})]})}),(0,y.jsx)(r.Z,{children:o.map((function(e,n){var c;return(0,y.jsxs)(s.AF,{children:[(0,y.jsx)(s.Yk,{component:"th",scope:"row",children:"".concat(n+1,".")}),(0,y.jsx)(s.Yk,{children:null===e||void 0===e||null===(c=e.requested_company)||void 0===c?void 0:c.name}),(0,y.jsx)(s.Yk,{children:null===e||void 0===e?void 0:e.role}),(0,y.jsx)(s.Yk,{children:(0,y.jsxs)("div",{className:"flex",children:[(0,y.jsx)(j.Z,{"aria-label":"accept",color:"primary",onClick:function(){return U(e,"accept")},children:(0,y.jsx)(x.Z,{})}),(0,y.jsx)(j.Z,{"aria-label":"reject",color:"primary",onClick:function(){return U(e,"reject")},children:(0,y.jsx)(m.Z,{})})]})}),(0,y.jsx)(s.Yk,{})]},e.id)}))})]}),!t&&(0,y.jsx)(s.aN,{tiled:!0,withOverlay:!0})]}),(0,y.jsx)(b,{open:M,handleModalOpen:U}),(0,y.jsx)(k,{open:R,handleModalOpen:U}),(0,y.jsx)("div",{className:"mt-4 mb-4",children:(0,y.jsx)(h.Z,{count:null===l||void 0===l?void 0:l.last_page,page:c||1,onChange:p})})]})}}):(0,y.jsx)(s.aN,{})})}function _(){return(0,y.jsx)(s.SV,{children:(0,y.jsx)(Z,{})})}},49911:function(e,n,c){var t=c(64836),l=c(75263);n.Z=void 0;var i=l(c(47313)),a=(0,t(c(52293)).default)(i.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");n.Z=a}}]);