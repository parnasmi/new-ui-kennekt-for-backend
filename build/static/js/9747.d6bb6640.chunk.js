"use strict";(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[9747],{69243:function(e,n,t){t.d(n,{je:function(){return u},JL:function(){return l}});var a=t(70885),i=t(1413),r=t(47313),c=t(46417),s=(0,r.createContext)(null),o=function(e,n){switch(n.type){case"SET_SEARCH_QUERY":return(0,i.Z)((0,i.Z)({},e),{},{searchQuery:n.payload});case"SET_PAYMENT_FREQUENCY":return(0,i.Z)((0,i.Z)({},e),{},{paymentFrequency:n.payload});default:return e}};function u(e){var n=e.children,t=(0,r.useReducer)(o,{searchQuery:null,paymentFrequency:"year"}),i=(0,a.Z)(t,2),u=i[0],l=i[1],d=u.searchQuery,h=u.paymentFrequency,f=(0,r.useCallback)((function(e){l({type:"SET_SEARCH_QUERY",payload:e})}),[]),p=(0,r.useCallback)((function(e){l({type:"SET_PAYMENT_FREQUENCY",payload:e})}),[]),m={searchQuery:d,setSearchQuery:f,paymentFrequency:h,setPaymentFrequency:p};return(0,c.jsx)(s.Provider,{value:m,children:n})}var l=function(){var e=(0,r.useContext)(s);if(!e)throw new Error("useNewsContext must be used within the NewsContextProvider");return e}},25434:function(e,n,t){t.d(n,{I:function(){return c},m:function(){return h}});var a=t(70885),i=t(47313),r=t(57718);function c(){var e=i.useState(0),n=(0,a.Z)(e,2),t=n[0],c=n[1],s=i.useState("Billing"),o=(0,a.Z)(s,2),u=o[0],l=o[1],d=(0,r.tv)(),h=d.location,f=d.match,p=f.url,m=f.path,v=(0,r.gQ)("Billing"),b=v.unreadCasesQuantity,x=v.isHidden;return(0,i.useEffect)((function(){var e=h.pathname.split("/").filter(Boolean).filter(String),n=e[e.length-1]||"";!function(){switch(n){case"billing":c(0),l("Billing");break;case"invoice":c(1),l("Invoice");break;default:;}}()}),[h]),{primeTab:t,pageName:u,url:p,path:m,unreadCasesQuantity:b,setPrimeTab:c,isHidden:x,handleChangePrime:function(e,n){c(n)}}}var s=t(15861),o=t(64687),u=t.n(o),l=t(77344),d=t(11760);function h(){var e=(0,l.m)().companyId,n=(0,d.a)().companies,t=(0,r.tv)().history,c=(0,i.useState)(!1),o=(0,a.Z)(c,2),h=o[0],f=o[1],p=(0,i.useState)(!1),m=(0,a.Z)(p,2),v=m[0],b=m[1],x=(0,r.eC)().showNotification,y=(0,i.useState)(null),g=(0,a.Z)(y,2),C=g[0],j=g[1],k=(0,r.bK)({url:"/".concat(e,"/payment/").concat(e,"/cancel-subscription/"),method:"put",cb:{success:function(){x({message:"Your subscription has been cancelled",variant:"success"}),f(!1),b(!1)},error:function(e,n){var t,a;x({message:(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Something went wrong",variant:"error"}),f(!1)}}}).fetchData;(0,i.useEffect)((function(){if(e&&n.length){var t=n.find((function(n){return n.company.id===e})),a=null===t||void 0===t?void 0:t.company.comp_subscription;a&&j(a)}}),[n,e]);var E=(0,i.useCallback)((0,s.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,k();case 3:case"end":return e.stop()}}),e)}))),[]);return{navigateToCheckout:(0,i.useCallback)((function(){return t.push("/checkout")}),[]),subscription:C,handleCancelRequest:E,setCancelSubscription:b,cancelSubscription:v,cancelLoading:h}}},69747:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var a=t(1413),i=t(47313),r=t(90325),c=t(25434),s=t(90182),o=t(83061),u=t(63876),l=t(28303),d=t(63830),h=t(69243),f=t(46417);function p(e){return{id:"payments-tabpanel-".concat(e),"aria-controls":"payments-tab-".concat(e)}}var m=(0,i.lazy)((function(){return Promise.all([t.e(2014),t.e(1490)]).then(t.bind(t,21490))})),v=(0,i.lazy)((function(){return t.e(4309).then(t.bind(t,64309))}));function b(){var e=(0,c.I)(),n=e.primeTab,t=e.setPrimeTab,h=e.pageName,b=e.url,x=e.path,y=e.unreadCasesQuantity,g=e.isHidden,C=e.handleChangePrime,j=location.pathname.includes("invoices"),k=["billing"].find((function(e){return location.pathname.includes(e)}));return(0,i.useEffect)((function(){j&&t(1)}),[location,j]),(0,f.jsx)(r.d,{children:(0,f.jsxs)("div",{children:[(!g||0===y)&&(0,f.jsx)(s.q,{children:(0,f.jsx)("title",{children:"KENNEKT | ".concat(h)})}),(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsx)("h1",{className:"text-2xl font-medium dark:text-white",children:"Billing & Invoices"}),(0,f.jsx)("p",{className:"text-kgrey text-sm",children:"Choose the plan that\u2019s right for your business"})]}),(0,f.jsx)("div",{className:(0,o.Z)("prime-tabs",{"prime-tabs_no-bottom-extend":k}),children:(0,f.jsxs)(u.sJ.Tabs,{roundedTop:!k,value:n,onChange:C,"aria-label":"simple tabs",children:[(0,f.jsx)(u.sJ.Tab,(0,a.Z)({label:"Billing",component:l.rU,to:"".concat(b,"/billing")},p(0))),(0,f.jsx)(u.sJ.Tab,(0,a.Z)({label:"Invoices",component:l.rU,to:"".concat(b,"/invoices")},p(1)))]})}),(0,f.jsx)("div",{className:"max-w-full flex-grow flex flex-col relative",children:(0,f.jsx)("div",{className:"relative flex-grow",children:(0,f.jsx)(i.Suspense,{fallback:(0,f.jsx)(u.aN,{tiled:!0}),children:(0,f.jsxs)(d.rs,{children:[(0,f.jsx)(d.AW,{exact:!0,path:"".concat(x,"/billing"),component:m}),(0,f.jsx)(d.AW,{exact:!0,path:"".concat(x,"/invoices"),component:v})]})})})})]})})}var x=function(){return(0,f.jsx)(u.SV,{children:(0,f.jsx)(h.je,{children:(0,f.jsx)(b,{})})})}}}]);