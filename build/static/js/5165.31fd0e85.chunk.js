"use strict";(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[5165],{35165:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var s=t(1413),r=t(47313),i=t(63876),l=t(28303),a=t(930),c=t(77344),o=t(57718),d=t(26926),u=t(95762),h=t(22934),g=t(69706),x=t.n(g),m=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"requesting_company";if((0,h.oH)(e[n].name)){var t=x()(e,"".concat(n,"_owner")),s=t.first_name,r=t.last_name;return"".concat(s," ").concat(r)}return x()(e,"".concat(n,".name"))},j=t(92241),p=t(5293),f=t(11760),b=t(46417);function y(e){var n,t,s=e.searchQuery,l=(0,j.v9)((function(e){return(0,p.tI)(e)})),h=(0,c.m)().companyId,g=(0,o.h0)(),x=g.page,y=g.handlePage,v=g.removePage,k=(0,f.a)().userData,q=(null===l||void 0===l||null===(n=l.company)||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.id)===(null===k||void 0===k?void 0:k.id),_=(0,a.rU)(),w=_.rejectVisible,A=_.showRejectVisible,R=_.rejectLoading,C=_.closeRejectPopup,F=_.editVisible,P=_.showEditVisible,L=_.editLoading,E=_.closeEditPopup,H=_.handleStatusChange;(0,r.useEffect)((function(){return function(){return v()}}),[]);return(0,b.jsx)("div",{className:"relative mb-8",children:(0,b.jsx)(u.Z.All,{entity:"incoming-request",name:"AllIncoming-Requests",url:"/".concat(h,"/company_connection_requests/"),params:{page:x,limit:10,extra:{search:s}},children:function(e){var n=e.items,t=e.isFetched,s=e.meta;return(0,b.jsx)(b.Fragment,{children:t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.xJ,{classes:{root:"relative "},children:(0,b.jsxs)(i.k6,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,b.jsx)(d.ss,{children:(0,b.jsxs)(i.AF,{children:[(0,b.jsx)(i.EU,{style:{width:"30%"},children:"Requesting Business"}),(0,b.jsx)(i.EU,{style:{width:"30%"},children:"Connection type"}),(0,b.jsx)(i.EU,{style:{width:"10%"},children:"Status"}),(0,b.jsx)(i.EU,{style:{width:"30%",textAlign:"center"},children:"Action"})]})}),(0,b.jsx)(d.RM,{children:n.map((function(e){var n=e.id,t=e.connection_type;return(0,b.jsxs)(i.AF,{children:[(0,b.jsx)(i.Yk,{children:m(e)}),(0,b.jsx)(i.Yk,{children:t}),(0,b.jsx)(i.Yk,{children:"Pending"}),(0,b.jsxs)(i.Yk,{style:{textAlign:"center"},children:[(0,b.jsx)(d.Ik,{isDisabled:!q,className:"mr-4 bg-kred-pink text-white hover:bg-kred-pink-200",onClick:function(){return A(e)},children:"Reject"}),(0,b.jsx)(d.Ik,{isDisabled:!q,color:"primary",onClick:function(){return P(e)},children:"Accept"})]})]},n)}))})]})}),(0,b.jsx)(i.sm,{featureHandler:function(){return H(w.id,"reject")},isOpen:Boolean(w),toggleHandler:C,title:"Are you sure to reject the Request",hasLoader:!0,isLoading:R}),(0,b.jsx)(i.sm,{featureHandler:function(){return H(F.id,"accept")},isOpen:Boolean(F),toggleHandler:E,title:"Are you sure to accept the Request",hasLoader:!0,isLoading:L}),(0,b.jsx)("div",{className:"news__pagination my-4",children:n.length?(0,b.jsx)(d.tl,{count:null===s||void 0===s?void 0:s.last_page,page:x?+x:1,defaultPage:6,siblingCount:1,color:"primary",onChange:y}):null})]}):(0,b.jsx)(i.aN,{tiled:!0,withOverlay:!0})})}})})}function v(e){var n=e.searchQuery,t=(0,c.m)(),s=t.companyId,l=t.isPermitted,h=(0,o.h0)(),g=h.page,x=h.handlePage,j=h.removePage,p=(0,a.d1)(),f=p.deleteVisible,y=p.showDeleteVisible,v=p.deleteLoading,k=p.closeDeletePopup,q=p.resendVisible,_=p.showResendVisible,w=p.resendLoading,A=p.closeResendPopup,R=p.handleDeleteRequest,C=p.handleResendRequest;(0,r.useEffect)((function(){return function(){return j()}}),[]);return(0,b.jsx)("div",{className:"relative mb-8",children:(0,b.jsx)(u.Z.All,{entity:"outgoing-request",name:"AllOutgoing-Requests",url:"/".concat(s,"/my_company_connection_requests/"),params:{page:g,limit:10,extra:{search:n}},children:function(e){var n=e.items,t=e.isFetched,s=e.meta;return(0,b.jsx)(b.Fragment,{children:t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.xJ,{classes:{root:"relative "},children:(0,b.jsxs)(i.k6,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,b.jsx)(d.ss,{children:(0,b.jsxs)(i.AF,{children:[(0,b.jsx)(i.EU,{style:{width:"60%"},children:"Requested Business connections"}),(0,b.jsx)(i.EU,{style:{width:"10%"},children:"Status"}),(0,b.jsx)(i.EU,{style:{width:"30%",textAlign:"center"},children:"Action"})]})}),(0,b.jsx)(d.RM,{children:n.map((function(e){var n=e.id;return(0,b.jsxs)(i.AF,{children:[(0,b.jsx)(i.Yk,{children:m(e,"requested_company")}),(0,b.jsx)(i.Yk,{children:"Pending"}),(0,b.jsxs)(i.Yk,{style:{textAlign:"center"},children:[(0,b.jsx)(i.cP.DeleteButton,{isDisabled:!l,clickHandler:function(){return y(e)}}),(0,b.jsx)(d.Ik,{color:"primary",onClick:function(){return _(e)},children:"Resend"})]})]},n)}))})]})}),(0,b.jsx)(i.sm,{featureHandler:function(){return R(f)},isOpen:Boolean(f),toggleHandler:k,title:"Are you sure to delete the Request",hasLoader:!0,isLoading:v}),(0,b.jsx)(i.sm,{featureHandler:function(){return C(q)},isOpen:Boolean(q),toggleHandler:A,title:"Are you sure to resend the Request",hasLoader:!0,isLoading:w}),(0,b.jsx)("div",{className:"news__pagination my-4",children:n.length?(0,b.jsx)(d.tl,{count:null===s||void 0===s?void 0:s.last_page,page:g?+g:1,defaultPage:6,siblingCount:1,color:"primary",onChange:x}):null})]}):(0,b.jsx)(i.aN,{tiled:!0,withOverlay:!0})})}})})}function k(e){return{id:"request-tabpanel-".concat(e),"aria-controls":"request-tab-".concat(e)}}function q(){var e=(0,a.vr)(),n=e.handleChangeTab,t=e.tab,c=(0,o.A3)(),u=c.query,h=c.setQuery,g=c.searchQuery,x=(0,r.useCallback)((function(e){return h(e.target.value)}),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex-center-between bg-kgrey-bg dark:bg-kdark-lighter",children:[(0,b.jsx)("div",{className:"request-tabs mt-4 prime-tabs",children:(0,b.jsxs)(i.sJ.Tabs,{roundedTop:!0,value:t,onChange:n,"aria-label":"simple tabs",children:[(0,b.jsx)(i.sJ.Tab,(0,s.Z)({label:"Incoming",component:l.rU,to:"/clients-management/requests/incoming/"},k(0))),(0,b.jsx)(i.sJ.Tab,(0,s.Z)({label:"Outgoing",component:l.rU,to:"/clients-management/requests/outgoing/"},k(1)))]})}),(0,b.jsx)("div",{className:"search-request",children:(0,b.jsx)(d.Bu,{title:"",query:u,placeholder:"Search For Requests",handleSearch:x})})]}),(0,b.jsx)("div",{children:0===t?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(y,{searchQuery:g})}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(v,{searchQuery:g})})})]})}var _=function(){return(0,b.jsx)(i.SV,{children:(0,b.jsx)(q,{})})}}}]);