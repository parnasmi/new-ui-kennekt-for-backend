"use strict";(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[3201],{3201:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var i=t(70885),s=(t(47313),t(41559)),l=t(77344),r=t(95762),a=t(26926),c=t(90214),o=t(981),d=t(28303),u=t(94024),h=t(930),m=t(84365),x=t(33361),j=t(46417);function p(e){var n=e.onSuccess,t=e.entity,i=(0,l.m)().companyId,a=(0,c.eC)().showNotification;return t?(0,j.jsx)("div",{className:"max-w-[446px]",children:(0,j.jsx)(r.Z.One,{id:t.id,relations:"",entity:"clientsGroup",name:"AllClientGroup",url:"/".concat(i,"/categories/").concat(t.id,"/"),params:{},children:function(e){var l=e.item,r=e.isFetched,c=l;return(0,j.jsxs)(j.Fragment,{children:[r?null:(0,j.jsx)(s.aN,{tiled:!0,withOverlay:!0}),(0,j.jsx)(m.Z.Main,{entity:"clientsGroups",name:"AllClientsGroups",url:"/".concat(i,"/categories/").concat(t.id,"/"),method:"put",primaryKey:"id",sendAsFormData:!1,normalizeData:function(e){return e},updateData:!0,fields:[{name:"clients",onSubmitKey:"",required:!1,type:"object",value:c.clients},{name:"name",onSubmitKey:"",required:!0,value:c.name}],onSuccess:function(e,t){a({message:"Successfully updated.."}),n(),t()},onError:function(e,n){var t,i,s=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message)||"Something went wrong";a({message:s,variant:"error"})},children:function(e){var t=e.isSubmitting,i=(e.values,e.resetForm);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(s.ph,{resetForm:i,title:"Edit Client Group",isEditing:!0}),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(x.Z,{isSubmitting:t,onSuccess:n,isEditing:!0}),t&&(0,j.jsx)(s.aN,{tiled:!0,withOverlay:!0})]})})]})}})]})}})}):null}function v(){var e=(0,l.m)(),n=e.companyId,t=e.isPermitted,m=(0,c.h0)(),x=m.page,v=m.handlePage,f=(0,o.k0)().searchQuery,g=(0,u.Z)(f,500),y=(0,i.Z)(g,1)[0],b=(0,c.tv)(),k=b.match,w=b.history,N=(0,h.Nt)(),C=N.deleteClientGroupHandler,S=N.deleteVisible,A=N.showDeleteVisible,E=N.deleteLoading,F=N.closeDeletePopup,_=N.showEditVisible,G=N.closeEditPopup,D=N.editVisible;return(0,j.jsx)("div",{children:n?(0,j.jsx)(r.Z.All,{entity:"clientsGroups",name:"AllClientsGroups",url:"/".concat(n,"/categories/"),params:{limit:10,extra:{search:y},page:x},children:function(e){var n=e.items,i=e.isFetched,l=e.meta,r=n;return(0,j.jsxs)("div",{children:[(0,j.jsxs)(a.xJ,{classes:{root:"relative "},children:[(0,j.jsxs)(s.k6,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,j.jsx)(a.ss,{children:(0,j.jsxs)(s.AF,{children:[(0,j.jsx)(s.EU,{style:{width:"60%"},children:"Group Name"}),(0,j.jsx)(s.EU,{style:{width:"20%"},children:"Clients"}),(0,j.jsx)(s.EU,{style:{width:"20%",textAlign:"center"},children:"Actions"})]})}),(0,j.jsx)(a.RM,{children:r.map((function(e){var n=e.clients_count,i=e.name,l=e.id;return(0,j.jsxs)(s.AF,{children:[(0,j.jsx)(s.Yk,{children:(0,j.jsx)(d.rU,{to:"".concat(k.path).concat(e.id),children:(0,j.jsx)("span",{className:"text-primary transition hover:text-primary-dark",children:i})})}),(0,j.jsx)(s.Yk,{children:n}),(0,j.jsx)(s.Yk,{children:(0,j.jsxs)("div",{className:"flex items-center justify-end ",children:[(0,j.jsx)(s.cP.DeleteButton,{isDisabled:!t,clickHandler:function(){return A(e)}}),(0,j.jsx)(s.cP.ViewButton,{clickHandler:function(){return w.push("".concat(k.path).concat(e.id))}}),(0,j.jsx)(s.cP.EditButton,{isDisabled:!t,clickHandler:function(){return _(e)}})]})})]},l)}))})]}),!i&&(0,j.jsx)(s.aN,{tiled:!0,withOverlay:!0})]}),(0,j.jsx)(s.sm,{featureHandler:C(),isOpen:Boolean(S),toggleHandler:F,title:"Are you sure to delete the ".concat(null===S||void 0===S?void 0:S.name,"?"),hasLoader:!0,isLoading:E}),(0,j.jsx)(a.Cx,{handleModalOpen:G,open:Boolean(D),children:(0,j.jsx)(p,{onSuccess:G,entity:D})}),(0,j.jsx)("div",{className:"news__pagination my-4",children:n.length?(0,j.jsx)(a.tl,{count:null===l||void 0===l?void 0:l.last_page,page:x?+x:1,defaultPage:6,siblingCount:1,color:"primary",onChange:v}):null})]})}}):(0,j.jsx)("div",{className:"flex justify-center",children:(0,j.jsx)(s.aN,{})})})}var f=function(){return(0,j.jsx)(s.SV,{children:(0,j.jsx)(v,{})})}}}]);