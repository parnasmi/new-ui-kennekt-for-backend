!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="576c1485-5ab9-419f-b08a-b849a0c020c9",e._sentryDebugIdIdentifier="sentry-dbid-576c1485-5ab9-419f-b08a-b849a0c020c9")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"2d91d0cb0833c8f8db3c1dd482d6954c4680f762"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[6356],{76356:function(e,t,l){l.r(t),l.d(t,{default:function(){return v}});var a=l(72791),s=l(76525),n=l(53148),r=l(58617),i=l(56355),c=l(70272),d=l(18381),o=l(35741),m=l(40084),f=l(64880),x=l(29439),u=l(98741),p=l(12714),h=l(93433),g=l(1413);var w=l(17173),b=l(80184);function j(e){var t=e.id,l=e.departments,s=(0,m.m)().companyId,n=(0,w.$G)().t,r=[],i=[],c=(0,a.useState)(null),f=(0,x.Z)(c,2),j=f[0],v=f[1];return(0,a.useEffect)((function(){l&&v(function(e){return e?e.reduce((function(e,t){return t.is_staff?(0,g.Z)((0,g.Z)({},e),{},{staffDeps:[].concat((0,h.Z)(e.staffDeps),[t.id])}):(0,g.Z)((0,g.Z)({},e),{},{clientDeps:[].concat((0,h.Z)(e.clientDeps),[t.id])})}),{clientDeps:[],staffDeps:[]}):[]}(l))}),[l]),(0,b.jsxs)("div",{className:"flex w-full flex-wrap",children:[(0,b.jsxs)("div",{className:"mb-5 mr-0 w-full lg:mb-0 lg:mr-3 lg:w-5/12",children:[(0,b.jsx)("div",{className:"mb-1.5 pl-1.5 text-sm text-kdark dark:text-white",children:n("staff_departments")}),t&&s?(0,b.jsx)(o.Z.All,{entity:"tree",name:"AllTreeDepartments-Staff-".concat(t),url:"/".concat(s,"/departments/tree/"),params:{limit:100,extra:{is_staff:"True"}},children:function(e){var t=e.items,l=e.isFetched;return r=l&&(0,u.w)(t),(0,b.jsx)(b.Fragment,{children:l?(0,b.jsx)(p.ZP,{getPopupContainer:function(e){return e.parentNode},className:"check-select pointer-events-none w-full",transitionName:"rc-tree-select-dropdown-slide-up",choiceTransitionName:"rc-tree-select-selection__choice-zoom",dropdownStyle:{overflow:"auto"},dropdownPopupAlign:{overflow:{adjustY:0,adjustX:0},offset:[0,2]},placeholder:(0,b.jsx)("i",{children:n("select_staff_departments")}),searchPlaceholder:"please search",treeLine:!0,maxTagTextLength:10,multiple:!0,allowClear:!1,autoClearSearchValue:!0,treeData:r,treeNodeFilterProp:"title",treeCheckable:!0,showCheckedStrategy:p.hT,value:null==j?void 0:j.staffDeps}):(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)(d.aN,{})})})}}):null]}),(0,b.jsxs)("div",{className:"w-full lg:w-6/12",children:[(0,b.jsx)("div",{className:"mb-1.5 pl-1.5 text-sm text-kdark dark:text-white",children:n("client_departments")}),t&&s?(0,b.jsx)(o.Z.All,{entity:"tree",name:"AllTreeDepartments-Client-".concat(t),url:"/".concat(s,"/departments/tree/"),params:{limit:100,extra:{is_staff:"False"}},children:function(e){var t=e.items,l=e.isFetched;return i=l&&(0,u.w)(t),(0,b.jsx)(b.Fragment,{children:l?(0,b.jsx)(p.ZP,{getPopupContainer:function(e){return e.parentNode},className:"check-select pointer-events-none w-full",transitionName:"rc-tree-select-dropdown-slide-up",choiceTransitionName:"rc-tree-select-selection__choice-zoom",dropdownStyle:{overflow:"auto"},dropdownPopupAlign:{overflow:{adjustY:0,adjustX:0},offset:[0,2]},placeholder:(0,b.jsx)("i",{children:n("select_client_departments")}),searchPlaceholder:"please search",treeLine:!0,maxTagTextLength:10,multiple:!0,allowClear:!1,autoClearSearchValue:!0,treeData:i,treeNodeFilterProp:"title",treeCheckable:!0,showCheckedStrategy:p.hT,value:null==j?void 0:j.clientDeps}):(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)(d.aN,{})})})}}):null]})]})}function v(e){var t=e.setModalItem,l=(0,f.UO)().id,a=(0,m.m)().companyId,x=(0,w.$G)().t;return(0,b.jsx)(b.Fragment,{children:a?(0,b.jsx)(o.Z.One,{primaryKey:"id",id:l,entity:"staffEmployee",name:"staffEmployee-".concat(a),url:"".concat(a,"/employee/").concat(l,"/"),params:{},relations:"",children:function(e){var l=e.item,a=e.isFetched,o=l,m=o.avatar,f=o.first_name,u=o.mobile,p=o.last_name,h=o.username,g=o.roles,w=o.id,v=o.departments,k=o.is_business_owner;t(l);var N=a?"".concat(g[0]," ").concat(k?"| owner":""):"";return(0,b.jsx)(b.Fragment,{children:a?(0,b.jsxs)("div",{className:"mb-16 flex flex-col pt-8 lg:flex-row",children:[(0,b.jsx)("div",{className:"mb-5 mr-12 h-28 w-28 flex-shrink-0 overflow-hidden rounded-full bg-kgrey-bg lg:mb-0",children:(0,b.jsxs)(c.Z,{className:"inline-block",style:{color:"#fff",width:"100%",height:"100%"},src:null==m?void 0:m.url,children:[f[0],p[0]]})}),(0,b.jsxs)("div",{className:"flex-grow",children:[(0,b.jsxs)("div",{className:"flex flex-wrap",children:[(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("div",{className:"mb-3 pl-5 text-xl font-medium text-kdark dark:text-white",children:x("personal_information")}),(0,b.jsx)(n.ev,{text:f,wrapperClassnames:"bg-kgrey-bgmenu shadow-recent-panel-2",title:x("first_name"),textClassName:"!text-lg font-semibold",children:(0,b.jsx)(r.g3P,{className:"text-kgrey"})}),(0,b.jsx)(n.ev,{text:p,title:x("last_name"),wrapperClassnames:"bg-kgrey-bgmenu shadow-recent-panel-2",textClassName:"text-lg font-semibold",children:(0,b.jsx)(i.VRY,{className:"text-kgrey"})})]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("div",{className:"mb-3 pl-5 text-xl font-medium text-kdark dark:text-white",children:x("contact_information")}),(0,b.jsx)(n.ev,{text:h,title:x("email"),wrapperClassnames:"bg-kgrey-bgmenu shadow-recent-panel-2",textClassName:"!text-lg !font-med",children:(0,b.jsx)(s.$P,{className:"text-kgrey"})}),u?(0,b.jsx)(n.ev,{text:u,title:x("mobile_phone"),wrapperClassnames:"bg-kgrey-bgmenu shadow-recent-panel-2",textClassName:"!text-lg font-semibold",children:(0,b.jsx)(i.I$,{className:"text-kgrey"})}):null]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"mb-3 pl-5 text-xl font-medium text-kdark dark:text-white",children:x("additional_information")}),(0,b.jsx)("div",{className:"mb-2 inline-block",children:(0,b.jsx)(n.ev,{text:N,title:x("role"),wrapperClassnames:"bg-kgrey-bgmenu shadow-recent-panel-2",textClassName:"!text-lg font-semibold",children:(0,b.jsx)(i.I$,{className:"text-kgrey"})})}),(0,b.jsx)("div",{className:"w-full",children:(0,b.jsx)(j,{departments:v,id:w})})]})]})]}):(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)(d.aN,{})})})}}):null})}}}]);
//# sourceMappingURL=6356.b6c7221e.chunk.js.map