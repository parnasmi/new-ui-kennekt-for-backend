!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a1ac0952-5bcc-4b76-8c13-c2a5545f57d5",e._sentryDebugIdIdentifier="sentry-dbid-a1ac0952-5bcc-4b76-8c13-c2a5545f57d5")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"2d91d0cb0833c8f8db3c1dd482d6954c4680f762"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[7099],{87099:function(e,n,a){a.r(n),a.d(n,{default:function(){return A}});var t=a(1413),s=a(72791),l=a(27945),o=a(66364),i=a.n(o),r=a(97689),d=a(80266),c=a(87818),u=a(32380),m=a(49078),p=a(76188),b=a(94389),g=a(37099),h=a(40084),y=a(7993),f=a(18381),x=a(28182),k=a(30014),v=a(67025),_=a(57407),j=a(36261),N=a(17173),w=a(80184);function S(e){var n,a=e.field,l=e.setFieldValue,o=(0,m.j)(),i=o.uploadMeta,r=o.setUploadMeta,d=o.cancelSending,c=o.setCancelSending,u=o.setFiles,p=o.files,b=o.deleteBusinessProfileAvatar,g=o.isDeleteBusinessAvatarRequestLoading,y=(0,h.m)().isAdmin,S=(0,N.$G)().t,C=(0,j.dF)(),E=C.open,K=C.modalHandler;(0,s.useEffect)((function(){p[a]&&l(a,p[a])}),[p]);var F=a.includes("logo");return(0,w.jsxs)("div",{className:"lg:flex",children:[(0,w.jsx)(f.bA,{uploadMeta:i,setUploadMeta:r,cancelSending:d,setCancelSending:c,setFile:u,isBusinessProfile:!0,field:a}),(0,w.jsxs)("div",{className:"flex-grow-1 mt-4 lg:mx-6 lg:mt-0",children:[(0,w.jsxs)("div",{className:(0,x.Z)("group relative overflow-hidden border border-kgrey-border-solid ",{"h-24 w-24 rounded-full":!F,"h-16 w-64 rounded-md":F}),children:[(0,w.jsx)("img",{src:(null==p||null===(n=p[a])||void 0===n?void 0:n.url)||("icon"===a?"https://via.placeholder.com/96x96/":"https://via.placeholder.com/263x60/"),alt:a,className:"h-full w-full object-cover"}),null!==i.progress&&i.field===a&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"position-centered absolute  z-10",children:(0,w.jsx)(f.aN,{variant:"static",value:i.progress})}),(0,w.jsx)(v.Z,{disabled:g,onClick:function(){c(!0),r((function(e){return(0,t.Z)((0,t.Z)({},e),{},{progress:null})}))},className:"position-centered !absolute z-20 text-white",children:(0,w.jsx)(k.Z,{className:"text-primary"})})]}),p[a]?(0,w.jsx)("div",{className:"absolute bottom-0 left-0 hidden h-1/3 w-full group-hover:block group-hover:bg-kgrey group-hover:bg-opacity-50 ",children:(0,w.jsx)(v.Z,{className:(0,x.Z)("absolute top-1/4 left-1/4 h-full",{"!top-0 !left-[40%]":F}),disabled:!y,onClick:K,children:(0,w.jsx)(_.Z,{className:"text-red-400"})})}):null]}),(0,w.jsx)("div",{className:"mt-1 text-xs text-kgrey",children:a.includes("icon")?S("please_use_fit_image"):S("please_use_following_dimensioned_image")}),(0,w.jsx)(f.sm,{toggleHandler:K,isOpen:E,featureHandler:function(){b(a),K()},title:"Are you sure to delete the business profile's ".concat(F?"logo":"icon"," "),isLoading:g}),(0,w.jsx)("div",{className:"safelist-classNames !top-[20%] !left-[40%] hidden"})]})]})}var C=a(50576),E=a(78029),K=a(78820),F=a(53148),L=a(62876),Z=a(86053),I={width:"100%",height:"400px"};function D(e){var n,a,t,l=(0,N.$G)().t,o=(0,h.m)(),c=o.isAdmin,u=o.companyId,x=(o.isDarkMode,(0,r.a)()),k=x.company,_=x.userData,D=(null==k||null===(n=k.company)||void 0===n||null===(a=n.owner)||void 0===a?void 0:a.id)===_.id,z=(0,j.eC)().showNotification,M=(0,j.h9)({darkIcon:!1}),A=M.checked,T=M.handleChange,O=(0,j.h9)({darkLogo:!1}),V=O.checked,U=O.handleChange,P=(0,m.j)(!0),B=P.searchInputRef,R=P.calcedLat,q=P.calcedLng,H=P.onLoad,G=P.onUnmount,Y=P.selected,$=P.onMarkerDrag,J=P.isLoaded,Q=P.placeAddress,W=P.files,X=P.map,ee=e.values,ne=e.setFieldValue,ae=e.isSubmitting,te=e.errors,se=e.setFieldError;return(0,C.Y)({setFieldValue:ne,searchInputRef:B}),(0,s.useEffect)((function(){i()(Q)||(ne("city",Q.city),ne("address",Q.plain()),ne("state",Q.state),ne("country",Q.country),ne("zipcode",Q.zip))}),[Q]),(0,s.useEffect)((function(){Y&&"lat"in Y&&"lng"in Y&&(ne("lat",Number(null==Y?void 0:Y.lat).toFixed(9)),ne("lng",Number(null==Y?void 0:Y.lng).toFixed(9)))}),[Y]),(0,s.useEffect)((function(){W.icon&&ne("icon",W.icon),W.icon_dark&&ne("icon_dark",W.icon_dark),W.logo&&ne("logo",W.logo),W.logo_dark&&ne("logo_dark",W.logo_dark)}),[W]),(0,s.useEffect)((function(){i()(te)||(0,d.lZ)("business-profile-form")}),[te]),(0,s.useEffect)((function(){ne("sub_industry",null)}),[ee.industry]),(0,s.useEffect)((function(){ae&&!i()(te)&&Object.keys(te).forEach((function(e){return se(e,!1)}))}),[ae]),(0,s.useEffect)((function(){if(J&&X){var e=new google.maps.LatLng(Number(null==ee?void 0:ee.lat),Number(null==ee?void 0:ee.lng));X.panTo(e)}}),[J,X]),(0,w.jsxs)("div",{className:"w-100 mt-6 gap-x-11 lg:grid lg:grid-cols-2",id:"business-profile-form",children:[(0,w.jsxs)("div",{className:"col-1",children:[(0,w.jsx)(p.gN,{label:l("name"),name:"name",component:b.Mg,placeholder:l("enter_name_here"),inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white",disabled:!D}),(0,w.jsx)(p.gN,{label:l("website"),name:"website",component:b.Mg,placeholder:l("enter_website"),inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white"}),(0,w.jsxs)("div",{className:"react-select-dropdown mb-4",children:[(0,w.jsxs)("div",{className:"ml-2 mb-2 block text-sm font-light text-kgrey-menuText",children:[(0,w.jsx)("span",{children:l("industry")}),(0,w.jsx)("sup",{children:"*"})]}),(0,w.jsx)(p.gN,{component:g.Z,customStylesProps:d.gb,name:"industry",placeholder:l("industry_name_placeholder"),optionLabel:"name",optionValue:"id",isSearchable:!0,isClearable:!1,loadOptionsKey:"results",isDisabled:!c,loadOptionsUrl:"/industries/",loadOptionsParams:function(e){return{extra:{search:e}}}})]}),ee.industry?(0,w.jsxs)("div",{className:"react-select-dropdown mb-4",id:"industry",children:[(0,w.jsxs)("div",{className:"ml-2 mb-2 block text-sm font-light text-kgrey-menuText",children:[(0,w.jsx)("span",{children:l("sub_industry")}),(0,w.jsx)("sup",{children:"*"})]}),(0,w.jsx)(p.gN,{component:g.Z,customStylesProps:d.gb,name:"sub_industry",placeholder:l("sub_industry_name_placeholder"),optionLabel:"name",optionValue:"id",isSearchable:!0,isClearable:!1,loadOptionsKey:"results",isDisabled:!c,loadOptionsUrl:"/industries/".concat(null===(t=ee.industry)||void 0===t?void 0:t.id,"/sub_industries/"),loadOptionsParams:function(e){return{extra:{search:e}}}})]}):null,(0,w.jsx)(p.gN,{label:l("about"),name:"about",type:"textarea",component:b.Mg,placeholder:l("company_description_placeholder"),rows:"5",inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white"}),(0,w.jsx)(F.D8,{control:(0,w.jsx)(Z.k,{checked:A.darkIcon,onChange:T,name:"darkIcon"}),label:l("icon_for_dark_mode"),className:"mb-4",classes:{label:"!text-xs font-light text-kgrey-welcome"}}),(0,w.jsxs)("div",{className:"react-select-dropdown mb-4",children:[(0,w.jsx)("div",{className:"mx-2 mb-2 block text-sm font-light text-kgrey-menuText",children:(0,w.jsxs)("span",{children:[" ",A.darkIcon?l("business_dark_icon"):l("business_icon")," "]})}),(0,w.jsx)(S,{field:A.darkIcon?"icon_dark":"icon",setFieldValue:ne})]}),(0,w.jsx)(F.D8,{control:(0,w.jsx)(Z.k,{checked:V.darkLogo,onChange:U,name:"darkLogo"}),label:l("logo_for_dark_mode"),className:"mb-4",classes:{label:"!text-xs font-light text-kgrey-welcome"}}),(0,w.jsxs)("div",{className:"react-select-dropdown mb-4",children:[(0,w.jsx)("div",{className:"mx-2 mb-2 block text-sm font-light text-kgrey-menuText",children:(0,w.jsxs)("span",{children:[" ",V.darkLogo?l("business_dark_logo"):l("business_logo")]})}),(0,w.jsx)(S,{field:V.darkLogo?"logo_dark":"logo",setFieldValue:ne})]}),(0,w.jsx)("h1",{className:"mb-4 text-2xl font-bold dark:text-white",children:l("social_connection")}),(0,w.jsx)(p.gN,{label:"Facebook",name:"facebook_url",component:b.Mg,placeholder:l("enter_facebook_address"),disabled:!c,inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white"}),(0,w.jsx)(p.gN,{label:"Twitter",name:"twitter_url",component:b.Mg,placeholder:l("enter_twitter_address"),disabled:!c,inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white"}),(0,w.jsxs)("div",{className:"profile__header-user-name ",children:[(0,w.jsx)(E.CopyToClipboard,{text:"https://t.me/KennektFeedbackBot?start=".concat(u),onCopy:function(){z({message:l("feedback_link_copied"),variant:"success"})},children:(0,w.jsx)(F.zx,{variant:"contained",className:"!mb-2",children:l("copy_feedback_link")})}),(0,w.jsx)(L.ZP,{title:(0,w.jsx)("div",{className:"text-sm",children:l("copy_link_instruction")}),placement:"top",className:"!mb-1 !ml-2",children:(0,w.jsx)(v.Z,{className:"mr-20 p-0",children:(0,w.jsx)(K.kA6,{})})})]})]}),(0,w.jsxs)("div",{className:"col-2",children:[(0,w.jsxs)("div",{className:"mb-4",children:[(0,w.jsx)("label",{htmlFor:"address",className:"ml-2 mb-2 block text-sm font-light text-kgrey-menuText",children:l("address")}),(0,w.jsx)("input",{id:"xyz123",name:"xyz123",autoComplete:"xyz123",type:"search",ref:B,disabled:!c,className:"w-full rounded-lg border border-transparent bg-kgrey-light-grey-1 px-6 py-3.5 text-xs font-medium placeholder-current placeholder-kgrey outline-none transition hover:border-primary focus:border-primary focus:shadow-lg dark:bg-kdark-lighter dark:text-white"})]}),(0,w.jsx)(p.gN,{label:l("city"),name:"city",component:b.Mg,placeholder:l("enter_city"),disabled:!c,inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white"}),(0,w.jsx)(p.gN,{label:l("state"),name:"state",component:b.Mg,disabled:!c,placeholder:l("enter_state"),inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white"}),(0,w.jsx)(p.gN,{label:l("zip_code"),name:"zipcode",component:b.Mg,disabled:!c,placeholder:l("enter_zip_code"),inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white"}),(0,w.jsx)(p.gN,{label:l("country"),name:"country",component:b.Mg,disabled:!c,placeholder:l("enter_country"),inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white"}),(0,w.jsx)(p.gN,{label:l("phone_number"),name:"phone",component:b.UO,disabled:!c,placeholder:l("enter_company_phone-number"),enableSearch:!0,onChangeHandler:ne,className:"tel-input-profile"}),(0,w.jsxs)("div",{className:"react-select-dropdown mb-4",children:[(0,w.jsx)("div",{className:"ml-2 mb-2 block text-sm font-light text-kgrey-menuText",children:(0,w.jsx)("span",{children:l("map")})}),J?(0,w.jsx)(y.b6,{mapContainerStyle:I,center:{lat:Number(R)||-3.745,lng:Number(q)||-38.523},zoom:10,onLoad:H,onUnmount:G,onClick:$,children:(0,w.jsx)(y.Jx,{draggable:!0,position:{lat:Number(null==Y?void 0:Y.lat)||Number(R),lng:Number(null==Y?void 0:Y.lng)||Number(q)},onDragEnd:$})}):(0,w.jsx)("p",{className:"dark:text-white",children:"There is problem with loading map or location has not been set."})]}),(0,w.jsx)("div",{className:"flex justify-start",children:(0,w.jsx)(f.Ik,{className:"dark:text-white dark:hover:bg-primary-300 dark:focus:ring-primary-300",type:"submit",isSubmitting:ae,isDisabled:!c||ae,color:"primary",children:l("update")})})]})]})}var z=a(92017),M=u.Z.user.setUserCompany;var A=function(){var e,n,a=(0,N.$G)().t,s=(0,r.a)().company,o=(0,m.j)(!0),u=o.files,p=o.selected,b=o.placeAddress,g=o.calcedLat,h=o.calcedLng,y=o.companyId,f=(0,j.eC)().showNotification,x=(0,c.I0)(),k=(0,z.y)().loadAllBusiness;return(0,w.jsx)("div",{className:"business-profile",children:s?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(l.Z.Main,{entity:"profile",name:"business-profile",url:"/".concat(y,"/my/company/"),method:"patch",sendAsFormData:!1,normalizeData:"",prependData:!0,fields:[{name:"name",value:s.company.name||"",onSubmitKey:""},{name:"status",value:"ACTIVE",onSubmitKey:""},{name:"created_date",value:s.company.created_date,onSubmitKey:""},{name:"website",value:s.company.website||"",type:"website",onSubmitKey:""},{name:"city",value:(i()(b)?s.company.city:b.city)||"",onSubmitKey:""},{name:"address",value:(i()(b)?s.company.address:b.plain())||"",onSubmitKey:""},{name:"address_2",value:s.company.address_2||"",onSubmitKey:""},{name:"zipcode",value:(i()(b)?s.company.zipcode:b.zip)||"",onSubmitKey:""},{name:"country",value:(i()(b)?"object"==typeof s.company.country&&null!==s.company.country?null===(e=s.company.country)||void 0===e?void 0:e.name:s.company.country:b.country)||"",required:!0,onSubmitKey:""},{name:"state",value:(i()(b)?"object"==typeof s.company.state&&null!==s.company.state?null===(n=s.company.state)||void 0===n?void 0:n.name:s.company.state:b.state)||"",required:!0,onSubmitKey:""},{name:"phone",value:s.company.phone||"",onSubmitKey:""},{name:"about",value:s.company.about||"",onSubmitKey:""},{name:"industry",value:s.company.industry,onSubmitKey:"",type:"object",required:!0},{name:"sub_industry",value:s.company.sub_industry,onSubmitKey:"",type:"object",required:!1},{name:"icon",value:u.icon,onSubmitKey:"",type:"object"},{name:"icon_dark",value:u.icon_dark,onSubmitKey:"",type:"object"},{name:"logo",value:u.logo,onSubmitKey:"",type:"object"},{name:"logo_dark",value:u.logo_dark,onSubmitKey:"",type:"object"},{name:"facebook_url",value:s.company.facebook_url,onSubmitKey:"",type:"website"},{name:"twitter_url",value:s.company.twitter_url||"",onSubmitKey:"",type:"website"},{name:"lat",value:(p?Number(p.lat).toFixed(9):String(g))||"",onSubmitKey:""},{name:"lng",value:(p?Number(p.lng).toFixed(9):String(h))||"",onSubmitKey:""}],onSuccess:function(e,n){var l,o=(0,t.Z)((0,t.Z)({},s),{},{company:(0,t.Z)((0,t.Z)({},e),{},{owner:(null==s||null===(l=s.company)||void 0===l?void 0:l.owner)||{}})});d.tO.set("company",JSON.stringify(o)),x(M(o)),k(),f({message:a("update_success"),variant:"success"})},onError:function(e,n){var t;n();var s=a("something_went_wrong");if(e.response&&null!==(t=e.response)&&void 0!==t&&t.data){var l,o,i=null===(l=e.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.message;s=i.match("Company already Exists!")?"The Business Name Already Exists!":i}f({message:s,variant:"error"})},children:function(e){var n=e.isSubmitting,a=e.values,t=e.setFieldValue,s=e.errors,l=e.setFieldError;return(0,w.jsx)(D,{values:a,setFieldValue:t,isSubmitting:n,errors:s,setFieldError:l})}})," "]}):null})}},50576:function(e,n,a){a.d(n,{Y:function(){return s}});var t=a(72791);function s(e){var n=e.setFieldValue,a=e.searchInputRef,s=e.field,l=void 0===s?"address":s,o=(0,t.useCallback)((function(e){var a=e.target.value;n(l,a)}),[]);(0,t.useEffect)((function(){var e=a.current;return a.current&&a.current.addEventListener("change",o),function(){e.removeEventListener("change",o)}}),[a,o])}}}]);
//# sourceMappingURL=7099.07f9eda0.chunk.js.map