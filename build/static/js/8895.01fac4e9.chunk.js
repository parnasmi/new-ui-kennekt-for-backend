!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="72161b4d-3c28-4b4f-8449-2f2f74b49bc7",e._sentryDebugIdIdentifier="sentry-dbid-72161b4d-3c28-4b4f-8449-2f2f74b49bc7")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"fb1fa34f10cc71f430d2612c84ee00a7489f3038"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[8895],{28895:function(e,n,i){i.r(n),i.d(n,{default:function(){return C}});var t=i(70885),s=(i(72791),i(16293)),l=i(40084),a=i(35741),r=i(30874),d=i(55636),o=i(95900),c=i(70822),u=i(73469),m=i(26181),h=i.n(m),v=i(97892),f=i.n(v),x=i(73677),y=i(22553),p=i(96806),j=i(27945),g=i(80184);function b(e){var n,i=e.onSuccess,t=e.entity,s=t.id,a=(0,l.m)().companyId,r=(0,d.eC)().showNotification,o=(0,d.Zp)().reloadEntityAll;if(!t.owner)return(0,g.jsx)("p",{children:"No Editing Is Available"});var c=t.owner,u=c.first_name,m=c.last_name,h=c.mobile,v=c.username;return(0,g.jsx)("div",{children:(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(j.Z.Main,{entity:"clients",name:"AllClients",url:"/".concat(a,"/my/company/clients/").concat(s,"/employee/").concat(null===(n=t.owner)||void 0===n?void 0:n.id,"/"),method:"put",primaryKey:"id",sendAsFormData:!1,fields:[{name:"first_name",required:!0,value:u,onSubmitKey:""},{name:"last_name",required:!0,value:m,onSubmitKey:""},{name:"email",onSubmitKey:"",required:!0,value:v},{name:"mobile",onSubmitKey:"",required:!0,value:h}],onSuccess:function(e,n){r({message:"Successfully Edited!"}),o({entity:"clients",name:"AllClients",url:"/".concat(a,"/client_companies/"),params:{page:1,limit:10}}),i(),n()},onError:function(e,n){r({message:"Something went wrong",variant:"error"})},children:function(e){var n=e.isSubmitting,t=e.values,s=e.setFieldValue,l=e.resetForm;return(0,g.jsx)(p.B,{setFieldValue:s,values:t,isSubmitting:n,onSuccess:i,resetForm:l,isEditing:!0})}})})})}var w=i(27523);function _(e){var n=e.onSuccess,i=e.entity,t=null===i||void 0===i?void 0:i.id,s=(0,l.m)().companyId,a=(0,d.eC)().showNotification,r=(0,d.r1)().updateEntities;return i?(0,g.jsx)("div",{children:(0,g.jsx)(j.Z.Main,{entity:"clients",name:"AllClients",url:"/".concat(s,"/my/company/clients/").concat(t,"/"),method:"put",primaryKey:"id",sendAsFormData:!1,fields:[{name:"id",required:!1,value:t,onSubmitKey:""},{name:"is_individual",required:!0,value:!1,onSubmitKey:""},{name:"name",onSubmitKey:"",required:!0,value:i.name},{name:"phone",onSubmitKey:"",required:!1,value:i.phone}],onSuccess:function(e,i,s){a({message:"Successfully Edited!"}),r({entity:"clients",entityId:t,updatingData:{name:null===s||void 0===s?void 0:s.name,phone:null===s||void 0===s?void 0:s.phone}}),n(),i()},onError:function(e,n){var i,t,s=(null===e||void 0===e||null===(i=e.response)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.message)||"Something went wrong";a({message:s,variant:"error"})},children:function(e){var i=e.isSubmitting,t=(e.values,e.setFieldValue),s=e.resetForm;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(w.u,{setFieldValue:t,isSubmitting:i,onSuccess:n,resetForm:s,isEditing:!0})})}})}):(0,g.jsx)("p",{children:"No Editing is Available"})}function S(e){var n=e.entity,i=e.onSuccess;return(null===n||void 0===n?void 0:n.is_individual)?(0,g.jsx)(b,{onSuccess:i,entity:n}):(0,g.jsx)(_,{onSuccess:i,entity:n})}var E=i(91523);function k(){var e=(0,l.m)(),n=e.companyId,i=e.isPermitted,m=(0,d.h0)(),v=m.page,p=m.handlePage,j=(0,o.k0)().searchQuery,b=(0,d.tv)(),w=b.match,_=b.history,k=(0,x.PB)(),C=k.deleteLoading,F=k.handleClientDelete,A=k.showDeleteVisible,D=k.closeDeletePopup,N=k.deleteVisible,Y=k.editVisible,I=(k.showEditVisible,k.closeEditPopup),K=(0,y.Z)(j,500),V=(0,t.Z)(K,1)[0];return(0,g.jsx)("div",{children:n?(0,g.jsx)(a.Z.All,{entity:"clients",name:"AllClients",url:"/".concat(n,"/client_companies/"),params:{limit:10,extra:{search:V},page:v},replaceIds:!0,children:function(e){var n=e.items,t=e.isFetched,l=e.meta,a=n;return(0,g.jsxs)("div",{children:[(0,g.jsxs)(r.xJ,{classes:{root:"relative "},children:[(0,g.jsxs)(s.k6,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,g.jsx)(r.ss,{children:(0,g.jsxs)(s.AF,{children:[(0,g.jsx)(s.EU,{style:{width:"20%"},children:"Client Name"}),(0,g.jsx)(s.EU,{style:{width:"10%"},children:"Client Type"}),(0,g.jsx)(s.EU,{style:{width:"7%"},children:"Cases"}),(0,g.jsx)(s.EU,{style:{width:"10%"},children:"Status"}),(0,g.jsx)(s.EU,{style:{width:"20%"},children:"Registered"}),(0,g.jsx)(s.EU,{style:{width:"15%"},children:"Uploaded File Name"}),(0,g.jsx)(s.EU,{style:{width:"11%"},children:"Actions"})]})}),(0,g.jsx)(r.RM,{children:a.map((function(e){var n,t=e.is_individual,l=e.icon,a=e.owner,d=e.name,o=e.cases_count_as_client,u=e.status,m=e.imported_from_file,v=e.id;return(0,g.jsxs)(s.AF,{children:[(0,g.jsx)(s.Yk,{children:e.owner?(0,g.jsx)(E.rU,{to:"".concat(w.path).concat(e.id),children:(0,g.jsx)(c.w,{name:d,icon:l,is_individual:t,owner:a,nameClassNames:"text-primary transition hover:text-primary-dark"})}):(0,g.jsx)(r.u,{title:"Something wrong with this client",placement:"top",children:(0,g.jsx)("div",{children:(0,g.jsx)(c.w,{name:d,icon:l,is_individual:t,owner:a})})})}),(0,g.jsx)(s.Yk,{children:(0,g.jsx)("strong",{children:(n=t,n?"Individual":"Business")})}),(0,g.jsx)(s.Yk,{children:null!==o&&void 0!==o?o:0}),(0,g.jsx)(s.Yk,{children:(0,g.jsx)("div",{className:"h-5 rounded-full bg-primary text-center text-xs font-medium leading-5 text-white",children:u})}),(0,g.jsx)(s.Yk,{children:f()(h()(e,"created_date","")).format("MMMM D YYYY, h:mm a")}),(0,g.jsx)(s.Yk,{children:(0,g.jsx)("div",{className:" truncate",children:m})}),(0,g.jsx)(s.Yk,{children:(0,g.jsxs)("div",{className:"flex items-center justify-end ",children:[(0,g.jsx)(s.cP.DeleteButton,{isDisabled:!i,clickHandler:function(){return A(e)}}),(0,g.jsx)(s.cP.ViewButton,{clickHandler:function(){return _.push("".concat(w.path).concat(e.id))},isDisabled:!e.owner})]})})]},v)}))})]}),!t&&(0,g.jsx)(s.aN,{tiled:!0,withOverlay:!0})]}),(0,g.jsx)(s.sm,{featureHandler:function(){return F(N)},isOpen:Boolean(N),toggleHandler:D,title:"Are You Sure To Delete Client ".concat((0,u.$)(null===N||void 0===N?void 0:N.is_individual,null===N||void 0===N?void 0:N.name,null===N||void 0===N?void 0:N.owner),"?"),hasLoader:!0,isLoading:C}),(0,g.jsx)(r.Cx,{handleModalOpen:I,open:Boolean(Y),children:(0,g.jsx)(S,{entity:Y,onSuccess:I})}),(0,g.jsx)("div",{className:"news__pagination my-4",children:n.length?(0,g.jsx)(r.tl,{count:null===l||void 0===l?void 0:l.last_page,page:v?+v:1,defaultPage:6,siblingCount:1,color:"primary",onChange:p}):null})]})}}):(0,g.jsx)("div",{className:"flex justify-center",children:(0,g.jsx)(s.aN,{})})})}var C=function(){return(0,g.jsx)(s.SV,{children:(0,g.jsx)(k,{})})}}}]);
//# sourceMappingURL=8895.01fac4e9.chunk.js.map