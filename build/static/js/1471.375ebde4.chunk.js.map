{"version":3,"file":"static/js/1471.375ebde4.chunk.js","mappings":"g7BAYA,SAASA,EAAT,GAA0E,IAAjCC,EAAgC,EAAhCA,gBAAiBC,EAAe,EAAfA,KACjDC,GAAcC,EAAAA,EAAAA,KAAdD,UACR,GAA8BE,EAAAA,EAAAA,WAAS,GAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACQC,GAAqBC,EAAAA,EAAAA,MAArBD,iBAEeE,GAAwBC,EAAAA,EAAAA,GAAc,CAC5DC,OAAQ,iBACRC,KAAK,kBAAD,OAAoBV,GACxBW,OAAQ,SACRC,IAAI,IAAD,OAAMZ,EAAN,+BAA+BD,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAMc,GAArC,KACHC,YAAY,EACZD,GAAE,OAAEd,QAAF,IAAEA,OAAF,EAAEA,EAAMc,GACVE,GAAI,CACHC,QAAS,SAACC,GACTnB,EAAgB,MAChBM,GAAW,GACXC,EAAiB,CAAEa,QAAS,uBAAwBC,QAAS,aAE9DC,MAAO,SAACA,GACPhB,GAAW,IAGZiB,QAAS,gBAjBHC,cA8BFC,EAAa,WAClBzB,EAAgB,OAGjB,OACC,gBAAK0B,UAAU,WAAf,UACC,UAAC,KAAD,CAAY1B,gBAAiByB,EAAYxB,KAAM0B,QAAQ1B,GAAvD,WACC,UAAC,KAAD,CAAac,GAAG,qBAAhB,mDACsC,mCAASd,QAAT,IAASA,OAAT,EAASA,EAAMW,OADrD,oBAGA,UAAC,KAAD,YACC,SAAC,KAAD,CAAQgB,QAASH,EAAYI,WAAS,EAACR,QAAQ,YAA/C,qBAGA,SAAC,KAAD,CAAQO,QAlBS,WAChB3B,IALJK,GAAW,GACXG,MAqBkCY,QAAQ,YAAYS,MAAM,YAAzD,uBAIAzB,IACA,gBAAKqB,UAAU,2EAAf,UACC,SAAC,KAAD,WAQC,SAASK,EAAyBC,GACxC,OACC,SAAC,KAAD,WACC,SAACjC,GAAD,UAAmCiC,M,0JC1DhCC,EAAO,UAAMC,EAAAA,EAAAA,cAAN,OAYPC,EAAc,CACnB,CAAEC,MAAO,UAAWC,MAAO,WAC3B,CAAED,MAAO,QAASC,MAAO,SACzB,CAAED,MAAO,OAAQC,MAAO,SAGV,SAASC,EAAT,GAYJ,IAXVC,EAWS,EAXTA,OACAC,EAUS,EAVTA,cAEAC,GAQS,EATTC,cASS,EARTD,cACAE,EAOS,EAPTA,OACAlB,EAMS,EANTA,WACAmB,EAKS,EALTA,UACAC,EAIS,EAJTA,SACA9B,EAGS,EAHTA,GACA+B,EAES,EAFTA,aACAC,EACS,EADTA,qBAEQ7C,GAAcC,EAAAA,EAAAA,KAAdD,UAER,GAAkC8C,EAAAA,EAAAA,IAAU,CAC3CC,gBAAgBJ,IAAQ,OAAWN,QAAX,IAAWA,OAAX,EAAWA,EAAQW,mBADpCC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,aAGjB,GAA0EJ,EAAAA,EAAAA,IAAU,CACnFK,gBAAgBR,IAAQ,OAAWN,QAAX,IAAWA,OAAX,EAAWA,EAAQe,oBAD3BC,EAAjB,EAAQJ,QAAwCK,EAAhD,EAAkCJ,aAIlC,GAAgDhD,EAAAA,EAAAA,UAAe,OAANmC,QAAM,IAANA,GAAAA,EAAQkB,KAAO,OAAS,YAAjF,eAAOC,EAAP,KAAyBC,EAAzB,KAEA,GAAoCvD,EAAAA,EAAAA,WAAkB,GAAtD,eAAOwD,EAAP,KAAmBC,EAAnB,KACA,GAA0CzD,EAAAA,EAAAA,WAAkB,GAA5D,eAAO0D,EAAP,KAAsBC,EAAtB,KAGMC,EAAsB,kBAAMD,GAAiB,SAACE,GAAD,OAAWA,MAI9D,GAAoC7D,EAAAA,EAAAA,UAAc,MAAlD,gBAAO8D,GAAP,MAAmBC,GAAnB,MACA,IAA0C/D,EAAAA,EAAAA,WAAc,GAAxD,iBAAOgE,GAAP,MAAsBC,GAAtB,MACA,IAAwBjE,EAAAA,EAAAA,UAASyC,EAAQ,OAAGN,QAAH,IAAGA,OAAH,EAAGA,EAAQ+B,KAAO,MAA3D,iBAAOA,GAAP,MAAaC,GAAb,OAEAC,EAAAA,EAAAA,YAAU,WACLF,IAAM9B,EAAc,OAAQ8B,MAC9B,CAACA,MAEJE,EAAAA,EAAAA,YAAU,WACL3B,GACHL,EAAc,aAAc,CAAEzB,GAAIA,MAEjC,CAAC4B,IAoBJ,OATA6B,EAAAA,EAAAA,YAAU,WACThC,EAAc,kBAAmBW,EAAQF,kBACvC,CAACE,EAAQF,kBAEZuB,EAAAA,EAAAA,YAAU,WACThC,EAAc,mBAAoBe,EAAgBF,gBAClDN,EAAqBQ,EAAgBF,kBACnC,CAACE,EAAgBF,eAAgBd,EAAOe,oBAG1C,iBAAKvC,GAAI,kBAAT,WACC,iBAAKW,UAAU,0FAAf,WACC,gBAAKA,UAAU,6CAAf,mBACCmB,EAAW,aAAe,OAD3B,qBAGCA,GACA,gBACCnB,UAAU,mFACVE,QAASgB,EAFV,mBAMG,SAEL,iBAAKlB,UAAU,aAAf,WACC,gBAAKA,UAAU,8CAAf,oBACA,iBAAKA,UAAU,yBAAf,WACC,iBAAKA,UAAU,2EAAf,WACC,gBACC+C,IACC5B,EACG6B,GAAAA,CAAIJ,GAAM,cAAV,UAA6BrC,EAA7B,yBACAyC,GAAAA,CAAG,OAACnC,QAAD,IAACA,OAAD,EAACA,EAAQ+B,KAAM,aAEtBK,IAAI,GACJjD,UAAW,eAEI,OAAfwC,KACA,iBACCxC,UACC,6EAFF,WAKC,gBAAKA,UAAU,uBAAf,UACC,SAAC,KAAD,CAAQL,QAAQ,cAAcgB,MAAO6B,QAEtC,gBACCtC,QAAS,WACRyC,IAAiB,GACjBF,GAAc,OAEfzC,UACC,mJANF,UAUC,SAAC,MAAD,aAKJ,gBAAKA,UAAU,OAAf,UACC,SAAC,KAAD,CACCwC,WAAYA,GACZC,cAAeA,GACfC,cAAeA,GACfC,iBAAkBA,GAClBO,QAASL,GACTM,WAAY,yEAIf,gBACCjD,QAAS,kBAAMiC,GAAc,IAC7BnC,UAAU,wJAFX,uCAOA,SAAC,KAAD,CAAOU,MAAM,QAAQxB,KAAK,OAAOkE,UAAWC,EAAAA,GAAeC,YAAY,MAEvE,4BACC,gBAAKtD,UAAU,8CAAf,uBACA,UAAC,KAAD,CACCW,MAAOqB,EACPuB,SA9FgC,SAACC,GACrC,IAAM7C,EAAQ6C,EAAIC,OAAO9C,MACzBsB,EAAoBtB,GAEN,aAAVA,GACHG,EAAc,OAAQ,OA0FnB,aAAW,WACXd,UAAU,iCAJX,WAMC,SAAC,KAAD,CACCW,MAAM,WACN+C,SAAS,SAAC,KAAD,CAAOtD,MAAM,YACtBM,MAAM,eAEP,SAAC,KAAD,CAAkBC,MAAM,OAAO+C,SAAS,SAAC,KAAD,CAAOtD,MAAM,YAAcM,MAAM,iBAEpD,SAArBsB,GACA,SAAC,KAAD,CACCtB,MAAM,YACNxB,KAAK,OACLkE,UAAWC,EAAAA,GACXC,YAAY,cAEV,SAGL,SAAC,KAAD,CACC5C,MAAM,eACNxB,KAAK,QACLkE,UAAWO,EAAAA,GACXL,YAAY,oCACZM,cAAY,EACZC,gBAAiB/C,IAGhBK,EAqHE,MApHH,4BACC,iBAAKnB,UAAU,SAAf,WACC,gBAAKA,UAAU,mDAAf,6CAGA,iBAAKA,UAAU,2BAAf,WACC,SAAC8D,EAAA,GAAD,CACCC,MAAM,wNACNC,UAAU,MAFX,UAIC,SAACC,EAAA,EAAD,CAAYjE,UAAW,YAAvB,UACC,SAAC,MAAD,SAGF,SAAC,KAAD,CACCd,KAAK,uBACLkE,UAAWC,EAAAA,GACXa,KAAK,SACLZ,YAAY,OACZH,WAAW,QACXgB,aAAa,YAEd,gBAAKnE,UAAU,iBAAf,UACC,SAAC,KAAD,CACCA,UAAU,SACVoD,UAAWgB,EAAAA,GACXC,OAAQC,EAAAA,GACRpF,KAAK,4BACLqF,aAAc9D,EAAY,GAC1B+D,QAAS/D,EACTgE,cAAeC,EAAAA,WAIlB,iBAAK1E,UAAU,SAAf,WACC,gBAAKA,UAAU,mDAAf,mCAGA,iBAAKA,UAAU,2BAAf,WACC,SAAC8D,EAAA,GAAD,CACCC,MAAM,wNACNC,UAAU,MAFX,UAIC,SAACC,EAAA,EAAD,CAAYjE,UAAW,YAAvB,UACC,SAAC,MAAD,SAGF,SAAC,KAAD,CACCd,KAAK,wBACLkE,UAAWC,EAAAA,GACXa,KAAK,SACLZ,YAAY,OACZH,WAAW,QACXgB,aAAa,YAGd,gBAAKnE,UAAU,iBAAf,UACC,SAAC,KAAD,CACCoD,UAAWgB,EAAAA,GACXC,OAAQC,EAAAA,GACRpF,KAAK,6BACLqF,aAAc9D,EAAY,GAC1B+D,QAAS/D,EACTgE,cAAeC,EAAAA,GACf1E,UAAU,uBAMf,gBAAKA,UAAU,OAAf,UACC,SAAC,KAAD,CACC0D,SACC,SAAC,IAAD,CACCjC,QAASA,EAAQF,eACjBgC,SAAU7B,EACVxC,KAAK,mBAGPwB,MAAM,2CACNV,UAAU,OACV2E,SAAUxD,EACVyD,QAAS,CAAElE,MAAO,8CAGnBe,EAAQF,gBACR,iBAAKvB,UAAU,+BAAf,WACC,gBAAKA,UAAU,mDAAf,gCAGA,SAAC,KAAD,CACCoD,UAAWyB,EAAAA,EACXC,kBAAmBR,EAAAA,GACnBpF,KAAK,oBACLoE,YAAY,2BACZyB,YAAa,SAACC,GAAD,gBACThC,GAAAA,CAAIgC,EAAQ,kBAAmB,IADtB,YAC6BhC,GAAAA,CAAIgC,EAAQ,iBAAkB,MAExEC,eAAc,WAAMzG,EAAN,wBAA+B4C,EAA/B,WACd8D,kBAAmB,SAACC,GAAD,MAAqB,CACvCC,MAAO,CACND,OAAAA,KAGFV,cAAY,EACZY,cAAe,IACfd,aAAY,OAAE1D,QAAF,IAAEA,OAAF,EAAEA,EAAQyE,kBACtBC,aAAW,EACXC,SAAO,EACPC,eAAe,UACfC,UAAQ,EACRnC,SAAU,SAACyB,UAGV,SAIN,iBAAKhF,UAAU,8BAAf,WACC,SAAC,KAAD,CACC0D,SACC,SAAC,IAAD,CACCjC,QAASI,EAAgBF,eACzB4B,SAAUzB,EACV5C,KAAK,mBAGPwB,MAAM,qBACNkE,QAAS,CAAElE,MAAO,6CAEnB,gBAAKV,UAAU,OAAf,SACEa,EAAOe,kBACP,SAAC+D,EAAA,EAAD,CACCC,aAAc/E,EAAOgF,gBACrBC,YAAajF,EAAOgF,kBAElB,UAILhE,EAAgBF,iBAChB,iCACC,gBAAK3B,UAAU,qEAAf,wCAGA,gBAAKA,UAAU,+BAAf,UACC,SAAC,KAAD,CACCoD,UAAWyB,EAAAA,EACXC,kBAAmBR,EAAAA,GACnBpF,KAAK,aACL6F,YAAY,QACZgB,YAAY,KACZtB,cAAY,EACZiB,UAAQ,EACRpC,YAAY,mBACZ0C,SAAS,EACTf,eAAc,WAAMzG,EAAN,8BAId0G,kBAAmB,SAACC,GAAD,MAAqB,CACvCC,MAAO,CACND,OAAAA,EAEAc,SAAU,UAGZR,eAAe,QAGjB,4BACC,iBAAKzF,UAAU,iEAAf,WACC,iBAAMA,UAAW,OAAjB,6CACA,SAAC8D,EAAA,GAAD,CACCC,MAAM,sLACNC,UAAU,MAFX,UAIC,SAACC,EAAA,EAAD,CAAYjE,UAAW,YAAvB,UACC,SAAC,MAAD,YAIH,gBAAKA,UAAU,oBAAf,UACC,SAAC,KAAD,CACCkE,KAAK,QACLhF,KAAK,mBACLkE,UAAWC,EAAAA,GACXC,YAAY,cACZH,WAAY,kBACZgB,aAAc,uBAQpB,iBAAKnE,UAAU,0DAAf,UACGmB,EASE,MARH,SAAC,KAAD,CACCnB,UAAW,wEACXkE,KAAK,SACLhE,QAASoC,EACTlC,MAAM,UAJP,mCASD,4BACC,SAAC,KAAD,CACCJ,UAAW,sCACXI,MAAM,UACNF,QAASH,EAHV,qBAOA,SAAC,KAAD,CACCC,UAAW,wEACXkE,KAAK,SACLnD,aAAcA,EACdX,MAAM,UAJP,SAMEe,EAAW,SAAW,kBAI1B,SAAC,KAAD,CAAY7C,gBAlXa,kBAAM6D,GAAc,SAACI,GAAD,OAAWA,MAkXPhE,KAAM0B,QAAQiC,GAA/D,UACC,SAACgE,EAAA,EAAD,CACCpF,cAAeA,EACfqB,cAAeA,EACfU,QAASA,GACT9C,WArXyB,kBAAMoC,GAAc,QAwX7ChB,EAgBE,MAfH,SAAC,KAAD,CACC7C,gBAAiBgE,EACjB/D,KAAM0B,QAAQmC,GACd+D,YAAU,EACVC,WAAS,EAJV,UAMC,SAACC,EAAA,EAAD,CACCC,WAAU,OAAEzF,QAAF,IAAEA,OAAF,EAAEA,EAAQ0F,WACpBnF,aAAcA,EACdoF,eAAc,OAAE3F,QAAF,IAAEA,OAAF,EAAEA,EAAQ3B,KACxBuH,mBAlYsB,kBAAMpE,GAAiB,IAmY7CqE,iBAAiB,EACjB5F,cAAeA,MAIjBC,GACA,gBAAKf,UAAU,2EAAf,UACC,SAAC,KAAD,MAEE,QChcQ,SAAS2G,EAAT,GAMkB,IALhCrI,EAK+B,EAL/BA,gBACAC,EAI+B,EAJ/BA,KACAc,EAG+B,EAH/BA,GACAuH,EAE+B,EAF/BA,YACAC,EAC+B,EAD/BA,KAEQrI,GAAcC,EAAAA,EAAAA,KAAdD,UACFuB,GAAa+G,EAAAA,EAAAA,cAAY,kBAAMxI,EAAgB,QAAO,IACpDO,GAAqBC,EAAAA,EAAAA,MAArBD,iBACAkI,GAAoBC,EAAAA,EAAAA,MAApBD,gBACR,GAAkDrI,EAAAA,EAAAA,WAAkB,GAApE,eAAOuI,EAAP,KAA0B5F,EAA1B,KACA,OACC,0BACC,SAAC,KAAD,CACC6F,SAAU,IACVC,SAAU,IACV7I,gBAAiBA,EACjBC,KAAM0B,QAAQ1B,GACd4H,YAAU,EACVC,WAAS,EANV,SAQE5H,GACA,SAAC,SAAD,CACCS,OAAO,iBACPC,KAAI,yBAAoBV,GACxBY,IAAG,UAAKZ,EAAL,iBACHW,OAAO,OACPiI,WAAW,KACXC,gBAAgB,EAChBC,cAAe,SAAC7H,GAAD,OAAeA,GAC9B8H,YAAU,EACVC,OAAQ,CACP,CACCtI,KAAM,OACNuI,UAAU,EACV9G,MAAO,KACP+G,YAAa,GACbxD,KAAM,SACNyD,cAAe,SAAChH,GAAD,OAAYA,GAAgB,OAE5C,CACCzB,KAAM,OACNuI,UAAU,EACV9G,MAAO,GACP+G,YAAa,IAEd,CACCxI,KAAM,OACNuI,UAAU,EACV9G,MAAO,KACP+G,YAAa,GACbC,cAAe,SAAChH,GAAD,OAAYA,GAAgB,OAE5C,CACCzB,KAAM,QACNuI,UAAU,EACV9G,MAAO,KACP+G,YAAa,IAEd,CACCxI,KAAM,mBACNuI,UAAU,EACV9G,OAAO,EACP+G,YAAa,IAEd,CACCxI,KAAM,aACNyI,cAAe,SAAChH,GAAD,OAAWqC,GAAAA,CAAIrC,EAAO,OACrC+G,YAAa,GACbxD,KAAM,SACNuD,SAAUR,GAEX,CACC/H,KAAM,mBACNuI,UAAU,EACV9G,MAAO,KACPgH,cAAe,SAAChH,GAAD,OAAYA,GAAgB,MAC3C+G,YAAa,KAGfE,UAAW,SAACC,EAAU3G,GACrBrC,EAAiB,CAAEa,QAAS,cAC5BwB,IACA6F,EAAgB,CACf9H,OAAQ,iBACRC,KAAK,kBAAD,OAAoBV,GACxBY,IAAI,IAAD,OAAMZ,EAAN,wBAA+Ba,EAA/B,qBACHyI,OAAQ,CACPjB,KAAMA,EACNkB,MAAO,GACP3C,MAAO,CACND,OAAQyB,MAIX7G,KAEDiI,QAAS,SAACpI,EAAOsB,GAChBrC,EAAiB,CAAEa,QAAS,gBAAiBC,QAAS,UACtDuB,KA7EF,SAgFE,YAAgF,IAA7EH,EAA4E,EAA5EA,aAAcF,EAA8D,EAA9DA,OAAQC,EAAsD,EAAtDA,cAAeG,EAAuC,EAAvCA,OAAQD,EAA+B,EAA/BA,cAAeE,EAAgB,EAAhBA,UAC/D,OACC,SAACN,EAAD,CACCC,OAAQA,EACRC,cAAeA,EACfE,cAAeA,EACfD,aAAcA,EACdE,OAAQA,EACRlB,WAAYA,EACZmB,UAAWA,EACX7B,GAAIA,EACJgC,qBAAsBA,OAKvB,SCvHR,SAAS4G,EAAYC,GACpB,OAAQA,GACP,IAAK,UACJ,MAAO,CAAExH,MAAO,UAAWC,MAAO,WAEnC,IAAK,QACJ,MAAO,CAAED,MAAO,QAASC,MAAO,SAEjC,IAAK,OACJ,MAAO,CAAED,MAAO,OAAQC,MAAO,QAEhC,QACC,OAAO,MAIK,SAASwH,EAAT,GAAkE,IAAjC7J,EAAgC,EAAhCA,gBAAiBC,EAAe,EAAfA,KACxDC,GAAcC,EAAAA,EAAAA,KAAdD,UACFuB,GAAa+G,EAAAA,EAAAA,cAAY,kBAAMxI,EAAgB,QAAO,IACpDO,GAAqBC,EAAAA,EAAAA,MAArBD,iBAER,GAAkDH,EAAAA,EAAAA,WAAkB,GAApE,eAAOuI,EAAP,KAA0B5F,EAA1B,KAEQ+G,GAAmBC,EAAAA,EAAAA,MAAnBD,eAER,OACC,yBACE5J,GAAS,OAAID,QAAJ,IAAIA,GAAAA,EAAMc,IACnB,0BACC,SAAC,QAAD,CACCA,GAAE,OAAEd,QAAF,IAAEA,OAAF,EAAEA,EAAMc,GACViJ,UAAW,GACXrJ,OAAQ,iBACRC,KAAI,yBAAoBV,GACxBY,IAAG,WAAMZ,EAAN,+BAA+BD,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAMc,GAArC,KACHyI,OAAQ,GANT,SAQE,YAA0B,IAAvBS,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,UACHC,EAAgBF,EACtB,OACC,8BACEC,GACA,SAAC,KAAD,CACCtB,SAAU,IACVC,SAAU,IACV7I,gBAAiByB,EACjBxB,KAAM0B,QAAQ1B,GACd4H,YAAU,EACVC,WAAS,EANV,UAQC,SAAC,SAAD,CACCnH,OAAO,iBACPC,KAAI,yBAAoBV,GACxBY,IAAG,UAAKZ,EAAL,+BAA8BiK,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAepJ,GAA7C,KACHF,OAAO,QACPiI,WAAW,KACX/H,GAAE,OAAEoJ,QAAF,IAAEA,OAAF,EAAEA,EAAepJ,GACnBgI,gBAAgB,EAChBqB,YAAU,EACVpB,cAAe,SAAC7H,GAAD,OAAeA,GAC9B+H,OAAQ,CACP,CACCtI,KAAM,OACNuI,UAAU,EACV9G,MAAK,OAAE8H,QAAF,IAAEA,OAAF,EAAEA,EAAe7F,KACtB8E,YAAa,GACbC,cAAe,SAAChH,GAAD,OAAYA,GAAgB,MAC3CuD,KAAM,UAEP,CACChF,KAAM,OACNuI,UAAU,EACV9G,MAAK,OAAE8H,QAAF,IAAEA,OAAF,EAAEA,EAAevJ,KACtBwI,YAAa,IAEd,CACCxI,KAAM,OACNuI,UAAU,EACV9G,MAAK,OAAE8H,QAAF,IAAEA,OAAF,EAAEA,EAAe1G,KACtB2F,YAAa,GACbC,cAAe,SAAChH,GAAD,OAAYA,GAAgB,OAE5C,CACCzB,KAAM,QACNuI,UAAU,EACV9G,MAAK,OAAE8H,QAAF,IAAEA,OAAF,EAAEA,EAAeE,MACtBjB,YAAa,IAEd,CACCxI,KAAM,WACNuI,UAAU,EACV9G,OAAO,EACP+G,YAAa,IAEd,CACCxI,KAAM,uBACNuI,UAAU,EACV9G,MAAK,OAAE8H,QAAF,IAAEA,OAAF,EAAEA,EAAeG,qBACtBjB,cAAe,SAAChH,GAAD,OAAYA,EAAQkI,SAASlI,GAAS,MACrD+G,YAAa,IAEd,CACCxI,KAAM,4BACNuI,UAAU,EACV9G,MAAOsH,EAAW,OAACQ,QAAD,IAACA,OAAD,EAACA,EAAeK,2BAClCnB,cAAe,SAAChH,GAAD,cAAWA,QAAX,IAAWA,OAAX,EAAWA,EAAOA,OACjCuD,KAAM,SACNwD,YAAa,IAEd,CACCxI,KAAM,wBACNuI,UAAU,EACV9G,MAAK,OAAE8H,QAAF,IAAEA,OAAF,EAAEA,EAAeM,sBACtBpB,cAAe,SAAChH,GAAD,OAAYA,EAAQkI,SAASlI,GAAS,MACrD+G,YAAa,IAEd,CACCxI,KAAM,6BACNuI,UAAU,EACV9G,MAAOsH,EAAW,OAACQ,QAAD,IAACA,OAAD,EAACA,EAAeO,4BAClCrB,cAAe,SAAChH,GAAD,cAAWA,QAAX,IAAWA,OAAX,EAAWA,EAAOA,OACjCuD,KAAM,SACNwD,YAAa,IAEd,CACCxI,KAAM,aACNuI,UAAU,EACVC,YAAa,GACbxD,KAAM,SACNvD,MAAK,OAAE8H,QAAF,IAAEA,OAAF,EAAEA,EAAelC,YAEvB,CACCrH,KAAM,oBACNuI,UAAU,EACVC,YAAa,GACbxD,KAAM,SACNvD,MAAK,OAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAM+G,kBACbqC,cAAe,SAAChH,GAAD,OACdA,EAAMsI,OAAStI,EAAMuI,KAAI,SAACX,GAAD,OAAeA,EAAKlJ,MAAM,KAErD,CACCH,KAAM,kBACNuI,UAAU,EACV9G,MAAK,OAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAMiD,gBACbkG,YAAa,IAEd,CACCxI,KAAM,mBACNuI,UAAU,EACV9G,MAAK,OAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAMqD,iBACb8F,YAAa,IAEd,CACCxI,KAAM,aACNyI,cAAe,SAAChH,GAAD,OAAWqC,GAAAA,CAAIrC,EAAO,OACrC+G,YAAa,GACb/G,MAAK,OAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAM4K,WACb1B,SAAUR,EACV/C,KAAM,UAEP,CACChF,KAAM,mBACNuI,UAAU,EACV9G,MAAK,OAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAM6K,iBACbzB,cAAe,SAAChH,GAAD,OAAYA,GAAgB,MAC3C+G,YAAa,IAEd,CACCxI,KAAM,kBACNuI,UAAU,EACV9G,MAAK,OAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAMsH,gBACb6B,YAAa,KAGfE,UAAW,SAACC,EAAU3G,GAAoB,IAAD,KAE/B,OAAR2G,QAAQ,IAARA,GAAA,UAAAA,EAAUvC,yBAAV,eAA6B2D,SAA7B,OAAsC1K,QAAtC,IAAsCA,GAAtC,UAAsCA,EAAM+G,yBAA5C,aAAsC,EAAyB2D,SAE/Db,EAAe,CACdnJ,OAAQ,cACRoK,SAAQ,OAAE9K,QAAF,IAAEA,OAAF,EAAEA,EAAMc,GAChBiK,aAAc,CACbhE,mBAA2B,OAARuC,QAAQ,IAARA,OAAA,EAAAA,EAAUvC,oBAAqB,MAIrDpE,IACAnB,IACAlB,EAAiB,CAAEa,QAAS,eAE7BsI,QAAS,SAACpI,EAAOsB,GAChBrC,EAAiB,CAAEa,QAAS,gBAAiBC,QAAS,UACtDuB,KA9IF,SAiJE,YAOM,IANNH,EAMK,EANLA,aACAF,EAKK,EALLA,OACAC,EAIK,EAJLA,cACAG,EAGK,EAHLA,OACAD,EAEK,EAFLA,cACAE,EACK,EADLA,UAEA,OACC,SAACN,EAAD,CACCC,OAAQA,EACRC,cAAeA,EACfE,cAAeA,EACfD,aAAcA,EACdE,OAAQA,EACRlB,WAAYA,EACZoB,UAAU,EACVD,UAAWA,EACX7B,GAAE,OAAEoJ,QAAF,IAAEA,OAAF,EAAEA,EAAepJ,GACnB+B,aAAY,OAAEqH,QAAF,IAAEA,OAAF,EAAEA,EAAepJ,GAC7BgC,qBAAsBA,UAO3B,gBAAKrB,UAAU,2BAAf,UACC,SAAC,KAAD,aAQJ,OF8NPY,EAA0B2I,aAAe,CACxCpI,UAAU,EACVqI,WAAY,KAEZtI,UAAW,cC5UZyF,EAAwB4C,aAAe,CACtC3B,UAAW,cC8GZO,EAAsBoB,aAAe,CACpC3B,UAAW,c,qCC3NZ,SAAS6B,EAAT,GAA4D,IAAtBrI,EAAqB,EAArBA,aACrC,GAA4C3C,EAAAA,EAAAA,KAApCD,EAAR,EAAQA,UAAWkL,EAAnB,EAAmBA,QAASC,EAA5B,EAA4BA,YAC5B,GAA6BC,EAAAA,EAAAA,IAAc,WAAnC/C,EAAR,EAAQA,KAAMgD,EAAd,EAAcA,WACd,GAAsCnL,EAAAA,EAAAA,UAAqB,MAA3D,eAAOoL,EAAP,KAAoBC,EAApB,KACA,GAAgCrL,EAAAA,EAAAA,WAAkB,GAAlD,eAAOsL,EAAP,KAAiBC,EAAjB,KACA,GAAsCvL,EAAAA,EAAAA,UAAqB,MAA3D,eAAOwL,EAAP,KAAoBC,EAApB,KAEMC,GAAoBtD,EAAAA,EAAAA,cAAY,SAACyB,GAAD,OAAsBwB,EAAexB,KAAO,IAE5EjK,EAAkB,kBAAM2L,GAAY,SAAC1H,GAAD,OAAWA,MAC/C8H,GAAcvD,EAAAA,EAAAA,cAAY,SAACyB,GAAD,OAAsB4B,EAAe5B,KAAO,IAE5E,GAA0B7J,EAAAA,EAAAA,UAAS,IAAnC,eAAO4L,EAAP,KAAcC,EAAd,KACA,GAAsBC,EAAAA,EAAAA,GAAYF,EAAO,KAAlC1D,GAAP,eAEQ6D,IAAyBC,EAAAA,EAAAA,GAAkB,gBAAiB9D,EAAaxF,GAAzEqJ,qBAgBR,OACC,yBACEjM,GAAa4C,GACb,4BACC,iBAAKpB,UAAU,iJAAf,WACC,6CACA,iBAAKA,UAAU,oBAAf,WACC,iBAAKA,UAAU,gDAAf,WACC,kBACCkE,KAAK,SACLvD,MAAO2J,EACPtK,UACC,oMAKDsD,YAAa,6BACbC,SAhCkB,SAACC,GAC1B+G,EAAS/G,EAAIC,OAAO9C,WAiCd,gBAAKX,UAAU,2CAAf,UACC,gBAAKA,UAAU,aAAf,UACC,SAAC,MAAD,YAIH,SAAC,KAAD,CAAW2E,UAAWgF,EAAazJ,QAAS5B,EAA5C,uCAKF,SAAC,QAAD,CACCW,OAAQ,iBACRC,KAAI,yBAAoBV,GACxBY,IAAG,WAAMZ,EAAN,wBAA+B4C,EAA/B,qBACHuJ,YAAU,EACV7C,OAAQ,CACPC,MAAO,GACP3C,MAAO,CACND,OAAQyB,GAETC,KAAAA,GAVF,SAaE,YAAiC,IAA9B+D,EAA6B,EAA7BA,MAAOpC,EAAsB,EAAtBA,UAAWqC,EAAW,EAAXA,KACfC,EAAWF,EAAM1B,KAAI,SAACX,GAAD,OAAmBA,KAE9C,OACC,4BACC,UAAC,KAAD,CAAgB3D,QAAS,CAAEmG,KAAM,aAAjC,WACC,UAAC,KAAD,CACC,aAAW,eACXnG,QAAS,CAAEmG,KAAM,sCAFlB,WAIC,SAAC,KAAD,WACC,UAAC,KAAD,YACC,SAAC,KAAD,CAAqBC,MAAO,CAAEC,MAAO,OAArC,mBACA,SAAC,KAAD,CAAqBD,MAAO,CAAEC,MAAO,OAArC,2BAGA,SAAC,KAAD,CAAqBD,MAAO,CAAEC,MAAO,OAArC,oBACA,SAAC,KAAD,CAAqBD,MAAO,CAAEC,MAAO,OAArC,UACC,gBAAKjL,UAAU,gBAAf,sBAED,SAAC,KAAD,CAAqBgL,MAAO,CAAEE,UAAW,SAAUD,MAAO,OAA1D,2BAKF,SAAC,KAAD,UACEH,EAAS5B,KAAI,SAACX,GACd,IAjFe4C,EAkFd9L,EAQGkJ,EARHlJ,GACAuD,EAOG2F,EAPH3F,KACA1D,EAMGqJ,EANHrJ,KACAyJ,EAKGJ,EALHI,MAEA9C,GAGG0C,EAJH6C,OAIG7C,EAHH1C,iBACAsD,EAEGZ,EAFHY,WACAvH,EACG2G,EADH3G,iBAEKyJ,EAAS1C,EAAsB,MAAbA,EAAM,GAAaA,EAAnB,WAA+BA,GAAW,KAClE,OACC,SAAC,KAAD,UACEiC,EAAM3B,QACN,iCAEC,SAAC,KAAD,WACC,iBAAKjJ,UAAU,oBAAf,WACC,gBAAKA,UAAU,wBAAf,UACEsL,EAAAA,EAAAA,IACI,OAAJ1I,QAAI,IAAJA,OAAA,EAAAA,EAAM2I,aAAN,OAAmB3I,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAM4I,gBAAiB,GAC1CtM,MAGF,SAAC,KAAD,CAAMuM,GAAE,4BAAuBpM,EAAvB,KAAR,UACC,cAAGW,UAAU,6EAAb,SACEd,YAKL,SAAC,KAAD,UACEmM,GACA,iBAAKrL,UAAU,oBAAf,WACC,SAAC,MAAD,CAAqBI,MAAM,UAAUsL,KAAK,UAC1C,cACCC,KAAI,cAASN,GACbrL,UAAU,iFAFX,SAIEqL,OAGA,QAEL,SAAC,KAAD,WACC,gBAAKrL,UAAU,yBAAf,UACC,SAAC4L,EAAA,EAAD,CACCjH,UAAW+E,EACX/I,MAAOkL,OAAOtD,EAAK6C,QACnB7H,SAAU,SAACuI,GAAD,OAAOrB,GAAqBqB,EAAGvD,EAAKlJ,KAH/C,UA/HS8L,EAoIWN,EAAKM,OAnInC,OAAIY,MAAMZ,IAAQjC,KAAI,SAAC8C,EAAGC,GAChC,OACC,SAACC,EAAA,EAAD,CAAoBvL,MAAOsL,EAAM,EAAjC,SACEJ,OAAOI,EAAM,IADAA,cAqIF,SAAC,KAAD,WACC,gBAAKjM,UAAU,sBAAf,SACE6F,GAAmBjE,GACnB,SAAC+D,EAAA,EAAD,CAAiBG,YAAaD,KAE9B,+BAEOjE,GAAoBiE,EACjB,eAGN,8BACEsD,GACA,0CAEA,2CAUT,SAAC,KAAD,WACC,iBAAKnJ,UAAU,oBAAf,WACC,SAACiE,EAAA,EAAD,CACCU,UAAW+E,EACXxJ,QAAS,kBAAMkK,EAAkB7B,IAFlC,UAIC,SAAC,MAAD,CAAcnI,MAAM,UAAUsL,KAAK,YAEpC,SAACzH,EAAA,EAAD,CACCU,UAAW+E,EACX,aAAW,OACXtJ,MAAM,UAHP,UAKC,SAAC,KAAD,CAAMqL,GAAE,4BAAuBpM,EAAvB,KAAR,UACC,SAAC,MAAD,CAAWqM,KAAK,cAGlB,SAACzH,EAAA,EAAD,CACCU,UAAWgF,EACXzJ,QAAS,kBAAMmK,EAAY9B,IAF5B,UAIC,SAAC,MAAD,CAAmBnI,MAAM,UAAUsL,KAAK,oBAM5C,SAAC,KAAD,WACC,+CAhGkBrM,YAwGvBmJ,IAAa,SAAC,KAAD,CAAQ2D,OAAK,EAACC,aAAW,QAEzC,gBAAKpM,UAAU,wBAAf,SACE4K,EAAM3B,QACN,SAAC,KAAD,CACCkC,MAAK,OAAEN,QAAF,IAAEA,OAAF,EAAEA,EAAMwB,UACbxF,KAAMA,GAAQA,EAAO,EACrByF,YAAa,EACbC,aAAc,EACdnM,MAAO,UACPmD,SAAUsG,IAER,cAMT,SAACxJ,EAAD,CAA0B/B,gBAAiB8L,EAAmB7L,KAAMuL,KACpE,SAACnD,EAAD,CACCrI,gBAAiBA,EACjBC,KAAMyL,EACN3K,GAAI+B,EACJyF,KAAMA,EACND,YAAaA,KAEd,SAACuB,EAAD,CAAuB7J,gBAAiB+L,EAAa9L,KAAM2L,QAG5D,gBAAKlK,UAAU,sBAAf,UACC,SAAC,KAAD,QAOU,SAASwM,EAAoBlM,GAC3C,OACC,SAAC,KAAD,WACC,SAACmJ,GAAD,UAAgCnJ,MC1RpB,SAASmM,EAAT,GAA4D,IAAnCnO,EAAkC,EAAlCA,gBAAiBC,EAAiB,EAAjBA,KAAMc,EAAW,EAAXA,GACtDb,GAAcC,EAAAA,EAAAA,KAAdD,UACFuB,GAAa+G,EAAAA,EAAAA,cAAY,kBAAMxI,EAAgB,QAAO,IACpDO,GAAqBC,EAAAA,EAAAA,MAArBD,iBACR,OACC,0BACC,SAAC,KAAD,CACCP,gBAAiBA,EACjB0B,UAAU,SACVzB,KAAM0B,QAAQ1B,GACd4I,SAAU,IACVD,SAAU,IACVd,WAAS,EANV,SAQE5H,GACA,SAAC,SAAD,CACCS,OAAO,kBACPC,KAAI,0BAAqBV,GACzBY,IAAG,UAAKZ,EAAL,wBAA8Ba,EAA9B,WACHF,OAAO,OACPiI,WAAW,KACXC,gBAAgB,EAChBqF,aAAW,EACXpF,cAAe,SAAC7H,GAAD,OAAeA,GAC9B+H,OAAQ,CACP,CACCtI,KAAM,aACNuI,UAAU,EACV9G,MAAO,CAAEtB,GAAIA,GACb6E,KAAM,SACNwD,YAAa,IAEd,CACCxI,KAAM,OACNuI,UAAU,EACVE,cAAe,SAAChH,GAAD,MAAY,CAAEtB,GAAIsB,EAAMtB,KACvCsB,MAAO,KACPuD,KAAM,SACNwD,YAAa,KAGfE,UAAW,SAACC,EAAU3G,GACrBrC,EAAiB,CAAEa,QAAS,cAC5BwB,IACAnB,KAEDiI,QAAS,SAACpI,EAAOsB,GAChBrC,EAAiB,CAAEa,QAAS,gBAAiBC,QAAS,UACtDuB,KAjCF,SAoCE,YAAgF,IAA7EH,EAA4E,EAA5EA,aAA4E,EAA9DF,OAA8D,EAAtDC,cAAsD,EAAvCG,OAAuC,EAA/BD,cAA+B,EAAhBE,UAC/D,OACC,iBAAKlB,UAAU,6BAAf,WACC,eAAIA,UAAU,kDAAd,yBACA,kBAAOA,UAAU,wDAAjB,qBAGA,SAAC,KAAD,CACCA,UAAU,SACVoD,UAAWyB,EAAAA,EACXC,kBAAmBR,EAAAA,GACnBpF,KAAK,OACLoE,YAAY,qBACZyB,YAAa,SAACC,GAAD,uBAAoBA,QAApB,IAAoBA,OAApB,EAAoBA,EAAQ2H,WAA5B,mBAA0C3H,QAA1C,IAA0CA,OAA1C,EAA0CA,EAAQ4H,YAC/D7G,YAAY,KACZtB,cAAeC,EAAAA,GACfa,aAAW,EACXG,UAAQ,EACRmH,gBAAc,EACdpH,eAAe,UACfR,eAAc,WAAMzG,EAAN,cACd0G,kBAAmB,SAACC,GAAD,MAAqB,CACvCC,MAAO,CACND,OAAAA,EACA2H,kBAAmBzN,EACnB0N,cAAe,aAIlB,iBAAK/M,UAAU,sDAAf,WACC,SAAC,KAAD,CACCA,UAAW,sCACXI,MAAM,UACNF,QAASH,EAHV,qBAOA,SAAC,KAAD,CACCC,UACC,wEAEDkE,KAAK,SACLnD,aAAcA,EACdX,MAAM,UANP,0BAeF,SCpGR,SAAS4M,EAAT,GAAuF,IAA/C1O,EAA8C,EAA9CA,gBAAiBC,EAA6B,EAA7BA,KAAM6C,EAAuB,EAAvBA,aACtD5C,GAAcC,EAAAA,EAAAA,KAAdD,UACR,GAA8BE,EAAAA,EAAAA,WAAS,GAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACQC,GAAqBC,EAAAA,EAAAA,MAArBD,iBAEeE,GAAwBC,EAAAA,EAAAA,GAAc,CAC5DC,OAAQ,kBACRC,KAAK,mBAAD,OAAqBV,GACzBW,OAAQ,SACRC,IAAI,IAAD,OAAMZ,EAAN,wBAA+B4C,EAA/B,yBAAqD7C,QAArD,IAAqDA,OAArD,EAAqDA,EAAMc,GAA3D,KACHC,YAAY,EACZD,GAAE,OAAEd,QAAF,IAAEA,OAAF,EAAEA,EAAMc,GACVE,GAAI,CACHC,QAAS,SAACC,GACTnB,EAAgB,MAChBM,GAAW,GACXC,EAAiB,CAAEa,QAAS,uBAAwBC,QAAS,aAE9DC,MAAO,SAACA,GACPhB,GAAW,IAGZiB,QAAS,gBAjBHC,cA8BFC,EAAa,WAClBzB,EAAgB,OAGjB,OACC,gBAAK0B,UAAU,WAAf,UACC,UAAC,KAAD,CAAY1B,gBAAiByB,EAAYxB,KAAM0B,QAAQ1B,GAAvD,WACC,UAAC,KAAD,CAAac,GAAG,qBAAhB,qCACwB,mCAASd,QAAT,IAASA,OAAT,EAASA,EAAMW,OADvC,QAGA,UAAC,KAAD,YACC,SAAC,KAAD,CAAQgB,QAASH,EAAYI,WAAS,EAACR,QAAQ,YAA/C,qBAGA,SAAC,KAAD,CAAQO,QAlBS,WAChB3B,IALJK,GAAW,GACXG,MAqBkCY,QAAQ,YAAYS,MAAM,YAAzD,uBAIAzB,IACA,gBAAKqB,UAAU,2EAAf,UACC,SAAC,KAAD,WAQC,SAASiN,GAAwB3M,GACvC,OACC,SAAC,KAAD,WACC,SAAC0M,GAAD,UAAkC1M,MCnDrC,SAAS4M,GAAT,GAAwD,IAAtB9L,EAAqB,EAArBA,aACjC,GAA4C3C,EAAAA,EAAAA,KAApCD,EAAR,EAAQA,UAAWkL,EAAnB,EAAmBA,QAASC,EAA5B,EAA4BA,YAC5B,GAA6BC,EAAAA,EAAAA,IAAc,cAAnC/C,EAAR,EAAQA,KAAMgD,EAAd,EAAcA,WACd,GAAgCnL,EAAAA,EAAAA,WAAkB,GAAlD,eAAOsL,EAAP,KAAiBC,EAAjB,KACA,GAAsCvL,EAAAA,EAAAA,UAAqB,MAA3D,eAAOoL,EAAP,KAAoBC,EAApB,KACA,GAA0BrL,EAAAA,EAAAA,UAAS,IAAnC,eAAO4L,EAAP,KAAcC,EAAd,KACA,GAAsBC,EAAAA,EAAAA,GAAYF,EAAO,KAAlC1D,GAAP,eAEMwD,GAAoBtD,EAAAA,EAAAA,cAAY,SAACyB,GAAD,OAAsBwB,EAAexB,KAAO,IAE5EjK,EAAkB,kBAAM2L,GAAY,SAAC1H,GAAD,OAAWA,MAE/C4K,EAAoB,SAAC3J,GAC1B+G,EAAS/G,EAAIC,OAAO9C,QAGrB,OACC,yBACEnC,GAAa4C,GACb,4BACC,SAAC,QAAD,CACCnC,OAAQ,kBACRC,KAAI,0BAAqBV,GACzBY,IAAG,WAAMZ,EAAN,wBAA+B4C,EAA/B,WACH0G,OAAQ,CACPC,MAAO,GACP3C,MAAO,CACND,OAAQyB,GAETC,KAAAA,GATF,SAYE,YAAiC,IAA9B+D,EAA6B,EAA7BA,MAAOpC,EAAsB,EAAtBA,UAAWqC,EAAW,EAAXA,KACfC,EAAWF,EAAM1B,KAAI,SAACX,GAAD,OAAmBA,KAC9C,OACC,4BACC,iBAAKvI,UAAU,iJAAf,WACC,qCACA,iBAAKA,UAAU,oBAAf,WACC,iBAAKA,UAAU,gDAAf,WACC,kBACCkE,KAAK,SACLvD,MAAO2J,EACPtK,UACC,0NAKDsD,YAAa,qBACbC,SAAU4J,KAEX,gBAAKnN,UAAU,2CAAf,UACC,gBAAKA,UAAU,aAAf,UACC,SAAC,MAAD,YAIH,SAAC,KAAD,CAAW2E,UAAWgF,EAAazJ,QAAS5B,EAA5C,+BAKF,UAAC,KAAD,CAAgBsG,QAAS,CAAEmG,KAAM,aAAjC,WACC,UAAC,KAAD,CACC,aAAW,eACXnG,QAAS,CAAEmG,KAAM,sCAFlB,WAIC,SAAC,KAAD,WACC,UAAC,KAAD,YACC,SAAC,KAAD,CAAqBC,MAAO,CAAEC,MAAO,OAArC,wBAGA,SAAC,KAAD,CAAqBD,MAAO,CAAEC,MAAO,OAArC,mBACA,SAAC,KAAD,CAAqBD,MAAO,CAAEC,MAAO,OAArC,oBACA,SAAC,KAAD,CACCD,MAAO,CACNE,UAAW,QACXD,MAAO,MACPmC,aAAc,QAJhB,2BAWF,SAAC,KAAD,UACEtC,EAAS5B,KAAI,SAACX,GACd,IAAQlJ,EAAmBkJ,EAAnBlJ,GAAIgO,EAAe9E,EAAf8E,KAAMC,EAAS/E,EAAT+E,KAClB,OACC,SAAC,KAAD,UACE1C,EAAM3B,QACN,iCACC,SAAC,KAAD,WACC,iBAAKjJ,UAAU,oBAAf,WACC,gBAAKA,UAAU,+BAAf,UACEsL,EAAAA,EAAAA,GAAgB,GAAI+B,EAAKnO,SAE3B,cAAGc,UAAU,+BAAb,SAA6CqN,EAAKnO,aAGpD,SAAC,KAAD,WACC,gBAAKc,UAAU,UAAf,SAA0BsN,OAE3B,SAAC,KAAD,WACC,gBAAKtN,UAAU,mBAAf,SAAmCqN,EAAKE,cAEzC,SAAC,KAAD,WACC,gBAAKvN,UAAU,gCAAf,UACC,SAACiE,EAAA,EAAD,CACCU,UAAW+E,EACXxJ,QAAS,kBAAMkK,EAAkB7B,IAFlC,UAIC,SAAC,MAAD,CAAcnI,MAAM,UAAUsL,KAAK,mBAMvC,SAAC,KAAD,WACC,6CADqBrM,IA7BHA,YAsCvBmJ,IAAa,SAAC,KAAD,CAAQ2D,OAAK,EAACC,aAAW,QAGzC,gBAAKpM,UAAU,wBAAf,SACE4K,EAAM3B,QACN,SAAC,KAAD,CACCkC,MAAK,OAAEN,QAAF,IAAEA,OAAF,EAAEA,EAAMwB,UACbxF,KAAMA,GAAQA,EAAO,EACrByF,YAAa,EACbC,aAAc,EACdnM,MAAO,UACPmD,SAAUsG,IAER,cAMT,SAAC4C,EAAD,CAAenO,gBAAiBA,EAAiBC,KAAMyL,EAAU3K,GAAI+B,KACrE,SAAC6L,GAAD,CACC3O,gBAAiB8L,EACjB7L,KAAMuL,EACN1I,aAAcA,QAIhB,gBAAKpB,UAAU,sBAAf,UACC,SAAC,KAAD,QAOU,SAASwN,GAAgBlN,GACvC,OACC,SAAC,KAAD,WACC,SAAC4M,IAAD,UAA4B5M,MF3E/BmM,EAAclD,aAAe,CAC5B3B,UAAW,c,4BGtHL,SAAS6F,GAAT,GAAoE,IAAD,IAA1CzN,UAAAA,OAA0C,MAA9B,GAA8B,EACzE,OACC,iBACCA,UAAWA,EACXiL,MAAM,KACNyC,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,MAAM,6BANP,WAQC,iBAAMC,EAAE,0CAA0CF,KAAK,aACvD,iBACCE,EAAE,wbACFF,KAAK,aAEN,iBAAME,EAAE,2CAA2CF,KAAK,eCfpD,SAASG,GAAT,GAAiE,IAAD,IAA1C/N,UAAAA,OAA0C,MAA9B,GAA8B,EACtE,OACC,gBACCA,UAAWA,EACXiL,MAAM,KACNyC,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,MAAM,6BANP,UAQC,iBACCC,EAAE,04DACFF,KAAK,cCZF,SAASI,GAAT,GAAgE,IAAD,IAA1ChO,UAAAA,OAA0C,MAA9B,GAA8B,EACrE,OACC,gBACCA,UAAWA,EACXiL,MAAM,KACNyC,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,MAAM,6BANP,UAQC,iBACCC,EAAE,q6BACFF,KAAK,cCQT,SAASK,KACR,OAA+BxP,EAAAA,EAAAA,KAAvBD,EAAR,EAAQA,UAAWkL,EAAnB,EAAmBA,QACXrK,GAAO6O,EAAAA,EAAAA,MAAP7O,GACR,GAAsCX,EAAAA,EAAAA,UAAqB,MAA3D,eAAOwL,EAAP,KAAoBC,EAApB,KACME,GAAcvD,EAAAA,EAAAA,cAAY,SAACyB,GAAD,OAAsB4B,EAAe5B,KAAO,IACtET,GAASoG,EAAAA,EAAAA,MAETC,IAAW,OAACrG,QAAD,IAACA,GAAAA,EAAQsG,KAE1B,OACC,gBAAKpO,UAAU,6DAAf,SACExB,GACA,iBAAKwB,UAAU,OAAf,WACC,SAAC,QAAD,CACCoH,WAAW,KACX/H,GAAIA,EACJJ,OAAO,cACPC,KAAI,qBAAgBV,GACpBY,IAAG,UAAKZ,EAAL,wBAA8Ba,EAA9B,KACHyI,OAAQ,GACRQ,UAAW,GAPZ,SASE,YAA0B,IAAvBC,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,UACH6F,EAAc9F,EACZ3F,EAAyCyL,EAAzCzL,KAAM1D,EAAmCmP,EAAnCnP,KAAMG,EAA6BgP,EAA7BhP,GAAIsJ,EAAyB0F,EAAzB1F,MAAO2F,EAAkBD,EAAlBC,cACzBjD,EAAS1C,GAAsB,MAAbA,EAAM,GAAaA,EAA5B,WAAwCA,GACvD,OACC,8BACEH,GACA,4BACC,gBAAKxI,UAAU,iDAAf,SACG0J,EAKE,MAJH,cAAG1J,UAAU,0CAAb,4FAMF,gBAAIA,UAAU,qDAAd,UACEmO,EAAW,OAAS,KADtB,0BAGA,iBAAKnO,UAAU,4CAAf,WACC,gBAAKA,UAAU,mGAAf,UACEsL,EAAAA,EAAAA,IAAoB,OAAJ1I,QAAI,IAAJA,OAAA,EAAAA,EAAM2I,aAAN,OAAmB3I,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAM4I,gBAAiB,GAAItM,MAEhE,iBAAKc,UAAU,mFAAf,WACC,gBAAKA,UAAU,4BAAf,UACC,SAACuO,EAAA,EAAD,CACCC,SAAU,UACVpO,MAAO,iBACPqO,QAAS,cACT1K,MAAO,iBACPoH,MAAO9L,EALR,UAOC,SAACoO,GAAD,SAGF,gBAAKzN,UAAU,4BAAf,UACC,SAACuO,EAAA,EAAD,CACCC,SAAU,UACVC,QAAS,cACT1K,MAAO,mBACPoH,MAAOjM,EAJR,UAMC,SAAC6O,GAAD,SAGF,gBAAK/N,UAAU,4BAAf,UACC,SAACuO,EAAA,EAAD,CACCC,SAAU,UACVC,QAAS,cACT1K,MAAO,iBACPoH,MAAOmD,EAJR,UAMC,SAAC,KAAD,QAGD3F,GACA,gBAAK3I,UAAU,4BAAf,UACC,cAAG2L,KAAI,cAASN,GAAUrL,UAAU,GAApC,UACC,SAACuO,EAAA,EAAD,CACCC,SAAU,UACVC,QAAS,cACT1K,MAAO,SACPoH,MAAOxC,EAJR,UAMC,SAACqF,GAAD,UAIA,SAEL,gBAAKhO,UAAU,uBAAf,UACC,UAAC,KAAD,CACC2E,UAAW+E,EACXxF,KAAK,SACLhE,QAAS,kBAAMmK,EAAYgE,IAH5B,kBAKOF,EAAW,OAAS,KAL3B,0BAWH,gBAAKnO,UAAU,2BAAf,UACC,SAAC,KAAD,YAON,SAACwM,EAAD,CAAqBpL,aAAc/B,KACnC,SAACmO,GAAD,CAAiBpM,aAAc/B,IAC9B8O,GACA,SAAChG,EAAD,CAAuB7J,gBAAiB+L,EAAa9L,KAAM2L,KAE3D,SAACwE,GAAA,EAAD,CAAoBpQ,gBAAiB+L,EAAa9L,KAAM2L,QAI1D,gBAAKlK,UAAU,sBAAf,UACC,SAAC,KAAD,QC/IL,ODsJO,WACN,OACC,SAAC,KAAD,WACC,SAAC2O,GAAA,GAAD,WACC,SAACV,GAAD,U,iLE5IJ,SAAShG,EAAYC,GACpB,OAAQA,GACP,IAAK,UACJ,MAAO,CAAExH,MAAO,UAAWC,MAAO,WAEnC,IAAK,QACJ,MAAO,CAAED,MAAO,QAASC,MAAO,SAEjC,IAAK,OACJ,MAAO,CAAED,MAAO,OAAQC,MAAO,QAEhC,QACC,OAAO,MAIK,SAASiO,EAAT,GAA+D,IAAD,IAAhCtQ,EAAgC,EAAhCA,gBAAiBC,EAAe,EAAfA,KACrDC,GAAcC,EAAAA,EAAAA,KAAdD,UACFuB,GAAa+G,EAAAA,EAAAA,cAAY,kBAAMxI,EAAgB,QAAO,IACpDO,GAAqBC,EAAAA,EAAAA,MAArBD,iBACAuJ,GAAmBC,EAAAA,EAAAA,MAAnBD,eACR,GAAgCyG,EAAAA,EAAAA,MAAxBC,EAAR,EAAQA,QACR,GADA,EAAiBC,YACiCrQ,EAAAA,EAAAA,WAAkB,IAApE,eAAOuI,EAAP,KAA0B5F,EAA1B,KAEA,OACC,yBACE7C,GACA,0BACC,SAAC,KAAD,CACC2I,SAAU,IACVD,SAAU,IACV5I,gBAAiByB,EACjBxB,KAAM0B,QAAQ1B,GACd4H,YAAU,EACVC,WAAS,EANV,UAQC,SAAC,SAAD,CACCnH,OAAO,cACPC,KAAI,yBAAoBV,GACxBY,IAAG,UAAKZ,EAAL,+BAA8BD,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAMc,GAApC,KACHF,OAAO,QACPE,GAAE,OAAEd,QAAF,IAAEA,OAAF,EAAEA,EAAMc,GACVqJ,YAAU,EACVtB,WAAW,KACXC,gBAAgB,EAChBC,cAAe,SAAC7H,GAAD,OAAeA,GAC9B+H,OAAQ,CACP,CACCtI,KAAM,OACNuI,UAAU,EACV9G,MAAK,OAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAMqE,KACbsB,KAAM,SACNwD,YAAa,GACbC,cAAe,SAAChH,GAAD,OAAYA,GAAgB,OAE5C,CACCzB,KAAM,OACNuI,UAAU,EACV9G,MAAK,OAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAMW,KACbwI,YAAa,IAEd,CACCxI,KAAM,OACNuI,UAAU,EACV9G,MAAK,OAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAMwD,KACb2F,YAAa,GACbC,cAAe,SAAChH,GAAD,OAAYA,GAAgB,OAE5C,CACCzB,KAAM,QACNuI,UAAU,EACV9G,MAAK,OAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAMoK,MACbjB,YAAa,IAEd,CACCxI,KAAM,uBACNuI,UAAU,EACV9G,MAAK,iBAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAMqK,4BAAR,QAAgC,GACrCjB,cAAe,SAAChH,GAAD,OAAYA,EAAQkI,SAASlI,GAAS,MACrD+G,YAAa,IAEd,CACCxI,KAAM,4BACNuI,UAAU,EACV9G,MAAOsH,EAAW,OAAC1J,QAAD,IAACA,OAAD,EAACA,EAAMuK,2BACzBnB,cAAe,SAAChH,GAAD,cAAWA,QAAX,IAAWA,OAAX,EAAWA,EAAOA,OACjCuD,KAAM,SACNwD,YAAa,IAEd,CACCxI,KAAM,kBACNuI,UAAU,EACV9G,MAAK,OAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAMiD,gBACbkG,YAAa,IAEd,CACCxI,KAAM,wBACNuI,UAAU,EACV9G,MAAK,iBAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAMwK,6BAAR,QAAiC,GACtCpB,cAAe,SAAChH,GAAD,OAAYA,EAAQkI,SAASlI,GAAS,MACrD+G,YAAa,IAEd,CACCxI,KAAM,6BACNuI,UAAU,EACV9G,MAAOsH,EAAW,OAAC1J,QAAD,IAACA,OAAD,EAACA,EAAMyK,4BACzBrB,cAAe,SAAChH,GAAD,cAAWA,QAAX,IAAWA,OAAX,EAAWA,EAAOA,OACjCuD,KAAM,SACNwD,YAAa,IAEd,CACCxI,KAAM,oBACNuI,UAAU,EACVC,YAAa,GACbxD,KAAM,SACNvD,MAAK,OAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAM+G,kBACbqC,cAAe,SAAChH,GAAD,OAAYA,EAAMsI,OAAStI,EAAMuI,KAAI,SAACX,GAAD,OAAeA,EAAKlJ,MAAM,KAE/E,CACCH,KAAM,aACNuI,UAAU,EACVC,YAAa,GACbxD,KAAM,SACNvD,MAAK,OAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAMgI,YAEd,CACCrH,KAAM,mBACNuI,UAAU,EACV9G,MAAK,OAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAMqD,iBACb8F,YAAa,IAEd,CACCxI,KAAM,aACNyI,cAAe,SAAChH,GAAD,OAAWqC,GAAAA,CAAIrC,EAAO,OACrC+G,YAAa,GACb/G,MAAK,OAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAM4K,WACb1B,SAAUR,EACV/C,KAAM,UAEP,CACChF,KAAM,WACNyB,MAAmB,SAAZmO,EACPpH,YAAa,IAEd,CACCxI,KAAM,mBACNuI,UAAU,EACV9G,MAAK,OAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAM6K,iBACbzB,cAAe,SAAChH,GAAD,OAAYA,GAAgB,MAC3C+G,YAAa,IAEd,CACCxI,KAAM,kBACNuI,UAAU,EACV9G,MAAK,OAAEpC,QAAF,IAAEA,OAAF,EAAEA,EAAMsH,gBACb6B,YAAa,KAGfE,UAAW,SAACC,EAAU3G,GAAoB,IAAD,IACxCrC,EAAiB,CAAEa,QAAS,eAChB,OAARmI,QAAQ,IAARA,GAAA,UAAAA,EAAUvC,yBAAV,eAA6B2D,SAA7B,OAAsC1K,QAAtC,IAAsCA,GAAtC,UAAsCA,EAAM+G,yBAA5C,aAAsC,EAAyB2D,SAClEb,EAAe,CACdnJ,OAAQ,cACRoK,SAAQ,OAAE9K,QAAF,IAAEA,OAAF,EAAEA,EAAMc,GAChBiK,aAAc,CACbhE,mBAA2B,OAARuC,QAAQ,IAARA,OAAA,EAAAA,EAAUvC,oBAAqB,MAIrDpE,IACAnB,KAEDiI,QAAS,SAACpI,EAAOsB,GAAoB,IAAD,MACnCrC,EAAiB,CAChBa,QAAO,iBAAEE,QAAF,IAAEA,GAAF,UAAEA,EAAOiI,gBAAT,iBAAE,EAAiBpI,YAAnB,aAAE,EAAuBC,eAAzB,QAAoC,uBAC3CC,QAAS,UAEVuB,KA7IF,SAgJE,YAAgF,IAA7EH,EAA4E,EAA5EA,aAAcF,EAA8D,EAA9DA,OAAQC,EAAsD,EAAtDA,cAAeG,EAAuC,EAAvCA,OAAQD,EAA+B,EAA/BA,cAAeE,EAAgB,EAAhBA,UAK/D,OACC,SAAC,IAAD,CACCL,OAAQA,EACRC,cAAeA,EACfE,cAAeA,EACfD,aAAcA,EACdE,OAAQA,EACRlB,WAAYA,EACZoB,UAAU,EACVD,UAAWA,EACXE,aAAY,OAAE7C,QAAF,IAAEA,OAAF,EAAEA,EAAMc,GACpBgC,qBAAsBA,WAOzB,OAKPuN,EAAmBrF,aAAe,CACjC3B,UAAW,e,2FC5NNoH,E,SAAcC,EAAAA,OAAAA,YAEb,SAASvE,EACfxG,EACA0C,EACAxF,EACA0N,GAEA,IAAQtQ,GAAcC,EAAAA,EAAAA,KAAdD,UACAqI,GAAS+C,EAAAA,EAAAA,IAAuB,eAAT1F,EAAwB,OAAS,WAAxD2C,KACFqI,GAAWC,EAAAA,EAAAA,MACTpI,GAAoBC,EAAAA,EAAAA,MAApBD,gBA0CR,MAAO,CAAE0D,qBAxCoB,SAACjH,EAAUnE,GACnCA,GACH6P,EACCF,EAAY,CACX/P,OAAQ,SACRC,KAAM,YACNE,IAAI,IAAD,OAAMZ,EAAN,wBAA+Ba,EAA/B,yBAAkDmE,EAAIC,OAAO9C,MAA7D,KACHmH,OAAQ,GACR3I,OAAQ,MACR0B,OAAQ,GACRtB,GAAI,CACHC,QAAS,WACRuH,EAAgB,CACf9H,OAAiB,eAATiF,EAAwB,cAAgB,iBAChDhF,KACU,eAATgF,EAAA,yBACqB1F,GADrB,yBAEqBA,GACtBY,IACU,eAAT8E,EAAA,WACO1F,EADP,4BAEOA,EAFP,wBAEgC4C,EAFhC,qBAGD0G,OAAQ,CACPjB,KAAMA,EACNkB,MAAO,GACP3C,MAAO,CACNa,SAAU6I,GAAoB,KAC9B3J,OAAQyB,OAKZhH,MAAO,aACPC,QAAS,qB,yDCLf,IAjCA,YAO6B,IAN5BkE,EAM2B,EAN3BA,MACAqL,EAK2B,EAL3BA,SACAjE,EAI2B,EAJ3BA,MACAsD,EAG2B,EAH3BA,QACArO,EAE2B,EAF3BA,MACAoO,EAC2B,EAD3BA,SAEA,OACC,iBACCxO,WAAWqP,EAAAA,EAAAA,GACV,6EACAZ,GAAoB,YAHtB,WAMC,eAAIzO,UAAU,wCAAd,SAAuD+D,KACvD,iBAAK/D,UAAU,oBAAf,WACC,iBAAMA,UAAU,+FAAhB,SACEoP,KAEF,cACCpP,WAAWqP,EAAAA,EAAAA,GACV,+BACAjP,GAAgB,oBAChBoO,GAAsB,YAJxB,SAOErD,Y,gFCrCOG,EAAkB,SAAClM,EAAyBF,GACxD,OAAIE,GAEF,SAAC,IAAD,CACCY,UAAU,eACViD,IAAK/D,GAAQ,gBACb6D,IAAK3D,EACL4L,MAAO,CAAEC,MAAO,OAAQyC,OAAQ,WAKjC,SAAC,IAAD,CAAQ1N,UAAU,eAAegL,MAAO,CAAE5K,MAAO,OAAQ6K,MAAO,OAAQyC,OAAQ,QAAhF,SACExO,EAAOA,EAAK,GAAGoQ,cAAgB","sources":["pages/Departments/components/DepartmentDetails/components/SubDepartmentDeleteModal.tsx","pages/Departments/components/DepartmentDetails/components/SubDepartmentFormElements.tsx","pages/Departments/components/DepartmentDetails/components/CreateSubDepartmentForm.tsx","pages/Departments/components/DepartmentDetails/components/EditSubDepartmentForm.tsx","pages/Departments/components/DepartmentDetails/components/SubDepartmentsTable.tsx","pages/Departments/components/DepartmentDetails/components/AddMemberForm.tsx","pages/Departments/components/DepartmentDetails/components/DepartmentMembersDelete.tsx","pages/Departments/components/DepartmentDetails/components/UsersDepartmentTable.tsx","shared/icons/IconDetailsId.tsx","shared/icons/IconDesign.tsx","shared/icons/IconPhone.tsx","pages/Departments/components/DepartmentDetails/DepartmentDetails.tsx","pages/Departments/components/DepartmentDetails/index.tsx","pages/Departments/components/EditDepartment.tsx","pages/Departments/hooks/useDepartmentList.ts","shared/components/CardDetailsInfo.tsx","shared/services/utils/getBusinessIcon.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useAppState } from 'shared/state';\nimport { WhiteModal, Button, DialogActions, DialogTitle } from 'shared/components/Elements';\nimport { ErrorBoundary, Loader } from 'shared/components';\nimport { useEntityForm } from 'modules/entity/hooks/useEntityForm';\nimport { useNotistack } from 'shared/hooks';\n\ntype Props = {\n\thandleModalOpen: (item: any | null) => void;\n\topen: any | null;\n};\n\nfunction SubDepartmentDeleteModalInner({ handleModalOpen, open }: Props) {\n\tconst { companyId } = useAppState();\n\tconst [loading, setLoading] = useState(false);\n\tconst { showNotification } = useNotistack();\n\n\tconst { handleRequest: handleDeleteRequest } = useEntityForm({\n\t\tentity: 'subDepartments',\n\t\tname: `SubDepartments-${companyId}`,\n\t\tmethod: 'delete',\n\t\turl: `/${companyId}/departments/${open?.id}/`,\n\t\tdeleteData: true,\n\t\tid: open?.id,\n\t\tcb: {\n\t\t\tsuccess: (data) => {\n\t\t\t\thandleModalOpen(null);\n\t\t\t\tsetLoading(false);\n\t\t\t\tshowNotification({ message: 'Successfully deleted', variant: 'success' });\n\t\t\t},\n\t\t\terror: (error) => {\n\t\t\t\tsetLoading(false);\n\t\t\t},\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-empty-function\n\t\t\tfinally: () => {}\n\t\t}\n\t});\n\n\tconst rejectRequest = (branch: any) => {\n\t\tsetLoading(true);\n\t\thandleDeleteRequest();\n\t};\n\n\tconst handleDelete = () => {\n\t\tif (open) rejectRequest(open);\n\t};\n\n\tconst closeModal = () => {\n\t\thandleModalOpen(null);\n\t};\n\n\treturn (\n\t\t<div className=\"relative\">\n\t\t\t<WhiteModal handleModalOpen={closeModal} open={Boolean(open)}>\n\t\t\t\t<DialogTitle id=\"alert-dialog-title\">\n\t\t\t\t\tAre you sure you want to delete the \"<strong>{open?.name}</strong>\" department?\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={closeModal} autoFocus variant=\"contained\">\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={handleDelete} variant=\"contained\" color=\"secondary\">\n\t\t\t\t\t\tDelete\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t\t{loading && (\n\t\t\t\t\t<div className=\"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70\">\n\t\t\t\t\t\t<Loader />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</WhiteModal>\n\t\t</div>\n\t);\n}\n\nexport function SubDepartmentDeleteModal(props: Props) {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<SubDepartmentDeleteModalInner {...props} />\n\t\t</ErrorBoundary>\n\t);\n}\n","import React, { useEffect, useState } from 'react';\nimport { Field } from 'formik';\nimport { KntInputField, KntPhoneInputField, SelectField } from 'shared/components/Fields';\nimport { FileUploader, KntButton, Loader } from 'shared/components';\nimport { FormControlLabel, Radio, RadioGroup, WhiteModal } from 'shared/components/Elements';\nimport { EntytyFormInstanceProps } from 'shared/typings/formik.types';\nimport { useAppState } from 'shared/state';\nimport get from 'lodash/get';\nimport { AiFillInfoCircle, AiOutlineCloseCircle } from 'react-icons/ai';\nimport config from 'config';\nimport ChooseIcon from '../../ChooseIcon';\nimport { StaffDepartmentRequestTypes } from '../../../../../shared/typings/department.types';\nimport { KntTwilioStyle } from '../../../../../shared/services';\nimport { IconButton, Tooltip } from '@material-ui/core';\nimport { isMobile } from 'react-device-detect';\nimport CaseChatDataFields from '../../CaseChatDataFields';\nimport { IOSSwitch } from '../../../../../shared/components/Elements/Fields/SwitchComp';\nimport AsyncSelectJs from '../../../../../shared/components/Fields/AsyncSelectJs';\nimport { useSwitch } from '../../../../../shared/hooks';\nimport CopyEmailButton from '../../CopyEmailButton';\nconst imgPath = `${config.PUBLIC_ASSETS}img`;\n\ntype Props = {\n\tvalues: any;\n\tisCreate?: boolean;\n\tdepartment?: StaffDepartmentRequestTypes | null;\n\tcloseModal: () => void;\n\tid: number | undefined;\n\tdepartmentId?: number;\n\tsetAccStatusRequired: any;\n} & EntytyFormInstanceProps;\n\nconst timeOptions = [\n\t{ label: 'minutes', value: 'MINUTES' },\n\t{ label: 'hours', value: 'HOURS' },\n\t{ label: 'days', value: 'DAYS' }\n];\n\nexport default function SubDepartmentFormElements({\n\tvalues,\n\tsetFieldValue,\n\tsetFieldError,\n\tisSubmitting,\n\terrors,\n\tcloseModal,\n\tresetForm,\n\tisCreate,\n\tid,\n\tdepartmentId,\n\tsetAccStatusRequired\n}: Props) {\n\tconst { companyId } = useAppState();\n\n\tconst { checked, handleChange } = useSwitch({\n\t\tassignRequired: isCreate ? false : values?.assign_required\n\t});\n\tconst { checked: checkedAutoCase, handleChange: handleChangeVoiceMail } = useSwitch({\n\t\tautoCaseCreate: isCreate ? false : values?.auto_case_create\n\t});\n\n\tconst [assigneeFunction, setAssigneeFunction] = useState(values?.link ? 'link' : 'caseChat');\n\n\tconst [chooseIcon, setChooseIcon] = useState<boolean>(false);\n\tconst [caseChatModal, setCaseChatModal] = useState<boolean>(false);\n\n\tconst handleModalOpening = () => setChooseIcon((prev) => !prev);\n\tconst handleCaseChatModal = () => setCaseChatModal((prev) => !prev);\n\tconst closeModalChooseIcon = () => setChooseIcon(false);\n\tconst closeModalCaseChat = () => setCaseChatModal(false);\n\n\tconst [uploadMeta, setUploadMeta] = useState<any>(null);\n\tconst [cancelSending, setCancelSending] = useState<any>(false);\n\tconst [icon, setIcon] = useState(isCreate ? values?.icon : null);\n\n\tuseEffect(() => {\n\t\tif (icon) setFieldValue('icon', icon);\n\t}, [icon]);\n\n\tuseEffect(() => {\n\t\tif (isCreate) {\n\t\t\tsetFieldValue('department', { id: id });\n\t\t}\n\t}, [errors]);\n\n\tconst handleAssigneeFunctionChange = (evt: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst value = evt.target.value;\n\t\tsetAssigneeFunction(value);\n\n\t\tif (value === 'caseChat') {\n\t\t\tsetFieldValue('link', null);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tsetFieldValue('assign_required', checked.assignRequired);\n\t}, [checked.assignRequired]);\n\n\tuseEffect(() => {\n\t\tsetFieldValue('auto_case_create', checkedAutoCase.autoCaseCreate);\n\t\tsetAccStatusRequired(checkedAutoCase.autoCaseCreate);\n\t}, [checkedAutoCase.autoCaseCreate, values.auto_case_create]);\n\n\treturn (\n\t\t<div id={'department-form'}>\n\t\t\t<div className=\"branch-form__header flex-center-between -mt-5 border-b border-kgrey-dark-1/30 px-6 py-4\">\n\t\t\t\t<div className=\"branch-form__heading font-base font-medium\">{`${\n\t\t\t\t\tisCreate ? 'Create new' : 'Edit'\n\t\t\t\t} sub department`}</div>\n\t\t\t\t{isCreate ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"branch-form__reset cursor-pointer text-sm text-kgrey transition hover:text-kdark\"\n\t\t\t\t\t\tonClick={resetForm}\n\t\t\t\t\t>\n\t\t\t\t\t\tClear\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t\t<div className=\" w-100 p-6\">\n\t\t\t\t<div className=\"mb-2 text-sm font-light text-kgrey-menuText\">Image</div>\n\t\t\t\t<div className=\"mb-5 flex items-center\">\n\t\t\t\t\t<div className=\"user-avatar-box__display relative h-20 w-20 overflow-hidden rounded-full\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\tisCreate\n\t\t\t\t\t\t\t\t\t? get(icon, 'thumbnail') || `${imgPath}/chat-placeholder.png`\n\t\t\t\t\t\t\t\t\t: get(values?.icon, 'thumbnail')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\tclassName={'object-fit'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{uploadMeta !== null && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'absolute top-1/2 left-1/2 z-10 h-10 w-10 -translate-y-1/2 -translate-x-1/2'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"upload-media-spinner\">\n\t\t\t\t\t\t\t\t\t<Loader variant=\"determinate\" value={uploadMeta} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetCancelSending(true);\n\t\t\t\t\t\t\t\t\t\tsetUploadMeta(null);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t'absolute top-1/2 left-1/2 z-20 h-8 w-8 -translate-y-1/2 -translate-x-1/2 ' +\n\t\t\t\t\t\t\t\t\t\t'cursor-pointer text-3xl text-primary-dark transition hover:text-primary'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<AiOutlineCloseCircle />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"ml-5\">\n\t\t\t\t\t\t<FileUploader\n\t\t\t\t\t\t\tuploadMeta={uploadMeta}\n\t\t\t\t\t\t\tsetUploadMeta={setUploadMeta}\n\t\t\t\t\t\t\tcancelSending={cancelSending}\n\t\t\t\t\t\t\tsetCancelSending={setCancelSending}\n\t\t\t\t\t\t\tsetFile={setIcon}\n\t\t\t\t\t\t\tclassNames={'rounded-tl-10 rounded-tr-10 rounded-br-10 border-dashed border'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tonClick={() => setChooseIcon(true)}\n\t\t\t\t\tclassName=\"darl:text-white mb-4 inline-block cursor-pointer rounded-tl-10 rounded-tr-10 rounded-br-10 border border-dashed bg-kgrey-bg p-3.5 dark:bg-primary-300\"\n\t\t\t\t>\n\t\t\t\t\tChoose from icon library\n\t\t\t\t</div>\n\n\t\t\t\t<Field label=\"Title\" name=\"name\" component={KntInputField} placeholder=\"\" />\n\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"mb-2 text-sm font-light text-kgrey-menuText\">Function</div>\n\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\tvalue={assigneeFunction}\n\t\t\t\t\t\tonChange={handleAssigneeFunctionChange}\n\t\t\t\t\t\taria-label=\"Function\"\n\t\t\t\t\t\tclassName=\"font-base !flex-row text-kgrey\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tvalue=\"caseChat\"\n\t\t\t\t\t\t\tcontrol={<Radio color=\"primary\" />}\n\t\t\t\t\t\t\tlabel=\"Case Chat\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControlLabel value=\"link\" control={<Radio color=\"primary\" />} label=\"Hyperlink\" />\n\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t{assigneeFunction === 'link' ? (\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabel=\"Hyperlink\"\n\t\t\t\t\t\t\tname=\"link\"\n\t\t\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\t\t\tplaceholder=\"Hyperlink\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\n\t\t\t\t<Field\n\t\t\t\t\tlabel=\"Phone number\"\n\t\t\t\t\tname=\"phone\"\n\t\t\t\t\tcomponent={KntPhoneInputField}\n\t\t\t\t\tplaceholder=\"Enter company mobile phone number\"\n\t\t\t\t\tenableSearch\n\t\t\t\t\tonChangeHandler={setFieldValue}\n\t\t\t\t/>\n\n\t\t\t\t{!isCreate ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"mb-3.5\">\n\t\t\t\t\t\t\t<div className=\"mb-2 ml-2 text-sm font-light text-kgrey-menuText\">\n\t\t\t\t\t\t\t\tInitial required response time\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"mb-3.5 flex items-center\">\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\ttitle=\"By defining this time, the system will alert the admins of this department when managers do not respond to a staff escalation within the timeframe designated for a specific case, when the case is initially created\"\n\t\t\t\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<IconButton className={'mr-20 p-0'}>\n\t\t\t\t\t\t\t\t\t\t<AiFillInfoCircle />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tname=\"case_escalation_time\"\n\t\t\t\t\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"time\"\n\t\t\t\t\t\t\t\t\tclassNames=\"!mb-0\"\n\t\t\t\t\t\t\t\t\tlabelClasses=\"hidden\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className=\"ml-4 flex-grow\">\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tclassName=\"flex-1\"\n\t\t\t\t\t\t\t\t\t\tcomponent={SelectField}\n\t\t\t\t\t\t\t\t\t\tstyles={KntTwilioStyle}\n\t\t\t\t\t\t\t\t\t\tname=\"case_escalation_time_unit\"\n\t\t\t\t\t\t\t\t\t\tdefaultValue={timeOptions[0]}\n\t\t\t\t\t\t\t\t\t\toptions={timeOptions}\n\t\t\t\t\t\t\t\t\t\tisSearchable={!isMobile}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"mb-3.5\">\n\t\t\t\t\t\t\t\t<div className=\"mb-2 ml-2 text-sm font-light text-kgrey-menuText\">\n\t\t\t\t\t\t\t\t\tCase escalation time\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"mb-3.5 flex items-center\">\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\ttitle=\"By defining this time, the system will alert the admins of this department when managers do not respond to a staff escalation within the timeframe designated for a specific case, when the case is initially created\"\n\t\t\t\t\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<IconButton className={'mr-20 p-0'}>\n\t\t\t\t\t\t\t\t\t\t\t<AiFillInfoCircle />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tname=\"initial_response_time\"\n\t\t\t\t\t\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"time\"\n\t\t\t\t\t\t\t\t\t\tclassNames=\"!mb-0\"\n\t\t\t\t\t\t\t\t\t\tlabelClasses=\"hidden\"\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div className=\"ml-4 flex-grow\">\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tcomponent={SelectField}\n\t\t\t\t\t\t\t\t\t\t\tstyles={KntTwilioStyle}\n\t\t\t\t\t\t\t\t\t\t\tname=\"initial_response_time_unit\"\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={timeOptions[0]}\n\t\t\t\t\t\t\t\t\t\t\toptions={timeOptions}\n\t\t\t\t\t\t\t\t\t\t\tisSearchable={!isMobile}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex-1\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"ml-1\">\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<IOSSwitch\n\t\t\t\t\t\t\t\t\t\tchecked={checked.assignRequired}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tname=\"assignRequired\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel=\"Assign Required (available in edit mode)\"\n\t\t\t\t\t\t\t\tclassName=\"mb-4\"\n\t\t\t\t\t\t\t\tdisabled={isCreate}\n\t\t\t\t\t\t\t\tclasses={{ label: '!text-xs font-light text-kgrey-welcome' }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{checked.assignRequired ? (\n\t\t\t\t\t\t\t<div className=\"react-select-dropdown mb-3.5\">\n\t\t\t\t\t\t\t\t<div className=\"mb-2 ml-2 text-sm font-light text-kgrey-menuText\">\n\t\t\t\t\t\t\t\t\tDefault assignees\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tcomponent={AsyncSelectJs}\n\t\t\t\t\t\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\t\t\t\t\t\tname=\"default_assignees\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Select default assignees\"\n\t\t\t\t\t\t\t\t\toptionLabel={(option: any) =>\n\t\t\t\t\t\t\t\t\t\t`${get(option, 'user.first_name', '')} ${get(option, 'user.last_name', '')}`\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tloadOptionsUrl={`/${companyId}/departments/${departmentId}/users/`}\n\t\t\t\t\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\t\tsearch\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tisSearchable\n\t\t\t\t\t\t\t\t\tmaxMenuHeight={220}\n\t\t\t\t\t\t\t\t\tdefaultValue={values?.default_assignees}\n\t\t\t\t\t\t\t\t\tisClearable\n\t\t\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\t\t\tloadOptionsKey=\"results\"\n\t\t\t\t\t\t\t\t\tisCached\n\t\t\t\t\t\t\t\t\tonChange={(option: any) => {}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\n\t\t\t\t<div className=\"ml-1 mb-4 flex items-center\">\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<IOSSwitch\n\t\t\t\t\t\t\t\tchecked={checkedAutoCase.autoCaseCreate}\n\t\t\t\t\t\t\t\tonChange={handleChangeVoiceMail}\n\t\t\t\t\t\t\t\tname=\"autoCaseCreate\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel=\"Auto Case Creation\"\n\t\t\t\t\t\tclasses={{ label: '!text-xs font-light text-kgrey-welcome' }}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"px-2\">\n\t\t\t\t\t\t{values.auto_case_create ? (\n\t\t\t\t\t\t\t<CopyEmailButton\n\t\t\t\t\t\t\t\tisDisabled={!!values.acc_email_alias}\n\t\t\t\t\t\t\t\tcopiedEmail={values.acc_email_alias}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{checkedAutoCase.autoCaseCreate && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"mb-2 ml-2 flex items-center text-sm font-light text-kgrey-menuText\">\n\t\t\t\t\t\t\tAuto Case Creation Status\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"react-select-dropdown mb-3.5\">\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tcomponent={AsyncSelectJs}\n\t\t\t\t\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\t\t\t\t\tname=\"acc_status\"\n\t\t\t\t\t\t\t\toptionLabel=\"title\"\n\t\t\t\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\t\t\t\tisSearchable\n\t\t\t\t\t\t\t\tisCached\n\t\t\t\t\t\t\t\tplaceholder=\"Status name here\"\n\t\t\t\t\t\t\t\treverse={true}\n\t\t\t\t\t\t\t\tloadOptionsUrl={`/${companyId}/my/company/case_statuses/`}\n\t\t\t\t\t\t\t\t// onChange={(option: any) => {\n\t\t\t\t\t\t\t\t// \tsetState((prev: any) => ({ ...prev, status: option }));\n\t\t\t\t\t\t\t\t// }}\n\t\t\t\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\tsearch,\n\t\t\t\t\t\t\t\t\t\t// is_staff: caseType === config.STAFF ? 'true' : ''\n\t\t\t\t\t\t\t\t\t\tis_staff: 'true'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tloadOptionsKey=\"\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"flex-center-y mb-2 ml-2 text-sm font-light text-kgrey-menuText\">\n\t\t\t\t\t\t\t\t<span className={'mr-1'}>Group Email Address (Optional)</span>\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\ttitle=\"This field is only required if you are associating your KENNEKT Dept/SubDept custom email address with a group email address such as a Google Group. Otherwise, it is not required.\"\n\t\t\t\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<IconButton className={'mr-20 p-0'}>\n\t\t\t\t\t\t\t\t\t\t<AiFillInfoCircle />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\tname=\"acc_linked_email\"\n\t\t\t\t\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Email\"\n\t\t\t\t\t\t\t\t\tclassNames={'!mb-0 flex-grow'}\n\t\t\t\t\t\t\t\t\tlabelClasses={'hidden'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div className=\"branch-form__footer flex justify-between px-6 pt-4 pb-9\">\n\t\t\t\t{!isCreate ? (\n\t\t\t\t\t<KntButton\n\t\t\t\t\t\tclassName={'dark:text-white dark:hover:bg-primary-300 dark:focus:ring-primary-300'}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleCaseChatModal}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t>\n\t\t\t\t\t\tCase chat data field\n\t\t\t\t\t</KntButton>\n\t\t\t\t) : null}\n\t\t\t\t<div>\n\t\t\t\t\t<KntButton\n\t\t\t\t\t\tclassName={'mr-5 border border-kgrey text-kgrey'}\n\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\tonClick={closeModal}\n\t\t\t\t\t>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</KntButton>\n\t\t\t\t\t<KntButton\n\t\t\t\t\t\tclassName={'dark:text-white dark:hover:bg-primary-300 dark:focus:ring-primary-300'}\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{isCreate ? 'Create' : 'Update'}\n\t\t\t\t\t</KntButton>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<WhiteModal handleModalOpen={handleModalOpening} open={Boolean(chooseIcon)}>\n\t\t\t\t<ChooseIcon\n\t\t\t\t\tsetFieldValue={setFieldValue}\n\t\t\t\t\tsetChooseIcon={setChooseIcon}\n\t\t\t\t\tsetIcon={setIcon}\n\t\t\t\t\tcloseModal={closeModalChooseIcon}\n\t\t\t\t/>\n\t\t\t</WhiteModal>\n\t\t\t{!isCreate ? (\n\t\t\t\t<WhiteModal\n\t\t\t\t\thandleModalOpen={handleCaseChatModal}\n\t\t\t\t\topen={Boolean(caseChatModal)}\n\t\t\t\t\tscrollable\n\t\t\t\t\tnoPadding\n\t\t\t\t>\n\t\t\t\t\t<CaseChatDataFields\n\t\t\t\t\t\tdataFields={values?.data_field}\n\t\t\t\t\t\tdepartmentId={departmentId}\n\t\t\t\t\t\tdepartmentName={values?.name}\n\t\t\t\t\t\tcloseModalCaseChat={closeModalCaseChat}\n\t\t\t\t\t\tisSubDepartment={true}\n\t\t\t\t\t\tsetFieldValue={setFieldValue}\n\t\t\t\t\t/>\n\t\t\t\t</WhiteModal>\n\t\t\t) : null}\n\t\t\t{isSubmitting ? (\n\t\t\t\t<div className=\"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70\">\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}\n\nSubDepartmentFormElements.defaultProps = {\n\tisCreate: true,\n\tdepartment: null,\n\t// eslint-disable-next-line @typescript-eslint/no-empty-function\n\tresetForm: () => {}\n};\n","import React, { useCallback, useState } from 'react';\nimport EntityForm from 'modules/entity/forms';\nimport { useAppState } from 'shared/state';\nimport { WhiteModal } from 'shared/components/Elements';\nimport SubDepartmentFormElements from './SubDepartmentFormElements';\nimport { useLoadAll, useNotistack } from '../../../../../shared/hooks';\nimport get from 'lodash/get';\n\ntype CreateSubDepartmentFormType = {\n\thandleModalOpen: any;\n\topen: boolean;\n\tid: number;\n\tsearchQuery: string;\n\tpage: number;\n};\n\nexport default function CreateSubDepartmentForm({\n\thandleModalOpen,\n\topen,\n\tid,\n\tsearchQuery,\n\tpage\n}: CreateSubDepartmentFormType) {\n\tconst { companyId } = useAppState();\n\tconst closeModal = useCallback(() => handleModalOpen(null), []);\n\tconst { showNotification } = useNotistack();\n\tconst { reloadEntityAll } = useLoadAll();\n\tconst [accStatusRequired, setAccStatusRequired] = useState<boolean>(false);\n\treturn (\n\t\t<div>\n\t\t\t<WhiteModal\n\t\t\t\tminWidth={466}\n\t\t\t\tmaxWidth={466}\n\t\t\t\thandleModalOpen={handleModalOpen}\n\t\t\t\topen={Boolean(open)}\n\t\t\t\tscrollable\n\t\t\t\tnoPadding\n\t\t\t>\n\t\t\t\t{companyId ? (\n\t\t\t\t\t<EntityForm.Main\n\t\t\t\t\t\tentity=\"subDepartments\"\n\t\t\t\t\t\tname={`SubDepartments-${companyId}`}\n\t\t\t\t\t\turl={`${companyId}/departments/`}\n\t\t\t\t\t\tmethod=\"post\"\n\t\t\t\t\t\tprimaryKey=\"id\"\n\t\t\t\t\t\tsendAsFormData={false}\n\t\t\t\t\t\tnormalizeData={(data: any) => data}\n\t\t\t\t\t\tappendData\n\t\t\t\t\t\tfields={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'icon',\n\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\tvalue: null,\n\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? value : null)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'name',\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'link',\n\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\tvalue: null,\n\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? value : null)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'phone',\n\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\tvalue: null,\n\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'auto_case_create',\n\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'acc_status',\n\t\t\t\t\t\t\t\tonSubmitValue: (value) => get(value, 'id'),\n\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\trequired: accStatusRequired\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'acc_linked_email',\n\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\tvalue: null,\n\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? value : null),\n\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tonSuccess={(response, resetForm): any => {\n\t\t\t\t\t\t\tshowNotification({ message: 'Success! ' });\n\t\t\t\t\t\t\tresetForm();\n\t\t\t\t\t\t\treloadEntityAll({\n\t\t\t\t\t\t\t\tentity: 'subDepartments',\n\t\t\t\t\t\t\t\tname: `SubDepartments-${companyId}`,\n\t\t\t\t\t\t\t\turl: `/${companyId}/departments/${id}/sub_departments/`,\n\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\tpage: page,\n\t\t\t\t\t\t\t\t\tlimit: 10,\n\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\tsearch: searchQuery\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonError={(error, resetForm): any => {\n\t\t\t\t\t\t\tshowNotification({ message: 'Already exist', variant: 'error' });\n\t\t\t\t\t\t\tresetForm();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{({ isSubmitting, values, setFieldValue, errors, setFieldError, resetForm }) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<SubDepartmentFormElements\n\t\t\t\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\t\t\t\tsetFieldValue={setFieldValue}\n\t\t\t\t\t\t\t\t\tsetFieldError={setFieldError}\n\t\t\t\t\t\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\t\t\t\tcloseModal={closeModal}\n\t\t\t\t\t\t\t\t\tresetForm={resetForm}\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tsetAccStatusRequired={setAccStatusRequired}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t</EntityForm.Main>\n\t\t\t\t) : null}\n\t\t\t</WhiteModal>\n\t\t</div>\n\t);\n}\n\nCreateSubDepartmentForm.defaultProps = {\n\tonSuccess: () => {}\n};\n","import React, { useCallback, useState } from 'react';\nimport EntityForm from 'modules/entity/forms';\nimport EntityContainer from 'modules/entity/containers';\nimport { useAppState } from 'shared/state';\nimport { WhiteModal } from 'shared/components/Elements';\nimport SubDepartmentFormElements from './SubDepartmentFormElements';\nimport { useNotistack, useUpdateEntities } from '../../../../../shared/hooks';\nimport { StaffDepartmentRequestTypes } from '../../../../../shared/typings/department.types';\nimport { Loader } from '../../../../../shared/components';\nimport get from 'lodash/get';\n\ntype Props = {\n\thandleModalOpen: (item: StaffDepartmentRequestTypes | null) => void;\n\topen: any | null;\n};\n\nfunction getTimeUnit(unit: string) {\n\tswitch (unit) {\n\t\tcase 'MINUTES': {\n\t\t\treturn { label: 'minutes', value: 'MINUTES' };\n\t\t}\n\t\tcase 'HOURS': {\n\t\t\treturn { label: 'hours', value: 'HOURS' };\n\t\t}\n\t\tcase 'DAYS': {\n\t\t\treturn { label: 'days', value: 'DAYS' };\n\t\t}\n\t\tdefault:\n\t\t\treturn null;\n\t}\n}\n\nexport default function EditSubDepartmentForm({ handleModalOpen, open }: Props) {\n\tconst { companyId } = useAppState();\n\tconst closeModal = useCallback(() => handleModalOpen(null), []);\n\tconst { showNotification } = useNotistack();\n\n\tconst [accStatusRequired, setAccStatusRequired] = useState<boolean>(false);\n\n\tconst { updateEntities } = useUpdateEntities();\n\n\treturn (\n\t\t<div>\n\t\t\t{companyId && open?.id ? (\n\t\t\t\t<div>\n\t\t\t\t\t<EntityContainer.One\n\t\t\t\t\t\tid={open?.id}\n\t\t\t\t\t\trelations={''}\n\t\t\t\t\t\tentity={'subDepartments'}\n\t\t\t\t\t\tname={`SubDepartments-${companyId}`}\n\t\t\t\t\t\turl={`/${companyId}/departments/${open?.id}/`}\n\t\t\t\t\t\tparams={{}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{({ item, isFetched }) => {\n\t\t\t\t\t\t\tconst subDepartment = item as any;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{isFetched ? (\n\t\t\t\t\t\t\t\t\t\t<WhiteModal\n\t\t\t\t\t\t\t\t\t\t\tminWidth={466}\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth={466}\n\t\t\t\t\t\t\t\t\t\t\thandleModalOpen={closeModal}\n\t\t\t\t\t\t\t\t\t\t\topen={Boolean(open)}\n\t\t\t\t\t\t\t\t\t\t\tscrollable\n\t\t\t\t\t\t\t\t\t\t\tnoPadding\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<EntityForm.Main\n\t\t\t\t\t\t\t\t\t\t\t\tentity=\"subDepartments\"\n\t\t\t\t\t\t\t\t\t\t\t\tname={`SubDepartments-${companyId}`}\n\t\t\t\t\t\t\t\t\t\t\t\turl={`${companyId}/departments/${subDepartment?.id}/`}\n\t\t\t\t\t\t\t\t\t\t\t\tmethod=\"patch\"\n\t\t\t\t\t\t\t\t\t\t\t\tprimaryKey=\"id\"\n\t\t\t\t\t\t\t\t\t\t\t\tid={subDepartment?.id}\n\t\t\t\t\t\t\t\t\t\t\t\tsendAsFormData={false}\n\t\t\t\t\t\t\t\t\t\t\t\tupdateData\n\t\t\t\t\t\t\t\t\t\t\t\tnormalizeData={(data: any) => data}\n\t\t\t\t\t\t\t\t\t\t\t\tfields={[\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'icon',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: subDepartment?.icon,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? value : null),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'object'\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'name',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: subDepartment?.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'link',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: subDepartment?.link,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? value : null)\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'phone',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: subDepartment?.phone,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'is_staff',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'case_escalation_time',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: subDepartment?.case_escalation_time,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? parseInt(value) : null),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'case_escalation_time_unit',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: getTimeUnit(subDepartment?.case_escalation_time_unit),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => value?.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'initial_response_time',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: subDepartment?.initial_response_time,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? parseInt(value) : null),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'initial_response_time_unit',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: getTimeUnit(subDepartment?.initial_response_time_unit),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => value?.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'data_field',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: subDepartment?.data_field\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'default_assignees',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: open?.default_assignees,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitValue: (value) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue.length ? value.map((item: any) => item.id) : []\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'assign_required',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: open?.assign_required,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'auto_case_create',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: open?.auto_case_create,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'acc_status',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => get(value, 'id'),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: open?.acc_status,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: accStatusRequired,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'object'\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'acc_linked_email',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: open?.acc_linked_email,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? value : null),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'acc_email_alias',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: open?.acc_email_alias,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\t\tonSuccess={(response, resetForm): any => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresponse?.default_assignees?.length < open?.default_assignees?.length\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateEntities({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentity: 'departments',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentityId: open?.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdatingData: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefault_assignees: response?.default_assignees || []\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tresetForm();\n\t\t\t\t\t\t\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowNotification({ message: 'Success! ' });\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tonError={(error, resetForm): any => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowNotification({ message: 'Already exist', variant: 'error' });\n\t\t\t\t\t\t\t\t\t\t\t\t\tresetForm();\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{({\n\t\t\t\t\t\t\t\t\t\t\t\t\tisSubmitting,\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalues,\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue,\n\t\t\t\t\t\t\t\t\t\t\t\t\terrors,\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldError,\n\t\t\t\t\t\t\t\t\t\t\t\t\tresetForm\n\t\t\t\t\t\t\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SubDepartmentFormElements\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue={setFieldValue}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldError={setFieldError}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcloseModal={closeModal}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisCreate={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresetForm={resetForm}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={subDepartment?.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdepartmentId={subDepartment?.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAccStatusRequired={setAccStatusRequired}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t</EntityForm.Main>\n\t\t\t\t\t\t\t\t\t\t</WhiteModal>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<div className=\"mb-4 flex justify-center\">\n\t\t\t\t\t\t\t\t\t\t\t<Loader />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t</EntityContainer.One>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}\n\nEditSubDepartmentForm.defaultProps = {\n\tonSuccess: () => {}\n};\n","import React, { useCallback, useState } from 'react';\nimport EntityContainer from 'modules/entity/containers';\nimport {\n\tPagination,\n\tSimpleBtn,\n\tTableBody,\n\tTableContainer,\n\tTableHead\n} from 'shared/components/Elements';\nimport {\n\tErrorBoundary,\n\tLoader,\n\tStyledTable,\n\tStyledTableCell,\n\tStyledTableHeadCell,\n\tStyledTableRow\n} from 'shared/components';\nimport { BsFillTelephoneFill } from 'react-icons/bs';\nimport { MenuItem, Select } from '@material-ui/core';\nimport IconButton from '@material-ui/core/IconButton';\nimport { AiFillDelete, AiFillEye } from 'react-icons/ai';\nimport { MdModeEditOutline } from 'react-icons/md';\nimport { useAppState } from 'shared/state';\nimport { usePagination } from 'shared/hooks';\nimport { Link } from 'react-router-dom';\nimport { SubDepartmentDeleteModal } from './SubDepartmentDeleteModal';\nimport CreateSubDepartmentForm from './CreateSubDepartmentForm';\nimport EditSubDepartmentForm from './EditSubDepartmentForm';\nimport { useDebounce } from 'use-debounce';\nimport { CgSearch } from 'react-icons/cg';\nimport { useDepartmentList } from '../../../hooks/useDepartmentList';\nimport { getBusinessIcon } from '../../../../../shared/services/utils/getBusinessIcon';\nimport CopyEmailButton from '../../CopyEmailButton';\n\nfunction SubDepartmentsTableRequest({ departmentId }: any) {\n\tconst { companyId, isAdmin, isPermitted } = useAppState();\n\tconst { page, handlePage } = usePagination('subPage');\n\tconst [deleteModal, setDeleteModal] = useState<any | null>(null);\n\tconst [formOpen, setFormOpen] = useState<boolean>(false);\n\tconst [modifyModal, setModifyModal] = useState<any | null>(null);\n\n\tconst handleDeleteModal = useCallback((item: any | null) => setDeleteModal(item), []);\n\n\tconst handleModalOpen = () => setFormOpen((prev) => !prev);\n\tconst handleModal = useCallback((item: any | null) => setModifyModal(item), []);\n\n\tconst [query, setQuery] = useState('');\n\tconst [searchQuery] = useDebounce(query, 500);\n\n\tconst { handleDepOrderChange } = useDepartmentList('subDepartment', searchQuery, departmentId);\n\n\tconst handleSearchQuery = (evt: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetQuery(evt.target.value);\n\t};\n\n\tconst renderSelectItems = (count: number | undefined) => {\n\t\treturn [...Array(count)].map((_, key) => {\n\t\t\treturn (\n\t\t\t\t<MenuItem key={key} value={key + 1}>\n\t\t\t\t\t{Number(key + 1)}\n\t\t\t\t</MenuItem>\n\t\t\t);\n\t\t});\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t{companyId && departmentId ? (\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"prime-tabs flex items-center justify-between rounded-t-lg bg-kgrey-bg px-4 pt-3 pb-4 text-base font-medium dark:bg-primary-300 dark:text-white\">\n\t\t\t\t\t\t<h4>Sub-departments</h4>\n\t\t\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t\t\t<div className=\"group-sidebar__search relative flex-grow pr-2\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\t\t\t\tvalue={query}\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t'group-sidebar__search-input w-full rounded-10 border-b text-sm outline-none ' +\n\t\t\t\t\t\t\t\t\t\t'border-kgrey-border-solid' +\n\t\t\t\t\t\t\t\t\t\t' pl-9 transition focus:border-primary' +\n\t\t\t\t\t\t\t\t\t\t' placeholder-[rgba(45, 45, 45, 0.3)] py-2 dark:bg-kdark'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tplaceholder={'Search for sub departments'}\n\t\t\t\t\t\t\t\t\tonChange={handleSearchQuery}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className=\"absolute top-1/2 left-2 -translate-y-1/2\">\n\t\t\t\t\t\t\t\t\t<div className=\"text-kgrey\">\n\t\t\t\t\t\t\t\t\t\t<CgSearch />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<SimpleBtn disabled={!isPermitted} onClick={handleModalOpen}>\n\t\t\t\t\t\t\t\tNew Sub Department\n\t\t\t\t\t\t\t</SimpleBtn>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<EntityContainer.All\n\t\t\t\t\t\tentity={'subDepartments'}\n\t\t\t\t\t\tname={`SubDepartments-${companyId}`}\n\t\t\t\t\t\turl={`/${companyId}/departments/${departmentId}/sub_departments/`}\n\t\t\t\t\t\treplaceIds\n\t\t\t\t\t\tparams={{\n\t\t\t\t\t\t\tlimit: 10,\n\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\tsearch: searchQuery\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpage\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{({ items, isFetched, meta }) => {\n\t\t\t\t\t\t\tconst requests = items.map((item: unknown) => item) as any[];\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<TableContainer classes={{ root: 'relative ' }}>\n\t\t\t\t\t\t\t\t\t\t<StyledTable\n\t\t\t\t\t\t\t\t\t\t\taria-label=\"simple table\"\n\t\t\t\t\t\t\t\t\t\t\tclasses={{ root: 'table-fixed dark-mode-styled-table' }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '30%' }}>Name</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '25%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tPhone Number\n\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '25%' }}>Order</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '10%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-centered\">Email</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ textAlign: 'center', width: '15%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tActions\n\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t{requests.map((item: any) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tphone,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsorder,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tacc_email_alias,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tacc_status,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tauto_case_create\n\t\t\t\t\t\t\t\t\t\t\t\t\t} = item;\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst mobile = phone ? (phone[0] === '+' ? phone : `+${phone}`) : null;\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow key={id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{items.length ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/*<StaffDepartmentIcon icon={icon} name={name} id={id} />*/}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"h-9 w-9 flex-shrink-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{getBusinessIcon(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon?.thumbnail || icon?.thumbnail_150 || '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/departments/view/${id}/`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"ml-2.5 text-sm font-medium text-primary transition hover:text-primary-dark\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mobile ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<BsFillTelephoneFill color=\"#979797\" size=\"15px\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={`tel:${mobile}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"test-kdark-text ml-2 align-middle text-sm text-primary hover:text-primary-dark\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mobile}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center px-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!isAdmin}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={Number(item.sorder)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => handleDepOrderChange(e, item.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderSelectItems(meta.count)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\" flex-centered px-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{acc_email_alias && auto_case_create ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyEmailButton copiedEmail={acc_email_alias} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!auto_case_create && acc_email_alias) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn 'Deactivated';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{acc_status ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Not ready yet</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>None</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!isAdmin}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDeleteModal(item)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AiFillDelete color=\"#979797\" size=\"18px\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!isAdmin}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"view\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/departments/view/${id}/`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AiFillEye size=\"18px\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!isPermitted}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleModal(item)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MdModeEditOutline color=\"#979797\" size=\"18px\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>No information</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t\t</StyledTable>\n\t\t\t\t\t\t\t\t\t\t{!isFetched && <Loader tiled withOverlay />}\n\t\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t\t\t<div className=\"news__pagination my-4\">\n\t\t\t\t\t\t\t\t\t\t{items.length ? (\n\t\t\t\t\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\t\t\t\t\tcount={meta?.last_page}\n\t\t\t\t\t\t\t\t\t\t\t\tpage={page ? +page : 1}\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultPage={6}\n\t\t\t\t\t\t\t\t\t\t\t\tsiblingCount={1}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handlePage}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t</EntityContainer.All>\n\t\t\t\t\t<SubDepartmentDeleteModal handleModalOpen={handleDeleteModal} open={deleteModal} />\n\t\t\t\t\t<CreateSubDepartmentForm\n\t\t\t\t\t\thandleModalOpen={handleModalOpen}\n\t\t\t\t\t\topen={formOpen}\n\t\t\t\t\t\tid={departmentId}\n\t\t\t\t\t\tpage={page}\n\t\t\t\t\t\tsearchQuery={searchQuery}\n\t\t\t\t\t/>\n\t\t\t\t\t<EditSubDepartmentForm handleModalOpen={handleModal} open={modifyModal} />\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"flex justify-center\">\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default function SubDepartmentsTable(props: any) {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<SubDepartmentsTableRequest {...props} />\n\t\t</ErrorBoundary>\n\t);\n}\n","import React, { useCallback } from 'react';\nimport EntityForm from 'modules/entity/forms';\nimport { useAppState } from 'shared/state';\nimport { KntButton, WhiteModal } from 'shared/components/Elements';\nimport { useNotistack } from '../../../../../shared/hooks';\nimport AsyncSelectJs from '../../../../../shared/components/Fields/AsyncSelectJs';\nimport { KntTwilioStyle } from '../../../../../shared/services';\nimport { isMobile } from 'react-device-detect';\nimport { Field } from 'formik';\n\nexport default function AddMemberForm({ handleModalOpen, open, id }: any) {\n\tconst { companyId } = useAppState();\n\tconst closeModal = useCallback(() => handleModalOpen(null), []);\n\tconst { showNotification } = useNotistack();\n\treturn (\n\t\t<div>\n\t\t\t<WhiteModal\n\t\t\t\thandleModalOpen={handleModalOpen}\n\t\t\t\tclassName=\"h-full\"\n\t\t\t\topen={Boolean(open)}\n\t\t\t\tmaxWidth={500}\n\t\t\t\tminWidth={500}\n\t\t\t\tnoPadding\n\t\t\t>\n\t\t\t\t{companyId ? (\n\t\t\t\t\t<EntityForm.Main\n\t\t\t\t\t\tentity=\"usersDepartment\"\n\t\t\t\t\t\tname={`usersDepartment-${companyId}`}\n\t\t\t\t\t\turl={`${companyId}/departments/${id}/users/`}\n\t\t\t\t\t\tmethod=\"post\"\n\t\t\t\t\t\tprimaryKey=\"id\"\n\t\t\t\t\t\tsendAsFormData={false}\n\t\t\t\t\t\tprependData\n\t\t\t\t\t\tnormalizeData={(data: any) => data}\n\t\t\t\t\t\tfields={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'department',\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tvalue: { id: id },\n\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'user',\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tonSubmitValue: (value) => ({ id: value.id }),\n\t\t\t\t\t\t\t\tvalue: null,\n\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tonSuccess={(response, resetForm): any => {\n\t\t\t\t\t\t\tshowNotification({ message: 'Success! ' });\n\t\t\t\t\t\t\tresetForm();\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonError={(error, resetForm): any => {\n\t\t\t\t\t\t\tshowNotification({ message: 'Already exist', variant: 'error' });\n\t\t\t\t\t\t\tresetForm();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{({ isSubmitting, values, setFieldValue, errors, setFieldError, resetForm }) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div className=\"react-select-dropdown px-4\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"branch-form__heading font-base mb-4 font-medium\">Add member</h3>\n\t\t\t\t\t\t\t\t\t<label className=\"ml-2 mb-2 block text-xs font-light text-kgrey-welcome\">\n\t\t\t\t\t\t\t\t\t\tMember\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t\t\t\t\t\tcomponent={AsyncSelectJs}\n\t\t\t\t\t\t\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\t\t\t\t\t\t\tname=\"user\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Choose member here\"\n\t\t\t\t\t\t\t\t\t\toptionLabel={(option: any) => `${option?.first_name} ${option?.last_name}`}\n\t\t\t\t\t\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\t\t\t\t\t\tisSearchable={!isMobile}\n\t\t\t\t\t\t\t\t\t\tisClearable\n\t\t\t\t\t\t\t\t\t\tisCached\n\t\t\t\t\t\t\t\t\t\topenMenuOnFocu\n\t\t\t\t\t\t\t\t\t\tloadOptionsKey=\"results\"\n\t\t\t\t\t\t\t\t\t\tloadOptionsUrl={`/${companyId}/employee/`}\n\t\t\t\t\t\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\t\t\tsearch,\n\t\t\t\t\t\t\t\t\t\t\t\tnot_in_department: id,\n\t\t\t\t\t\t\t\t\t\t\t\tis_registered: 'true'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"branch-form__footer flex justify-end px-4 pt-4 pb-9\">\n\t\t\t\t\t\t\t\t\t\t<KntButton\n\t\t\t\t\t\t\t\t\t\t\tclassName={'mr-5 border border-kgrey text-kgrey'}\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={closeModal}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t\t</KntButton>\n\t\t\t\t\t\t\t\t\t\t<KntButton\n\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t'dark:text-white dark:hover:bg-primary-300 dark:focus:ring-primary-300'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t\t\t\t\t</KntButton>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t</EntityForm.Main>\n\t\t\t\t) : null}\n\t\t\t</WhiteModal>\n\t\t</div>\n\t);\n}\n\nAddMemberForm.defaultProps = {\n\tonSuccess: () => {}\n};\n","import React, { useState } from 'react';\nimport { useAppState } from 'shared/state';\nimport { WhiteModal, Button, DialogActions, DialogTitle } from 'shared/components/Elements';\nimport { ErrorBoundary, Loader } from 'shared/components';\nimport { useEntityForm } from 'modules/entity/hooks/useEntityForm';\nimport { useNotistack } from 'shared/hooks';\n\ntype Props = {\n\thandleModalOpen: (item: any | null) => void;\n\topen: any | null;\n\tdepartmentId: number;\n};\n\nfunction DepartmentMembersDeleteInner({ handleModalOpen, open, departmentId }: Props) {\n\tconst { companyId } = useAppState();\n\tconst [loading, setLoading] = useState(false);\n\tconst { showNotification } = useNotistack();\n\n\tconst { handleRequest: handleDeleteRequest } = useEntityForm({\n\t\tentity: 'usersDepartment',\n\t\tname: `usersDepartment-${companyId}`,\n\t\tmethod: 'delete',\n\t\turl: `/${companyId}/departments/${departmentId}/users/${open?.id}/`,\n\t\tdeleteData: true,\n\t\tid: open?.id,\n\t\tcb: {\n\t\t\tsuccess: (data) => {\n\t\t\t\thandleModalOpen(null);\n\t\t\t\tsetLoading(false);\n\t\t\t\tshowNotification({ message: 'Successfully deleted', variant: 'success' });\n\t\t\t},\n\t\t\terror: (error) => {\n\t\t\t\tsetLoading(false);\n\t\t\t},\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-empty-function\n\t\t\tfinally: () => {}\n\t\t}\n\t});\n\n\tconst rejectRequest = (branch: any) => {\n\t\tsetLoading(true);\n\t\thandleDeleteRequest();\n\t};\n\n\tconst handleDelete = () => {\n\t\tif (open) rejectRequest(open);\n\t};\n\n\tconst closeModal = () => {\n\t\thandleModalOpen(null);\n\t};\n\n\treturn (\n\t\t<div className=\"relative\">\n\t\t\t<WhiteModal handleModalOpen={closeModal} open={Boolean(open)}>\n\t\t\t\t<DialogTitle id=\"alert-dialog-title\">\n\t\t\t\t\tAre you sure to delete <strong>{open?.name}</strong>?\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={closeModal} autoFocus variant=\"contained\">\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={handleDelete} variant=\"contained\" color=\"secondary\">\n\t\t\t\t\t\tDelete\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t\t{loading && (\n\t\t\t\t\t<div className=\"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70\">\n\t\t\t\t\t\t<Loader />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</WhiteModal>\n\t\t</div>\n\t);\n}\n\nexport function DepartmentMembersDelete(props: Props) {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<DepartmentMembersDeleteInner {...props} />\n\t\t</ErrorBoundary>\n\t);\n}\n","import React, { useCallback, useState } from 'react';\nimport EntityContainer from 'modules/entity/containers';\nimport {\n\tPagination,\n\tSimpleBtn,\n\tTableBody,\n\tTableContainer,\n\tTableHead\n} from 'shared/components/Elements';\nimport {\n\tErrorBoundary,\n\tLoader,\n\tStyledTable,\n\tStyledTableCell,\n\tStyledTableHeadCell,\n\tStyledTableRow\n} from 'shared/components';\nimport IconButton from '@material-ui/core/IconButton';\nimport { AiFillDelete } from 'react-icons/ai';\nimport { useAppState } from 'shared/state';\nimport { usePagination } from 'shared/hooks';\nimport AddMemberForm from './AddMemberForm';\nimport { DepartmentMembersDelete } from './DepartmentMembersDelete';\nimport { CgSearch } from 'react-icons/cg';\nimport { useDebounce } from 'use-debounce';\n\nimport { getBusinessIcon } from 'shared/services/utils/getBusinessIcon';\n\nfunction UsersDepartmentRequest({ departmentId }: any) {\n\tconst { companyId, isAdmin, isPermitted } = useAppState();\n\tconst { page, handlePage } = usePagination('memberPage');\n\tconst [formOpen, setFormOpen] = useState<boolean>(false);\n\tconst [deleteModal, setDeleteModal] = useState<any | null>(null);\n\tconst [query, setQuery] = useState('');\n\tconst [searchQuery] = useDebounce(query, 500);\n\n\tconst handleDeleteModal = useCallback((item: any | null) => setDeleteModal(item), []);\n\n\tconst handleModalOpen = () => setFormOpen((prev) => !prev);\n\n\tconst handleSearchQuery = (evt: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetQuery(evt.target.value);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t{companyId && departmentId ? (\n\t\t\t\t<div>\n\t\t\t\t\t<EntityContainer.All\n\t\t\t\t\t\tentity={'usersDepartment'}\n\t\t\t\t\t\tname={`usersDepartment-${companyId}`}\n\t\t\t\t\t\turl={`/${companyId}/departments/${departmentId}/users/`}\n\t\t\t\t\t\tparams={{\n\t\t\t\t\t\t\tlimit: 10,\n\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\tsearch: searchQuery\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpage\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{({ items, isFetched, meta }) => {\n\t\t\t\t\t\t\tconst requests = items.map((item: unknown) => item) as any[];\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div className=\"prime-tabs flex items-center justify-between rounded-t-lg bg-kgrey-bg px-4 pt-3 pb-4 text-base font-medium dark:bg-primary-300 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t<h4>Members</h4>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"group-sidebar__search relative flex-grow pr-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={query}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'group-sidebar__search-input w-full rounded-10 border-b text-sm outline-none ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'border-kgrey-border-solid' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t' pl-9 transition focus:border-primary' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t' placeholder-[rgba(45, 45, 45, 0.3)] py-2 placeholder:text-base dark:bg-kdark'\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={'Search for members'}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleSearchQuery}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"absolute top-1/2 left-2 -translate-y-1/2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-kgrey\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CgSearch />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<SimpleBtn disabled={!isPermitted} onClick={handleModalOpen}>\n\t\t\t\t\t\t\t\t\t\t\t\tAdd member\n\t\t\t\t\t\t\t\t\t\t\t</SimpleBtn>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<TableContainer classes={{ root: 'relative ' }}>\n\t\t\t\t\t\t\t\t\t\t<StyledTable\n\t\t\t\t\t\t\t\t\t\t\taria-label=\"simple table\"\n\t\t\t\t\t\t\t\t\t\t\tclasses={{ root: 'table-fixed dark-mode-styled-table' }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '20%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFull name\n\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '15%' }}>Role</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '15%' }}>Email</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextAlign: 'right',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '20%',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaddingRight: '40px'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tActions\n\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t{requests.map((item: any) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst { id, user, role } = item;\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow key={id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{items.length ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mr-2.5 h-9 w-9 flex-shrink-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{getBusinessIcon('', user.name)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"truncate text-sm font-medium\">{user.name}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-sm\">{role}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"truncate text-sm\">{user.username}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-end\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!isAdmin}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDeleteModal(item)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AiFillDelete color=\"#979797\" size=\"18px\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell key={id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>No information</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t\t</StyledTable>\n\t\t\t\t\t\t\t\t\t\t{!isFetched && <Loader tiled withOverlay />}\n\t\t\t\t\t\t\t\t\t</TableContainer>\n\n\t\t\t\t\t\t\t\t\t<div className=\"news__pagination my-4\">\n\t\t\t\t\t\t\t\t\t\t{items.length ? (\n\t\t\t\t\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\t\t\t\t\tcount={meta?.last_page}\n\t\t\t\t\t\t\t\t\t\t\t\tpage={page ? +page : 1}\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultPage={6}\n\t\t\t\t\t\t\t\t\t\t\t\tsiblingCount={1}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handlePage}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t</EntityContainer.All>\n\t\t\t\t\t<AddMemberForm handleModalOpen={handleModalOpen} open={formOpen} id={departmentId} />\n\t\t\t\t\t<DepartmentMembersDelete\n\t\t\t\t\t\thandleModalOpen={handleDeleteModal}\n\t\t\t\t\t\topen={deleteModal}\n\t\t\t\t\t\tdepartmentId={departmentId}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"flex justify-center\">\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default function UsersDepartment(props: any) {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<UsersDepartmentRequest {...props} />\n\t\t</ErrorBoundary>\n\t);\n}\n","import React from 'react';\n\nexport function IconDetailsId({ className = '' }: { className?: string }) {\n\treturn (\n\t\t<svg\n\t\t\tclassName={className}\n\t\t\twidth=\"12\"\n\t\t\theight=\"14\"\n\t\t\tviewBox=\"0 0 12 14\"\n\t\t\tfill=\"none\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t>\n\t\t\t<path d=\"M0.375 0.4375H2.25V2.3125H0.375V0.4375Z\" fill=\"#A5A7B2\" />\n\t\t\t<path\n\t\t\t\td=\"M7.875 13.5625H4.125V0.4375H7.875C8.86956 0.4375 9.82339 0.832588 10.5266 1.53585C11.2299 2.23911 11.625 3.19294 11.625 4.1875V9.8125C11.625 10.8071 11.2299 11.7609 10.5266 12.4641C9.82339 13.1674 8.86956 13.5625 7.875 13.5625ZM6 11.6875H7.875C8.37228 11.6875 8.84919 11.49 9.20082 11.1383C9.55246 10.7867 9.75 10.3098 9.75 9.8125V4.1875C9.75 3.69022 9.55246 3.21331 9.20082 2.86168C8.84919 2.51004 8.37228 2.3125 7.875 2.3125H6V11.6875Z\"\n\t\t\t\tfill=\"#A5A7B2\"\n\t\t\t/>\n\t\t\t<path d=\"M0.375 4.1875H2.25V13.5625H0.375V4.1875Z\" fill=\"#A5A7B2\" />\n\t\t</svg>\n\t);\n}\n","import React from 'react';\n\nexport function IconDesign({ className = '' }: { className?: string }) {\n\treturn (\n\t\t<svg\n\t\t\tclassName={className}\n\t\t\twidth=\"20\"\n\t\t\theight=\"20\"\n\t\t\tviewBox=\"0 0 20 20\"\n\t\t\tfill=\"none\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t>\n\t\t\t<path\n\t\t\t\td=\"M3.5 4C3.10218 4 2.72064 4.15804 2.43934 4.43934C2.15804 4.72064 2 5.10218 2 5.5V7.5C2 7.89782 2.15804 8.27936 2.43934 8.56066C2.72064 8.84196 3.10218 9 3.5 9H5.5C5.89782 9 6.27936 8.84196 6.56066 8.56066C6.84196 8.27936 7 7.89782 7 7.5V5.5C7 5.10218 6.84196 4.72064 6.56066 4.43934C6.27936 4.15804 5.89782 4 5.5 4H3.5ZM9.5 5C9.36739 5 9.24021 5.05268 9.14645 5.14645C9.05268 5.24021 9 5.36739 9 5.5C9 5.63261 9.05268 5.75979 9.14645 5.85355C9.24021 5.94732 9.36739 6 9.5 6H17.5C17.6326 6 17.7598 5.94732 17.8536 5.85355C17.9473 5.75979 18 5.63261 18 5.5C18 5.36739 17.9473 5.24021 17.8536 5.14645C17.7598 5.05268 17.6326 5 17.5 5H9.5ZM9.5 7C9.36739 7 9.24021 7.05268 9.14645 7.14645C9.05268 7.24021 9 7.36739 9 7.5C9 7.63261 9.05268 7.75979 9.14645 7.85355C9.24021 7.94732 9.36739 8 9.5 8H15.5C15.6326 8 15.7598 7.94732 15.8536 7.85355C15.9473 7.75979 16 7.63261 16 7.5C16 7.36739 15.9473 7.24021 15.8536 7.14645C15.7598 7.05268 15.6326 7 15.5 7H9.5ZM3.5 11C3.10218 11 2.72064 11.158 2.43934 11.4393C2.15804 11.7206 2 12.1022 2 12.5V14.5C2 14.8978 2.15804 15.2794 2.43934 15.5607C2.72064 15.842 3.10218 16 3.5 16H5.5C5.89782 16 6.27936 15.842 6.56066 15.5607C6.84196 15.2794 7 14.8978 7 14.5V12.5C7 12.1022 6.84196 11.7206 6.56066 11.4393C6.27936 11.158 5.89782 11 5.5 11H3.5ZM9.5 12C9.36739 12 9.24021 12.0527 9.14645 12.1464C9.05268 12.2402 9 12.3674 9 12.5C9 12.6326 9.05268 12.7598 9.14645 12.8536C9.24021 12.9473 9.36739 13 9.5 13H17.5C17.6326 13 17.7598 12.9473 17.8536 12.8536C17.9473 12.7598 18 12.6326 18 12.5C18 12.3674 17.9473 12.2402 17.8536 12.1464C17.7598 12.0527 17.6326 12 17.5 12H9.5ZM9.5 14C9.36739 14 9.24021 14.0527 9.14645 14.1464C9.05268 14.2402 9 14.3674 9 14.5C9 14.6326 9.05268 14.7598 9.14645 14.8536C9.24021 14.9473 9.36739 15 9.5 15H15.5C15.6326 15 15.7598 14.9473 15.8536 14.8536C15.9473 14.7598 16 14.6326 16 14.5C16 14.3674 15.9473 14.2402 15.8536 14.1464C15.7598 14.0527 15.6326 14 15.5 14H9.5Z\"\n\t\t\t\tfill=\"#A5A7B2\"\n\t\t\t/>\n\t\t</svg>\n\t);\n}\n","import React from 'react';\n\nexport function IconPhone({ className = '' }: { className?: string }) {\n\treturn (\n\t\t<svg\n\t\t\tclassName={className}\n\t\t\twidth=\"20\"\n\t\t\theight=\"21\"\n\t\t\tviewBox=\"0 0 20 21\"\n\t\t\tfill=\"none\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t>\n\t\t\t<path\n\t\t\t\td=\"M12.7062 13.925L14.1062 12.525C14.2948 12.3388 14.5334 12.2113 14.793 12.1581C15.0526 12.1048 15.3221 12.1281 15.5687 12.225L17.275 12.9063C17.5243 13.0074 17.738 13.1801 17.8892 13.4026C18.0405 13.625 18.1225 13.8873 18.125 14.1563V17.2813C18.1235 17.4643 18.0851 17.6451 18.0119 17.8128C17.9388 17.9805 17.8324 18.1317 17.6993 18.2573C17.5661 18.3828 17.409 18.4801 17.2372 18.5433C17.0655 18.6065 16.8828 18.6343 16.7 18.625C4.74375 17.8813 2.33125 7.75628 1.875 3.88128C1.85382 3.69099 1.87317 3.49837 1.93178 3.31609C1.99039 3.13382 2.08693 2.96602 2.21504 2.82374C2.34316 2.68145 2.49995 2.5679 2.6751 2.49057C2.85025 2.41323 3.03979 2.37385 3.23125 2.37503H6.25C6.51938 2.37582 6.78236 2.45719 7.00512 2.60867C7.22788 2.76015 7.40023 2.9748 7.5 3.22503L8.18125 4.93128C8.28141 5.17694 8.30696 5.44668 8.25472 5.70678C8.20247 5.96689 8.07475 6.20584 7.8875 6.39378L6.4875 7.79378C6.4875 7.79378 7.29375 13.25 12.7062 13.925Z\"\n\t\t\t\tfill=\"#A5A7B2\"\n\t\t\t/>\n\t\t</svg>\n\t);\n}\n","import React, { useCallback, useState } from 'react';\nimport { ErrorBoundary, Loader } from 'shared/components';\nimport { useAppState } from 'shared/state';\nimport EntityContainer from 'modules/entity/containers';\nimport { useParams } from 'react-router';\nimport { getBusinessIcon } from 'shared/services/utils/getBusinessIcon';\nimport { IconMembers } from 'shared/icons';\nimport CardDetailsInfo from 'shared/components/CardDetailsInfo';\nimport SubDepartmentsTable from './components/SubDepartmentsTable';\nimport UsersDepartment from './components/UsersDepartmentTable';\nimport EditDepartmentForm from '../EditDepartment';\nimport { DepartmentContextProvider } from '../../context/DepartmentContext';\nimport { IconDetailsId } from '../../../../shared/icons/IconDetailsId';\nimport { IconDesign } from '../../../../shared/icons/IconDesign';\nimport { IconPhone } from '../../../../shared/icons/IconPhone';\nimport EditSubDepartmentForm from './components/EditSubDepartmentForm';\nimport { SimpleBtn } from '../../../../shared/components/Elements';\n\ntype ParamsDepartmentDetails = {\n\tid: string;\n};\n\nfunction DepartmentDetailsInner() {\n\tconst { companyId, isAdmin } = useAppState();\n\tconst { id } = useParams<ParamsDepartmentDetails>();\n\tconst [modifyModal, setModifyModal] = useState<any | null>(null);\n\tconst handleModal = useCallback((item: any | null) => setModifyModal(item), []);\n\tconst params = useParams<{ dep?: string }>();\n\n\tconst isSubDep = !params?.dep;\n\n\treturn (\n\t\t<div className=\"relative flex min-h-full max-w-full flex-grow flex-col p-4\">\n\t\t\t{companyId ? (\n\t\t\t\t<div className=\"mt-5\">\n\t\t\t\t\t<EntityContainer.One\n\t\t\t\t\t\tprimaryKey=\"id\"\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tentity=\"departments\"\n\t\t\t\t\t\tname={`Department-${companyId}`}\n\t\t\t\t\t\turl={`${companyId}/departments/${id}/`}\n\t\t\t\t\t\tparams={{}}\n\t\t\t\t\t\trelations={''}\n\t\t\t\t\t>\n\t\t\t\t\t\t{({ item, isFetched }) => {\n\t\t\t\t\t\t\tconst detailsItem = item as any;\n\t\t\t\t\t\t\tconst { icon, name, id, phone, members_count } = detailsItem;\n\t\t\t\t\t\t\tconst mobile = phone && phone[0] === '+' ? phone : `+${phone}`;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{isFetched ? (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\" absolute top-0 left-0 w-full bg-kred-pink-200\">\n\t\t\t\t\t\t\t\t\t\t\t\t{!isAdmin ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"my-1 text-center text-xs text-kred-pink\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou do not have permission to perform some actions, please check with\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tadmin\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"mb-6 text-xl font-bold dark:text-white md:text-3xl\">\n\t\t\t\t\t\t\t\t\t\t\t\t{isSubDep ? 'Sub ' : null} Department Details\n\t\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-2 flex flex-wrap items-center sm:mb-16\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"order-1 mr-4 h-28 w-28 flex-shrink-0 rounded-full bg-kgrey-bg p-7 dark:bg-kdark-lighter sm:mr-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{getBusinessIcon(icon?.thumbnail || icon?.thumbnail_150 || '', name)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"order-last ml-auto flex flex-wrap py-4 sm:flex-nowrap lg:order-2 lg:ml-0 lg:py-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mr-4 mb-4 sm:mr-7 sm:mb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CardDetailsInfo\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize={'text-lg'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={'text-kred-pink'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbgColor={'bg-kgrey-bg'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={'Department id:'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcount={id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconDetailsId />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CardDetailsInfo>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mr-4 mb-4 sm:mr-7 sm:mb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CardDetailsInfo\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize={'text-lg'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbgColor={'bg-kgrey-bg'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={'Department name:'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcount={name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconDesign />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CardDetailsInfo>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mr-4 mb-4 sm:mr-7 sm:mb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CardDetailsInfo\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize={'text-lg'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbgColor={'bg-kgrey-bg'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={'Members count:'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcount={members_count}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconMembers />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CardDetailsInfo>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{phone ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mr-4 mb-4 sm:mr-7 sm:mb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href={`tel:${mobile}`} className=\"\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CardDetailsInfo\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize={'text-lg'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbgColor={'bg-kgrey-bg'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={'Phone:'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcount={phone}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconPhone />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CardDetailsInfo>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"order-3 ml-auto py-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SimpleBtn\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!isAdmin}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleModal(detailsItem)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tEdit {isSubDep ? 'sub ' : null} department\n\t\t\t\t\t\t\t\t\t\t\t\t\t</SimpleBtn>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<div className=\"mb-4 flex justify-center\">\n\t\t\t\t\t\t\t\t\t\t\t<Loader />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t</EntityContainer.One>\n\t\t\t\t\t<SubDepartmentsTable departmentId={id} />\n\t\t\t\t\t<UsersDepartment departmentId={id} />\n\t\t\t\t\t{isSubDep ? (\n\t\t\t\t\t\t<EditSubDepartmentForm handleModalOpen={handleModal} open={modifyModal} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<EditDepartmentForm handleModalOpen={handleModal} open={modifyModal} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"flex justify-center\">\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport function DepartmentDetails() {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<DepartmentContextProvider>\n\t\t\t\t<DepartmentDetailsInner />\n\t\t\t</DepartmentContextProvider>\n\t\t</ErrorBoundary>\n\t);\n}\n","import { DepartmentDetails } from './DepartmentDetails';\nexport default DepartmentDetails;\n","import React, { useCallback, useState } from 'react';\nimport EntityForm from 'modules/entity/forms';\nimport { useAppState } from 'shared/state';\nimport DepartmentFormElements from './DepartmentFormElements';\nimport { WhiteModal } from 'shared/components/Elements';\n\nimport { useNotistack, useUpdateEntities } from 'shared/hooks';\nimport get from 'lodash/get';\nimport { useDepartmentContext } from '../context/DepartmentContext';\n\ntype Props = {\n\thandleModalOpen: (item: any | null) => void;\n\topen: any | null;\n};\n\nfunction getTimeUnit(unit: string) {\n\tswitch (unit) {\n\t\tcase 'MINUTES': {\n\t\t\treturn { label: 'minutes', value: 'MINUTES' };\n\t\t}\n\t\tcase 'HOURS': {\n\t\t\treturn { label: 'hours', value: 'HOURS' };\n\t\t}\n\t\tcase 'DAYS': {\n\t\t\treturn { label: 'days', value: 'DAYS' };\n\t\t}\n\t\tdefault:\n\t\t\treturn null;\n\t}\n}\n\nexport default function EditDepartmentForm({ handleModalOpen, open }: Props) {\n\tconst { companyId } = useAppState();\n\tconst closeModal = useCallback(() => handleModalOpen(null), []);\n\tconst { showNotification } = useNotistack();\n\tconst { updateEntities } = useUpdateEntities();\n\tconst { isStaff, setIsStaff } = useDepartmentContext();\n\tconst [accStatusRequired, setAccStatusRequired] = useState<boolean>(false);\n\n\treturn (\n\t\t<div>\n\t\t\t{companyId ? (\n\t\t\t\t<div>\n\t\t\t\t\t<WhiteModal\n\t\t\t\t\t\tmaxWidth={466}\n\t\t\t\t\t\tminWidth={466}\n\t\t\t\t\t\thandleModalOpen={closeModal}\n\t\t\t\t\t\topen={Boolean(open)}\n\t\t\t\t\t\tscrollable\n\t\t\t\t\t\tnoPadding\n\t\t\t\t\t>\n\t\t\t\t\t\t<EntityForm.Main\n\t\t\t\t\t\t\tentity=\"departments\"\n\t\t\t\t\t\t\tname={`AllDepartments-${companyId}`}\n\t\t\t\t\t\t\turl={`${companyId}/departments/${open?.id}/`}\n\t\t\t\t\t\t\tmethod=\"patch\"\n\t\t\t\t\t\t\tid={open?.id}\n\t\t\t\t\t\t\tupdateData\n\t\t\t\t\t\t\tprimaryKey=\"id\"\n\t\t\t\t\t\t\tsendAsFormData={false}\n\t\t\t\t\t\t\tnormalizeData={(data: any) => data}\n\t\t\t\t\t\t\tfields={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'icon',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.icon,\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? value : null)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'name',\n\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\tvalue: open?.name,\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'link',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.link,\n\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? value : null)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'phone',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.phone,\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'case_escalation_time',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.case_escalation_time ?? '',\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? parseInt(value) : null),\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'case_escalation_time_unit',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: getTimeUnit(open?.case_escalation_time_unit),\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => value?.value,\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'assign_required',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.assign_required,\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'initial_response_time',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.initial_response_time ?? '',\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? parseInt(value) : null),\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'initial_response_time_unit',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: getTimeUnit(open?.initial_response_time_unit),\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => value?.value,\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'default_assignees',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tvalue: open?.default_assignees,\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value.length ? value.map((item: any) => item.id) : [])\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'data_field',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tvalue: open?.data_field\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'auto_case_create',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.auto_case_create,\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'acc_status',\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => get(value, 'id'),\n\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\tvalue: open?.acc_status,\n\t\t\t\t\t\t\t\t\trequired: accStatusRequired,\n\t\t\t\t\t\t\t\t\ttype: 'object'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'is_staff',\n\t\t\t\t\t\t\t\t\tvalue: isStaff === 'true',\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'acc_linked_email',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.acc_linked_email,\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? value : null),\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'acc_email_alias',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.acc_email_alias,\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tonSuccess={(response, resetForm): any => {\n\t\t\t\t\t\t\t\tshowNotification({ message: 'Success! ' });\n\t\t\t\t\t\t\t\tif (response?.default_assignees?.length < open?.default_assignees?.length) {\n\t\t\t\t\t\t\t\t\tupdateEntities({\n\t\t\t\t\t\t\t\t\t\tentity: 'departments',\n\t\t\t\t\t\t\t\t\t\tentityId: open?.id,\n\t\t\t\t\t\t\t\t\t\tupdatingData: {\n\t\t\t\t\t\t\t\t\t\t\tdefault_assignees: response?.default_assignees || []\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tresetForm();\n\t\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonError={(error, resetForm): any => {\n\t\t\t\t\t\t\t\tshowNotification({\n\t\t\t\t\t\t\t\t\tmessage: error?.response?.data?.message ?? 'Something went wrong',\n\t\t\t\t\t\t\t\t\tvariant: 'error'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tresetForm();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{({ isSubmitting, values, setFieldValue, errors, setFieldError, resetForm }) => {\n\t\t\t\t\t\t\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\t\t\t\t\t\t\tconsole.log('values edit department', values);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<DepartmentFormElements\n\t\t\t\t\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\t\t\t\t\tsetFieldValue={setFieldValue}\n\t\t\t\t\t\t\t\t\t\tsetFieldError={setFieldError}\n\t\t\t\t\t\t\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t\t\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\t\t\t\t\tcloseModal={closeModal}\n\t\t\t\t\t\t\t\t\t\tisCreate={false}\n\t\t\t\t\t\t\t\t\t\tresetForm={resetForm}\n\t\t\t\t\t\t\t\t\t\tdepartmentId={open?.id}\n\t\t\t\t\t\t\t\t\t\tsetAccStatusRequired={setAccStatusRequired}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</EntityForm.Main>\n\t\t\t\t\t</WhiteModal>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}\n\nEditDepartmentForm.defaultProps = {\n\tonSuccess: () => {}\n};\n","import { useAppState } from 'shared/state';\nimport { useLoadAll, usePagination } from '../../../shared/hooks';\nimport { useDispatch } from 'react-redux';\nimport Actions from '../../../store/actions';\nconst FormRequest = Actions.entity.formRequest;\n\nexport function useDepartmentList(\n\ttype: string,\n\tsearchQuery: string,\n\tdepartmentId?: number,\n\tisStaff?: string\n): any {\n\tconst { companyId } = useAppState();\n\tconst { page } = usePagination(type === 'department' ? 'page' : 'subPage');\n\tconst dispatch = useDispatch();\n\tconst { reloadEntityAll } = useLoadAll();\n\n\tconst handleDepOrderChange = (evt: any, id: number): any => {\n\t\tif (id) {\n\t\t\tdispatch(\n\t\t\t\tFormRequest({\n\t\t\t\t\tentity: 'sorder',\n\t\t\t\t\tname: 'AllSorder',\n\t\t\t\t\turl: `/${companyId}/departments/${id}/change_order/${evt.target.value}/`,\n\t\t\t\t\tparams: {},\n\t\t\t\t\tmethod: 'put',\n\t\t\t\t\tvalues: {},\n\t\t\t\t\tcb: {\n\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\treloadEntityAll({\n\t\t\t\t\t\t\t\tentity: type === 'department' ? 'departments' : 'subDepartments',\n\t\t\t\t\t\t\t\tname:\n\t\t\t\t\t\t\t\t\ttype === 'department'\n\t\t\t\t\t\t\t\t\t\t? `AllDepartments-${companyId}`\n\t\t\t\t\t\t\t\t\t\t: `SubDepartments-${companyId}`,\n\t\t\t\t\t\t\t\turl:\n\t\t\t\t\t\t\t\t\ttype === 'department'\n\t\t\t\t\t\t\t\t\t\t? `/${companyId}/departments/`\n\t\t\t\t\t\t\t\t\t\t: `/${companyId}/departments/${departmentId}/sub_departments/`,\n\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\tpage: page,\n\t\t\t\t\t\t\t\t\tlimit: 10,\n\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\tis_staff: isStaff ? isStaff : null,\n\t\t\t\t\t\t\t\t\t\tsearch: searchQuery\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: () => {},\n\t\t\t\t\t\tfinally: () => {}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t};\n\n\treturn { handleDepOrderChange };\n}\n","import React from 'react';\nimport clsx from 'clsx';\n\nexport type BusinessDetailsInfoType = {\n\ttitle: string;\n\tchildren: React.ReactNode;\n\tcount: number;\n\tcolor?: string;\n\tbgColor?: string;\n\tfontSize?: string;\n};\n\nfunction CardDetailsInfo({\n\ttitle,\n\tchildren,\n\tcount,\n\tbgColor,\n\tcolor,\n\tfontSize\n}: BusinessDetailsInfoType) {\n\treturn (\n\t\t<div\n\t\t\tclassName={clsx(\n\t\t\t\t'rounded-10 p-3.5 dark:border-sm dark:border-zinc-700 dark:bg-kdark-lighter',\n\t\t\t\tbgColor ? bgColor : 'bg-white'\n\t\t\t)}\n\t\t>\n\t\t\t<h4 className=\"mb-2.5 text-sm font-medium text-kgrey\">{title}</h4>\n\t\t\t<div className=\"flex items-center\">\n\t\t\t\t<span className=\"flex h-9 w-9 items-center justify-center rounded-full bg-kgrey-bgDashboardItem dark:bg-black\">\n\t\t\t\t\t{children}\n\t\t\t\t</span>\n\t\t\t\t<p\n\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t'ml-4 font-semibold leading-5',\n\t\t\t\t\t\tcolor ? color : 'text-primary-dark',\n\t\t\t\t\t\tfontSize ? fontSize : 'text-2xl'\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{count}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\nexport default CardDetailsInfo;\n","import { Avatar } from '@material-ui/core';\n\nexport const getBusinessIcon = (url: string | undefined, name: string | undefined) => {\n\tif (url) {\n\t\treturn (\n\t\t\t<Avatar\n\t\t\t\tclassName=\"inline-block\"\n\t\t\t\talt={name || 'Business icon'}\n\t\t\t\tsrc={url}\n\t\t\t\tstyle={{ width: '100%', height: '100%' }}\n\t\t\t/>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<Avatar className=\"inline-block\" style={{ color: '#fff', width: '100%', height: '100%' }}>\n\t\t\t\t{name ? name[0].toUpperCase() : null}\n\t\t\t</Avatar>\n\t\t);\n\t}\n};\n"],"names":["SubDepartmentDeleteModalInner","handleModalOpen","open","companyId","useAppState","useState","loading","setLoading","showNotification","useNotistack","handleDeleteRequest","useEntityForm","entity","name","method","url","id","deleteData","cb","success","data","message","variant","error","finally","handleRequest","closeModal","className","Boolean","onClick","autoFocus","color","SubDepartmentDeleteModal","props","imgPath","config","timeOptions","label","value","SubDepartmentFormElements","values","setFieldValue","isSubmitting","setFieldError","errors","resetForm","isCreate","departmentId","setAccStatusRequired","useSwitch","assignRequired","assign_required","checked","handleChange","autoCaseCreate","auto_case_create","checkedAutoCase","handleChangeVoiceMail","link","assigneeFunction","setAssigneeFunction","chooseIcon","setChooseIcon","caseChatModal","setCaseChatModal","handleCaseChatModal","prev","uploadMeta","setUploadMeta","cancelSending","setCancelSending","icon","setIcon","useEffect","src","get","alt","setFile","classNames","component","KntInputField","placeholder","onChange","evt","target","control","KntPhoneInputField","enableSearch","onChangeHandler","Tooltip","title","placement","IconButton","type","labelClasses","SelectField","styles","KntTwilioStyle","defaultValue","options","isSearchable","isMobile","disabled","classes","AsyncSelectJs","customStylesProps","optionLabel","option","loadOptionsUrl","loadOptionsParams","search","extra","maxMenuHeight","default_assignees","isClearable","isMulti","loadOptionsKey","isCached","CopyEmailButton","isDisabled","acc_email_alias","copiedEmail","optionValue","reverse","is_staff","ChooseIcon","scrollable","noPadding","CaseChatDataFields","dataFields","data_field","departmentName","closeModalCaseChat","isSubDepartment","CreateSubDepartmentForm","searchQuery","page","useCallback","reloadEntityAll","useLoadAll","accStatusRequired","minWidth","maxWidth","primaryKey","sendAsFormData","normalizeData","appendData","fields","required","onSubmitKey","onSubmitValue","onSuccess","response","params","limit","onError","getTimeUnit","unit","EditSubDepartmentForm","updateEntities","useUpdateEntities","relations","item","isFetched","subDepartment","updateData","phone","case_escalation_time","parseInt","case_escalation_time_unit","initial_response_time","initial_response_time_unit","length","map","acc_status","acc_linked_email","entityId","updatingData","defaultProps","department","SubDepartmentsTableRequest","isAdmin","isPermitted","usePagination","handlePage","deleteModal","setDeleteModal","formOpen","setFormOpen","modifyModal","setModifyModal","handleDeleteModal","handleModal","query","setQuery","useDebounce","handleDepOrderChange","useDepartmentList","replaceIds","items","meta","requests","root","style","width","textAlign","count","sorder","mobile","getBusinessIcon","thumbnail","thumbnail_150","to","size","href","Select","Number","e","Array","_","key","MenuItem","tiled","withOverlay","last_page","defaultPage","siblingCount","SubDepartmentsTable","AddMemberForm","prependData","first_name","last_name","openMenuOnFocu","not_in_department","is_registered","DepartmentMembersDeleteInner","DepartmentMembersDelete","UsersDepartmentRequest","handleSearchQuery","paddingRight","user","role","username","UsersDepartment","IconDetailsId","height","viewBox","fill","xmlns","d","IconDesign","IconPhone","DepartmentDetailsInner","useParams","isSubDep","dep","detailsItem","members_count","CardDetailsInfo","fontSize","bgColor","EditDepartment","DepartmentContext","EditDepartmentForm","useDepartmentContext","isStaff","setIsStaff","FormRequest","Actions","dispatch","useDispatch","children","clsx","toUpperCase"],"sourceRoot":""}