!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="db3e7de4-b54b-4cdd-be3f-44a68f6df80f",e._sentryDebugIdIdentifier="sentry-dbid-db3e7de4-b54b-4cdd-be3f-44a68f6df80f")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"1d419c3c8a5f66a775a003b801a7dad6c0430a71"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[3899],{13899:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var a=t(1413),i=(t(72791),t(91523)),r=t(54270),o=t(35741),s=t(38302),c=t(2451),u=t(66128),d=t(16178),l=t(40084),m=t(21348),f=t(80184),p=function(){var e=(0,d.tv)().params,n=(0,l.m)().companyId,t=parseInt(null==e?void 0:e.campaignId);return(0,f.jsx)(o.Z.One,{id:t,entity:"campaigns",name:"Campaign-".concat(t),url:"/".concat(n,"/campaigns/").concat(t,"/"),relations:"",params:{},children:function(e){var n=e.isFetched,a=e.item;return(0,f.jsxs)("div",{className:"news-page py-4",children:[(0,f.jsxs)(r.Z,{children:[(0,f.jsx)("title",{children:"KENNEKT | Edit News"}),(0,f.jsx)("meta",{name:"description",content:"KENNEKT Announcement"})]}),(0,f.jsx)(f.Fragment,{children:n?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h1",{className:"mb-2 -mt-12 text-2xl font-bold",children:"Edit News"}),(0,f.jsx)("div",{className:"mb-4",children:(0,f.jsxs)(c.Z,{"aria-label":"breadcrumb",children:[(0,f.jsx)(i.rU,{to:"/news/campaigns/view/".concat(t),children:(0,f.jsx)("span",{className:"text-sm text-primary transition hover:text-primary-dark",children:a.name})}),(0,f.jsx)(s.Z,{color:"textPrimary",className:"!text-sm",children:"Edit news"})]})}),(0,f.jsx)("div",{className:"uni-page__content",children:(0,f.jsx)(m.T,{})})]}):(0,f.jsx)(u.aN,{tiled:!0,withOverlay:!0})})]})}})};var v=function(e){return(0,f.jsx)(u.SV,{children:(0,f.jsx)(p,(0,a.Z)({},e))})}},21348:function(e,n,t){t.d(n,{T:function(){return h}});var a=t(1413),i=t(93433),r=(t(72791),t(27945)),o=t(44453),s=t(26181),c=t.n(s),u=t(35741),d=t(66128),l=t(92651),m=t(16178),f=t(40084),p=t(80184),v=[{name:"Reader First Name",code:"{reader_first_name}"},{name:"Reader Last Name",code:"{reader_last_name}"},{name:"Reader Company",code:"{business_company}"},{name:"Author First Name",code:"{author_first_name}"},{name:"Author Last Name",code:"{author_last_name}"},{name:"Author company",code:"{client_company}"}],b=[{name:"Daily",code:"DAILY"},{name:"Weekly",code:"WEEKLY"},{name:"Monthly",code:"MONTHLY"},{name:"Yearly",code:"YEARLY"},{name:"Quarterly",code:"QUARTERLY"}],y=[{value:"ACTIVE",label:"Active"},{label:"On hold",value:"ON_HOLD"}],_=function(e){var n=(0,m.tv)(),t=n.params,a=n.history,s=(0,f.m)().companyId,_=parseInt(null==t?void 0:t.campaignId),h=parseInt(null==t?void 0:t.newsId),g=(0,m.eC)().showNotification,j=function(e){switch(e){case"ONE_TIME":default:return"ONE_TIME";case"DAILY":case"WEEKLY":case"MONTHLY":case"YEARLY":case"QUARTERLY":return"REPEAT";case"EVENTS":return"EVENTS"}};return s?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(u.Z.One,{id:h,entity:"news",name:"news-".concat(_),url:"/".concat(s,"/notifications/").concat(h,"/"),params:{},relations:"",children:function(e){var n,t,u=e.item,m=e.isFetched,f=u;return(0,p.jsx)("div",{className:"uni-page__content",children:m?(0,p.jsx)(r.Z.Main,{id:h,entity:"news",name:"".concat(_?"AllCampaignNews":"AllRegularNews"),url:"/".concat(s,"/notifications/").concat(f.id,"/"),method:"put",sendAsFormData:!1,fields:[{name:"subject",required:!0,value:f.subject,onSubmitKey:""},{name:"body",required:!0,value:f.body,onSubmitKey:""},{name:"files",value:f.files,onSubmitKey:"",type:"object"},{name:"type",value:null==f?void 0:f.receiver.type,onSubmitKey:"",type:"object"},{name:"status",value:f.status,onSubmitKey:""},{name:"open_for_cases",value:f.open_for_cases,onSubmitKey:""},{name:"frequency",value:j(f.frequency),onSubmitKey:""},{name:"timezone",onSubmitValue:function(e){return{id:c()(e,"id")}},value:f.timezone,onSubmitKey:"",type:"object"},{name:"campaign",value:null!=f&&f.receiver.campaign?null==f||null===(n=f.receiver)||void 0===n||null===(t=n.campaign)||void 0===t?void 0:t.id:void 0,onSubmitKey:""},{name:"start_time",value:f.start_time,onSubmitValue:function(e){return(0,o.L)(e)},onSubmitKey:"",type:"date",customValidation:function(e){return"now"===e}},{name:"end_time",value:f.end_time,onSubmitValue:function(e){return(0,o.L)(e)},onSubmitKey:"",type:"date",customValidation:function(e){return"now"===e}},{name:"event_times",value:f.event_times||[],onSubmitKey:"",type:"object"},{name:"department",value:f.department,onSubmitValue:function(e){return c()(e,"id")},onSubmitKey:"",type:"object"},{name:"sub_department",onSubmitValue:function(e){return c()(e,"id")},value:f.sub_department,onSubmitKey:"",type:"object"},{name:"staff_departments",value:null==f?void 0:f.receiver.staff_departments,onSubmitValue:function(e,n){return e&&"staff"===n.type?null==e?void 0:e.reduce((function(e,n){return[].concat((0,i.Z)(e),[n.id])}),[]):void 0},onSubmitKey:"",type:"object"},{name:"categories",value:null==f?void 0:f.receiver.categories,onSubmitValue:function(e,n){return e&&"client"===(null==n?void 0:n.type)?null==e?void 0:e.reduce((function(e,n){return[].concat((0,i.Z)(e),[n.id])}),[]):void 0},onSubmitKey:"",type:"object"}],onSuccess:function(e,n){n(),g({message:"Successfully Updated",variant:"success"}),_||null!=e&&e.receiver.campaign?a.push("/news/campaigns/view/".concat(_)):a.push("/news/news-list")},onError:function(e,n){var t,a,i=(null==e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Something went wrong";g({message:i,variant:"error"})},children:function(e){var n=e.isSubmitting,t=e.values,a=e.setFieldValue,i=e.errors,r=e.setFieldError;return(0,p.jsx)(l.Z,{isUpdate:u,isSubmitting:n,values:t,setFieldValue:a,keywords:v,frequencies:b,statuses:y,campaignId:_,setFieldError:r,errors:i})}}):(0,p.jsx)(d.aN,{tiled:!0,withOverlay:!0})})}})}):(0,p.jsx)(d.aN,{})};function h(e){return(0,p.jsx)(d.SV,{children:(0,p.jsx)(_,(0,a.Z)({},e))})}}}]);
//# sourceMappingURL=3899.f1d7c66a.chunk.js.map