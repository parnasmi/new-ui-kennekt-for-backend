"use strict";(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[7230],{57230:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var s=n(70885),i=n(47313),l=n(95762),r=n(26926),a=n(79320),c=n(28303),d=n(10658),o=n.n(d),h=n(77344),u=n(94024),x=n(65188),j=n(22206),f=n(62238),m=n(11760),v=n(46417);var p=function(){var e=(0,h.m)(),t=e.companyId,n=e.isPermitted,d=(0,x.h0)(),p=d.page,y=d.handlePage,k=d.removePage,w=(0,j.vd)(),g=w.searchQuery,b=w.isStaff,_=(0,x.tv)(),D=_.match,Y=_.history,N=(0,u.Z)(g,500),E=(0,s.Z)(N,1)[0],P=(0,m.a)().userData,A=n||(null===P||void 0===P?void 0:P.can_send_news);(0,i.useEffect)((function(){return function(){return k()}}),[]);var U=(0,f.c2)(),F=U.deleteLoading,H=U.handleNewsDelete,M=U.showDeleteVisible,B=U.closeDeletePopup,C=U.deleteVisible;return console.log("isStaff",b),(0,v.jsx)("div",{children:t?(0,v.jsx)(l.Z.All,{entity:"news",name:"AllNews",url:"/".concat(t,"/").concat(n?"":"my-","notifications/"),params:{limit:10,extra:{search:E,type:b?"staff":"client"},page:p},children:function(e){var t=e.items,s=e.isFetched,i=e.meta,l=t;return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{children:[(0,v.jsxs)(r.xJ,{classes:{root:"relative "},children:[(0,v.jsxs)(a.k6,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,v.jsx)(r.ss,{children:(0,v.jsxs)(a.AF,{children:[(0,v.jsx)(a.EU,{style:{width:"20%"},children:"Title"}),(0,v.jsx)(a.EU,{style:{width:"10%"},children:"Status"}),(0,v.jsx)(a.EU,{style:{width:"10%"},children:"Frequency"}),(0,v.jsx)(a.EU,{style:{width:"20%"},children:"Author"}),(0,v.jsx)(a.EU,{style:{width:"20%"},children:"Date"}),(0,v.jsx)(a.EU,{style:{width:"20%"},children:(0,v.jsx)("div",{className:" flex-center-y",children:(0,v.jsx)("div",{className:"ml-2",children:"Actions"})})})]})}),(0,v.jsx)(r.RM,{children:l.map((function(e){var t=null!==e&&void 0!==e?e:{},s=t.frequency,i=t.start_time,l=t.status,r=t.author,d=t.subject,h=t.id;return(0,v.jsxs)(a.AF,{children:[(0,v.jsx)(a.Yk,{children:(0,v.jsx)(c.rU,{to:"".concat(D.path,"/view/").concat(h),children:(0,v.jsx)("span",{className:"text-primary transition hover:text-primary-dark",children:d})})}),(0,v.jsx)(a.Yk,{children:l}),(0,v.jsx)(a.Yk,{children:s}),(0,v.jsx)(a.Yk,{children:r.name}),(0,v.jsx)(a.Yk,{children:o()(i).format("MMMM D YYYY, h:mm a")}),(0,v.jsx)(a.Yk,{children:(0,v.jsxs)("div",{children:[(0,v.jsx)(a.cP.DeleteButton,{isDisabled:!n||!A,clickHandler:function(){return M(e)}}),(0,v.jsx)(a.cP.ViewButton,{isDisabled:!n||!A,clickHandler:function(){return Y.push("/news/view/".concat(e.id))}}),(0,v.jsx)(a.cP.EditButton,{isDisabled:!n||!A,clickHandler:function(){return Y.push("/news/edit/".concat(e.id))}})]})})]},h)}))})]}),!s&&(0,v.jsx)(a.aN,{tiled:!0,withOverlay:!0})]}),(0,v.jsx)(a.sm,{featureHandler:function(){return H(C)},isOpen:Boolean(C),toggleHandler:B,title:"Are you sure to delete  ".concat(null===C||void 0===C?void 0:C.subject,"?"),hasLoader:!0,isLoading:F}),(0,v.jsx)("div",{className:"news__pagination my-4",children:t.length?(0,v.jsx)(r.tl,{count:null===i||void 0===i?void 0:i.last_page,page:p?+p:1,defaultPage:6,siblingCount:1,color:"primary",onChange:y}):null})]})})}}):(0,v.jsx)("div",{className:"flex justify-center",children:(0,v.jsx)(a.aN,{})})})}}}]);