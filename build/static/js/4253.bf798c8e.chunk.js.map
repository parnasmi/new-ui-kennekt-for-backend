{"version":3,"file":"static/js/4253.bf798c8e.chunk.js","mappings":"86BAWMA,EAAMC,EAAQ,OACpBC,IAAAA,OAAaF,GAoGb,ICpGIG,EDoGJ,EAlGA,SAAsBC,GACrB,OAA8BC,EAAAA,EAAAA,UAAc,MAA5C,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAwBF,EAAAA,EAAAA,UAAc,GAAtC,eAAOG,EAAP,KAAaC,EAAb,KACA,GAA8BJ,EAAAA,EAAAA,UAAc,GAA5C,eAAOK,EAAP,KAAgBC,EAAhB,KACA,GAA4BN,EAAAA,EAAAA,WAAc,GAA1C,eAAOO,EAAP,KAAeC,EAAf,KACQC,GAAoBC,EAAAA,EAAAA,MAApBD,gBACAE,GAAwBC,EAAAA,EAAAA,MAAxBD,oBA+BR,OACC,iBAAKE,UAAU,iCAAf,UACc,UAAZZ,IACA,gBAAKY,UAAU,6BAAf,UACC,iBAAKA,UAAU,kBAAf,WACC,gBAAKA,UAAU,yBACf,SAACC,EAAA,EAAD,CACCD,UAAU,+CACVE,MAAO,CACNC,MAAO,OACPC,OAAQ,QAJV,SAOE,OAGF,gBAAKJ,UAAU,qBAAf,SAAqChB,IAAMM,GAAMR,MAAMuB,OAAO,oBAIjE,iBAAKL,UAAU,wBAAf,UACc,UAAZZ,IACA,SAACkB,EAAA,EAAD,CACCC,MAAM,UAENC,KAAK,QACLR,UAAU,QACVS,QAxCsB,WAC1Bd,GAAU,GACVe,cAAclB,GACdH,EAAW,OACX,EA+BG,UAOC,SAACsB,EAAA,EAAD,MAGW,UAAZvB,IACA,SAACkB,EAAA,EAAD,CACCC,MAAM,UACN,aAAW,gBACXC,KAAK,QACLC,QAxDyB,WAC7BC,cAAclB,GACdG,GAAU,GACVN,EAAW,OACX,EAgDG,UAMC,SAACuB,EAAA,EAAD,OAGAxB,IACD,gBAAKY,UAAU,8BAAf,UACC,SAACM,EAAA,EAAD,CACCC,MAAM,UACN,aAAW,gBACXC,KAAK,QACLK,WAAYf,EACZW,QA9EyB,WAC9B,IAAMjB,EAAUsB,aAAY,WAC3BvB,GAAQ,SAACD,GAAD,OAAeA,EAAO,GAAtB,GACR,GAAE,KAEHG,EAAWD,GACXH,EAAW,SACXE,EAAQ,EACR,EAiEI,UAOC,SAACwB,EAAA,EAAD,YAKJ,SAAC,KAAD,CAAe3B,QAASA,EAAS4B,OA/DL,SAACC,GACzBvB,GACCE,EAAgBqB,GAEtB5B,EAAW,KACX,MA6DD,E,0ECnGK6B,EAAcC,IAAAA,YAIpB,SAASC,EAAT,GAMS,IALRC,EAKO,EALPA,WACAC,EAIO,EAJPA,cACAC,EAGO,EAHPA,cACAC,EAEO,EAFPA,iBACAC,EACO,EADPA,SAEQC,GAAcC,EAAAA,EAAAA,KAAdD,UACAE,GAAUC,EAAAA,EAAAA,KAAVD,MACR,GAAgCzC,EAAAA,EAAAA,UAAc,MAA9C,eAAO2C,EAAP,KAAiBC,EAAjB,MAEAC,EAAAA,EAAAA,YAAU,WACTV,EAAcQ,EACd,GAAE,CAACA,KAEJE,EAAAA,EAAAA,YAAU,WACT,GAAIT,EAAe,CAElBtC,EADqB,kCAErB,CACD,GAAE,CAACsC,IAEJ,IAgCMU,EAAM,UAAMC,EAAAA,EAAAA,SAAN,YAAyBR,EAAzB,YAEZ,OACC,yBACGL,GAiDD,SAACc,EAAA,EAAD,CACCC,QAAQ,WACRpC,UAAU,sBACVO,MAAM,UACNM,WAAYQ,EACZgB,SAAS,SAACC,EAAA,EAAD,IALV,qBAhDA,SAAC,IAAD,CAECC,aAvCgB,SAACC,GACpB,IACMC,EAAUD,GADD,IAAIE,YAGZC,cAAcF,IAEb,kBACJD,GADI,IAEPI,IAAKJ,EAAKI,IACVC,KAAML,EAAKK,KACXC,KAAMN,EAAKM,KACXC,IAAKP,EAAKO,IACVvC,KAAMgC,EAAKhC,KACXwC,aAAcR,EAAKQ,cAEpB,EAyBGC,cAAe,YAMR,IALNT,EAKK,EALLA,KACAU,EAIK,EAJLA,SAIK,IAHLC,QAAAA,OAGK,MAHK,CACTC,cAAe,SAAWxB,GAEtB,EACCyB,EAAW,IAAIC,SAoBrB,OAnBAD,EAASE,OAAOL,EAAoBV,GACpCrB,IAAAA,KACOc,EAAQoB,EAAU,CACvBF,QAAAA,EACAK,iBAAkB,YAAwB,IA7B7B,EAAEC,EA6BMC,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,OA7Bf,EA+BD,CAAEF,QAASG,KAAKC,MAAOF,EAASD,EAAS,KAAKI,QAAQ,IA/BnDL,EAAmB,EAAnBA,QACrB1B,EAAYgC,OAAON,GA+BZ,EACDO,YAAa,IAAI9C,GAAY,SAAC+C,GAC7BhF,EAAWgF,CACX,MAEDC,MAAK,aA3CU,SAACC,EAAeC,EAAYC,GAEjDtC,EAAY,MACZN,GAAS,SAAC6C,GAAD,wBAAwBA,GAAxB,CAAmCH,GAAnC,GACT,CAwCMI,CAD6B,EAArBC,KAER,IACAC,OAAM,SAACC,GAnCblD,GAAiB,GACjBO,EAAY,KAoCN,IAEK,CACN4C,MADM,WAELC,QAAQC,IAAI,8BACZ,EAEF,EAnCF,UAqCC,SAAC1C,EAAA,EAAD,CACCC,QAAQ,WACRpC,UAAU,sBACVO,MAAM,UACNM,WAAYQ,EACZgB,SAAS,SAACC,EAAA,EAAD,IALV,uBAuBJ,CAEc,SAASwC,EAA8B5F,GACrD,OACC,SAAC,KAAD,WACC,SAACkC,GAAD,UAAkBlC,KAGpB,C,eCvIK6F,EAAO,UAAM7C,EAAAA,EAAAA,cAAN,QA2Gb,MA9FA,YAOW,IANVb,EAMS,EANTA,WACAC,EAKS,EALTA,cACAC,EAIS,EAJTA,cACAC,EAGS,EAHTA,iBACAwD,EAES,EAFTA,MACAvD,EACS,EADTA,SAEMwD,EAAa,SAACC,GACnB,IAAMC,EAAgBH,EAAMI,QAAO,SAAC5C,GAAD,OAAeA,EAAK0C,KAAOA,CAA3B,IACnCzD,EAAS0D,EACT,EAED,GAAuDpF,EAAAA,EAAAA,MAA/CD,EAAR,EAAQA,oBAAqBuF,EAA7B,EAA6BA,sBAW7B,OACC,iBAAKrF,UAAU,8BAAf,WACC,gBAAKA,UAAU,sBAAf,UACC,SAAC,EAAD,CACOqB,WAAAA,EAAYC,cAAAA,EAAeC,cAAAA,EAAeC,iBAAAA,EAAkBwD,MAAAA,EAAOvD,SAAAA,OAG3E,gBAAKzB,UAAU,qBAAf,UACC,iBAAKA,UAAU,6CAAf,UACEgF,EAAMM,KAAI,SAAC9C,GACX,OAAIA,EAAK+C,WAEP,iBAAKvF,UAAU,iCAAf,WACC,gBAAKwF,IAAKC,IAAIjD,EAAM,iBAAkBkD,IAAI,MAC1C,gBACC1F,UAAU,iCACVS,QAAS,kBAAMwE,EAAWzC,EAAK0C,GAAtB,MAJ0C1C,EAAKM,MAQxB,QAAfN,EAAKM,KA9CiB6C,MAAM,KAAKC,OAgDpD,iBACC5F,UAAU,+DADX,WAIC,gBACCA,UAAU,iCACVS,QAAS,kBAAMwE,EAAWzC,EAAK0C,GAAtB,KAEV,mBAAOW,UAAQ,EAAf,WACC,mBAAQL,IAAKhD,GAAQA,EAAKsD,IAAKjD,KAAK,eACpC,mBAAQ2C,IAAKhD,GAAQA,EAAKsD,IAAKjD,KAAK,eAFrC,wDANKL,EAAKM,OAeX,iBAAK9C,UAAU,iCAAf,WACC,gBACCA,UAAU,iCACVS,QAAS,kBAAMwE,EAAWzC,EAAK0C,GAAtB,KAEV,iBAAMlF,UAAU,iCAAhB,SAAkDwC,EAAKM,SALHN,EAAKM,KAS5D,KACD,iBAAK9C,UAAU,qEAAf,WACC,gBAAKwF,IAAG,UAAKT,EAAL,yBAAqCW,IAAI,MAChC,OAAfrE,GAA+C,OAAxBvB,KACxB,iCACC,gBAAKE,UAAU,uBAAf,UACC,SAAC+F,EAAA,EAAD,CACC3D,QAAQ,cAER4D,MAAO3E,GAAcvB,OAGvB,iBAAME,UAAU,qBAAqBS,QArEhB,WACvBX,EACHuF,GAAsB,IAEtB7D,GAAiB,GACjBF,EAAc,MAEf,iBAsED,E,yKC/FY2E,GAAoB,SAAC/G,GACjC,IAAQgH,EAA8EhH,EAA9EgH,SAAUC,EAAoEjH,EAApEiH,aAAcC,EAAsDlH,EAAtDkH,OAAQ1E,EAA8CxC,EAA9CwC,UAAW2E,EAAmCnH,EAAnCmH,cAAnD,EAAsFnH,EAApBoH,SAAAA,OAAlE,MAA6E,KAA7E,EACA,OACC,iCACGA,IACD,SAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACC,SAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,UACC,UAACC,EAAA,EAAD,CACC,aAAW,YACX9D,KAAK,YACLkD,MAAOE,EACPW,SAAUV,EACVnG,UAAU,yCALX,WAOC,SAAC8G,EAAA,EAAD,CAAkBd,MAAM,QAAQe,SAAS,SAACC,EAAA,EAAD,CAAOzG,MAAM,YAAc0G,MAAM,WAC1E,SAACH,EAAA,EAAD,CACCd,MAAM,SACNe,SAAS,SAACC,EAAA,EAAD,CAAOzG,MAAM,YACtB0G,MAAM,mBAOG,UAAbf,IACA,SAACK,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACC,SAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIO,GAAI,EAAvB,UACC,iBAAKlH,UAAU,sBAAf,WACC,gBAAKA,UAAU,4CAAf,yBAEA,SAAC,KAAD,CACC8C,KAAK,QACLqE,kBAAmBC,GAAAA,GACnBH,MAAM,GACNI,YAAY,yBACZC,YAAY,OACZC,YAAY,KACZC,eAAc,WAAM9F,EAAN,iBACd+F,kBAAmB,SAACC,GAAD,MAAqB,CACvCC,MAAO,CACND,OAAAA,EACAE,SAAU,QAHO,EAMnB5B,MAAOP,IAAIW,EAAQ,qBACnByB,eAAe,UACfC,SAAO,EACPC,cAAc,EACdC,aAAa,EACbnB,SAAU,SAACoB,GACV5B,EAAc,oBAAqB4B,EACnC,WAMQ,WAAb/B,IACA,SAACK,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACC,SAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIO,GAAI,EAAvB,UACC,iBAAKlH,UAAU,sBAAf,WACC,gBAAKA,UAAU,4CAAf,uCAIA,SAAC,KAAD,CACC8C,KAAK,QACLqE,kBAAmBC,GAAAA,GACnBH,MAAM,GACNI,YAAY,qBACZC,YAAY,OACZC,YAAY,KACZC,eAAc,WAAM9F,EAAN,gBACd+F,kBAAmB,SAACC,GAAD,MAAqB,CACvCC,MAAO,CACND,OAAAA,GAFiB,EAKnB1B,MAAOP,IAAIW,EAAQ,cACnByB,eAAe,UACfC,SAAO,EACPC,cAAc,EACdC,aAAa,EACbnB,SAAU,SAACoB,GACV5B,EAAc,aAAc4B,EAC5B,aAQR,E,4DChGYC,GAAoB,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,WAAYC,EAAuB,EAAvBA,UACvC1G,GAAcC,EAAAA,EAAAA,KAAdD,UACA2G,GAAqBC,EAAAA,GAAAA,MAArBD,iBACAE,GAAMC,EAAAA,GAAAA,MAAND,EAER,OACC,SAAC,UAAD,CACCE,OAAO,YACP3F,KAAK,eACLgD,IAAG,WAAMpE,EAAN,4BACHgH,gBAAgB,EAChBC,OAAO,OACPC,OAAQ,CACP,CACC9F,KAAM,UACN+F,UAAU,EACVC,YAAa,IAEd,CACChG,KAAM,QACN+F,UAAU,EACV7C,MAAOmC,EAAWY,QAClBD,YAAa,IAEd,CACChG,KAAM,OACN+F,UAAU,EACV7C,MAAOmC,EAAWa,KAClBF,YAAa,KAGfV,UAAW,WACVA,GACA,EACDa,QAAS,SAACC,EAAOC,GAAoB,IAAD,IAC7BC,GAAYF,SAAA,UAAAA,EAAO/E,gBAAP,mBAAiBK,YAAjB,eAAuB6E,UAAW,uBACpDhB,EAAiB,CAAEgB,QAASD,EAAWhH,QAAS,SAChD,EA/BF,SAiCE,YAA+B,IAA5BgE,EAA2B,EAA3BA,OAAQkD,EAAmB,EAAnBA,aACX,OACC,iBAAKtJ,UAAU,YAAf,WACC,gBAAKA,UAAU,qBAAf,UACC,iBAAKA,UAAU,6BAAf,WACC,gBAAKA,UAAU,iDAAf,4BACA,SAAC,KAAD,CACCuJ,UAAWC,GAAAA,GACX3G,KAAK,OACLwE,YAAY,qBACZvE,KAAK,UACL2G,aAAa,cAIhB,iBAAKzJ,UAAU,wCAAf,WACC,SAACmC,EAAA,EAAD,CACCC,QAAQ,YACRvB,SAAUyI,EACV7I,QAAS,WACR2H,GACA,EALF,SAOEG,EAAE,aAEJ,SAACpG,EAAA,EAAD,CACCnC,UAAU,QACVoC,QAAQ,YACR7B,MAAM,UACNM,SAAUyI,IAAiBlD,EAAO2C,QAClClG,KAAK,SALN,uBAUAyG,GAAe,SAAC,KAAD,CAAQI,OAAK,EAACC,aAAW,IAAM,OAGjD,GAGH,E,uBCvDKC,IAAYC,EAAAA,EAAAA,IAAW,SAACC,GAAD,MAAY,CACxCC,YAAa,CACZ5J,MAAO,QAER6J,YAAa,CACZC,UAAWH,EAAMrD,QAAQ,IAE1ByD,SAAU,GAPkB,IA40B7B,GAnzByB,SAAC,GAWZ,IAVbZ,EAUY,EAVZA,aACAlD,EASY,EATZA,OACAC,EAQY,EARZA,cACA8D,EAOY,EAPZA,SACAC,EAMY,EANZA,YACAC,EAKY,EALZA,SACAC,EAIY,EAJZA,WACAC,EAGY,EAHZA,cACAC,EAEY,EAFZA,OAEY,IADZlE,SAAAA,OACY,SACNmE,EAAUb,KAChB,GAA4C7J,EAAAA,EAAAA,MAApC2K,EAAR,EAAQA,cAAeC,EAAvB,EAAuBA,iBACfpC,GAAMC,EAAAA,GAAAA,MAAND,EAEFqC,EAAkB,SAACC,GACxB,OAAQA,GACP,IAAK,WASL,IAAK,SAGL,QACC,MAAO,QAXR,IAAK,QACL,IAAK,SACL,IAAK,UACL,IAAK,SACL,IAAK,YACJ,OAAOA,EAQT,EAOKC,EAAsB,SAACC,GAAD,OAAoBA,aAApB,EAAoBA,EAAQC,MAAM,GAAI,EAAtC,EAEtBC,GAAOC,EAAAA,EAAAA,MACb,GAA4C/L,EAAAA,EAAAA,UAAS,IAArD,eAAOgM,EAAP,KAAuBC,EAAvB,KACA,GAA2CjM,EAAAA,EAAAA,WAAS,GAApD,gBAAOkM,GAAP,MAAsBC,GAAtB,MACA,IAAoCnM,EAAAA,EAAAA,UAAS,MAA7C,iBAAOkC,GAAP,MAAmBC,GAAnB,MACA,IAA0CnC,EAAAA,EAAAA,WAAS,GAAnD,iBAAOoC,GAAP,MAAsBC,GAAtB,MACA,IAA0BrC,EAAAA,EAAAA,UAASiH,EAAOpB,OAA1C,iBAAOA,GAAP,MAAcvD,GAAd,MACA,IAAgCtC,EAAAA,EAAAA,UAAS,YAAzC,iBAAOoM,GAAP,MAAiBC,GAAjB,MACA,IAAkCrM,EAAAA,EAAAA,UACjCyL,EAAgBtE,EAAWsE,EAAgBtE,EAASuE,WAAa,UADlE,iBAAOA,GAAP,MAAkBY,GAAlB,MAGA,IAAwCtM,EAAAA,EAAAA,UAASiH,EAAOyE,WAAxD,iBAAOa,GAAP,MAAqBC,GAArB,MACA,IAAyCxM,EAAAA,EAAAA,UACxCmH,EAAW,IAAIsF,KAAKd,EAAoBxE,aAAD,EAACA,EAAUuF,aAAe,IAAID,KAAKxF,EAAOyF,aADlF,iBAAOC,GAAP,MAAqBC,GAArB,MAIA,IAAqD5M,EAAAA,EAAAA,UAAc,CAClE6M,MAAO,IAAIJ,KAAKtF,EAAWwE,EAAoBxE,aAAD,EAACA,EAAUuF,YAAczF,EAAOyF,YAE9EI,IACC3F,IAAa4F,KAAO5F,aAAD,EAACA,EAAU6F,UAC3B,IAAIP,KAAKtF,EAAWwE,EAAoBxE,aAAD,EAACA,EAAU6F,UAAY/F,EAAO+F,UACrE,OANL,iBAAOC,GAAP,MAA2BC,GAA3B,MASA,IAAmDlN,EAAAA,EAAAA,UAC3B,WAAvBmH,EAASuE,UACOvE,EAASgG,YAhCVC,QACd,SAACC,EAAUC,GAAX,wBAA6BD,GAA7B,UAAC,UAAsCC,GAAvC,IAA6CC,KAAM,IAAId,KAAKa,EAAKnN,SAAjE,GACA,IA+BE,CAAC,CAAE4F,GAAI+F,EAAMyB,KAAM,IAAId,QAH3B,iBAAOe,GAAP,MAA0BC,GAA1B,MAMA,GAA0BC,EAAAA,SAAoB,CAC7CC,UAAU,EACVC,UAASzG,GAAW4F,KAAO5F,EAAS6F,UACpCa,WAAW,EACX9G,SAAUI,EAAWF,EAAOvD,KAAO,QACnCyG,cAAc,EACd2D,iBAAgB3G,GAAWF,EAAO6G,iBANnC,iBAAOC,GAAP,MAAcC,GAAd,MAQQzL,IAAcC,EAAAA,EAAAA,KAAdD,UACF0L,IAAiBC,EAAAA,EAAAA,SAAO,GAEtBL,GAAwBE,GAAxBF,UAAW9G,GAAagH,GAAbhH,SAEboH,GAAoB,SAACC,GAC1BJ,IAAS,kBAAKD,IAAN,cAAcK,EAAMC,OAAO1K,KAAOyK,EAAMC,OAAOC,UACvD,GAEDzL,EAAAA,EAAAA,YAAU,WACTqE,EAAc,iBAAkB6G,GAAMD,eACtC,GAAE,CAACC,GAAMD,kBAEVjL,EAAAA,EAAAA,YAAU,WAwtBX,IAAoB0L,EACbC,EADaD,EAvtBHtH,EAAO4C,MAwtBjB2E,EAAWC,SAASC,cAAc,QAC/BC,UAAYJ,EACdK,GAAkBJ,KAztBvBpD,EAAc,OAAQ,YACtBlE,EAAc,OAAQ,IAEvB,GAAE,CAACD,EAAO4C,QAEXhH,EAAAA,EAAAA,YAAU,WACL0I,GACHjJ,IAAS,SAAC6C,GAAD,wBAAwBA,GAAxB,CAAmCoG,GAAnC,GAEV,GAAE,CAACA,KAEJ1I,EAAAA,EAAAA,YAAU,WACT,OAAO,WACNP,GAAS,IACTkJ,EAAiB,KACjB,CACD,GAAE,KAEH3I,EAAAA,EAAAA,YAAU,WACTqE,EAAc,QAASrB,GACvB,GAAE,CAACA,MAEJhD,EAAAA,EAAAA,YAAU,WACQ,QAAbuJ,IAIHlF,EAAc,aAAc,OAC5BA,EAAc,WAAY,OAE1BA,EAAc,YAAa,cAE3BA,EAAc,aAAcyF,IAC5BzF,EAAc,YAAaqF,IAE5B,GAAE,CAACH,KAEJ,IAAMhM,GAAU,SAACyO,EAAiBC,EAAYjI,GACzCkH,GAAMc,IACLd,GAAMJ,UAETzG,EAAc4H,EAAO,OAGtB5H,EAAc,WAAY,OAE1BA,EAAc4H,EAAOjI,EAEtB,GAEDhE,EAAAA,EAAAA,YAAU,YACT,WACC,OAAQ0J,IACP,IAAK,WACJrF,EAAc,YAAa,YAC3B,MAED,IAAK,SACJA,EAAc,YAAawE,IAC3BtL,GAAQ,WAAY,aAAc6M,GAAmBJ,OACrDzM,GAAQ,UAAW,WAAY6M,GAAmBH,KAClD,MAED,IAAK,SACJ5F,EAAc,YAAa,UAC3B,MAED,UAhBF,GAoBA,GAAE,CAACqF,GAAcb,MAGlB7I,EAAAA,EAAAA,YAAU,WACTqE,EAAc,aAAcyF,IAC5BzF,EAAc,WAAYyF,GAC1B,GAAE,CAACA,MAEJ9J,EAAAA,EAAAA,YAAU,WACTzC,GAAQ,WAAY,aAAc6M,GAAmBJ,OACrDzM,GAAQ,UAAW,WAAY6M,GAAmBH,IAClD,GAAE,CAACG,MAEJpK,EAAAA,EAAAA,YAAU,WACTzC,GAAQ,WAAY,aAAc6M,GAAmBJ,OACrDzM,GAAQ,UAAW,WAAY6M,GAAmBH,IAClD,GAAE,CAACiB,MAEJlL,EAAAA,EAAAA,YAAU,WACT,IAAMkM,EAAQvB,GAAkBrH,KAAI,SAAC6I,GAAD,MAAoB,CACvD7O,KAAMN,IAAMmP,EAASzB,MAAMrM,OAAO,uBADC,IAGpCgG,EAAc,cAAe6H,EAC7B,GAAE,CAACvB,MAEJ3K,EAAAA,EAAAA,YAAU,WACLgL,IACH3G,EAAc,mBAAe+H,EAE9B,GAAE,CAACpB,MAEJhL,EAAAA,EAAAA,YAAU,WACLoL,GAAeiB,QAClBjB,GAAeiB,SAAU,GAGrB,YAAa7D,GAAU0C,GAAM5D,cAChCgF,GAAyB,WAEtB,SAAU9D,KAAY,YAAaA,IAAW0C,GAAM5D,cACvDgF,GAAyB,QAG3B,GAAE,CAAC9D,EAAQ0C,GAAM5D,gBAElBtH,EAAAA,EAAAA,YAAU,WACLkL,GAAM5D,cACTiF,YAAW,WACVpB,IAAS,SAACqB,GAAD,eAAC,UAAoBA,GAArB,IAA2BlF,cAAc,GAAzC,GACT,GAAE,IAEJ,GAAE,CAAC4D,GAAM5D,eAEV,IAAMnD,GAAe,SAAC,GAAsC,IAAD,IAAnCqH,OAAUxH,EAAyB,EAAzBA,MAGjC,OAH0D,EAAlBlD,MAIvC,IAAK,WACJ0I,GAAYxF,GACZ,MAED,IAAK,iBACJ2F,GAAgB3F,GAChB,MAED,IAAK,YACJyF,GAAazF,GACb,MAED,IAAK,YACJmH,IAAS,SAACqB,GAAD,eAAC,UAAoBA,GAArB,IAA2BtI,SAAUF,GAArC,IACTK,EAAc,OAAQL,GACtB,MAED,QACC,OAAO,KAET,EAsBD,SAASsI,GAAyBL,GACjC,IAAMQ,EAAQb,SAASc,cAAT,YACR1F,EAAO4E,SAASc,cAAT,SACC,YAAVT,IAAqBQ,SAAAA,EAAOE,eAAe,CAAEC,MAAO,QAASC,SAAU,YAC7D,SAAVZ,IAAkBjF,SAAAA,EAAM2F,eAAe,CAAEC,MAAO,QAASC,SAAU,WACvE,CAMD,IAAMC,GAAsB,kBAAMxD,IAAkB,SAACkD,GAAD,OAAWA,CAAX,GAAxB,EAE5B,OACC,SAACO,EAAA,EAAD,CAAO/O,UAAU,kBAAjB,UACC,SAAC,EAAAgP,EAAD,CAAyBC,MAAOC,EAAAA,EAAhC,UACC,iBAAKlP,UAAU,6CAAf,WAEGsK,IACD,SAACrE,GAAD,CACCC,SAAUA,GACVC,aAAcA,GACdC,OAAQA,EACR1E,UAAWA,GACX2E,cAAeA,EACfC,SAAUA,KAGVA,IACD,+BACC,UAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAG0I,WAAW,SAAvC,WACC,SAAC5I,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIO,GAAI,EAAGkI,GAAI,EAAGC,GAAI,EAArC,UACC,gBAAKrP,UAAU,wBAAf,UAEC,SAAC,KAAD,CACC8C,KAAK,QACLqE,kBAAmBC,GAAAA,GACnBH,MAAM,GACNI,YAAY,6BACZC,YAAY,UACZC,YAAY,KACZC,eAAc,WAAM9F,GAAN,4BACd+F,kBAAmB,SAACC,GAAD,MAAqB,CACvCC,MAAO,CACND,OAAAA,GAFiB,EAKnB1B,MAAOmF,EACPtD,eAAe,UACfE,cAAc,EACdC,aAAa,EACbnB,SAAU,SAACoB,GACVmD,EAAkBnD,GACdA,GACH5B,EAAc,UAAW4B,EAAOwG,OAChCpI,EAAc,OAAQ4B,EAAOe,QAE7B3C,EAAc,UAAW,KACzBA,EAAc,OAAQ,KAEvB,SAIJ,SAACE,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIO,GAAI,EAAGkI,GAAI,EAA9B,UACC,SAACjN,EAAA,EAAD,CACCC,QAAQ,YACR7B,MAAM,UACNM,SAAUyI,EACVC,UAAW+F,EAAAA,GACXtP,UAAU,cACVuP,GAAE,wBANH,kCAeJ,SAAChJ,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACC,SAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIO,GAAI,EAAGkI,GAAI,EAAGC,GAAI,EAArC,UACC,iBAAKrP,UAAU,sBAAsBkF,GAAI,UAAzC,WACC,iBAAKlF,UAAU,4CAAf,wBAEC,SAAC,KAAD,CAAaA,UAAU,uBAExB,SAAC,KAAD,CACCuJ,UAAWC,GAAAA,GACX3G,KAAK,OAILwE,YAAY,kBACZvE,KAAK,UACLV,QAAQ,WACR5B,KAAK,QACLgP,WAAS,EACT/F,aAAa,gBAKjB,iBAAKzJ,UAAU,sBAAsBkF,GAAI,OAAzC,WACC,iBAAKlF,UAAU,4CAAf,yBAEC,SAAC,KAAD,CAAaA,UAAU,uBAExB,SAAC,KAAD,CACCuJ,UAAWkG,EAAAA,EACX5M,KAAK,OACLC,KAAK,OACL4M,OAAQ,aACFvF,SAAAA,EAAUlC,OAAQkD,KAEzB,SAAC,KAAD,CAAcrI,KAAK,OAAnB,SACE,SAACuG,GAAD,OACA,gBAAKrJ,UAAU,6FAAf,SACEqJ,GAFF,QAOH,UAAC9C,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,WACC,SAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIO,GAAI,EAAvB,UACC,iBAAKlH,UAAU,sBAAf,WACC,gBAAKA,UAAU,4CAAf,0BACA,SAAC,EAAD,CACCqB,WAAYA,GACZC,cAAeA,GACfC,cAAeA,GACfC,iBAAkBA,GAClBwD,MAAOA,GACPvD,SAAUA,WAIb,UAAC8E,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIO,GAAI,EAAGkI,GAAI,EAAGC,GAAI,EAArC,WACC,iBAAKrP,UAAU,sBAAf,WACC,gBAAKA,UAAU,4CAAf,2BACA,SAAC,EAAD,QAED,iBAAKA,UAAU,yCAAf,WACC,gBAAKA,UAAU,kCAAf,6BACA,SAAC,KAAD,CACCuJ,UAAWoG,GAAAA,GACX3P,UAAU,eACV4P,gBAAgB,SAChB5H,aAAW,EACXD,cAAY,EACZjF,KAAK,SACL+M,QAASxF,EACThD,YAAY,wBACZyI,OAAQC,GAAAA,SAGV,gBAAK/P,UAAU,sBAAf,UACC,SAAC8G,EAAA,EAAD,CACCC,SACC,SAACiJ,EAAA,EAAD,CACCvC,QAASP,GAAMD,eACfpG,SAAUyG,GACVxK,KAAK,iBACLvC,MAAM,YAGR0G,MAAM,sBACNwD,QAAS,CAAExD,MAAO,yBAGnBb,EAAO6G,iBACP,iBAAKjN,UAAU,4CAAf,WACC,gBAAKA,UAAU,6CAAf,yBACA,gBAAKA,UAAU,wBAAf,UAEC,SAAC,KAAD,CACC8C,KAAK,QACLmE,MAAM,GACNE,kBAAmBC,GAAAA,GACnBC,YAAY,yBACZC,YAAY,OACZC,YAAY,KACZC,eAAc,WAAM9F,GAAN,iBACd+F,kBAAmB,SAACC,GAAD,MAAqB,CACvCC,MAAO,CACND,OAAAA,EACAE,SAAuB,UAAb1B,GAAuB,OAAS,SAHzB,EAMnBF,MAAOP,IAAIW,EAAQ,cACnByB,eAAe,UACfE,cAAc,EACdC,aAAa,EACbiI,aAAa,iBACbpJ,SAAU,SAACoB,GACV5B,EAAc,aAAc4B,EAC5B,SAKJ7B,EAAO8J,aACP,iBAAKlQ,UAAU,sBAAf,WACC,gBAAKA,UAAU,6CAAf,6BACA,gBAAKA,UAAU,wBAAf,UAEC,SAAC,KAAD,CACC8C,KAAK,QACLqE,kBAAmBC,GAAAA,GAEnBH,MAAM,GACNI,YAAY,6BACZC,YAAY,OACZC,YAAY,KACZC,eAAc,WAAM9F,GAAN,wBAA+B+D,IAC5CW,EACA,iBAFa,qBAIdqB,kBAAmB,SAACC,GAAD,MAAqB,CACvCC,MAAO,CACND,OAAAA,GAFiB,EAKnB1B,MAAOP,IAAIW,EAAQ,kBACnByB,eAAe,UACfE,cAAc,EACdC,aAAa,EACbnB,SAAU,SAACoB,GACV5B,EAAc,iBAAkB4B,EAChC,SAKH,WACD,KAAOxC,IAAIW,EAAQ,wCAA0C,GAC5D,OACC,iBAAKpG,UAAU,sBAAf,WACC,gBAAKA,UAAU,6CAAf,qDAGA,gBAAKA,UAAU,wBAAf,UAEC,SAAC,KAAD,CACC8C,KAAK,QACLmN,aAAa,iBACbhJ,MAAM,GACNI,YAAY,6BACZC,YAAY,OACZC,YAAY,KACZC,eAAc,WAAM9F,GAAN,wBAA+B+D,IAC5CW,EACA,qBAFa,qBAIdqB,kBAAmB,SAACC,GAAD,MAAqB,CACvCC,MAAO,CACND,OAAAA,GAFiB,EAKnB1B,MAAOP,IAAIW,EAAQ,kBACnByB,eAAe,UACfE,cAAc,EACdC,aAAa,EACbnB,SAAU,SAACoB,GACV5B,EAAc,iBAAkB4B,EAChC,QAMN,CArCC,IAsCF,gBAAKjI,UAAU,sBAAf,UACC,SAAC4G,EAAA,EAAD,CACC,aAAW,OACX9D,KAAK,WACLkD,MAAOuF,GACP1E,SAAUV,GAJX,UAMC,iBAAKnG,UAAU,OAAf,WACC,SAAC8G,EAAA,EAAD,CACCd,MAAM,MACNe,SAAS,SAACC,EAAA,EAAD,CAAOzG,MAAM,YACtB0G,MAAM,cAEP,SAACH,EAAA,EAAD,CACCd,MAAM,WACNe,SAAS,SAACC,EAAA,EAAD,CAAOzG,MAAM,YACtB0G,MAAM,oBAKI,aAAbsE,KACA,iCACC,iBAAKvL,UAAU,sBAAf,WACC,gBAAKA,UAAU,4CAAf,iCAGA,SAAC4G,EAAA,EAAD,CACC,aAAW,YACX9D,KAAK,iBACLkD,MAAO0F,GACP7E,SAAUV,GAJX,UAMC,iBAAKnG,UAAU,OAAf,WACC,SAAC8G,EAAA,EAAD,CACCd,MAAM,WACNe,SAAS,SAACC,EAAA,EAAD,CAAOzG,MAAM,YACtB0G,MAAM,cAEP,SAACH,EAAA,EAAD,CACCd,MAAM,SACNe,SAAS,SAACC,EAAA,EAAD,CAAOzG,MAAM,YACtB0G,MAAM,YAEP,SAACH,EAAA,EAAD,CACCd,MAAM,SACNe,SAAS,SAACC,EAAA,EAAD,CAAOzG,MAAM,YACtB0G,MAAM,4BAMQ,aAAjByE,KACA,gBAAK1L,UAAU,yCAAf,UACC,SAACmQ,EAAA,EAAD,CACClJ,MAAM,YACNzG,KAAK,QACLgP,WAAS,EACTY,aAAa,WACbpK,MAAO8F,GACPjF,SAAUkF,OAKK,WAAjBL,KACA,iCACC,gBAAK1L,UAAU,yCAAf,UACC,SAACqQ,EAAA,EAAD,CAAajO,QAAQ,WAAWpC,UAAWyK,EAAQV,YAAnD,UACC,SAACuG,GAAA,EAAD,CACCpL,GAAG,2BACHqL,QAAM,EACNzN,KAAK,YACLkD,MAAO6E,GACP5D,MAAM,mBACN7E,QAAQ,WACR5B,KAAK,QACLqG,SAAUV,GARX,SAUEiE,EAAY9E,KAAI,SAACkL,GAAD,OAChB,SAACC,EAAA,EAAD,CAAUzK,MAAOwK,EAAKE,KAAtB,SACEF,EAAK1N,MAD0B0N,EAAKE,KADtB,WASpB,gBAAK1Q,UAAU,yCAAf,UACC,UAACuG,EAAA,EAAD,CAAMC,WAAS,EAACE,MAAI,EAACC,GAAI,GAAIF,QAAS,EAAG0I,WAAW,SAApD,WACGjC,GAAMJ,WACP,SAACvG,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIO,GAAI,EAAvB,UACC,SAACiJ,EAAA,EAAD,CACClJ,MAAM,aACNmJ,aAAa,WACbpK,MAAOoG,GAAmBJ,MAC1BxL,KAAK,QACLgP,WAAS,EACT3I,SAAU,SAAC6F,GAAD,OACTL,IAAuB,SAAC/H,GAAD,eAAC,UACpBA,GADmB,IAEtB0H,MAAOU,GAFe,GADd,OAUb,SAACnG,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIO,GAAI,EAAvB,UACC,SAACJ,EAAA,EAAD,CACCC,SACC,SAACiJ,EAAA,EAAD,CACCvC,QAASP,GAAMJ,SACfjG,SAAUyG,GACVxK,KAAK,WACLvC,MAAM,YAGR0G,MAAM,YACNwD,QAAS,CAAExD,MAAO,+BAKtB,gBAAKjH,UAAU,yCAAf,UACC,UAACuG,EAAA,EAAD,CAAMC,WAAS,EAACE,MAAI,EAACC,GAAI,GAAIF,QAAS,EAAG0I,WAAW,SAApD,WACGjC,GAAMH,UACP,SAACxG,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIO,GAAI,EAAvB,UACC,SAACiJ,EAAA,EAAD,CACClJ,MAAM,WACNmJ,aAAa,WACb5P,KAAK,QACLgP,WAAS,EACTxJ,MAAOoG,GAAmBH,IAC1BpF,SAAU,SAAC6F,GAAD,OACTL,IAAuB,SAAC/H,GAAD,eAAC,UACpBA,GADmB,IAEtB2H,IAAKS,GAFiB,GADd,OASb,SAACnG,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIO,GAAI,EAAvB,UACC,SAACJ,EAAA,EAAD,CACCC,SACC,SAACiJ,EAAA,EAAD,CACCvC,QAASP,GAAMH,QACflG,SAAUyG,GACVxK,KAAK,UACLvC,MAAM,YAGR0G,MAAM,sBAQM,WAAjByE,KACA,iBAAK1L,UAAU,sBAAf,WACC,gBAAKA,UAAU,OAAf,SACE2M,GAAkBrH,KAAI,SAAC6I,GAAD,OACtB,gBAAKnO,UAAU,yCAAf,UACC,UAACuG,EAAA,EAAD,CAAMC,WAAS,EAACE,MAAI,EAACC,GAAI,GAAIF,QAAS,EAAG0I,WAAW,SAApD,WACC,SAAC5I,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIO,GAAI,EAAvB,UACC,SAACiJ,EAAA,EAAD,CACClJ,MAAM,aACNmJ,aAAa,WACb5P,KAAK,QACLgP,WAAS,EACTxJ,MAAOmI,EAASzB,KAChB7F,SAAU,SAAC6F,IAndH,SAACA,EAAWxH,GACnC,IAAM4G,EAAea,GAAkBgE,MAAK,SAACjE,GAAD,OAAeA,EAAKxH,KAAOA,CAA3B,IACtC0L,EAAgBjE,GAAkBvH,QAAO,SAACsH,GAAD,OAAeA,EAAKxH,KAAOA,CAA3B,IAC/C4G,EAAaY,KAAOA,EACpB,IAAMmE,EAAO,kBAAOD,GAAP,CAAsB9E,IACnCc,GAAsBiE,EACtB,CA8cgBC,CAAgBpE,EAAMyB,EAASjJ,GAC/B,OAGH,SAACqB,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGO,GAAI,EAAtB,UACC,SAAC6J,GAAA,EAAD,CACC,aAAW,SACX/Q,UAAWyK,EAAQP,SACnBzJ,QAAS,kBApdMyE,EAodsBiJ,EAASjJ,GAndvD0L,EAAgBjE,GAAkBvH,QAAO,SAACsH,GAAD,OAAeA,EAAKxH,KAAOA,CAA3B,SAC/C0H,GAAsBgE,GAFO,IAAC1L,EACxB0L,CAmdkB,EAHV,UAKC,SAACI,GAAA,EAAD,YApByD7C,EAASjJ,GADhD,OA4BxB,SAAC/C,EAAA,EAAD,CACCC,QAAQ,WACR7B,MAAM,UACNE,QAAS,WACRmM,IAAsB,SAACtI,GAAD,wBAClBA,GADkB,CAErB,CAAEY,GAAI+F,EAAMyB,KAAM,IAAId,OAFD,GAItB,EARF,8BAcF,iBAAK5L,UAAU,sBAAf,WACC,gBAAKA,UAAU,4CAAf,uBACA,gBAAKA,UAAU,wBAAf,UAEC,SAAC,KAAD,CACC8C,KAAK,QACLqE,kBAAmBC,GAAAA,GACnBH,MAAM,GACNI,YAAY,wBACZC,YAAY,QACZC,YAAY,KACZC,eAAe,cACfC,kBAAmB,SAACC,GAAD,MAAqB,CACvCC,MAAO,CACND,OAAAA,GAFiB,EAKnB1B,MAAOP,IAAIW,EAAQ,YACnByB,eAAe,UACfE,cAAc,EACdC,aAAa,EACbiI,aAAa,iBACbpJ,SAAU,SAACoB,GACV5B,EAAc,WAAY4B,EAC1B,mBASR,iBAAKjI,UAAU,sBAAf,WACC,SAACmC,EAAA,EAAD,CACCC,QAAQ,YACRvB,SAAUyI,EACVC,UAAW+F,EAAAA,GACXtP,UAAU,QACVuP,GAAIjF,EAAU,+BAA2BA,GAAe,kBALzD,SAOE/B,EAAE,aAEJ,SAACpG,EAAA,EAAD,CACCnC,UAAU,QACVoC,QAAQ,YACR7B,MAAM,UACNM,SAAUyI,EACVzG,KAAK,SACLpC,QAvhBqB,WAC1B8N,YAAW,WACVD,GAAyB,UACzB,GAAE,GACHnB,IAAS,SAACqB,GAAD,eAAC,UAAoBA,GAArB,IAA2BlF,cAAc,GAAzC,GACT,EA4gBI,mBAQKhD,EAAW,SAAW,YAE1BgD,GAAe,SAAC,KAAD,CAAQI,OAAK,EAACC,aAAW,IAAM,MAC7CwB,GAAkB/E,EAAO2C,SAAW3C,EAAO4C,OAAS1C,IACrD,SAACnE,EAAA,EAAD,CACCnC,UAAU,QACVoC,QAAQ,YACR7B,MAAM,UACNM,SAAUyI,EACV7I,QAASqO,GALV,kCAWF,SAACmC,GAAA,EAAD,CAAYC,gBAAiBpC,GAAqBqC,OAAQ9F,GAA1D,UACC,SAACnD,GAAD,CAAmBC,WAAY/B,EAAQgC,UAAW0G,aAMvD,EAWD,SAASf,GAAkBqD,GAC1B,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAQE,WAAWC,OAAQF,IAAK,CACnD,IAAMG,EAAQJ,EAAQE,WAAWD,GACjC,GAAIG,aAAiBC,KACpB,OAAO,EACD,IAAiC,IAA7B1D,GAAkByD,GAC5B,OAAO,CAER,CACD,OAAO,CACP,C,gFCr4BM,SAASE,EAAe1L,GAC9B,MAAiB,QAAVA,EACJhH,IAAM,IAAI4M,MAAQvL,OAAO,uBACzBrB,IAAM,IAAI4M,KAAK5F,IAAQ3F,OAAO,sBACjC,C","sources":["pages/News/components/RecorderForm.tsx","pages/News/components/FileUploader.tsx","pages/News/components/UploadBox.tsx","pages/News/components/NewsTypeElements.tsx","pages/News/components/CreateTemplatePopup.tsx","pages/News/components/NewsFormElements.tsx","pages/News/utils/formatNewsTime.ts"],"sourcesContent":["import React, { useState } from 'react';\nimport { Avatar, Fab } from '@material-ui/core';\nimport MicRoundedIcon from '@material-ui/icons/MicRounded';\nimport StopIcon from '@material-ui/icons/Stop';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { default as dayjs } from 'dayjs';\nimport { VoiceRecorder } from 'shared/components';\nimport { useUploadAudio } from '../hooks';\nimport { useNewsContext } from '../context/NewsContext';\n\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst utc = require('dayjs/plugin/utc');\ndayjs.extend(utc);\n\nfunction RecorderForm(props: any) {\n\tconst [command, setCommand] = useState<any>(null);\n\tconst [time, setTime] = useState<any>(0);\n\tconst [timerId, setTimerId] = useState<any>(0);\n\tconst [cancel, setCancel] = useState<any>(false);\n\tconst { uploadAudioFile } = useUploadAudio();\n\tconst { audioUploadProgress } = useNewsContext();\n\n\tconst handleStartRecordAudio = () => {\n\t\tconst timerId = setInterval(() => {\n\t\t\tsetTime((time: any) => time + 1000);\n\t\t}, 1000);\n\n\t\tsetTimerId(timerId);\n\t\tsetCommand('start');\n\t\tsetTime(0);\n\t};\n\n\tconst handleStopRecordAudio = () => {\n\t\tclearInterval(timerId);\n\t\tsetCancel(false);\n\t\tsetCommand('stop');\n\t};\n\n\tconst handleCancelRecord = () => {\n\t\tsetCancel(true);\n\t\tclearInterval(timerId);\n\t\tsetCommand('stop');\n\t};\n\n\tconst handleOnStopRecording = (blob: any) => {\n\t\tif (!cancel) {\n\t\t\tvoid uploadAudioFile(blob);\n\t\t}\n\t\tsetCommand(null);\n\t};\n\n\treturn (\n\t\t<div className=\"recorder-box flex items-center\">\n\t\t\t{command === 'start' && (\n\t\t\t\t<div className=\"recorder-box__counter mr-5\">\n\t\t\t\t\t<div className=\"w-100 mr-4 flex\">\n\t\t\t\t\t\t<div className=\"knx-recording-pulse\" />\n\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\tclassName=\"rct-notify mr-2.5 rounded-full !bg-kred-pink\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: '20px',\n\t\t\t\t\t\t\t\theight: '20px'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t{/*@ts-ignore*/}\n\t\t\t\t\t\t<div className=\"knx-recording-text\">{dayjs(time).utc().format('HH:mm:ss')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<div className=\"recorder-box__actions\">\n\t\t\t\t{command === 'start' && (\n\t\t\t\t\t<Fab\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t// aria-label=\"file-attach\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tclassName=\"!mr-2\"\n\t\t\t\t\t\tonClick={handleCancelRecord}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ClearIcon />\n\t\t\t\t\t</Fab>\n\t\t\t\t)}\n\t\t\t\t{command === 'start' && (\n\t\t\t\t\t<Fab\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\taria-label=\"voice-message\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={handleStopRecordAudio}\n\t\t\t\t\t>\n\t\t\t\t\t\t<StopIcon />\n\t\t\t\t\t</Fab>\n\t\t\t\t)}\n\t\t\t\t{!command && (\n\t\t\t\t\t<div className=\"case-chat-btn-wr mic-scroll\">\n\t\t\t\t\t\t<Fab\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\taria-label=\"voice-message\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tdisabled={!!audioUploadProgress}\n\t\t\t\t\t\t\tonClick={handleStartRecordAudio}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MicRoundedIcon />\n\t\t\t\t\t\t</Fab>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<VoiceRecorder command={command} onStop={handleOnStopRecording} />\n\t\t</div>\n\t);\n}\n\nexport default RecorderForm;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Button from '@material-ui/core/Button';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport Upload from 'rc-upload';\nimport { ErrorBoundary } from 'shared/components';\n\nimport { useAppState } from 'shared/state';\nimport config from 'config';\nimport { useAuth } from 'modules/auth/hooks/useAuth';\n\nconst CancelToken = axios.CancelToken;\nlet cancelAx: any;\nlet currFile: any;\n\nfunction FileUploader({\n\tuploadMeta,\n\tsetUploadMeta,\n\tcancelSending,\n\tsetCancelSending,\n\tsetFiles\n}: any) {\n\tconst { companyId } = useAppState();\n\tconst { token } = useAuth();\n\tconst [progress, setProgress] = useState<any>(null);\n\n\tuseEffect(() => {\n\t\tsetUploadMeta(progress);\n\t}, [progress]);\n\n\tuseEffect(() => {\n\t\tif (cancelSending) {\n\t\t\tconst errorMessage = 'Operation canceled by the user.';\n\t\t\tcancelAx(errorMessage);\n\t\t}\n\t}, [cancelSending]);\n\n\tconst fileOnStart = (file: any) => {\n\t\tconst reader = new FileReader();\n\t\tconst imgFile = file;\n\n\t\treader.readAsDataURL(imgFile);\n\n\t\tcurrFile = {\n\t\t\t...file,\n\t\t\tuid: file.uid,\n\t\t\ttype: file.type,\n\t\t\tname: file.name,\n\t\t\tkey: file.key,\n\t\t\tsize: file.size,\n\t\t\tlastModified: file.lastModified\n\t\t};\n\t};\n\n\tconst fileOnSuccess = (response: any, _file: any, currFile: any) => {\n\t\t// console.log(\"response\", response);\n\t\tsetProgress(null);\n\t\tsetFiles((prevState: any) => [...prevState, response]);\n\t};\n\n\tconst onProgress = ({ percent }: any) => {\n\t\tsetProgress(Number(percent));\n\t};\n\n\tconst onError = (err: any) => {\n\t\tsetCancelSending(false);\n\t\tsetProgress(null);\n\t};\n\n\tconst action = `${config.API_ROOT}/${companyId}/upload/`;\n\n\treturn (\n\t\t<div>\n\t\t\t{!uploadMeta ? (\n\t\t\t\t<Upload\n\t\t\t\t\t//@ts-ignore\n\t\t\t\t\tbeforeUpload={fileOnStart}\n\t\t\t\t\tcustomRequest={({\n\t\t\t\t\t\tfile,\n\t\t\t\t\t\tfilename,\n\t\t\t\t\t\theaders = {\n\t\t\t\t\t\t\tAuthorization: 'Token ' + token\n\t\t\t\t\t\t}\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tconst formData = new FormData();\n\t\t\t\t\t\tformData.append(filename as string, file);\n\t\t\t\t\t\taxios\n\t\t\t\t\t\t\t.post(action, formData, {\n\t\t\t\t\t\t\t\theaders,\n\t\t\t\t\t\t\t\tonUploadProgress: ({ total, loaded }) => {\n\t\t\t\t\t\t\t\t\t//@ts-ignore\n\t\t\t\t\t\t\t\t\tonProgress({ percent: Math.round((loaded / total) * 100).toFixed(2) }, file);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcancelToken: new CancelToken((c) => {\n\t\t\t\t\t\t\t\t\tcancelAx = c;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(({ data: response }) => {\n\t\t\t\t\t\t\t\tfileOnSuccess(response, file, currFile);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\t\tonError(err);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tabort() {\n\t\t\t\t\t\t\t\tconsole.log('upload progress is aborted.');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tclassName=\"pending-upload__btn\"\n\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\tdisabled={!!uploadMeta}\n\t\t\t\t\t\tendIcon={<CloudUploadIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tUpload\n\t\t\t\t\t</Button>\n\t\t\t\t</Upload>\n\t\t\t) : (\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tclassName=\"pending-upload__btn\"\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\tdisabled={!!uploadMeta}\n\t\t\t\t\tendIcon={<CloudUploadIcon />}\n\t\t\t\t>\n\t\t\t\t\tUpload\n\t\t\t\t</Button>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default function FileUploaderWithErrorBoundary(props: any) {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<FileUploader {...props} />\n\t\t</ErrorBoundary>\n\t);\n}\n","import React from 'react';\nimport get from 'lodash/get';\nimport FileUploader from './FileUploader';\nimport config from 'config';\nimport { CircularProgress } from '@material-ui/core';\nimport { useNewsContext } from '../context/NewsContext';\n\nconst imgPath = `${config.PUBLIC_ASSETS}img/`;\n\ntype Props = {\n\tuploadMeta: number | null;\n\tsetUploadMeta: any;\n\tcancelSending: boolean;\n\tsetCancelSending: any;\n\tfiles: any;\n\tsetFiles: any;\n};\n\nconst getFormat = (filename: string) => filename.split('.').pop();\n\nfunction UploadBox({\n\tuploadMeta,\n\tsetUploadMeta,\n\tcancelSending,\n\tsetCancelSending,\n\tfiles,\n\tsetFiles\n}: Props) {\n\tconst removeFile = (id: number) => {\n\t\tconst filteredFiles = files.filter((file: any) => file.id !== id);\n\t\tsetFiles(filteredFiles);\n\t};\n\n\tconst { audioUploadProgress, setAudioCancelSending } = useNewsContext();\n\n\tconst uploadCancelHandler = () => {\n\t\tif (audioUploadProgress) {\n\t\t\tsetAudioCancelSending(true);\n\t\t} else {\n\t\t\tsetCancelSending(true);\n\t\t\tsetUploadMeta(null);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"uploadbox flex items-center\">\n\t\t\t<div className=\"uploadbox__btn mr-5\">\n\t\t\t\t<FileUploader\n\t\t\t\t\t{...{ uploadMeta, setUploadMeta, cancelSending, setCancelSending, files, setFiles }}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"uploadbox__display\">\n\t\t\t\t<div className=\"uploadbox__display-list  flex items-center\">\n\t\t\t\t\t{files.map((file: any) => {\n\t\t\t\t\t\tif (file.thumbnail) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div className=\"uploadbox__display-item mb-2.5\" key={file.name}>\n\t\t\t\t\t\t\t\t\t<img src={get(file, 'thumbnail_150')} alt=\"\" />\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"uploadbox__display-item-remove\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => removeFile(file.id)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else if (getFormat(file.name) === 'wav') {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"uploadbox__display-item uploadbox__display-item_audio mb-2.5\"\n\t\t\t\t\t\t\t\t\tkey={file.name}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"uploadbox__display-item-remove\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => removeFile(file.id)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<audio controls>\n\t\t\t\t\t\t\t\t\t\t<source src={file && file.url} type=\"audio/wav\" />\n\t\t\t\t\t\t\t\t\t\t<source src={file && file.url} type=\"audio/mpeg\" />\n\t\t\t\t\t\t\t\t\t\tYour browser does not support the audio element.\n\t\t\t\t\t\t\t\t\t</audio>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div className=\"uploadbox__display-item mb-2.5\" key={file.name}>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"uploadbox__display-item-remove\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => removeFile(file.id)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span className=\"inline-block text-xs leading-3\">{file.name}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t\t<div className=\"uploadbox__display-item uploadbox__display-item_placeholder mb-2.5\">\n\t\t\t\t\t\t<img src={`${imgPath}image-placeholder.png`} alt=\"\" />\n\t\t\t\t\t\t{(uploadMeta !== null || audioUploadProgress !== null) && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className=\"upload-media-spinner\">\n\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\tvariant=\"determinate\"\n\t\t\t\t\t\t\t\t\t\t//@ts-ignore\n\t\t\t\t\t\t\t\t\t\tvalue={uploadMeta || audioUploadProgress}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span className=\"upload-cancel-icon\" onClick={uploadCancelHandler} />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default UploadBox;\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Radio from '@material-ui/core/Radio';\nimport { AsyncSelect } from 'shared/components';\nimport get from 'lodash/get';\nimport { KntTwilioStyle } from 'shared/services';\n\ntype Props = {\n\tnewsType: string;\n\thandleChange: any;\n\tvalues: any;\n\tcompanyId: number | undefined;\n\tsetFieldValue: any;\n\tisUpdate: boolean;\n};\nexport const NewsTypesElements = (props: Props) => {\n\tconst { newsType, handleChange, values, companyId, setFieldValue, isUpdate = null } = props;\n\treturn (\n\t\t<>\n\t\t\t{!isUpdate && (\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\t\taria-label=\"News type\"\n\t\t\t\t\t\t\tname=\"news-type\"\n\t\t\t\t\t\t\tvalue={newsType}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tclassName=\"news-types flex !flex-row items-center\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FormControlLabel value=\"staff\" control={<Radio color=\"primary\" />} label=\"Staff\" />\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tvalue=\"client\"\n\t\t\t\t\t\t\t\tcontrol={<Radio color=\"primary\" />}\n\t\t\t\t\t\t\t\tlabel=\"Clients\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\n\t\t\t{newsType === 'staff' && (\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item xs={12} sm={4}>\n\t\t\t\t\t\t<div className=\"form-page__row mb-5\">\n\t\t\t\t\t\t\t<div className=\"form-page__label text-md mb-2.5 font-bold\">Department</div>\n\t\t\t\t\t\t\t{/* @ts-ignore */}\n\t\t\t\t\t\t\t<AsyncSelect\n\t\t\t\t\t\t\t\tname=\"route\"\n\t\t\t\t\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\t\t\t\t\tlabel=\"\"\n\t\t\t\t\t\t\t\tplaceholder=\"Select Department Name\"\n\t\t\t\t\t\t\t\toptionLabel=\"name\"\n\t\t\t\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\t\t\t\tloadOptionsUrl={`/${companyId}/departments/`}\n\t\t\t\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\tsearch,\n\t\t\t\t\t\t\t\t\t\tis_staff: 'true'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tvalue={get(values, 'staff_departments')}\n\t\t\t\t\t\t\t\tloadOptionsKey=\"results\"\n\t\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\t\tisSearchable={true}\n\t\t\t\t\t\t\t\tisClearable={true}\n\t\t\t\t\t\t\t\tonChange={(option: any) => {\n\t\t\t\t\t\t\t\t\tsetFieldValue('staff_departments', option);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t{newsType === 'client' && (\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item xs={12} sm={4}>\n\t\t\t\t\t\t<div className=\"form-page__row mb-5\">\n\t\t\t\t\t\t\t<div className=\"form-page__label text-md mb-2.5 font-bold\">\n\t\t\t\t\t\t\t\tClient groups (Optional)\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* @ts-ignore */}\n\t\t\t\t\t\t\t<AsyncSelect\n\t\t\t\t\t\t\t\tname=\"route\"\n\t\t\t\t\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\t\t\t\t\tlabel=\"\"\n\t\t\t\t\t\t\t\tplaceholder=\"Client groups here\"\n\t\t\t\t\t\t\t\toptionLabel=\"name\"\n\t\t\t\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\t\t\t\tloadOptionsUrl={`/${companyId}/categories/`}\n\t\t\t\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\tsearch\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tvalue={get(values, 'categories')}\n\t\t\t\t\t\t\t\tloadOptionsKey=\"results\"\n\t\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\t\tisSearchable={true}\n\t\t\t\t\t\t\t\tisClearable={true}\n\t\t\t\t\t\t\t\tonChange={(option: any) => {\n\t\t\t\t\t\t\t\t\tsetFieldValue('categories', option);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import React from 'react';\nimport EntityForm from 'modules/entity/forms';\nimport { Field } from 'formik';\nimport { KntInputField } from 'shared/components/Fields';\nimport { Button } from '@material-ui/core';\nimport { useAppState } from 'shared/state';\nimport { useNotistack } from 'shared/hooks';\nimport { Loader } from 'shared/components';\nimport { useTranslation } from 'react-i18next';\n\ntype Props = {\n\tnewsValues: any;\n\tonSuccess: () => void;\n};\n\nexport const NewsTemplateModal = ({ newsValues, onSuccess }: Props) => {\n\tconst { companyId } = useAppState();\n\tconst { showNotification } = useNotistack();\n\tconst { t } = useTranslation();\n\n\treturn (\n\t\t<EntityForm.Main\n\t\t\tentity=\"templates\"\n\t\t\tname=\"AllTemplates\"\n\t\t\turl={`/${companyId}/notification-templates/`}\n\t\t\tsendAsFormData={false}\n\t\t\tmethod=\"post\"\n\t\t\tfields={[\n\t\t\t\t{\n\t\t\t\t\tname: 'subject',\n\t\t\t\t\trequired: true,\n\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'title',\n\t\t\t\t\trequired: true,\n\t\t\t\t\tvalue: newsValues.subject,\n\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'body',\n\t\t\t\t\trequired: true,\n\t\t\t\t\tvalue: newsValues.body,\n\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t}\n\t\t\t]}\n\t\t\tonSuccess={() => {\n\t\t\t\tonSuccess();\n\t\t\t}}\n\t\t\tonError={(error, resetForm): any => {\n\t\t\t\tconst errorText = error?.response?.data?.message || 'Something went wrong';\n\t\t\t\tshowNotification({ message: errorText, variant: 'error' });\n\t\t\t}}\n\t\t>\n\t\t\t{({ values, isSubmitting }) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"case-form\">\n\t\t\t\t\t\t<div className=\"case-form__content\">\n\t\t\t\t\t\t\t<div className=\"case-form__input-row mb-15\">\n\t\t\t\t\t\t\t\t<div className=\"case-form__input-row-label text-base font-bold\">Template name</div>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Template name here\"\n\t\t\t\t\t\t\t\t\tname=\"subject\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"case-form__submit-row flex-center-end\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tonSuccess();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('cancel')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"!ml-5\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tdisabled={isSubmitting || !values.subject}\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCreate\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{isSubmitting ? <Loader tiled withOverlay /> : null}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}}\n\t\t</EntityForm.Main>\n\t);\n};\n","/*\nDISCLAIMER: THIS COMPONENT ALMOST IS NOT TYPED. BECAUSE\nIT WAS COPIED FROM ACTUALLY TESTED AND WORKING OLD VERSION.\n I ALSO HAD INSUFFICIENT TIME TO MEET DEADLINES\n */\nimport React, { useEffect, useRef, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport { ErrorMessage, Field } from 'formik';\nimport QuillEditorNews from 'shared/components/Fields/QuillEditorNews';\nimport { Link } from 'react-router-dom';\nimport { AsyncSelect, Loader, SupRequired } from 'shared/components';\nimport get from 'lodash/get';\nimport RecorderForm from './RecorderForm';\nimport UploadBox from './UploadBox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport { DateTimePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport DayJsUtils from '@date-io/dayjs';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { nanoid } from 'nanoid';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport IconButton from '@material-ui/core/IconButton';\nimport TextField from '@material-ui/core/TextField';\nimport { NewsTypesElements } from './NewsTypeElements';\nimport dayjs from 'dayjs';\nimport { caseFilterStyle, KntTwilioStyle } from 'shared/services';\nimport { useNewsContext } from '../context/NewsContext';\nimport { useAppState } from 'shared/state';\nimport { WhiteModal } from 'shared/components/Elements/WhiteModal';\nimport { NewsTemplateModal } from './CreateTemplatePopup';\nimport { KntInputField, SelectField } from '../../../shared/components/Fields';\nimport isNull from 'lodash/isNull';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles((theme) => ({\n\tformControl: {\n\t\twidth: '100%'\n\t},\n\tselectEmpty: {\n\t\tmarginTop: theme.spacing(2)\n\t},\n\tpullLeft: {\n\t\t// margin: \"-10px\"\n\t}\n}));\n\ntype Props = {\n\tisSubmitting: boolean;\n\tvalues: any;\n\tsetFieldValue: any;\n\tkeywords: any;\n\tfrequencies: any;\n\tstatuses: any;\n\tcampaignId: number;\n\tisUpdate?: any;\n\tsetFieldError: any;\n\terrors: any;\n};\n\nconst NewsFormElements = ({\n\tisSubmitting,\n\tvalues,\n\tsetFieldValue,\n\tkeywords,\n\tfrequencies,\n\tstatuses,\n\tcampaignId,\n\tsetFieldError,\n\terrors,\n\tisUpdate = false\n}: Props) => {\n\tconst classes = useStyles();\n\tconst { audioResponse, setAudioResponse } = useNewsContext();\n\tconst { t } = useTranslation();\n\n\tconst selectFrequency = (frequency: any) => {\n\t\tswitch (frequency) {\n\t\t\tcase 'ONE_TIME':\n\t\t\t\treturn 'DAILY';\n\t\t\tcase 'DAILY':\n\t\t\tcase 'WEEKLY':\n\t\t\tcase 'MONTHLY':\n\t\t\tcase 'YEARLY':\n\t\t\tcase 'QUARTERLY': {\n\t\t\t\treturn frequency;\n\t\t\t}\n\t\t\tcase 'EVENTS': {\n\t\t\t\treturn 'DAILY';\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\treturn 'DAILY';\n\t\t}\n\t};\n\n\tconst prepareDates = (dates: any) =>\n\t\t(dates as any).reduce(\n\t\t\t(acc: any, curr: any) => [...acc, { ...curr, date: new Date(curr.time) }],\n\t\t\t[]\n\t\t);\n\tconst removeGTMFromString = (string: string) => string?.slice(0, -1);\n\n\tconst uuid = nanoid();\n\tconst [templateOption, setTemplateOption] = useState('');\n\tconst [templateModal, showTemplateModal] = useState(false);\n\tconst [uploadMeta, setUploadMeta] = useState(null);\n\tconst [cancelSending, setCancelSending] = useState(false);\n\tconst [files, setFiles] = useState(values.files);\n\tconst [sendTime, setSendTime] = useState('schedule');\n\tconst [frequency, setFrequency] = useState(\n\t\tselectFrequency(isUpdate ? selectFrequency(isUpdate.frequency) : 'DAILY')\n\t);\n\tconst [msgFrequency, setMsgFrequency] = useState(values.frequency);\n\tconst [selectedDate, handleDateChange] = useState<any>(\n\t\tisUpdate ? new Date(removeGTMFromString(isUpdate?.start_time)) : new Date(values.start_time)\n\t);\n\n\tconst [selectedDateRepeat, handleDateChangeRepeat] = useState<any>({\n\t\tstart: new Date(isUpdate ? removeGTMFromString(isUpdate?.start_time) : values.start_time),\n\t\t//we expect end_time as null when Forever option is selected while creating news\n\t\tend:\n\t\t\tisUpdate && !isNull(isUpdate?.end_time)\n\t\t\t\t? new Date(isUpdate ? removeGTMFromString(isUpdate?.end_time) : values.end_time)\n\t\t\t\t: null\n\t});\n\n\tconst [selectedDateMulti, handleDateChangeMulti] = useState(\n\t\tisUpdate.frequency === 'EVENTS'\n\t\t\t? prepareDates(isUpdate.event_times)\n\t\t\t: [{ id: uuid, date: new Date() }]\n\t);\n\n\tconst [state, setState] = React.useState<any>({\n\t\tstartNow: false,\n\t\tforever: isUpdate ? isNull(isUpdate.end_time) : false,\n\t\tstaffOnly: false,\n\t\tnewsType: isUpdate ? values.type : 'staff',\n\t\tisSubmitting: false,\n\t\topen_for_cases: isUpdate ? values.open_for_cases : false\n\t});\n\tconst { companyId } = useAppState();\n\tconst isInitialMount = useRef(true);\n\n\tconst { staffOnly, newsType } = state;\n\n\tconst handleCheckChange = (event: any) => {\n\t\tsetState({ ...state, [event.target.name]: event.target.checked });\n\t};\n\n\tuseEffect(() => {\n\t\tsetFieldValue('open_for_cases', state.open_for_cases);\n\t}, [state.open_for_cases]);\n\n\tuseEffect(() => {\n\t\tif (isOnlyHTML(values.body)) {\n\t\t\tsetFieldError('body', 'Required');\n\t\t\tsetFieldValue('body', '');\n\t\t}\n\t}, [values.body]);\n\n\tuseEffect(() => {\n\t\tif (audioResponse) {\n\t\t\tsetFiles((prevState: any) => [...prevState, audioResponse]);\n\t\t}\n\t}, [audioResponse]);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tsetFiles([]);\n\t\t\tsetAudioResponse(null);\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsetFieldValue('files', files);\n\t}, [files]);\n\n\tuseEffect(() => {\n\t\tif (sendTime === 'now') {\n\t\t\t// setFieldValue('start_time', new Date());\n\t\t\t// setFieldValue('end_time', new Date());\n\n\t\t\tsetFieldValue('start_time', 'now');\n\t\t\tsetFieldValue('end_time', 'now');\n\n\t\t\tsetFieldValue('frequency', 'ONE_TIME');\n\t\t} else {\n\t\t\tsetFieldValue('start_time', selectedDate);\n\t\t\tsetFieldValue('frequency', msgFrequency);\n\t\t}\n\t}, [sendTime]);\n\n\tconst setTime = (stateField: any, field: any, value: any) => {\n\t\tif (state[stateField]) {\n\t\t\tif (state.startNow) {\n\t\t\t\t// setFieldValue('start_time', new Date());\n\t\t\t\tsetFieldValue(field, 'now');\n\t\t\t}\n\n\t\t\tsetFieldValue('end_time', null);\n\t\t} else {\n\t\t\tsetFieldValue(field, value);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\t(() => {\n\t\t\tswitch (msgFrequency) {\n\t\t\t\tcase 'ONE_TIME': {\n\t\t\t\t\tsetFieldValue('frequency', 'ONE_TIME');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'REPEAT': {\n\t\t\t\t\tsetFieldValue('frequency', frequency);\n\t\t\t\t\tsetTime('startNow', 'start_time', selectedDateRepeat.start);\n\t\t\t\t\tsetTime('forever', 'end_time', selectedDateRepeat.end);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'EVENTS': {\n\t\t\t\t\tsetFieldValue('frequency', 'EVENTS');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t})();\n\t}, [msgFrequency, frequency]);\n\n\t//One time\n\tuseEffect(() => {\n\t\tsetFieldValue('start_time', selectedDate);\n\t\tsetFieldValue('end_time', selectedDate);\n\t}, [selectedDate]);\n\n\tuseEffect(() => {\n\t\tsetTime('startNow', 'start_time', selectedDateRepeat.start);\n\t\tsetTime('forever', 'end_time', selectedDateRepeat.end);\n\t}, [selectedDateRepeat]);\n\n\tuseEffect(() => {\n\t\tsetTime('startNow', 'start_time', selectedDateRepeat.start);\n\t\tsetTime('forever', 'end_time', selectedDateRepeat.end);\n\t}, [state]);\n\n\tuseEffect(() => {\n\t\tconst times = selectedDateMulti.map((dateItem: any) => ({\n\t\t\ttime: dayjs(dateItem.date).format('YYYY-MM-DDTHH:mm:ss')\n\t\t}));\n\t\tsetFieldValue('event_times', times);\n\t}, [selectedDateMulti]);\n\n\tuseEffect(() => {\n\t\tif (staffOnly) {\n\t\t\tsetFieldValue('company_ids', undefined);\n\t\t}\n\t}, [staffOnly]);\n\n\tuseEffect(() => {\n\t\tif (isInitialMount.current) {\n\t\t\tisInitialMount.current = false;\n\t\t} else {\n\t\t\t// Your useEffect code here to be run on update\n\t\t\tif ('subject' in errors && state.isSubmitting) {\n\t\t\t\tscrollIntoNotFilledField('subject');\n\t\t\t}\n\t\t\tif ('body' in errors && !('subject' in errors) && state.isSubmitting) {\n\t\t\t\tscrollIntoNotFilledField('body');\n\t\t\t}\n\t\t}\n\t}, [errors, state.isSubmitting]);\n\n\tuseEffect(() => {\n\t\tif (state.isSubmitting) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetState((prev: any) => ({ ...prev, isSubmitting: false }));\n\t\t\t}, 100);\n\t\t}\n\t}, [state.isSubmitting]);\n\n\tconst handleChange = ({ target: { value, name } }: any) => {\n\t\t// setSendTime(value);\n\n\t\tswitch (name) {\n\t\t\tcase 'sendTime': {\n\t\t\t\tsetSendTime(value);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'delivFrequency': {\n\t\t\t\tsetMsgFrequency(value);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'frequency': {\n\t\t\t\tsetFrequency(value);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'news-type': {\n\t\t\t\tsetState((prev: any) => ({ ...prev, newsType: value }));\n\t\t\t\tsetFieldValue('type', value);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t};\n\n\tconst handleDateMulti = (date: any, id: any) => {\n\t\tconst selectedDate = selectedDateMulti.find((date: any) => date.id === id);\n\t\tconst filteredDates = selectedDateMulti.filter((date: any) => date.id !== id);\n\t\tselectedDate.date = date;\n\t\tconst allDate = [...filteredDates, selectedDate];\n\t\thandleDateChangeMulti(allDate);\n\t};\n\n\tconst handleMultiDateDelete = (id: any) => {\n\t\tconst filteredDates = selectedDateMulti.filter((date: any) => date.id !== id);\n\t\thandleDateChangeMulti(filteredDates);\n\t};\n\n\tconst handleIsSubmitting = () => {\n\t\tsetTimeout(() => {\n\t\t\tscrollIntoNotFilledField('subject');\n\t\t}, 0);\n\t\tsetState((prev: any) => ({ ...prev, isSubmitting: true }));\n\t};\n\n\tfunction scrollIntoNotFilledField(field: string) {\n\t\tconst title = document.querySelector(`#subject`);\n\t\tconst body = document.querySelector(`#body`);\n\t\tif (field === 'subject') title?.scrollIntoView({ block: 'start', behavior: 'smooth' });\n\t\tif (field === 'body') body?.scrollIntoView({ block: 'start', behavior: 'smooth' });\n\t}\n\n\tif (process.env.NODE_ENV === 'development') {\n\t\tconsole.log('newsFormElements state', { state, sendTime });\n\t}\n\n\tconst toggleTemplatePopup = () => showTemplateModal((prev) => !prev);\n\n\treturn (\n\t\t<Paper className=\"uni-page__paper\">\n\t\t\t<MuiPickersUtilsProvider utils={DayJsUtils}>\n\t\t\t\t<div className=\"form-page react-select-dropdown p-2 sm:p-6\">\n\t\t\t\t\t{/*News Type Select radio buttons*/}\n\t\t\t\t\t{!campaignId && (\n\t\t\t\t\t\t<NewsTypesElements\n\t\t\t\t\t\t\tnewsType={newsType}\n\t\t\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\t\tcompanyId={companyId}\n\t\t\t\t\t\t\tsetFieldValue={setFieldValue}\n\t\t\t\t\t\t\tisUpdate={isUpdate}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{!isUpdate && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Grid container spacing={3} alignItems=\"center\">\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={8} md={6} lg={4}>\n\t\t\t\t\t\t\t\t\t<div className=\"react-select-dropdown\">\n\t\t\t\t\t\t\t\t\t\t{/*@ts-ignore*/}\n\t\t\t\t\t\t\t\t\t\t<AsyncSelect\n\t\t\t\t\t\t\t\t\t\t\tname=\"route\"\n\t\t\t\t\t\t\t\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Choose Template (Optional)\"\n\t\t\t\t\t\t\t\t\t\t\toptionLabel=\"subject\"\n\t\t\t\t\t\t\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\t\t\t\t\t\t\tloadOptionsUrl={`/${companyId}/notification-templates/`}\n\t\t\t\t\t\t\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsearch\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tvalue={templateOption}\n\t\t\t\t\t\t\t\t\t\t\tloadOptionsKey=\"results\"\n\t\t\t\t\t\t\t\t\t\t\tisSearchable={true}\n\t\t\t\t\t\t\t\t\t\t\tisClearable={true}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(option: any) => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetTemplateOption(option);\n\t\t\t\t\t\t\t\t\t\t\t\tif (option) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('subject', option.title);\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('body', option.body);\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('subject', ' ');\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('body', ' ');\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={4} md={4}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\t\t\tclassName=\"!text-white\"\n\t\t\t\t\t\t\t\t\t\tto={`/news/create-template`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tNew Template\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t\t<Grid item xs={12} sm={8} md={6} lg={4}>\n\t\t\t\t\t\t\t<div className=\"form-page__row mb-5\" id={'subject'}>\n\t\t\t\t\t\t\t\t<div className=\"form-page__label text-md mb-2.5 font-bold\">\n\t\t\t\t\t\t\t\t\tNews title\n\t\t\t\t\t\t\t\t\t<SupRequired className=\"text-kred-pink\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t// error\n\t\t\t\t\t\t\t\t\t// helperText=\"Incorrect entry.\"\n\t\t\t\t\t\t\t\t\t// label=\"Template title\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"News title here\"\n\t\t\t\t\t\t\t\t\tname=\"subject\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<div className=\"form-page__row mb-5\" id={'body'}>\n\t\t\t\t\t\t<div className=\"form-page__label text-md mb-2.5 font-bold\">\n\t\t\t\t\t\t\tDescription\n\t\t\t\t\t\t\t<SupRequired className=\"text-kred-pink\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tcomponent={QuillEditorNews}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\tbounds={'.form-page'}\n\t\t\t\t\t\t\t{...{ keywords, option: templateOption }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name=\"body\">\n\t\t\t\t\t\t\t{(message) => (\n\t\t\t\t\t\t\t\t<div className=\"MuiFormHelperText-root MuiFormHelperText-contained Mui-error MuiFormHelperText-marginDense\">\n\t\t\t\t\t\t\t\t\t{message}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ErrorMessage>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t\t<Grid item xs={12} sm={9}>\n\t\t\t\t\t\t\t<div className=\"form-page__row mb-5\">\n\t\t\t\t\t\t\t\t<div className=\"form-page__label text-md mb-2.5 font-bold\">File Upload</div>\n\t\t\t\t\t\t\t\t<UploadBox\n\t\t\t\t\t\t\t\t\tuploadMeta={uploadMeta}\n\t\t\t\t\t\t\t\t\tsetUploadMeta={setUploadMeta}\n\t\t\t\t\t\t\t\t\tcancelSending={cancelSending}\n\t\t\t\t\t\t\t\t\tsetCancelSending={setCancelSending}\n\t\t\t\t\t\t\t\t\tfiles={files}\n\t\t\t\t\t\t\t\t\tsetFiles={setFiles}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} sm={8} md={6} lg={4}>\n\t\t\t\t\t\t\t<div className=\"form-page__row mb-5\">\n\t\t\t\t\t\t\t\t<div className=\"form-page__label text-md mb-2.5 font-bold\">Record Audio</div>\n\t\t\t\t\t\t\t\t<RecorderForm />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-page__row custom-date-picker mb-5\">\n\t\t\t\t\t\t\t\t<div className=\"form-page__label mb-2 font-bold\">Sending status</div>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tcomponent={SelectField}\n\t\t\t\t\t\t\t\t\tclassName=\"basic-single\"\n\t\t\t\t\t\t\t\t\tclassNamePrefix=\"select\"\n\t\t\t\t\t\t\t\t\tisClearable\n\t\t\t\t\t\t\t\t\tisSearchable\n\t\t\t\t\t\t\t\t\tname=\"status\"\n\t\t\t\t\t\t\t\t\toptions={statuses}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Select sending status\"\n\t\t\t\t\t\t\t\t\tstyles={caseFilterStyle}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-page__row mb-5\">\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={state.open_for_cases}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCheckChange}\n\t\t\t\t\t\t\t\t\t\t\tname=\"open_for_cases\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel=\"Allow Case Creation\"\n\t\t\t\t\t\t\t\t\tclasses={{ label: 'whitespace-nowrap' }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{values.open_for_cases && (\n\t\t\t\t\t\t\t\t<div className=\"form-page__row react-select-dropdown mb-5\">\n\t\t\t\t\t\t\t\t\t<div className=\"form-page__label text-md mb-2.5 font-bold \">Department</div>\n\t\t\t\t\t\t\t\t\t<div className=\"react-select-dropdown\">\n\t\t\t\t\t\t\t\t\t\t{/*@ts-ignore*/}\n\t\t\t\t\t\t\t\t\t\t<AsyncSelect\n\t\t\t\t\t\t\t\t\t\t\tname=\"route\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"\"\n\t\t\t\t\t\t\t\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select Department Name\"\n\t\t\t\t\t\t\t\t\t\t\toptionLabel=\"name\"\n\t\t\t\t\t\t\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\t\t\t\t\t\t\tloadOptionsUrl={`/${companyId}/departments/`}\n\t\t\t\t\t\t\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsearch,\n\t\t\t\t\t\t\t\t\t\t\t\t\tis_staff: newsType === 'staff' ? 'true' : 'false'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tvalue={get(values, 'department')}\n\t\t\t\t\t\t\t\t\t\t\tloadOptionsKey=\"results\"\n\t\t\t\t\t\t\t\t\t\t\tisSearchable={true}\n\t\t\t\t\t\t\t\t\t\t\tisClearable={true}\n\t\t\t\t\t\t\t\t\t\t\tcustomStyles=\"KntTwilioStyle\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={(option: any) => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('department', option);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{values.department && (\n\t\t\t\t\t\t\t\t<div className=\"form-page__row mb-5\">\n\t\t\t\t\t\t\t\t\t<div className=\"form-page__label text-md mb-2.5 font-bold \">Sub department</div>\n\t\t\t\t\t\t\t\t\t<div className=\"react-select-dropdown\">\n\t\t\t\t\t\t\t\t\t\t{/*@ts-ignore*/}\n\t\t\t\t\t\t\t\t\t\t<AsyncSelect\n\t\t\t\t\t\t\t\t\t\t\tname=\"route\"\n\t\t\t\t\t\t\t\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\t\t\t\t\t\t\t\t// label=\"Change Priority\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select Sub Department Name\"\n\t\t\t\t\t\t\t\t\t\t\toptionLabel=\"name\"\n\t\t\t\t\t\t\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\t\t\t\t\t\t\tloadOptionsUrl={`/${companyId}/departments/${get(\n\t\t\t\t\t\t\t\t\t\t\t\tvalues,\n\t\t\t\t\t\t\t\t\t\t\t\t'department.id'\n\t\t\t\t\t\t\t\t\t\t\t)}/sub_departments/`}\n\t\t\t\t\t\t\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsearch\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tvalue={get(values, 'sub_department')}\n\t\t\t\t\t\t\t\t\t\t\tloadOptionsKey=\"results\"\n\t\t\t\t\t\t\t\t\t\t\tisSearchable={true}\n\t\t\t\t\t\t\t\t\t\t\tisClearable={true}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(option: any) => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('sub_department', option);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\t\twhile (get(values, 'sub_department.sub_departments_count') > 0) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-page__row mb-5\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-page__label text-md mb-2.5 font-bold \">\n\t\t\t\t\t\t\t\t\t\t\t\tSelect sub department of sub deparment\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"react-select-dropdown\">\n\t\t\t\t\t\t\t\t\t\t\t\t{/*@ts-ignore*/}\n\t\t\t\t\t\t\t\t\t\t\t\t<AsyncSelect\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"route\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcustomStyles=\"KntTwilioStyle\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select Sub Department Name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\toptionLabel=\"name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tloadOptionsUrl={`/${companyId}/departments/${get(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'sub_department.id'\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}/sub_departments/`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsearch\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={get(values, 'sub_department')}\n\t\t\t\t\t\t\t\t\t\t\t\t\tloadOptionsKey=\"results\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tisSearchable={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\tisClearable={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(option: any) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('sub_department', option);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t<div className=\"form-page__row mb-5\">\n\t\t\t\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\t\t\t\taria-label=\"time\"\n\t\t\t\t\t\t\t\t\tname=\"sendTime\"\n\t\t\t\t\t\t\t\t\tvalue={sendTime}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"flex\">\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"now\"\n\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio color=\"primary\" />}\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Send now\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"schedule\"\n\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio color=\"primary\" />}\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Schedule\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{sendTime === 'schedule' && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<div className=\"form-page__row mb-5\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-page__label text-md mb-2.5 font-bold\">\n\t\t\t\t\t\t\t\t\t\t\tDelivery Frequency\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\t\t\t\t\t\taria-label=\"frequency\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"delivFrequency\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={msgFrequency}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex\">\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"ONE_TIME\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio color=\"primary\" />}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"One time\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"REPEAT\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio color=\"primary\" />}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Repeat\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"EVENTS\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio color=\"primary\" />}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Multiple Events\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/* One time option */}\n\t\t\t\t\t\t\t\t\t{msgFrequency === 'ONE_TIME' && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-page__row custom-date-picker mb-5\">\n\t\t\t\t\t\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Send time\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\tinputVariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedDate}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleDateChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{/* Repeat option */}\n\t\t\t\t\t\t\t\t\t{msgFrequency === 'REPEAT' && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-page__row custom-date-picker mb-5\">\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" className={classes.formControl}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"standard-select-currency\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"frequency\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={frequency}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Select Frequency\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{frequencies.map((menu: any) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={menu.code} key={menu.code}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{menu.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-page__row custom-date-picker mb-5\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid container item xs={12} spacing={3} alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!state.startNow && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={8}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Start time\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputVariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedDateRepeat.start}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(date) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDateChangeRepeat((prevState: any) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prevState,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstart: date\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={state.startNow}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleCheckChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"startNow\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Start now\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses={{ label: 'whitespace-nowrap' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-page__row custom-date-picker mb-5\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid container item xs={12} spacing={3} alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!state.forever && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={8}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"End time\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputVariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedDateRepeat.end}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(date) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDateChangeRepeat((prevState: any) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prevState,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tend: date\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={state.forever}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleCheckChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"forever\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Forever\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{/* Multiple Events */}\n\t\t\t\t\t\t\t\t\t{msgFrequency === 'EVENTS' && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-page__row mb-5\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-5\">\n\t\t\t\t\t\t\t\t\t\t\t\t{selectedDateMulti.map((dateItem: any) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-page__row custom-date-picker mb-5\" key={dateItem.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid container item xs={12} spacing={1} alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={10} sm={8}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Start time\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputVariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={dateItem.date}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(date) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDateMulti(date, dateItem.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={2} sm={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"delete\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.pullLeft}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleMultiDateDelete(dateItem.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleDateChangeMulti((prevState: any) => [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prevState,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ id: uuid, date: new Date() }\n\t\t\t\t\t\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tAdd one more\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<div className=\"form-page__row mb-5\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-page__label text-md mb-2.5 font-bold\">Timezone</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"react-select-dropdown\">\n\t\t\t\t\t\t\t\t\t\t\t{/*@ts-ignore*/}\n\t\t\t\t\t\t\t\t\t\t\t<AsyncSelect\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"route\"\n\t\t\t\t\t\t\t\t\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Choose Timezones here\"\n\t\t\t\t\t\t\t\t\t\t\t\toptionLabel=\"title\"\n\t\t\t\t\t\t\t\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\t\t\t\t\t\t\t\tloadOptionsUrl=\"/timezones/\"\n\t\t\t\t\t\t\t\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsearch\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={get(values, 'timezone')}\n\t\t\t\t\t\t\t\t\t\t\t\tloadOptionsKey=\"results\"\n\t\t\t\t\t\t\t\t\t\t\t\tisSearchable={true}\n\t\t\t\t\t\t\t\t\t\t\t\tisClearable={true}\n\t\t\t\t\t\t\t\t\t\t\t\tcustomStyles=\"KntTwilioStyle\"\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(option: any) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('timezone', option);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<div className=\"form-page__row mb-5\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\tclassName=\"!mr-5\"\n\t\t\t\t\t\t\tto={campaignId ? `/news/campaigns/view/${campaignId}` : '/news/news-list'}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('cancel')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"ml-20\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tdisabled={isSubmitting /*|| (newsType === 'client' && !values.categories)*/}\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tonClick={handleIsSubmitting}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`${isUpdate ? 'Update' : 'Create'}`}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{isSubmitting ? <Loader tiled withOverlay /> : null}\n\t\t\t\t\t\t{!templateOption && values.subject && values.body && !isUpdate && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"!ml-5\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\tonClick={toggleTemplatePopup}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSave as template\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<WhiteModal handleModalOpen={toggleTemplatePopup} open={!!templateModal}>\n\t\t\t\t\t\t<NewsTemplateModal newsValues={values} onSuccess={toggleTemplatePopup} />\n\t\t\t\t\t</WhiteModal>\n\t\t\t\t</div>\n\t\t\t</MuiPickersUtilsProvider>\n\t\t</Paper>\n\t);\n};\n\nexport default NewsFormElements;\n\nfunction isOnlyHTML(testMe: any) {\n\tconst testMeEl = document.createElement('div');\n\ttestMeEl.innerHTML = testMe; // browser does the parsing\n\treturn hasNoTextChildren(testMeEl);\n}\n\n// recursively check for text elements\nfunction hasNoTextChildren(element: any) {\n\tfor (let i = 0; i < element.childNodes.length; i++) {\n\t\tconst child = element.childNodes[i];\n\t\tif (child instanceof Text) {\n\t\t\treturn false;\n\t\t} else if (hasNoTextChildren(child) === false) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n","import dayjs from 'dayjs';\n\nexport function formatNewsTime(value: string): string {\n\treturn value === 'now'\n\t\t? dayjs(new Date()).format('YYYY-MM-DDTHH:mm:ss')\n\t\t: dayjs(new Date(value)).format('YYYY-MM-DDTHH:mm:ss');\n}\n"],"names":["utc","require","dayjs","cancelAx","props","useState","command","setCommand","time","setTime","timerId","setTimerId","cancel","setCancel","uploadAudioFile","useUploadAudio","audioUploadProgress","useNewsContext","className","Avatar","style","width","height","format","Fab","color","size","onClick","clearInterval","Clear","Stop","disabled","setInterval","MicRounded","onStop","blob","CancelToken","axios","FileUploader","uploadMeta","setUploadMeta","cancelSending","setCancelSending","setFiles","companyId","useAppState","token","useAuth","progress","setProgress","useEffect","action","config","Button","variant","endIcon","CloudUpload","beforeUpload","file","imgFile","FileReader","readAsDataURL","uid","type","name","key","lastModified","customRequest","filename","headers","Authorization","formData","FormData","append","onUploadProgress","percent","total","loaded","Math","round","toFixed","Number","cancelToken","c","then","response","_file","currFile","prevState","fileOnSuccess","data","catch","err","abort","console","log","FileUploaderWithErrorBoundary","imgPath","files","removeFile","id","filteredFiles","filter","setAudioCancelSending","map","thumbnail","src","get","alt","split","pop","controls","url","CircularProgress","value","NewsTypesElements","newsType","handleChange","values","setFieldValue","isUpdate","Grid","container","spacing","item","xs","RadioGroup","onChange","FormControlLabel","control","Radio","label","sm","customStylesProps","KntTwilioStyle","placeholder","optionLabel","optionValue","loadOptionsUrl","loadOptionsParams","search","extra","is_staff","loadOptionsKey","isMulti","isSearchable","isClearable","option","NewsTemplateModal","newsValues","onSuccess","showNotification","useNotistack","t","useTranslation","entity","sendAsFormData","method","fields","required","onSubmitKey","subject","body","onError","error","resetForm","errorText","message","isSubmitting","component","KntInputField","autoComplete","tiled","withOverlay","useStyles","makeStyles","theme","formControl","selectEmpty","marginTop","pullLeft","keywords","frequencies","statuses","campaignId","setFieldError","errors","classes","audioResponse","setAudioResponse","selectFrequency","frequency","removeGTMFromString","string","slice","uuid","nanoid","templateOption","setTemplateOption","templateModal","showTemplateModal","sendTime","setSendTime","setFrequency","msgFrequency","setMsgFrequency","Date","start_time","selectedDate","handleDateChange","start","end","isNull","end_time","selectedDateRepeat","handleDateChangeRepeat","event_times","reduce","acc","curr","date","selectedDateMulti","handleDateChangeMulti","React","startNow","forever","staffOnly","open_for_cases","state","setState","isInitialMount","useRef","handleCheckChange","event","target","checked","testMe","testMeEl","document","createElement","innerHTML","hasNoTextChildren","stateField","field","times","dateItem","undefined","current","scrollIntoNotFilledField","setTimeout","prev","title","querySelector","scrollIntoView","block","behavior","toggleTemplatePopup","Paper","M","utils","DayJsUtils","alignItems","md","lg","Link","to","fullWidth","QuillEditorNews","bounds","SelectField","classNamePrefix","options","styles","caseFilterStyle","Checkbox","customStyles","department","DateTimePicker","inputVariant","FormControl","TextField","select","menu","MenuItem","code","find","filteredDates","allDate","handleDateMulti","IconButton","Delete","WhiteModal","handleModalOpen","open","element","i","childNodes","length","child","Text","formatNewsTime"],"sourceRoot":""}