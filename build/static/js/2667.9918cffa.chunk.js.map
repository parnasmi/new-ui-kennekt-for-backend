{"version":3,"file":"static/js/2667.9918cffa.chunk.js","mappings":"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","sources":["pages/UserProfile/components/EditProfile.tsx","pages/UserProfile/UserProfile.tsx","pages/UserProfile/index.ts"],"sourcesContent":["import React, { useState } from 'react';\nimport { useFormik } from 'formik';\nimport { KntInput, KntPhoneInput } from 'shared/components/Fields';\nimport * as yup from 'yup';\nimport { useAuth } from 'modules/auth/hooks/useAuth';\nimport config from 'config';\nimport { Loader, FileUploader, ActionsButtons, ConfirmModal } from 'shared/components';\nimport get from 'lodash/get';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { useAxios, useNotistack } from '../../../shared/hooks';\nimport { useDispatch } from 'react-redux';\nimport Actions from 'store/actions';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\n\nconst imgPath = `${config.PUBLIC_ASSETS}img/`;\n\nconst validationSchema = yup.object({\n\tusername: yup\n\t\t.string()\n\t\t.strict()\n\t\t.trim('Field cannot be blank')\n\t\t.email('Enter a valid email')\n\t\t.required('Email is required'),\n\tfirst_name: yup.string().strict().trim('Field cannot be blank').required('Firstname is required'),\n\tlast_name: yup.string().strict().trim('Field cannot be blank').required('Lastname is required'),\n\tmobile: yup.string().required('Mobile number is required')\n});\n\ntype Props = {\n\tmodalHandler: () => void;\n};\n\nconst useStyles = makeStyles(\n\tcreateStyles({\n\t\tselectMenu: {\n\t\t\tpaddingTop: '13px',\n\t\t\tpaddingBottom: '13px',\n\t\t\tborderColor: '#e0e0e0',\n\t\t\tfontSize: '13px'\n\t\t},\n\t\troot: {\n\t\t\twidth: '100%',\n\t\t\t'MuiInputBase-formControl': {\n\t\t\t\tcolor: 'red'\n\t\t\t}\n\t\t},\n\t\tformControl: {\n\t\t\tborderRadius: '8px'\n\t\t}\n\t})\n);\n\nexport function EditProfile({ modalHandler }: Props) {\n\tconst { userData } = useAuth();\n\tconst [showDeleteModalVisible, setShowDeleteModalVisible] = useState(false);\n\tconst [uploadMeta, setUploadMeta] = useState<any>(null);\n\tconst [cancelSending, setCancelSending] = useState<any>(false);\n\tconst [file, setFile] = useState(userData.avatar ? userData.avatar : null);\n\tconst [gender, setGender] = useState<string>(userData.gender ? userData.gender : 'other');\n\tconst classes = useStyles();\n\tconst dispatch = useDispatch();\n\tconst { showNotification } = useNotistack();\n\n\tconst formik = useFormik({\n\t\tinitialValues: {\n\t\t\tusername: userData.username,\n\t\t\tfirst_name: userData.first_name,\n\t\t\tlast_name: userData.last_name,\n\t\t\tmobile: userData.mobile,\n\t\t\tavatar: userData.avatar?.id,\n\t\t\tgender\n\t\t},\n\t\tvalidationSchema: validationSchema,\n\t\tonSubmit: (values, { setFieldError, setSubmitting }) => {\n\t\t\tconst filteredValues = { ...values, avatar: file?.id };\n\n\t\t\tconsole.log('sent value', filteredValues);\n\t\t\tupdateProfile({ values: filteredValues });\n\t\t}\n\t});\n\n\tconst { fetchData: deleteProfileAvatar, loading: isDeleteProfileLoading } = useAxios({\n\t\turl: '/my/profile/avatar/delete/',\n\t\tmethod: 'delete',\n\t\tcb: {\n\t\t\tsuccess: (data) => {\n\t\t\t\tshowNotification({\n\t\t\t\t\tmessage: 'Profile photo deleted!'\n\t\t\t\t});\n\t\t\t\tsetFile(null);\n\t\t\t\tdispatch(\n\t\t\t\t\tActions.auth.GetMe.success({\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t...userData,\n\t\t\t\t\t\t\tavatar: null\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\ttoggleDeleteModal();\n\t\t\t},\n\t\t\terror: (error) => {\n\t\t\t\tshowNotification({\n\t\t\t\t\tmessage: error?.response?.data?.message || 'Something went wrong',\n\t\t\t\t\tvariant: 'error'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\tconst { fetchData: updateProfile } = useAxios({\n\t\turl: '/my/profile/',\n\t\tdynamicValues: true,\n\t\tmethod: 'put',\n\t\tcb: {\n\t\t\tsuccess: (data, args) => {\n\t\t\t\t// const [entityId, isCase, entityName, url] = args;\n\t\t\t\tformik.setSubmitting(false);\n\t\t\t\tdispatch(\n\t\t\t\t\tActions.auth.GetMe.success({\n\t\t\t\t\t\tdata\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tshowNotification({\n\t\t\t\t\tmessage: 'Profile updated'\n\t\t\t\t});\n\t\t\t\tmodalHandler();\n\t\t\t},\n\t\t\terror: (error, args) => {\n\t\t\t\tformik.setSubmitting(false);\n\t\t\t}\n\t\t}\n\t});\n\n\tconst handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n\t\tsetGender(event.target.value as string);\n\t};\n\n\tconst handleDeleteProfileAvatar = async () => {\n\t\tawait deleteProfileAvatar();\n\t};\n\n\tfunction toggleDeleteModal() {\n\t\tsetShowDeleteModalVisible((prev) => !prev);\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<form onSubmit={formik.handleSubmit}>\n\t\t\t\t<div className=\"mb-6 text-xl font-semibold\">Edit Profile</div>\n\t\t\t\t<div className=\"flex-center-center mb-4\">\n\t\t\t\t\t<div className=\"mr-4\">\n\t\t\t\t\t\t<FileUploader\n\t\t\t\t\t\t\tuploadMeta={uploadMeta}\n\t\t\t\t\t\t\tsetUploadMeta={setUploadMeta}\n\t\t\t\t\t\t\tcancelSending={cancelSending}\n\t\t\t\t\t\t\tsetCancelSending={setCancelSending}\n\t\t\t\t\t\t\tsetFile={setFile}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"user-avatar-box__display flex-centered group relative h-20 w-20 overflow-hidden rounded-full\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={get(file, 'thumbnail_150') || `${imgPath}chat-placeholder.png`}\n\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\tclassName={'h-full object-cover'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{file && !uploadMeta && (\n\t\t\t\t\t\t\t<div className=\"absolute bottom-0 left-0 hidden h-1/3 w-full justify-center bg-kgrey-bg group-hover:flex\">\n\t\t\t\t\t\t\t\t<ActionsButtons.DeleteButton clickHandler={toggleDeleteModal} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{uploadMeta !== null && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'absolute top-1/2 left-1/2 z-10 h-10 w-10 -translate-y-1/2 -translate-x-1/2'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"upload-media-spinner\">\n\t\t\t\t\t\t\t\t\t<Loader variant=\"determinate\" value={uploadMeta} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetCancelSending(true);\n\t\t\t\t\t\t\t\t\t\tsetUploadMeta(null);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t'absolute top-1/2 left-1/2 z-20 h-8 w-8 -translate-y-1/2 -translate-x-1/2 ' +\n\t\t\t\t\t\t\t\t\t\t'cursor-pointer text-3xl text-primary-dark transition hover:text-primary'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<AiOutlineCloseCircle />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<KntInput\n\t\t\t\t\tname={'first_name'}\n\t\t\t\t\tplaceholder={'Enter you first name'}\n\t\t\t\t\tlabel={'First name'}\n\t\t\t\t\trequired\n\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\tvalue={formik.values.first_name}\n\t\t\t\t\terror={formik.touched.first_name && Boolean(formik.errors.first_name)}\n\t\t\t\t\thelperText={formik.touched.first_name && formik.errors.first_name}\n\t\t\t\t/>\n\t\t\t\t<KntInput\n\t\t\t\t\tname={'last_name'}\n\t\t\t\t\tplaceholder={'Enter you last name'}\n\t\t\t\t\tlabel={'Last name'}\n\t\t\t\t\trequired\n\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\tvalue={formik.values.last_name}\n\t\t\t\t\terror={formik.touched.last_name && Boolean(formik.errors.last_name)}\n\t\t\t\t\thelperText={formik.touched.last_name && formik.errors.last_name}\n\t\t\t\t/>\n\t\t\t\t<KntInput\n\t\t\t\t\tname={'username'}\n\t\t\t\t\tplaceholder={'Enter your email'}\n\t\t\t\t\tlabel={'Email address'}\n\t\t\t\t\trequired\n\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\ttype={'email'}\n\t\t\t\t\tvalue={formik.values.username}\n\t\t\t\t\terror={formik.touched.username && Boolean(formik.errors.username)}\n\t\t\t\t\thelperText={formik.touched.username && formik.errors.username}\n\t\t\t\t/>\n\t\t\t\t<KntPhoneInput\n\t\t\t\t\tname={'mobile'}\n\t\t\t\t\tplaceholder={'Enter your mobile phone number'}\n\t\t\t\t\tlabel={'Phone number'}\n\t\t\t\t\trequired\n\t\t\t\t\tsetPhoneValue={formik.setFieldValue}\n\t\t\t\t\tvalue={formik.values.mobile}\n\t\t\t\t\terror={formik.touched.mobile && Boolean(formik.errors.mobile)}\n\t\t\t\t\thelperText={formik.touched.mobile && formik.errors.mobile}\n\t\t\t\t\tenableSearch\n\t\t\t\t/>\n\n\t\t\t\t<div className={'mb-4'}>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\troot: classes.root\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p className={'ml-6 mb-2 block text-xs font-light text-kgrey-welcome'}>Gender</p>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabelId=\"Gender-select\"\n\t\t\t\t\t\t\tid=\"gender-select\"\n\t\t\t\t\t\t\tvalue={gender}\n\t\t\t\t\t\t\tvariant={'outlined'}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\thandleChange(e);\n\t\t\t\t\t\t\t\tformik.setFieldValue('gender', e.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tautoWidth\n\t\t\t\t\t\t\tclasses={{ selectMenu: classes.selectMenu, root: classes.root }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={'OTHER'}>Other</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={'MALE'}>Male</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={'FEMALE'}>Female</MenuItem>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"flex-center-between\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype={'submit'}\n\t\t\t\t\t\tdisabled={formik.isSubmitting}\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'bg-primary py-3.5 uppercase transition ' +\n\t\t\t\t\t\t\t'w-full rounded-lg text-center text-sm font-light text-white hover:bg-primary-dark'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{formik.isSubmitting ? 'Updating. Please wait a while' : 'Update'}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tdisabled={formik.isSubmitting}\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'bg-primary py-3.5 uppercase transition ' +\n\t\t\t\t\t\t\t'ml-2 w-full rounded-lg text-center text-sm font-light text-white hover:bg-primary-dark sm:ml-0 sm:hidden'\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttype={'button'}\n\t\t\t\t\t\tonClick={modalHandler}\n\t\t\t\t\t>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<ConfirmModal\n\t\t\t\t\tisLoading={isDeleteProfileLoading}\n\t\t\t\t\ttoggleHandler={toggleDeleteModal}\n\t\t\t\t\tisOpen={showDeleteModalVisible}\n\t\t\t\t\tfeatureHandler={handleDeleteProfileAvatar}\n\t\t\t\t\ttitle=\"Are you sure to delete the profile photo?\"\n\t\t\t\t/>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n","/** @jsxImportSource @emotion/react */\nimport { StandardPageLayout } from 'shared/layouts';\nimport { useAuth } from 'modules/auth/hooks/useAuth';\nimport { css } from '@emotion/react';\nimport clsx from 'clsx';\nimport { useUnreadCaseTab, useWhiteModal } from 'shared/hooks';\nimport { EditProfile } from './components/EditProfile';\nimport { isMobile } from 'react-device-detect';\nimport { Helmet } from 'react-helmet';\nimport { ErrorBoundary } from 'shared/components';\nimport { MdEdit } from 'react-icons/md';\n\nfunction UserProfileInner() {\n\tconst { userData } = useAuth();\n\tconst { open, modalHandler, WhiteModal } = useWhiteModal();\n\tconst { unreadCasesQuantity, isHidden } = useUnreadCaseTab('User Profile');\n\treturn (\n\t\t<StandardPageLayout>\n\t\t\t<div className={'profile'}>\n\t\t\t\t{(!isHidden || unreadCasesQuantity === 0) && (\n\t\t\t\t\t<Helmet>\n\t\t\t\t\t\t<title>KENNEKT | User profile</title>\n\t\t\t\t\t</Helmet>\n\t\t\t\t)}\n\t\t\t\t<div className=\"profile__header mb-20 h-40 w-full rounded-xl bg-user-profile p-4 text-white\">\n\t\t\t\t\t<div className=\"profile__header-heading text-2xl font-medium \">Profile</div>\n\t\t\t\t\t<div className=\"profile__header-info  relative mx-2  mt-12 overflow-hidden rounded-2xl p-5 shadow-xl\">\n\t\t\t\t\t\t<div className=\"blurred absolute inset-0 z-0 bg-white/80 backdrop-blur-sm dark:bg-kdark/40\" />\n\t\t\t\t\t\t<div className=\"profile__header-info-inner relative z-10 flex items-center justify-between\">\n\t\t\t\t\t\t\t<div className=\"profile__header-user flex items-center\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t'profile__header-user-img flex-centered h-20 w-20 overflow-hidden rounded-2xl shadow-xl',\n\t\t\t\t\t\t\t\t\t\t{ 'bg-white': !userData.avatar }\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{userData.avatar ? (\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc={userData?.avatar?.thumbnail}\n\t\t\t\t\t\t\t\t\t\t\talt=\"Image\"\n\t\t\t\t\t\t\t\t\t\t\tclassName={'object-fit h-full w-full'}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\tclassName={'text-2xl text-kgrey'}\n\t\t\t\t\t\t\t\t\t\t>{`${userData.first_name[0]}${userData.last_name[0]}`}</p>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"profile__header-user-name ml-5 w-[500px]\">\n\t\t\t\t\t\t\t\t\t<div className=\"truncate text-2xl font-semibold text-kdark dark:text-white\">{`${userData.first_name} ${userData.last_name}`}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"profile-info rounded-2xl border border-transparent border-white/30 bg-white px-5 py-4 shadow-lg dark:bg-kdark\"\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\twidth: ${isMobile ? '100%' : '428px'};\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"profile-info__top flex-center-between border-b border-[#f0f0f0] pb-4\">\n\t\t\t\t\t\t\t<div className=\"font-semibold text-kdark dark:text-white\">Profile information</div>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"flex-centered h-4 w-4 text-[#67748E] transition hover:text-primary\"\n\t\t\t\t\t\t\t\ttype={'button'}\n\t\t\t\t\t\t\t\tonClick={modalHandler}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MdEdit />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"profile-info__content py-4\">\n\t\t\t\t\t\t\t<ProfileItem\n\t\t\t\t\t\t\t\tfield={'Full Name'}\n\t\t\t\t\t\t\t\tvalue={`${userData.first_name} ${userData.last_name}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ProfileItem field={'Mobile'} value={userData.mobile} />\n\t\t\t\t\t\t\t<ProfileItem field={'Email'} value={userData.username} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<WhiteModal handleModalOpen={modalHandler} open={open}>\n\t\t\t\t\t\t<EditProfile modalHandler={modalHandler} />\n\t\t\t\t\t</WhiteModal>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</StandardPageLayout>\n\t);\n}\n\nexport function UserProfile() {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<UserProfileInner />\n\t\t</ErrorBoundary>\n\t);\n}\n\nfunction ProfileItem({ field, value }: { field: string; value: string }) {\n\treturn (\n\t\t<div className=\"profile-info__item flex-center-y mb-4 text-sm font-medium\">\n\t\t\t<div className=\"text-[#67748E]\">{field}:</div>\n\t\t\t<div className=\"ml-2 w-6/12 truncate text-kdark dark:text-white\">{value}</div>\n\t\t</div>\n\t);\n}\n","import { UserProfile } from './UserProfile';\nexport default UserProfile;\n"],"names":["imgPath","config","validationSchema","yup","username","strict","trim","email","required","first_name","last_name","mobile","useStyles","makeStyles","createStyles","selectMenu","paddingTop","paddingBottom","borderColor","fontSize","root","width","color","formControl","borderRadius","EditProfile","modalHandler","userData","useAuth","useState","showDeleteModalVisible","setShowDeleteModalVisible","uploadMeta","setUploadMeta","cancelSending","setCancelSending","avatar","file","setFile","gender","setGender","classes","dispatch","useDispatch","showNotification","useNotistack","formik","useFormik","initialValues","id","onSubmit","values","setFieldError","setSubmitting","filteredValues","console","log","updateProfile","useAxios","url","method","cb","success","data","message","Actions","toggleDeleteModal","error","response","variant","deleteProfileAvatar","fetchData","isDeleteProfileLoading","loading","dynamicValues","args","handleDeleteProfileAvatar","prev","handleSubmit","className","src","get","alt","clickHandler","value","onClick","name","placeholder","label","onChange","handleChange","touched","Boolean","errors","helperText","type","setPhoneValue","setFieldValue","enableSearch","FormControl","Select","labelId","e","target","autoWidth","MenuItem","disabled","isSubmitting","isLoading","toggleHandler","isOpen","featureHandler","title","UserProfileInner","useWhiteModal","open","WhiteModal","useUnreadCaseTab","unreadCasesQuantity","isHidden","Helmet","clsx","thumbnail","css","isMobile","ProfileItem","field","handleModalOpen"],"sourceRoot":""}