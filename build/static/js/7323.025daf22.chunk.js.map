{"version":3,"file":"static/js/7323.025daf22.chunk.js","mappings":"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","sources":["pages/BusinessManagement/contexts/BusinessContext.tsx","pages/BusinessManagement/BusinessManagement.tsx"],"sourcesContent":["import React, { createContext, useReducer, useContext, useCallback } from 'react';\nimport { Company } from 'modules/user/reducers';\n\ntype ContextType = {\n\tbusinessId: number;\n\tsetBusinessId: (id: number | null) => void;\n\tviewedBusiness: Company;\n\tsetBusiness: (business: Company | null) => void;\n};\n\n// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\nexport const BusinessContext = createContext<ContextType>(null!);\ntype SetBusinessId = {\n\ttype: 'SET_BUSINESS_ID';\n\tpayload: number | null;\n};\n\ntype SetBusiness = {\n\ttype: 'SET_BUSINESS';\n\tpayload: Company | null;\n};\n\ntype StateType = {\n\tbusinessId: number | null;\n\tviewedBusiness: Company | null;\n};\n\ntype Actions = SetBusinessId | SetBusiness;\n\nconst reducer = (state: StateType, action: Actions): StateType => {\n\tswitch (action.type) {\n\t\tcase 'SET_BUSINESS_ID': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tbusinessId: action.payload\n\t\t\t};\n\t\t}\n\t\tcase 'SET_BUSINESS': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tviewedBusiness: action.payload\n\t\t\t};\n\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport function BusinessContextProvider({\n\tchildren\n}: React.PropsWithChildren<Record<string, unknown>>) {\n\tconst [state, dispatch] = useReducer(reducer, { businessId: null, viewedBusiness: null });\n\n\tconst setBusinessId = useCallback((id: number | null) => {\n\t\tdispatch({ type: 'SET_BUSINESS_ID', payload: id });\n\t}, []);\n\tconst setBusiness = useCallback((business: Company | null) => {\n\t\tdispatch({ type: 'SET_BUSINESS', payload: business });\n\t}, []);\n\n\t// eslint-disable-next-line react/jsx-no-constructed-context-values\n\tconst contextValues = {\n\t\tbusinessId: state.businessId,\n\t\tviewedBusiness: state.viewedBusiness,\n\t\tsetBusinessId,\n\t\tsetBusiness\n\t} as ContextType;\n\n\treturn <BusinessContext.Provider value={contextValues}>{children}</BusinessContext.Provider>;\n}\n\nexport const useBusinessContext = () => {\n\tconst businessContext = useContext(BusinessContext);\n\n\tif (!businessContext)\n\t\tthrow new Error('useBusinessContext must be used within the BusinessContextProvider');\n\treturn businessContext;\n};\n","import React, { Suspense, lazy, useEffect } from 'react';\nimport { Switch, Route, Link, useLocation } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport { Loader, CustomMuiTabs, ErrorBoundary, CreateBusinessForm } from 'shared/components';\nimport { WhiteModal } from 'shared/components/Elements';\nimport { useUnreadCaseTab } from 'shared/hooks';\nimport { BusinessContextProvider } from './contexts/BusinessContext';\n\nconst AsStaff = lazy(() => import('./components/AsStaff'));\nconst IncomingBusinessRequests = lazy(() => import('./components/IncomingBusinessRequests'));\n\nfunction a11yProps(index: number) {\n\treturn {\n\t\tid: `simple-tab-${index}`,\n\t\t'aria-controls': `simple-tabpanel-${index}`\n\t};\n}\n\ntype Props = {\n\tmatch: {\n\t\tparams: {\n\t\t\tclientType: string;\n\t\t};\n\t\turl: string;\n\t\tpath: string;\n\t};\n};\n\nfunction BusinessManagementInner({ match }: Props) {\n\tconst [primeTab, setPrimeTab] = React.useState(0);\n\tconst [formOpen, setFormOpen] = React.useState(false);\n\tconst { unreadCasesQuantity, isHidden } = useUnreadCaseTab('Switch Business');\n\tconst { url, path } = match;\n\tconst location = useLocation();\n\tconst isRequestPage = location.pathname.includes('requests');\n\tconst handleChangePrime = (\n\t\tevent: React.ChangeEvent<Record<string, unknown>>,\n\t\tnewValue: number\n\t) => {\n\t\tsetPrimeTab(newValue);\n\t};\n\tconst handleModalOpen = () => setFormOpen((prev) => !prev);\n\n\tuseEffect(() => {\n\t\tif (isRequestPage) {\n\t\t\tsetPrimeTab(1);\n\t\t} else {\n\t\t\tsetPrimeTab(0);\n\t\t}\n\t}, [location, isRequestPage]);\n\n\tconst handleCreateBusinessClose = () => setFormOpen(false);\n\n\treturn (\n\t\t<div className=\"flex min-h-full max-w-full flex-grow flex-col p-4\">\n\t\t\t{(!isHidden || unreadCasesQuantity === 0) && (\n\t\t\t\t<Helmet>\n\t\t\t\t\t<title>KENNEKT | Switch Business</title>\n\t\t\t\t</Helmet>\n\t\t\t)}\n\t\t\t{/*todo: remove after it's resolved*/}\n\t\t\t{/*<h2 className=\"text-xl md:text-3xl font-bold mb-4 dark:text-white\">*/}\n\t\t\t{/*\tBusiness management page*/}\n\t\t\t{/*</h2>*/}\n\t\t\t<div className=\"mb-4 flex max-w-full justify-between\">\n\t\t\t\t<div />\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName={\n\t\t\t\t\t\t'rounded-xl bg-kgrey-bg font-poppins text-sm md:text-base' +\n\t\t\t\t\t\t' px-4 py-2 text-center transition hover:bg-primary-200 dark:bg-primary-300 dark:text-white'\n\t\t\t\t\t}\n\t\t\t\t\tonClick={handleModalOpen}\n\t\t\t\t>\n\t\t\t\t\tCreate a new business\n\t\t\t\t</button>\n\t\t\t\t<WhiteModal handleModalOpen={handleModalOpen} open={Boolean(formOpen)}>\n\t\t\t\t\t<CreateBusinessForm type=\"popup\" onSuccess={handleCreateBusinessClose} />\n\t\t\t\t</WhiteModal>\n\t\t\t</div>\n\t\t\t<div className=\"prime-tabs\">\n\t\t\t\t<CustomMuiTabs.Tabs\n\t\t\t\t\troundedTop\n\t\t\t\t\tvalue={primeTab}\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tonChange={handleChangePrime}\n\t\t\t\t\taria-label=\"simple tabs example\"\n\t\t\t\t>\n\t\t\t\t\t<CustomMuiTabs.Tab label=\"Switch Business\" component={Link} to={url} {...a11yProps(0)} />\n\t\t\t\t\t<CustomMuiTabs.Tab\n\t\t\t\t\t\tlabel=\"Business Requests\"\n\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\tto={`${url}/business-requests`}\n\t\t\t\t\t\t{...a11yProps(1)}\n\t\t\t\t\t/>\n\t\t\t\t</CustomMuiTabs.Tabs>\n\t\t\t</div>\n\n\t\t\t<div className=\"relative flex max-w-full flex-grow flex-col\">\n\t\t\t\t<BusinessContextProvider>\n\t\t\t\t\t<div className=\"relative flex-grow\">\n\t\t\t\t\t\t<Suspense fallback={<Loader tiled />}>\n\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t<Route path={path} exact component={AsStaff} />\n\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\tpath={`${path}/business-requests/`}\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tcomponent={IncomingBusinessRequests}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t</div>\n\t\t\t\t</BusinessContextProvider>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default function BusinessManagement(props: Props) {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<BusinessManagementInner {...props} />\n\t\t</ErrorBoundary>\n\t);\n}\n"],"names":["BusinessContext","createContext","reducer","state","action","type","businessId","payload","viewedBusiness","BusinessContextProvider","children","useReducer","dispatch","setBusinessId","useCallback","id","setBusiness","business","contextValues","Provider","value","useBusinessContext","businessContext","useContext","Error","AsStaff","lazy","IncomingBusinessRequests","a11yProps","index","BusinessManagementInner","match","React","primeTab","setPrimeTab","formOpen","setFormOpen","useUnreadCaseTab","unreadCasesQuantity","isHidden","url","path","location","useLocation","isRequestPage","pathname","includes","handleModalOpen","prev","useEffect","className","Helmet","onClick","open","Boolean","onSuccess","roundedTop","onChange","event","newValue","label","component","Link","to","Suspense","fallback","tiled","exact","BusinessManagement","props"],"sourceRoot":""}