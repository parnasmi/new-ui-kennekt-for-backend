{"version":3,"file":"static/js/2667.f03ddef0.chunk.js","mappings":"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","sources":["pages/UserProfile/components/EditProfile.tsx","pages/UserProfile/UserProfile.tsx","pages/UserProfile/index.ts"],"sourcesContent":["import React, { useState } from 'react';\nimport { useFormik } from 'formik';\nimport { KntInput, KntPhoneInput } from 'shared/components/Fields';\nimport * as yup from 'yup';\nimport { useAuth } from 'modules/auth/hooks/useAuth';\nimport config from 'config';\nimport { Loader, FileUploader, ActionsButtons, ConfirmModal } from 'shared/components';\nimport get from 'lodash/get';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { useAxios, useNotistack } from 'shared/hooks';\nimport { useDispatch } from 'react-redux';\nimport Actions from 'store/actions';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\nimport { useTranslation } from 'react-i18next';\n\nconst imgPath = `${config.PUBLIC_ASSETS}img/`;\n\nfunction extractKeyValuePairs(inputString: string) {\n\tconst keyValuePairs: Record<string, string> = {};\n\tconst lines = inputString.split('\\n').filter(Boolean);\n\n\tfor (const line of lines) {\n\t\tconst [key, value] = line.split(':');\n\t\tkeyValuePairs[key?.trim?.()] = value?.trim?.();\n\t}\n\n\treturn keyValuePairs;\n}\n\ntype Props = {\n\tmodalHandler: () => void;\n};\n\nconst useStyles = makeStyles(\n\tcreateStyles({\n\t\tselectMenu: {\n\t\t\tpaddingTop: '13px',\n\t\t\tpaddingBottom: '13px',\n\t\t\tborderColor: '#e0e0e0',\n\t\t\tfontSize: '13px'\n\t\t},\n\t\troot: {\n\t\t\twidth: '100%',\n\t\t\t'MuiInputBase-formControl': {\n\t\t\t\tcolor: 'red'\n\t\t\t}\n\t\t},\n\t\tformControl: {\n\t\t\tborderRadius: '8px'\n\t\t}\n\t})\n);\n\nexport function EditProfile({ modalHandler }: Props) {\n\tconst { t } = useTranslation();\n\tconst { userData } = useAuth();\n\tconst [showDeleteModalVisible, setShowDeleteModalVisible] = useState(false);\n\tconst [uploadMeta, setUploadMeta] = useState<any>(null);\n\tconst [cancelSending, setCancelSending] = useState<any>(false);\n\tconst [file, setFile] = useState(userData.avatar ? userData.avatar : null);\n\tconst [gender, setGender] = useState<string>(userData.gender ? userData.gender : 'other');\n\tconst classes = useStyles();\n\tconst dispatch = useDispatch();\n\tconst { showNotification } = useNotistack();\n\n\tconst validationSchema = yup.object({\n\t\tusername: yup\n\t\t\t.string()\n\t\t\t.strict()\n\t\t\t.trim(t('field_cannot_blank'))\n\t\t\t.email(t('valid_email'))\n\t\t\t.required(t('email_required')),\n\t\tfirst_name: yup\n\t\t\t.string()\n\t\t\t.strict()\n\t\t\t.trim(t('field_cannot_blank'))\n\t\t\t.required(t('firstname_required')),\n\t\tlast_name: yup.string().strict().trim(t('field_cannot_blank')).required(t('lastname_required')),\n\t\tmobile: yup.string().required(t('mobile_required')),\n\t\tgender: yup.string()\n\t});\n\n\tconst formik = useFormik({\n\t\tinitialValues: {\n\t\t\tusername: userData.username,\n\t\t\tfirst_name: userData.first_name,\n\t\t\tlast_name: userData.last_name,\n\t\t\tmobile: userData.mobile,\n\t\t\tavatar: userData.avatar?.id,\n\t\t\tgender\n\t\t},\n\t\tvalidationSchema: validationSchema,\n\t\tonSubmit: (values, { setFieldError, setSubmitting }) => {\n\t\t\tconst filteredValues = { ...values, avatar: file?.id };\n\t\t\tupdateProfile({ values: filteredValues });\n\t\t}\n\t});\n\n\tconst { fetchData: deleteProfileAvatar, loading: isDeleteProfileLoading } = useAxios({\n\t\turl: '/my/profile/avatar/delete/',\n\t\tmethod: 'delete',\n\t\tcb: {\n\t\t\tsuccess: (data) => {\n\t\t\t\tshowNotification({\n\t\t\t\t\tmessage: t('profile_photo_updated')\n\t\t\t\t});\n\t\t\t\tsetFile(null);\n\t\t\t\tdispatch(\n\t\t\t\t\tActions.auth.GetMe.success({\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t...userData,\n\t\t\t\t\t\t\tavatar: null\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\ttoggleDeleteModal();\n\t\t\t},\n\t\t\terror: (error) => {\n\t\t\t\tshowNotification({\n\t\t\t\t\tmessage: error?.response?.data?.message || t('something_went_wrong'),\n\t\t\t\t\tvariant: 'error'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\tconst { fetchData: updateProfile } = useAxios({\n\t\turl: '/my/profile/',\n\t\tdynamicValues: true,\n\t\tmethod: 'put',\n\t\tcb: {\n\t\t\tsuccess: (data, args) => {\n\t\t\t\t// const [entityId, isCase, entityName, url] = args;\n\t\t\t\tformik.setSubmitting(false);\n\t\t\t\tdispatch(\n\t\t\t\t\tActions.auth.GetMe.success({\n\t\t\t\t\t\tdata\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tshowNotification({\n\t\t\t\t\tmessage: t('profile_updated')\n\t\t\t\t});\n\t\t\t\tmodalHandler();\n\t\t\t},\n\t\t\terror: (error, args) => {\n\t\t\t\tformik.setSubmitting(false);\n\t\t\t\tconst message = error?.response?.data?.message?.replace('display name', 'user name');\n\n\t\t\t\tshowNotification({\n\t\t\t\t\tmessage: error?.response?.data?.message ?? t('something_went_wrong'),\n\t\t\t\t\tvariant: 'error'\n\t\t\t\t});\n\n\t\t\t\tconst errorObject = extractKeyValuePairs(message);\n\t\t\t\tformik.setErrors(errorObject);\n\t\t\t}\n\t\t}\n\t});\n\n\tconst handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n\t\tsetGender(event.target.value as string);\n\t};\n\n\tconst handleDeleteProfileAvatar = async () => {\n\t\tawait deleteProfileAvatar();\n\t};\n\n\tfunction toggleDeleteModal() {\n\t\tsetShowDeleteModalVisible((prev) => !prev);\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<form onSubmit={formik.handleSubmit}>\n\t\t\t\t<div className=\"mb-6 text-xl font-semibold\">{t('edit_profile')}</div>\n\t\t\t\t<div className=\"flex-center-center mb-4\">\n\t\t\t\t\t<div className=\"mr-4\">\n\t\t\t\t\t\t<FileUploader\n\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\tuploadMeta={uploadMeta}\n\t\t\t\t\t\t\tsetUploadMeta={setUploadMeta}\n\t\t\t\t\t\t\tcancelSending={cancelSending}\n\t\t\t\t\t\t\tsetCancelSending={setCancelSending}\n\t\t\t\t\t\t\tsetFile={setFile}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"user-avatar-box__display flex-centered group relative h-20 w-20 overflow-hidden rounded-full\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={get(file, 'thumbnail_150') || `${imgPath}chat-placeholder.png`}\n\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\tclassName={'h-full object-cover'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{file && !uploadMeta && (\n\t\t\t\t\t\t\t<div className=\"absolute bottom-0 left-0 hidden h-1/3 w-full justify-center bg-kgrey-bg group-hover:flex\">\n\t\t\t\t\t\t\t\t<ActionsButtons.DeleteButton clickHandler={toggleDeleteModal} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{uploadMeta !== null && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'absolute top-1/2 left-1/2 z-10 h-10 w-10 -translate-y-1/2 -translate-x-1/2'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"upload-media-spinner\">\n\t\t\t\t\t\t\t\t\t<Loader variant=\"determinate\" value={uploadMeta} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetCancelSending(true);\n\t\t\t\t\t\t\t\t\t\tsetUploadMeta(null);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t'absolute top-1/2 left-1/2 z-20 h-8 w-8 -translate-y-1/2 -translate-x-1/2 ' +\n\t\t\t\t\t\t\t\t\t\t'cursor-pointer text-3xl text-primary-dark transition hover:text-primary'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<AiOutlineCloseCircle />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<KntInput\n\t\t\t\t\tname={'first_name'}\n\t\t\t\t\tplaceholder={t('enter_first_name')}\n\t\t\t\t\tlabel={t('first_name')}\n\t\t\t\t\trequired\n\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\tvalue={formik.values.first_name}\n\t\t\t\t\terror={formik.touched.first_name && Boolean(formik.errors.first_name)}\n\t\t\t\t\thelperText={formik.touched.first_name && formik.errors.first_name}\n\t\t\t\t/>\n\t\t\t\t<KntInput\n\t\t\t\t\tname={'last_name'}\n\t\t\t\t\tplaceholder={t('enter_last_name')}\n\t\t\t\t\tlabel={t('last_name')}\n\t\t\t\t\trequired\n\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\tvalue={formik.values.last_name}\n\t\t\t\t\terror={formik.touched.last_name && Boolean(formik.errors.last_name)}\n\t\t\t\t\thelperText={formik.touched.last_name && formik.errors.last_name}\n\t\t\t\t/>\n\t\t\t\t<KntInput\n\t\t\t\t\tdisabled\n\t\t\t\t\tname={'username'}\n\t\t\t\t\tplaceholder={t('enter_email_address')}\n\t\t\t\t\tlabel={t('email_address')}\n\t\t\t\t\trequired\n\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\ttype={'email'}\n\t\t\t\t\tvalue={formik.values.username}\n\t\t\t\t\terror={formik.touched.username && Boolean(formik.errors.username)}\n\t\t\t\t\thelperText={formik.touched.username && formik.errors.username}\n\t\t\t\t/>\n\t\t\t\t<KntPhoneInput\n\t\t\t\t\tname={'mobile'}\n\t\t\t\t\tplaceholder={t('enter_phone_number')}\n\t\t\t\t\tlabel={t('phone_number')}\n\t\t\t\t\trequired\n\t\t\t\t\tsetPhoneValue={formik.setFieldValue}\n\t\t\t\t\tvalue={formik.values.mobile}\n\t\t\t\t\terror={formik.touched.mobile && Boolean(formik.errors.mobile)}\n\t\t\t\t\thelperText={formik.touched.mobile && formik.errors.mobile}\n\t\t\t\t\tenableSearch\n\t\t\t\t/>\n\n\t\t\t\t<div className={'mb-4'}>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\troot: classes.root\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p className={'ml-6 mb-2 block text-xs font-light text-kgrey-welcome'}>{t('gender')}</p>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabelId=\"Gender-select\"\n\t\t\t\t\t\t\tid=\"gender-select\"\n\t\t\t\t\t\t\tvalue={gender}\n\t\t\t\t\t\t\tvariant={'outlined'}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\thandleChange(e);\n\t\t\t\t\t\t\t\tformik.setFieldValue('gender', e.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tautoWidth\n\t\t\t\t\t\t\tclasses={{ selectMenu: classes.selectMenu, root: classes.root }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={'OTHER'}>{t('not_selected')}</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={'MALE'}>{t('male')}</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={'FEMALE'}>{t('female')}</MenuItem>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"flex-center-between\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype={'submit'}\n\t\t\t\t\t\tdisabled={formik.isSubmitting}\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'bg-primary py-3.5 uppercase transition ' +\n\t\t\t\t\t\t\t'w-full rounded-lg text-center text-sm font-light text-white hover:bg-primary-dark'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{formik.isSubmitting ? t('updating_please_wait') : t('update')}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tdisabled={formik.isSubmitting}\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'bg-primary py-3.5 uppercase transition ' +\n\t\t\t\t\t\t\t'ml-2 w-full rounded-lg text-center text-sm font-light text-white hover:bg-primary-dark sm:ml-0 sm:hidden'\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttype={'button'}\n\t\t\t\t\t\tonClick={modalHandler}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('cancel')}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<ConfirmModal\n\t\t\t\t\tisLoading={isDeleteProfileLoading}\n\t\t\t\t\ttoggleHandler={toggleDeleteModal}\n\t\t\t\t\tisOpen={showDeleteModalVisible}\n\t\t\t\t\tfeatureHandler={handleDeleteProfileAvatar}\n\t\t\t\t\ttitle={t('are_you_sure_delete_profile_photo')}\n\t\t\t\t/>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n","/** @jsxImportSource @emotion/react */\nimport { StandardPageLayout } from 'shared/layouts';\nimport { useAuth } from 'modules/auth/hooks/useAuth';\nimport { css } from '@emotion/react';\nimport clsx from 'clsx';\nimport { useUnreadCaseTab, useWhiteModal } from 'shared/hooks';\nimport { EditProfile } from './components/EditProfile';\nimport { isMobile } from 'react-device-detect';\nimport { Helmet } from 'react-helmet';\nimport { ErrorBoundary } from 'shared/components';\nimport { MdEdit } from 'react-icons/md';\nimport { useTranslation } from 'react-i18next';\n\nfunction UserProfileInner() {\n\tconst { t } = useTranslation();\n\tconst { userData } = useAuth();\n\tconst { open, modalHandler, WhiteModal } = useWhiteModal();\n\tconst { unreadCasesQuantity, isHidden } = useUnreadCaseTab('User Profile');\n\n\treturn (\n\t\t<StandardPageLayout>\n\t\t\t<div className={'profile'}>\n\t\t\t\t{(!isHidden || unreadCasesQuantity === 0) && (\n\t\t\t\t\t<Helmet>\n\t\t\t\t\t\t<title>KENNEKT | User profile</title>\n\t\t\t\t\t</Helmet>\n\t\t\t\t)}\n\t\t\t\t<div className=\"profile__header mb-20 h-40 w-full rounded-xl bg-user-profile p-4 text-white\">\n\t\t\t\t\t<div className=\"profile__header-heading text-2xl font-medium \">{t('profile')}</div>\n\t\t\t\t\t<div className=\"profile__header-info  relative mx-2  mt-12 overflow-hidden rounded-2xl p-5 shadow-xl\">\n\t\t\t\t\t\t<div className=\"blurred absolute inset-0 z-0 bg-white/80 backdrop-blur-sm dark:bg-kdark/40\" />\n\t\t\t\t\t\t<div className=\"profile__header-info-inner relative z-10 flex items-center justify-between\">\n\t\t\t\t\t\t\t<div className=\"profile__header-user flex items-center\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t'profile__header-user-img flex-centered h-20 w-20 overflow-hidden rounded-2xl shadow-xl',\n\t\t\t\t\t\t\t\t\t\t{ 'bg-white': !userData.avatar }\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{userData.avatar ? (\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc={userData?.avatar?.thumbnail}\n\t\t\t\t\t\t\t\t\t\t\talt={userData?.first_name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={'object-fit h-full w-full'}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\tclassName={'text-2xl text-kgrey'}\n\t\t\t\t\t\t\t\t\t\t>{`${userData.first_name[0]}${userData.last_name[0]}`}</p>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"profile__header-user-name ml-5 w-[500px]\">\n\t\t\t\t\t\t\t\t\t<div className=\"truncate text-2xl font-semibold text-kdark dark:text-white\">{`${userData.first_name} ${userData.last_name}`}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"profile-info min-h-[215px] rounded-2xl border border-transparent border-white/30 bg-white px-5 py-4 shadow-lg dark:bg-kdark\"\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\twidth: ${isMobile ? '100%' : '428px'};\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"profile-info__top flex-center-between border-b border-[#f0f0f0] pb-4\">\n\t\t\t\t\t\t\t<div className=\"font-semibold text-kdark dark:text-white\">\n\t\t\t\t\t\t\t\t{t('profile_information')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"flex-centered h-4 w-4 text-[#67748E] transition hover:text-primary\"\n\t\t\t\t\t\t\t\ttype={'button'}\n\t\t\t\t\t\t\t\tonClick={modalHandler}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MdEdit />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"profile-info__content py-4\">\n\t\t\t\t\t\t\t<ProfileItem\n\t\t\t\t\t\t\t\tfield={t('full_name')}\n\t\t\t\t\t\t\t\tvalue={`${userData.first_name} ${userData.last_name}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ProfileItem field={t('mobile')} value={userData.mobile} />\n\t\t\t\t\t\t\t<ProfileItem field={t('email')} value={userData.username} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<WhiteModal handleModalOpen={modalHandler} open={open}>\n\t\t\t\t\t\t<EditProfile modalHandler={modalHandler} />\n\t\t\t\t\t</WhiteModal>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</StandardPageLayout>\n\t);\n}\n\nexport function UserProfile() {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<UserProfileInner />\n\t\t</ErrorBoundary>\n\t);\n}\n\nfunction ProfileItem({ field, value }: { field: string; value: string | React.ReactNode }) {\n\treturn (\n\t\t<div className=\"profile-info__item flex-center-y mb-4 text-sm font-medium\">\n\t\t\t<div className=\"text-[#67748E]\">{field}:</div>\n\t\t\t<div className=\"ml-2 truncate text-kdark dark:text-white\">{value}</div>\n\t\t</div>\n\t);\n}\n","import { UserProfile } from './UserProfile';\nexport default UserProfile;\n"],"names":["imgPath","config","useStyles","makeStyles","createStyles","selectMenu","paddingTop","paddingBottom","borderColor","fontSize","root","width","color","formControl","borderRadius","EditProfile","modalHandler","t","useTranslation","userData","useAuth","useState","showDeleteModalVisible","setShowDeleteModalVisible","uploadMeta","setUploadMeta","cancelSending","setCancelSending","avatar","file","setFile","gender","setGender","classes","dispatch","useDispatch","showNotification","useNotistack","validationSchema","yup","username","strict","trim","email","required","first_name","last_name","mobile","formik","useFormik","initialValues","id","onSubmit","values","setFieldError","setSubmitting","filteredValues","updateProfile","useAxios","url","method","cb","success","data","message","Actions","toggleDeleteModal","error","response","variant","deleteProfileAvatar","fetchData","isDeleteProfileLoading","loading","dynamicValues","args","replace","errorObject","inputString","keyValuePairs","lines","split","filter","Boolean","key","value","extractKeyValuePairs","setErrors","handleDeleteProfileAvatar","prev","handleSubmit","className","accept","src","get","alt","clickHandler","onClick","name","placeholder","label","onChange","handleChange","touched","errors","helperText","disabled","type","setPhoneValue","setFieldValue","enableSearch","FormControl","Select","labelId","e","target","autoWidth","MenuItem","isSubmitting","isLoading","toggleHandler","isOpen","featureHandler","title","UserProfileInner","useWhiteModal","open","WhiteModal","useUnreadCaseTab","unreadCasesQuantity","isHidden","Helmet","clsx","thumbnail","css","isMobile","ProfileItem","field","handleModalOpen"],"sourceRoot":""}