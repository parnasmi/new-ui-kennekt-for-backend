"use strict";(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[5165],{35165:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var s=t(1413),r=t(47313),i=t(51328),a=t(28303),l=t(930),c=t(77344),o=t(79447),d=t(94435),u=t(95762),h=t(38251),g=t(69706),x=t.n(g),m=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"requesting_company";if((0,h.oH)(e[n].name)){var t=x()(e,"".concat(n,"_owner")),s=t.first_name,r=t.last_name;return"".concat(s," ").concat(r)}return x()(e,"".concat(n,".name"))},j=t(46417);function p(){var e=(0,c.m)(),n=e.companyId,t=e.isPermitted,s=(0,o.h0)(),a=s.page,h=s.handlePage,g=s.removePage,x=(0,o.A3)(),p=x.query,f=x.setQuery,b=x.searchQuery,y=(0,l.rU)(),v=y.rejectVisible,q=y.showRejectVisible,k=y.rejectLoading,R=y.closeRejectPopup,_=y.editVisible,w=y.showEditVisible,A=y.editLoading,F=y.closeEditPopup,P=y.handleStatusChange;(0,r.useEffect)((function(){return function(){return g()}}),[]);return(0,j.jsxs)("div",{className:"relative mb-8",children:[(0,j.jsx)(d.Bu,{title:"Incoming Requests",query:p,placeholder:"Search For Requests",handleSearch:function(e){return f(e.target.value)}}),(0,j.jsx)(u.Z.All,{entity:"incoming-request",name:"AllIncoming-Requests",url:"/".concat(n,"/company_connection_requests/"),params:{page:a,limit:10,extra:{search:b}},children:function(e){var n=e.items,s=e.isFetched,r=e.meta;return(0,j.jsx)(j.Fragment,{children:s?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.xJ,{classes:{root:"relative "},children:(0,j.jsxs)(i.k6,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,j.jsx)(d.ss,{children:(0,j.jsxs)(i.AF,{children:[(0,j.jsx)(i.EU,{style:{width:"30%"},children:"Requesting Business"}),(0,j.jsx)(i.EU,{style:{width:"30%"},children:"Connection type"}),(0,j.jsx)(i.EU,{style:{width:"10%"},children:"Status"}),(0,j.jsx)(i.EU,{style:{width:"30%",textAlign:"center"},children:"Action"})]})}),(0,j.jsx)(d.RM,{children:n.map((function(e){var n=e.id,s=e.connection_type;return(0,j.jsxs)(i.AF,{children:[(0,j.jsx)(i.Yk,{children:m(e)}),(0,j.jsx)(i.Yk,{children:s}),(0,j.jsx)(i.Yk,{children:"Pending"}),(0,j.jsxs)(i.Yk,{children:[(0,j.jsx)(d.Ik,{isDisabled:!t,className:"mr-4 bg-kred-pink text-white hover:bg-kred-pink-200",onClick:function(){return q(e)},children:"Reject"}),(0,j.jsx)(d.Ik,{isDisabled:!t,color:"primary",onClick:function(){return w(e)},children:"Accept"})]})]},n)}))})]})}),(0,j.jsx)(i.sm,{featureHandler:function(){return P(v.id,"reject")},isOpen:Boolean(v),toggleHandler:R,title:"Are you sure to reject the Request",hasLoader:!0,isLoading:k}),(0,j.jsx)(i.sm,{featureHandler:function(){return P(_.id,"accept")},isOpen:Boolean(_),toggleHandler:F,title:"Are you sure to accept the Request",hasLoader:!0,isLoading:A}),(0,j.jsx)("div",{className:"news__pagination my-4",children:n.length?(0,j.jsx)(d.tl,{count:null===r||void 0===r?void 0:r.last_page,page:a?+a:1,defaultPage:6,siblingCount:1,color:"primary",onChange:h}):null})]}):(0,j.jsx)(i.aN,{tiled:!0,withOverlay:!0})})}})]})}function f(){var e=(0,c.m)(),n=e.companyId,t=e.isPermitted,s=(0,o.h0)(),a=s.page,h=s.handlePage,g=s.removePage,x=(0,o.A3)(),p=x.query,f=x.setQuery,b=x.searchQuery,y=(0,l.d1)(),v=y.deleteVisible,q=y.showDeleteVisible,k=y.deleteLoading,R=y.closeDeletePopup,_=y.resendVisible,w=y.showResendVisible,A=y.resendLoading,F=y.closeResendPopup,P=y.handleDeleteRequest,C=y.handleResendRequest;(0,r.useEffect)((function(){return function(){return g()}}),[]);return(0,j.jsxs)("div",{className:"relative mb-8",children:[(0,j.jsx)(d.Bu,{title:"Outgoing request",query:p,placeholder:"Search For Requests",handleSearch:function(e){return f(e.target.value)}}),(0,j.jsx)(u.Z.All,{entity:"outgoing-request",name:"AllOutgoing-Requests",url:"/".concat(n,"/my_company_connection_requests/"),params:{page:a,limit:10,extra:{search:b}},children:function(e){var n=e.items,s=e.isFetched,r=e.meta;return(0,j.jsx)(j.Fragment,{children:s?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.xJ,{classes:{root:"relative "},children:(0,j.jsxs)(i.k6,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,j.jsx)(d.ss,{children:(0,j.jsxs)(i.AF,{children:[(0,j.jsx)(i.EU,{style:{width:"60%"},children:"Business connections Requested"}),(0,j.jsx)(i.EU,{style:{width:"10%"},children:"Status"}),(0,j.jsx)(i.EU,{style:{width:"30%",textAlign:"center"},children:"Action"})]})}),(0,j.jsx)(d.RM,{children:n.map((function(e){var n=e.id;return(0,j.jsxs)(i.AF,{children:[(0,j.jsx)(i.Yk,{children:m(e,"requested_company")}),(0,j.jsx)(i.Yk,{children:"Pending"}),(0,j.jsxs)(i.Yk,{children:[(0,j.jsx)(i.cP.DeleteButton,{isDisabled:!t,clickHandler:function(){return q(e)}}),(0,j.jsx)(d.Ik,{color:"primary",onClick:function(){return w(e)},children:"Resend"})]})]},n)}))})]})}),(0,j.jsx)(i.sm,{featureHandler:function(){return P(v)},isOpen:Boolean(v),toggleHandler:R,title:"Are you sure to delete the Request",hasLoader:!0,isLoading:k}),(0,j.jsx)(i.sm,{featureHandler:function(){return C(_)},isOpen:Boolean(_),toggleHandler:F,title:"Are you sure to resend the Request",hasLoader:!0,isLoading:A}),(0,j.jsx)("div",{className:"news__pagination my-4",children:n.length?(0,j.jsx)(d.tl,{count:null===r||void 0===r?void 0:r.last_page,page:a?+a:1,defaultPage:6,siblingCount:1,color:"primary",onChange:h}):null})]}):(0,j.jsx)(i.aN,{tiled:!0,withOverlay:!0})})}})]})}function b(e){return{id:"request-tabpanel-".concat(e),"aria-controls":"request-tab-".concat(e)}}function y(){var e=(0,l.vr)(),n=e.handleChangeTab,t=e.tab,r=0===t;return console.log("in ClientsRequestsInner",{tab:t}),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h1",{className:"my-4 font-bold text-2xl dark:text-white",children:r?"Incoming Requests":"Outgoing Requests"}),(0,j.jsx)("div",{className:"request-tabs",children:(0,j.jsxs)(i.sJ.Tabs,{roundedTop:!0,value:t,onChange:n,"aria-label":"simple tabs",children:[(0,j.jsx)(i.sJ.Tab,(0,s.Z)({label:"Incoming",component:a.rU,to:"/clients-management/requests/incoming/"},b(0))),(0,j.jsx)(i.sJ.Tab,(0,s.Z)({label:"Outgoing",component:a.rU,to:"/clients-management/requests/outgoing/"},b(1)))]})}),(0,j.jsx)("div",{children:0===t?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(p,{})}):(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(f,{})})})]})}var v=function(){return(0,j.jsx)(i.SV,{children:(0,j.jsx)(y,{})})}}}]);