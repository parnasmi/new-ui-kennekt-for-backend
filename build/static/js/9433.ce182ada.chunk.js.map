{"version":3,"file":"static/js/9433.ce182ada.chunk.js","mappings":"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","sources":["pages/ClientsManagement/components/ClientView/LinkedClientFormElements.tsx","pages/ClientsManagement/components/ClientView/CreateLinkedClientForm.tsx","pages/ClientsManagement/components/ClientView/ClientdtLinkedClients.tsx","pages/ClientsManagement/components/ClientView/ClientdtHeader.tsx","pages/ClientsManagement/components/ClientView/ClientUserInviteForm.tsx","pages/ClientsManagement/components/ClientView/ClientdtUsers.tsx","pages/ClientsManagement/NestedPages/ClientDetails/ClientDetails.tsx","pages/ClientsManagement/NestedPages/ClientDetails/index.ts","shared/components/DataDisplay/StatusTag.tsx"],"sourcesContent":["import config from 'config';\nimport React, { useState } from 'react';\nimport { useDidMountEffect } from 'shared/hooks';\nimport get from 'lodash/get';\nimport { Field } from 'formik';\nimport { useAppState } from 'shared/state';\nimport { AsyncSelect as AsyncSelectComp } from 'shared/components';\nimport { InviteClientFormFooter } from '../InviteClientFormFooter';\nimport { KntTwilioStyle } from 'shared/services';\nimport { KntInput } from 'shared/components/Fields';\nimport { AvatarSized } from 'shared/components/Elements';\nimport AsyncSelectJs from 'shared/components/Fields/AsyncSelectJs';\nimport isEmpty from 'lodash/isEmpty';\n\nconst imgPath = `${config.PUBLIC_ASSETS}img/`;\n\ntype Props = {\n\tsetFieldValue: any;\n\tonSuccess: () => void;\n\tisSubmitting: boolean;\n};\n\nexport function LinkedClientFormElements({ setFieldValue, onSuccess, isSubmitting }: Props) {\n\tconst { companyId } = useAppState();\n\tconst [state, setState] = useState({\n\t\tfirstname: '',\n\t\tlastname: '',\n\t\tphone: '',\n\t\temail: '',\n\t\tavatar: `${imgPath}avatar-placeholder.png`,\n\t\tis_individual: true,\n\t\tbusinessName: null\n\t});\n\tconst { firstname, lastname, phone, email, avatar, is_individual, businessName } = state;\n\tconst [client, setClient] = useState<any>({});\n\n\tuseDidMountEffect(() => {\n\t\tconst is_individual = get(client, 'is_individual');\n\t\tconst fn = get(client, 'owner.first_name');\n\t\tconst ln = get(client, 'owner.last_name');\n\t\tconst phone = get(client, 'owner.mobile');\n\t\tconst email = get(client, 'owner.username');\n\t\tconst avatar = get(client, 'owner.avatar.thumbnail_150');\n\n\t\tsetState((prev) => ({\n\t\t\t...prev,\n\t\t\tfirstname: fn ? fn : 'No Firstname',\n\t\t\tlastname: ln ? ln : 'No Lastname',\n\t\t\tphone: is_individual ? phone : client.phone || 'No Phone',\n\t\t\temail: email ? email : 'No Email',\n\t\t\tavatar: avatar ? avatar : null,\n\t\t\tis_individual,\n\t\t\tbusinessName: is_individual ? null : get(client, 'name')\n\t\t}));\n\t\treturn () => {\n\t\t\tsetClient({});\n\t\t};\n\t}, [client]);\n\n\tconst handleClientChange = (option: any) => {\n\t\tif (option) {\n\t\t\tsetFieldValue('from_company', option.id);\n\t\t\tsetClient(option);\n\t\t} else {\n\t\t\tsetClient({});\n\t\t}\n\t};\n\n\tconst isClientSelected = !isEmpty(client);\n\n\treturn (\n\t\t<div className=\"react-select-dropdown w-full\">\n\t\t\t<div className=\"react-select-dropdown mb-4\">\n\t\t\t\t{/*@ts-ignore*/}\n\t\t\t\t<AsyncSelectComp\n\t\t\t\t\tname=\"route\"\n\t\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\t\tplaceholder=\"Select Client to Link\"\n\t\t\t\t\toptionLabel={(option: any) => {\n\t\t\t\t\t\tif (get(option, 'first_name') && get(option, 'last_name')) {\n\t\t\t\t\t\t\treturn `${get(option, 'first_name')} ${get(option, 'last_name')} (${get(\n\t\t\t\t\t\t\t\toption,\n\t\t\t\t\t\t\t\t'name'\n\t\t\t\t\t\t\t)}) ${get(option, 'is_individual') ? ' - Individual' : ' - Business'}`;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn `${get(option, 'name')} ${\n\t\t\t\t\t\t\t\tget(option, 'is_individual') ? ' - Individual' : ' - Business'\n\t\t\t\t\t\t\t}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\tloadOptionsUrl={`/${companyId}/client_companies/`}\n\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\tsearch\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t\tloadOptionsKey=\"results\"\n\t\t\t\t\tisSearchable={true}\n\t\t\t\t\tisClearable={true}\n\t\t\t\t\tonChange={handleClientChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{isClientSelected ? (\n\t\t\t\t<Field\n\t\t\t\t\tcomponent={AsyncSelectJs}\n\t\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\t\tname=\"role\"\n\t\t\t\t\tplaceholder=\"Select role here\"\n\t\t\t\t\toptionLabel=\"name\"\n\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\tisSearchable\n\t\t\t\t\tisClearable={false}\n\t\t\t\t\tloadOptionsKey=\"results\"\n\t\t\t\t\tloadOptionsUrl={`/${companyId}/my/company/client/roles/`}\n\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\tsearch\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t\t{!is_individual && isClientSelected ? (\n\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t<KntInput\n\t\t\t\t\t\tname=\"businessName\"\n\t\t\t\t\t\tplaceholder=\"Business name\"\n\t\t\t\t\t\tlabel=\"Business name (Not Editable)\"\n\t\t\t\t\t\tonChange={() => {}}\n\t\t\t\t\t\tvalue={businessName as unknown as string}\n\t\t\t\t\t\terror={false}\n\t\t\t\t\t\thelperText=\"\"\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t\t{is_individual && isClientSelected ? (\n\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t<KntInput\n\t\t\t\t\t\tname=\"fullName\"\n\t\t\t\t\t\tplaceholder=\"Full name\"\n\t\t\t\t\t\tlabel=\"Full name (Not Editable)\"\n\t\t\t\t\t\tonChange={() => {}}\n\t\t\t\t\t\tvalue={`${firstname} ${lastname}` as unknown as string}\n\t\t\t\t\t\terror={false}\n\t\t\t\t\t\thelperText=\"\"\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t\t{isClientSelected ? (\n\t\t\t\t<div className=\"mb-4 flex items-end justify-between\">\n\t\t\t\t\t<div className=\"flex-grow\">\n\t\t\t\t\t\t<KntInput\n\t\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\t\tplaceholder=\"Phone\"\n\t\t\t\t\t\t\tlabel=\"Phone No (Not Editable)\"\n\t\t\t\t\t\t\tonChange={() => {}}\n\t\t\t\t\t\t\tvalue={phone as unknown as string}\n\t\t\t\t\t\t\terror={false}\n\t\t\t\t\t\t\thelperText=\"\"\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\tclassNames=\"!mb-0\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<AvatarSized\n\t\t\t\t\t\tsize={40}\n\t\t\t\t\t\tletter={businessName?.[0] || firstname?.[0]}\n\t\t\t\t\t\talt={businessName || firstname}\n\t\t\t\t\t\tsrc={avatar}\n\t\t\t\t\t\tclassName=\"ml-4 mb-1\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) : null}\n\n\t\t\t{is_individual && isClientSelected ? (\n\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t<KntInput\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\tlabel=\"Email (Not Editable)\"\n\t\t\t\t\t\tonChange={() => {}}\n\t\t\t\t\t\tvalue={email as unknown as string}\n\t\t\t\t\t\terror={false}\n\t\t\t\t\t\thelperText=\"\"\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) : null}\n\n\t\t\t<div className=\"flex-center-between mt-8\">\n\t\t\t\t<InviteClientFormFooter\n\t\t\t\t\tonSuccess={onSuccess}\n\t\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t\t\tsubmitText=\"Create Linked Client\"\n\t\t\t\t\tdisableOptions={!isClientSelected}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport EntityForm from 'modules/entity/forms';\nimport { useAppState } from 'shared/state';\nimport { useNotistack } from 'shared/hooks';\nimport { FormHeader, Loader } from 'shared/components';\nimport get from 'lodash/get';\nimport { LinkedClientFormElements } from './LinkedClientFormElements';\n\ntype Props = {\n\tonSuccess: () => void;\n\tclientId: number;\n};\n\nexport function CreateLinkedClientForm({ onSuccess, clientId }: Props) {\n\tconst { companyId } = useAppState();\n\tconst { showNotification } = useNotistack();\n\n\treturn (\n\t\t<>\n\t\t\t<EntityForm.Main\n\t\t\t\tentity=\"linked-clients\"\n\t\t\t\tname=\"AllLinkedClients\"\n\t\t\t\turl={`/${companyId}/my/company/linked_client/`}\n\t\t\t\tmethod=\"post\"\n\t\t\t\tprimaryKey=\"id\"\n\t\t\t\tsendAsFormData={false}\n\t\t\t\tnormalizeData={(data: any) => data}\n\t\t\t\tprependData\n\t\t\t\tfields={[\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'role',\n\t\t\t\t\t\tonSubmitValue: (value) => get(value, 'id'),\n\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\ttype: 'object'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'from_company',\n\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'to_company',\n\t\t\t\t\t\tvalue: Number(clientId),\n\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t}\n\t\t\t\t]}\n\t\t\t\tonSuccess={(response, resetForm): any => {\n\t\t\t\t\tshowNotification({ message: 'Success! Waiting for client accepting..' });\n\t\t\t\t\tonSuccess();\n\t\t\t\t\tresetForm();\n\t\t\t\t}}\n\t\t\t\tonError={(error, resetForm): any => {\n\t\t\t\t\tconst errorText = error?.response?.data?.message || 'Something went wrong';\n\t\t\t\t\tshowNotification({ message: errorText, variant: 'error' });\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{({ isSubmitting, values, setFieldValue, resetForm }) => {\n\t\t\t\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\t\t\t\tconsole.log('linked user invite  values', values);\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<FormHeader\n\t\t\t\t\t\t\t\tresetForm={resetForm}\n\t\t\t\t\t\t\t\ttitle=\"Please search existing client user to link\"\n\t\t\t\t\t\t\t\tisEditing\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className={'flex items-center'}>\n\t\t\t\t\t\t\t\t\t<LinkedClientFormElements\n\t\t\t\t\t\t\t\t\t\tsetFieldValue={setFieldValue}\n\t\t\t\t\t\t\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tonSuccess={onSuccess}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{isSubmitting && <Loader tiled withOverlay />}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</EntityForm.Main>\n\t\t</>\n\t);\n}\n","import React from 'react';\nimport EntityContainer from 'modules/entity/containers';\nimport { useAppState } from 'shared/state';\nimport {\n\tLoader,\n\tStyledTable,\n\tStyledTableCell,\n\tStyledTableHeadCell,\n\tStyledTableRow,\n\tAsyncSelect,\n\tActionsButtons,\n\tConfirmModal\n} from 'shared/components';\nimport {\n\tListHeader,\n\tPagination,\n\tTableBody,\n\tTableContainer,\n\tTableHead\n} from 'shared/components/Elements';\nimport { LinkedClientEntity, LinkedClientRoleInList } from 'shared/typings/client.types';\nimport { usePagination, useSearchQuery, useWhiteModal } from 'shared/hooks';\nimport get from 'lodash/get';\nimport { useLinkedClient } from '../../hooks';\nimport { CreateLinkedClientForm } from './CreateLinkedClientForm';\nimport { KntTwilioStyle } from 'shared/services';\n\ntype Props = {\n\tclientId: number;\n};\n\nexport function ClientdtLinkedClients({ clientId }: Props) {\n\tconst { companyId, isPermitted } = useAppState();\n\tconst { page, handlePage } = usePagination();\n\tconst { query, setQuery, searchQuery } = useSearchQuery();\n\tconst { open, modalHandler, WhiteModal } = useWhiteModal();\n\n\tconst {\n\t\thandleRoleUpdate,\n\t\tdeleteVisible,\n\t\tshowDeleteVisible,\n\t\tdeleteLoading,\n\t\tcloseDeletePopup,\n\t\thandleLinkedClientDelete\n\t} = useLinkedClient();\n\n\tconst setQueryHandler = (event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) =>\n\t\tsetQuery(event.target.value);\n\n\tconst deleteClientHandler = () => () => handleLinkedClientDelete(deleteVisible!);\n\n\treturn (\n\t\t<div className=\"relative mb-8\">\n\t\t\t<ListHeader\n\t\t\t\ttitle=\"Linked Clients\"\n\t\t\t\tquery={query}\n\t\t\t\tisPermitted={isPermitted}\n\t\t\t\tplaceholder=\"Search For Linked Clients\"\n\t\t\t\thandleSearch={setQueryHandler}\n\t\t\t\tbtnHandler={modalHandler}\n\t\t\t\tbtnText=\"New linked client\"\n\t\t\t/>\n\t\t\t{companyId ? (\n\t\t\t\t<EntityContainer.All\n\t\t\t\t\tentity=\"linked-clients\"\n\t\t\t\t\tname=\"AllLinkedClients\"\n\t\t\t\t\turl={`/${companyId}/my/company/linked_client/`}\n\t\t\t\t\tparams={{\n\t\t\t\t\t\tpage,\n\t\t\t\t\t\tlimit: 5,\n\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\tsearch: searchQuery,\n\t\t\t\t\t\t\tto_company: clientId.toString()\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ items, isFetched, meta }) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{!isFetched ? (\n\t\t\t\t\t\t\t\t\t<Loader tiled withOverlay />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<TableContainer classes={{ root: 'relative ' }}>\n\t\t\t\t\t\t\t\t\t\t\t<StyledTable\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"simple table\"\n\t\t\t\t\t\t\t\t\t\t\t\tclasses={{ root: 'table-fixed dark-mode-styled-table' }}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '22%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tFull name (or business name)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '10%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tClient type\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '22%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tEmail\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '13%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPhone number\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '25%' }}>Role</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '8%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tActions\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{(items as LinkedClientEntity[]).map((linkedClient) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst { id = undefined } = linkedClient;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst fn = get(linkedClient, 'from_company_details.first_name');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst ln = get(linkedClient, 'from_company_details.last_name');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst email = get(linkedClient, 'from_company_details.username');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst phone = get(linkedClient, 'from_company_details.mobile');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst isIndividual = get(linkedClient, 'from_company_details');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// const avatar = get(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \tlinkedClient,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t'from_company_details.avatar.thumbnail_150'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow key={id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{fn ? `${fn} ${ln}` : get(linkedClient, 'from_company.name', '')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{isIndividual ? 'Individual' : 'Business'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"truncate\">{email ? email : 'No email'}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{phone ? phone : get(linkedClient, 'from_company.phone', '')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"react-select-dropdown\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* @ts-ignore */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AsyncSelect\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"route\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Choose role here\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptionLabel=\"name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloadOptionsUrl={`/${companyId}/my/company/client/roles/`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsearch\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={linkedClient.role}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloadOptionsKey=\"results\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSearchable={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisClearable={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(option: LinkedClientRoleInList) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleRoleUpdate(option, linkedClient);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-centered\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionsButtons.DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisDisabled={!isPermitted}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickHandler={() => showDeleteVisible(linkedClient)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t\t\t</StyledTable>\n\t\t\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t\t\t\t<div className=\"news__pagination my-4\">\n\t\t\t\t\t\t\t\t\t\t\t{items.length ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\t\t\t\t\t\tcount={meta?.last_page}\n\t\t\t\t\t\t\t\t\t\t\t\t\tpage={page ? +page : 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultPage={6}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsiblingCount={1}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handlePage}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t{/*Create Linked Client Form*/}\n\t\t\t\t\t\t\t\t\t\t<WhiteModal open={open} handleModalOpen={modalHandler}>\n\t\t\t\t\t\t\t\t\t\t\t<CreateLinkedClientForm onSuccess={modalHandler} clientId={clientId} />\n\t\t\t\t\t\t\t\t\t\t</WhiteModal>\n\n\t\t\t\t\t\t\t\t\t\t{/*Linked Client Delete Popup*/}\n\t\t\t\t\t\t\t\t\t\t<ConfirmModal\n\t\t\t\t\t\t\t\t\t\t\tfeatureHandler={deleteClientHandler()}\n\t\t\t\t\t\t\t\t\t\t\tisOpen={Boolean(deleteVisible)}\n\t\t\t\t\t\t\t\t\t\t\ttoggleHandler={closeDeletePopup}\n\t\t\t\t\t\t\t\t\t\t\ttitle={`Are You Sure To Delete Linked Client?`}\n\t\t\t\t\t\t\t\t\t\t\thasLoader\n\t\t\t\t\t\t\t\t\t\t\tisLoading={deleteLoading}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t</EntityContainer.All>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { ClientCompany } from 'shared/typings/client.types';\nimport { AvatarSized, DetailsInfo } from 'shared/components/Elements';\nimport { getClientAvatarUrl, getClientName } from '../../utils';\nimport { HiHome } from 'react-icons/hi';\nimport { FaUserCog, FaUsers } from 'react-icons/fa';\nimport { IconClientUsers } from 'shared/icons';\n\ntype Props = {\n\tclientCompany: ClientCompany;\n\tisIndividual: boolean;\n};\n\nexport function ClientdtHeader({ clientCompany, isIndividual }: Props) {\n\tconst clientName = getClientName(isIndividual, clientCompany.name, clientCompany.owner);\n\treturn (\n\t\t<div className=\"mb-8 flex flex-wrap items-center\">\n\t\t\t<div className=\"py-4\">\n\t\t\t\t<AvatarSized\n\t\t\t\t\tsize={108}\n\t\t\t\t\tletter={clientName[0]}\n\t\t\t\t\talt={clientName}\n\t\t\t\t\tsrc={getClientAvatarUrl(isIndividual, clientCompany.icon, clientCompany.owner)}\n\t\t\t\t\tclassName=\"!mr-8\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<DetailsInfo\n\t\t\t\ttext={clientCompany.status}\n\t\t\t\ttitle=\"Status\"\n\t\t\t\twrapperClassnames=\"bg-kgrey-bgmenu\"\n\t\t\t\ttextClassName=\"!text-lg font-semibold\"\n\t\t\t>\n\t\t\t\t<HiHome className=\"text-kgrey\" />\n\t\t\t</DetailsInfo>\n\t\t\t<DetailsInfo\n\t\t\t\ttext={isIndividual ? 'Individual' : 'Business'}\n\t\t\t\ttitle=\"Client Type\"\n\t\t\t\twrapperClassnames=\"bg-kgrey-bgmenu\"\n\t\t\t\ttextClassName=\"!text-lg font-semibold\"\n\t\t\t>\n\t\t\t\t<FaUserCog className=\"text-kgrey\" />\n\t\t\t</DetailsInfo>\n\t\t\t{!isIndividual ? (\n\t\t\t\t<>\n\t\t\t\t\t<DetailsInfo\n\t\t\t\t\t\ttext={clientCompany.users_count}\n\t\t\t\t\t\ttitle=\"Client Users count:\"\n\t\t\t\t\t\twrapperClassnames=\"bg-kgrey-bgmenu\"\n\t\t\t\t\t\ttextClassName=\"!text-lg font-semibold\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<IconClientUsers className=\"text-kgrey\" />\n\t\t\t\t\t</DetailsInfo>\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t\t<DetailsInfo\n\t\t\t\ttext={clientName}\n\t\t\t\ttitle={isIndividual ? 'Client Name:' : 'Business Name:'}\n\t\t\t\twrapperClassnames=\"bg-kgrey-bgmenu\"\n\t\t\t\ttextClassName=\"!text-lg font-semibold\"\n\t\t\t>\n\t\t\t\t<FaUsers className=\"text-kgrey\" />\n\t\t\t</DetailsInfo>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport EntityForm from 'modules/entity/forms';\nimport { useAppState } from 'shared/state';\nimport { useLoadAll, useNotistack } from 'shared/hooks';\nimport { FormHeader, Loader } from 'shared/components';\nimport { Field } from 'formik';\nimport { KntInputField, KntPhoneInputField } from 'shared/components/Fields';\nimport { InviteClientFormFooter } from '../InviteClientFormFooter';\n\ntype Props = {\n\tonSuccess: () => void;\n\tclientId: number;\n};\n\nexport function ClientUserInviteForm({ onSuccess, clientId }: Props) {\n\tconst { companyId } = useAppState();\n\tconst { showNotification } = useNotistack();\n\tconst { reloadEntityAll } = useLoadAll();\n\n\treturn (\n\t\t<>\n\t\t\t<EntityForm.Main\n\t\t\t\tentity=\"clients\"\n\t\t\t\tname=\"AllClients\"\n\t\t\t\turl={`/${companyId}/my/company/clients/${clientId}/member/`}\n\t\t\t\tmethod=\"post\"\n\t\t\t\tprimaryKey=\"id\"\n\t\t\t\tsendAsFormData={false}\n\t\t\t\t// normalizeData={(data: any) => data}\n\t\t\t\t// prependData\n\t\t\t\tfields={[\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'first_name',\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'last_name',\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'email',\n\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\ttype: 'email',\n\t\t\t\t\t\tvalue: ''\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'position',\n\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\tvalue: ''\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'mobile',\n\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tvalue: ''\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'is_admin',\n\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\tvalue: false\n\t\t\t\t\t}\n\t\t\t\t]}\n\t\t\t\tonSuccess={(response, resetForm): any => {\n\t\t\t\t\tshowNotification({ message: 'Success! Waiting for client accepting..' });\n\t\t\t\t\treloadEntityAll({\n\t\t\t\t\t\tentity: 'client-users',\n\t\t\t\t\t\tname: `AllClientUser-${clientId}`,\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\t\tlimit: 10\n\t\t\t\t\t\t},\n\t\t\t\t\t\turl: `/${companyId}/my/company/clients/${clientId}/employee/`\n\t\t\t\t\t});\n\t\t\t\t\tonSuccess();\n\t\t\t\t\tresetForm();\n\t\t\t\t}}\n\t\t\t\tonError={(error, resetForm): any => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t\tconst errorText = error?.response?.data?.message || 'Something went wrong';\n\t\t\t\t\tshowNotification({ message: errorText, variant: 'error' });\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{({ isSubmitting, values, setFieldValue, resetForm }) => {\n\t\t\t\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\t\t\t\tconsole.log('client user invite  values', values);\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<FormHeader resetForm={resetForm} title=\"Invite Business Client User\" />\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tlabel=\"First Name\"\n\t\t\t\t\t\t\t\t\tlabelClasses=\"ml-6 text-xs font-light text-kgrey-welcome mb-2 block\"\n\t\t\t\t\t\t\t\t\tname=\"first_name\"\n\t\t\t\t\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Type your firstname..\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tlabel=\"Last Name\"\n\t\t\t\t\t\t\t\t\tlabelClasses=\"ml-6 text-xs font-light text-kgrey-welcome mb-2 block\"\n\t\t\t\t\t\t\t\t\tname=\"last_name\"\n\t\t\t\t\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Type your lastname..\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\t\t\tlabelClasses=\"ml-6 text-xs font-light text-kgrey-welcome mb-2 block\"\n\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Type your email..\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tlabel=\"Phone\"\n\t\t\t\t\t\t\t\t\tname=\"mobile\"\n\t\t\t\t\t\t\t\t\tcomponent={KntPhoneInputField}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter company mobile phone number\"\n\t\t\t\t\t\t\t\t\tenableSearch\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tlabelClasses=\"!text-xs !ml-6 !text-kgrey-welcome\"\n\t\t\t\t\t\t\t\t\tonChangeHandler={setFieldValue}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tlabel=\"Position\"\n\t\t\t\t\t\t\t\t\tlabelClasses=\"ml-6 text-xs font-light text-kgrey-welcome mb-2 block\"\n\t\t\t\t\t\t\t\t\tname=\"position\"\n\t\t\t\t\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Type client user position..\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className={'flex items-center justify-end'}>\n\t\t\t\t\t\t\t\t\t{isSubmitting && <Loader tiled withOverlay />}\n\t\t\t\t\t\t\t\t\t<InviteClientFormFooter\n\t\t\t\t\t\t\t\t\t\tonSuccess={onSuccess}\n\t\t\t\t\t\t\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tsubmitText=\"Invite Client User\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</EntityForm.Main>\n\t\t</>\n\t);\n}\n","import React, { useState } from 'react';\nimport EntityContainer from 'modules/entity/containers';\nimport { useAppState } from 'shared/state';\nimport {\n\tActionsButtons,\n\tConfirmModal,\n\tLoader,\n\tStyledTable,\n\tStyledTableCell,\n\tStyledTableHeadCell,\n\tStyledTableRow\n} from 'shared/components';\nimport {\n\tKntButton,\n\tListHeader,\n\tPagination,\n\tTableBody,\n\tTableContainer,\n\tTableHead\n} from 'shared/components/Elements';\nimport { ClientDetailsUser } from '../../../../shared/typings/client.types';\nimport {\n\tuseEntityActionPopup,\n\tuseLoadAll,\n\tuseNotistack,\n\tusePagination,\n\tuseSearchQuery,\n\tuseWhiteModal\n} from '../../../../shared/hooks';\nimport { ClientUserInviteForm } from './ClientUserInviteForm';\nimport { StatusTag } from 'shared/components/DataDisplay';\nimport { formRequest } from 'modules/entity/actions';\nimport { useDispatch } from 'react-redux';\n\ntype Props = {\n\tclientId: number;\n};\n\nexport function ClientdtUsers({ clientId }: Props) {\n\tconst { companyId, isPermitted, isAdmin } = useAppState();\n\tconst { page, handlePage } = usePagination();\n\tconst { query, setQuery, searchQuery } = useSearchQuery();\n\n\tconst { open, modalHandler, WhiteModal } = useWhiteModal();\n\tconst [resendUser, setResendUser] = useState<any>({});\n\n\tconst dispatch = useDispatch();\n\n\tconst { reloadEntityAll } = useLoadAll();\n\tconst { showNotification } = useNotistack();\n\n\tconst {\n\t\tshowVisible: showResendConfirmModalVisible,\n\t\tvisible: resendConfirmModalVisible,\n\t\tclosePopup: closeResendConfirmModal,\n\t\tloading: resendRequestLoading,\n\t\ttoggleLoading: toggleResendRequestLoading\n\t} = useEntityActionPopup();\n\n\tconst {\n\t\tvisible: deleteVisible,\n\t\tshowVisible: showDeleteVisible,\n\t\tloading: deleteLoading,\n\t\ttoggleLoading: toggleDeleteLoading,\n\t\tclosePopup: closeDeletePopup\n\t} = useEntityActionPopup<any>();\n\tconst deleteClientHandler = () => () => handleClientDelete(deleteVisible!);\n\n\tconst setQueryHandler = (event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) =>\n\t\tsetQuery(event.target.value);\n\n\tfunction handleClientDelete(user: ClientDetailsUser) {\n\t\t//show loader\n\t\ttoggleDeleteLoading();\n\t\tdispatch(\n\t\t\tformRequest({\n\t\t\t\tentity: 'client-users',\n\t\t\t\tname: `AllClientUser-${clientId}`,\n\t\t\t\tmethod: 'delete',\n\t\t\t\turl: `/${companyId}/my/company/clients/${clientId}/member/${user.id}/remove/`,\n\t\t\t\tdeleteData: true,\n\t\t\t\tid: user.id,\n\t\t\t\tcb: {\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\tshowNotification({ message: 'Successfully deleted', variant: 'success' });\n\t\t\t\t\t},\n\t\t\t\t\terror: (err) => {\n\t\t\t\t\t\tshowNotification({ message: err?.response?.data?.message, variant: 'error' });\n\t\t\t\t\t},\n\t\t\t\t\tfinally: () => {\n\t\t\t\t\t\ttoggleDeleteLoading();\n\t\t\t\t\t\tcloseDeletePopup();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tparams: {},\n\t\t\t\tprimaryKey: 'id',\n\t\t\t\tvalues: {}\n\t\t\t})\n\t\t);\n\t}\n\n\tfunction resendInvitationRequest() {\n\t\ttoggleResendRequestLoading();\n\t\tdispatch(\n\t\t\tformRequest({\n\t\t\t\tentity: 'client-users',\n\t\t\t\tmethod: 'patch',\n\t\t\t\tname: `AllClientUser-${clientId}`,\n\t\t\t\turl: `/${companyId}/my/company/clients/${clientId}/member/${resendUser?.id}/`,\n\t\t\t\tparams: {},\n\t\t\t\tvalues: {},\n\t\t\t\tcb: {\n\t\t\t\t\tsuccess: (data) => {\n\t\t\t\t\t\treloadEntityAll({\n\t\t\t\t\t\t\tentity: 'client-users',\n\t\t\t\t\t\t\tname: `AllClientUser-${clientId}`,\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\tpage,\n\t\t\t\t\t\t\t\tlimit: 5\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\turl: `/${companyId}/my/company/clients/${clientId}/employee/`\n\t\t\t\t\t\t});\n\t\t\t\t\t\tshowNotification({ message: 'Invitation resent successfully', variant: 'success' });\n\t\t\t\t\t\tcloseResendConfirmModal();\n\t\t\t\t\t},\n\t\t\t\t\terror: (error) => {\n\t\t\t\t\t\tshowNotification({ message: 'Something went wrong', variant: 'error' });\n\t\t\t\t\t\tconsole.log(error, 'client invitation resend error');\n\t\t\t\t\t},\n\t\t\t\t\tfinally: () => {\n\t\t\t\t\t\ttoggleResendRequestLoading();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tprimaryKey: 'id'\n\t\t\t})\n\t\t);\n\t}\n\n\tfunction handleResendInvitationClick(user: ClientDetailsUser) {\n\t\tshowResendConfirmModalVisible(true);\n\t\tsetResendUser(user);\n\t}\n\n\tfunction handleResendConfirmModalClicked() {\n\t\tresendInvitationRequest();\n\t}\n\n\treturn (\n\t\t<div className=\"relative mb-8\">\n\t\t\t<ListHeader\n\t\t\t\ttitle=\"Client Users\"\n\t\t\t\tquery={query}\n\t\t\t\tplaceholder=\"Search For Users\"\n\t\t\t\thandleSearch={setQueryHandler}\n\t\t\t\tbtnHandler={modalHandler}\n\t\t\t\tbtnText=\"Invite New Client User\"\n\t\t\t\tisPermitted={isPermitted}\n\t\t\t/>\n\t\t\t<EntityContainer.All\n\t\t\t\tentity=\"client-users\"\n\t\t\t\tname={`AllClientUser-${clientId}`}\n\t\t\t\turl={`/${companyId}/my/company/clients/${clientId}/employee/`}\n\t\t\t\tparams={{\n\t\t\t\t\tpage,\n\t\t\t\t\tlimit: 5,\n\t\t\t\t\textra: {\n\t\t\t\t\t\tsearch: searchQuery\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{({ items, isFetched, meta }) => {\n\t\t\t\t\t// const users = items as C\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{!isFetched ? (\n\t\t\t\t\t\t\t\t<Loader tiled withOverlay />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<TableContainer classes={{ root: 'relative ' }}>\n\t\t\t\t\t\t\t\t\t\t<StyledTable\n\t\t\t\t\t\t\t\t\t\t\taria-label=\"simple table\"\n\t\t\t\t\t\t\t\t\t\t\tclasses={{ root: 'table-fixed dark-mode-styled-table' }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '30%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFull Name\n\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '20%' }}>Email</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '20%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tPhone Number\n\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/*<StyledTableHeadCell style={{ width: '10%' }}>Position</StyledTableHeadCell>*/}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '10%' }}>Role</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '10%' }}>Status</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '10%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tActions\n\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t{(items as ClientDetailsUser[]).map((user) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst { first_name, last_name, roles, email, mobile, status, id, state } =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser;\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow key={id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>{`${first_name} ${last_name}`}</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"truncate\">{email}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>{mobile}</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/*<StyledTableCell>Position</StyledTableCell>*/}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{state === 'Pending' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<KntButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisDisabled={!isAdmin || roles.includes('admin')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleResendInvitationClick(user)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tResend\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</KntButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\troles?.[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StatusTag status={state}>{state}</StatusTag>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionsButtons.DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisDisabled={!isAdmin || roles.includes('admin')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickHandler={() => showDeleteVisible(user)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t\t</StyledTable>\n\t\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t\t\t<div className=\"news__pagination my-4\">\n\t\t\t\t\t\t\t\t\t\t{items.length ? (\n\t\t\t\t\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\t\t\t\t\tcount={meta?.last_page}\n\t\t\t\t\t\t\t\t\t\t\t\tpage={page ? +page : 1}\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultPage={6}\n\t\t\t\t\t\t\t\t\t\t\t\tsiblingCount={1}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handlePage}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<WhiteModal open={open} handleModalOpen={modalHandler}>\n\t\t\t\t\t\t\t\t\t\t<ClientUserInviteForm onSuccess={modalHandler} clientId={clientId} />\n\t\t\t\t\t\t\t\t\t</WhiteModal>\n\t\t\t\t\t\t\t\t\t<ConfirmModal\n\t\t\t\t\t\t\t\t\t\tisOpen={Boolean(resendConfirmModalVisible)}\n\t\t\t\t\t\t\t\t\t\ttoggleHandler={closeResendConfirmModal}\n\t\t\t\t\t\t\t\t\t\ttitle=\"Are you sure to resend the request?\"\n\t\t\t\t\t\t\t\t\t\tfeatureHandler={handleResendConfirmModalClicked}\n\t\t\t\t\t\t\t\t\t\tisLoading={resendRequestLoading}\n\t\t\t\t\t\t\t\t\t\thasLoader\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<ConfirmModal\n\t\t\t\t\t\t\t\t\t\tfeatureHandler={deleteClientHandler()}\n\t\t\t\t\t\t\t\t\t\tisOpen={Boolean(deleteVisible)}\n\t\t\t\t\t\t\t\t\t\ttoggleHandler={closeDeletePopup}\n\t\t\t\t\t\t\t\t\t\ttitle={`Are you sure you want to delete the following staff member: \"${deleteVisible?.first_name} ${deleteVisible?.last_name}\"`}\n\t\t\t\t\t\t\t\t\t\thasLoader\n\t\t\t\t\t\t\t\t\t\tisLoading={deleteLoading}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</EntityContainer.All>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { useRouter } from 'shared/hooks';\nimport EntityContainer from 'modules/entity/containers';\nimport { useAppState } from 'shared/state';\nimport { Loader } from 'shared/components';\nimport { ClientdtHeader, ClientdtLinkedClients, ClientdtUsers } from '../../components/ClientView';\nimport { ClientCompany } from 'shared/typings/client.types';\nfunction ClientDetails() {\n\tconst { params } = useRouter();\n\tconst { companyId } = useAppState();\n\n\tconst clientId = parseInt((params as { clientId: string })?.clientId);\n\tif (!companyId) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"py-8\">\n\t\t\t<h1 className=\"mb-6 text-2xl font-semibold dark:text-white\">Client Details</h1>\n\t\t\t<EntityContainer.One\n\t\t\t\tid={clientId}\n\t\t\t\trelations={''}\n\t\t\t\tentity=\"clients\"\n\t\t\t\tname=\"AllClients\"\n\t\t\t\turl={`/${companyId}/client_companies/${clientId}/`}\n\t\t\t\tparams={{}}\n\t\t\t>\n\t\t\t\t{({ item, isFetched }) => {\n\t\t\t\t\tconst isIndividual = (item as ClientCompany).is_individual;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{!isFetched ? (\n\t\t\t\t\t\t\t\t<Loader tiled withOverlay />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ClientdtHeader\n\t\t\t\t\t\t\t\t\t\tclientCompany={item as ClientCompany}\n\t\t\t\t\t\t\t\t\t\tisIndividual={isIndividual}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{/*Business Client Users*/}\n\t\t\t\t\t\t\t\t\t{isIndividual ? null : <ClientdtUsers clientId={(item as ClientCompany).id} />}\n\n\t\t\t\t\t\t\t\t\t{/*Linked Clients*/}\n\t\t\t\t\t\t\t\t\t<ClientdtLinkedClients clientId={(item as ClientCompany).id} />\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</EntityContainer.One>\n\t\t</div>\n\t);\n}\n\nexport default ClientDetails;\n","import ClientDetails from './ClientDetails';\n\nexport default ClientDetails;\n","import clsx from 'clsx';\nimport React from 'react';\n\ntype StatusTagProps = {\n\tstatus: string | 'Pending' | 'Logged';\n\tchildren: React.ReactNode;\n};\n\nexport function StatusTag({ status, children }: StatusTagProps) {\n\treturn (\n\t\t<span\n\t\t\tclassName={clsx(\n\t\t\t\t'inline-block rounded-4xl bg-primary py-0.5 px-5 text-10px uppercase leading-4 text-white',\n\t\t\t\t{\n\t\t\t\t\t'bg-kgrey-inputBg text-kdark': status === 'Pending',\n\t\t\t\t\t'bg-primary-dark': status === 'Logged'\n\t\t\t\t}\n\t\t\t)}\n\t\t>\n\t\t\t{children ?? 'Accepted'}\n\t\t</span>\n\t);\n}\n"],"names":["imgPath","config","LinkedClientFormElements","setFieldValue","onSuccess","isSubmitting","companyId","useAppState","useState","firstname","lastname","phone","email","avatar","is_individual","businessName","state","setState","client","setClient","useDidMountEffect","get","fn","ln","prev","isClientSelected","isEmpty","className","name","customStylesProps","KntTwilioStyle","placeholder","optionLabel","option","optionValue","loadOptionsUrl","loadOptionsParams","search","extra","loadOptionsKey","isSearchable","isClearable","onChange","id","component","AsyncSelectJs","label","value","error","helperText","disabled","classNames","size","letter","alt","src","InviteClientFormFooter","submitText","disableOptions","CreateLinkedClientForm","clientId","showNotification","useNotistack","entity","url","method","primaryKey","sendAsFormData","normalizeData","data","prependData","fields","onSubmitValue","onSubmitKey","required","type","Number","response","resetForm","message","onError","errorText","variant","values","title","isEditing","tiled","withOverlay","ClientdtLinkedClients","isPermitted","usePagination","page","handlePage","useSearchQuery","query","setQuery","searchQuery","useWhiteModal","open","modalHandler","WhiteModal","useLinkedClient","handleRoleUpdate","deleteVisible","showDeleteVisible","deleteLoading","closeDeletePopup","handleLinkedClientDelete","handleSearch","event","target","btnHandler","btnText","params","limit","to_company","toString","items","isFetched","meta","classes","root","style","width","map","linkedClient","undefined","isIndividual","role","isDisabled","clickHandler","length","count","last_page","defaultPage","siblingCount","color","handleModalOpen","featureHandler","isOpen","Boolean","toggleHandler","hasLoader","isLoading","ClientdtHeader","clientCompany","clientName","getClientName","owner","getClientAvatarUrl","icon","text","status","wrapperClassnames","textClassName","users_count","ClientUserInviteForm","reloadEntityAll","useLoadAll","console","log","labelClasses","KntInputField","autoComplete","KntPhoneInputField","enableSearch","onChangeHandler","ClientdtUsers","isAdmin","resendUser","setResendUser","dispatch","useDispatch","useEntityActionPopup","showResendConfirmModalVisible","showVisible","resendConfirmModalVisible","visible","closeResendConfirmModal","closePopup","resendRequestLoading","loading","toggleResendRequestLoading","toggleLoading","toggleDeleteLoading","deleteClientHandler","user","formRequest","deleteData","cb","success","err","finally","handleResendConfirmModalClicked","first_name","last_name","roles","mobile","includes","onClick","handleResendInvitationClick","useRouter","parseInt","relations","item","StatusTag","children","clsx"],"sourceRoot":""}