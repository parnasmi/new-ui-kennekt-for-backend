!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="08c629b6-674b-44f8-a7e7-f4324b595c66",e._sentryDebugIdIdentifier="sentry-dbid-08c629b6-674b-44f8-a7e7-f4324b595c66")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"92c588a922034147d52c8df4651841419a0c4114"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[4596],{94596:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var a=t(15861),s=t(29439),c=t(64687),i=t.n(c),r=t(72791),o=t(16178),u=t(40084),d=t(64880),l=t(92017),f=t(80184);var y=function(){var e=(0,r.useState)("Checking data. Please, wait a while..."),n=(0,s.Z)(e,2),t=n[0],c=n[1],y=(0,r.useRef)(!1),p=(0,o.Kx)().query,b=(0,u.m)(),h=b.companyId,g=b.setCaseType,_=(0,l.y)().handleChangeCompany,m=(0,d.k6)(),w="case"===(null==p?void 0:p.entity_type);(0,r.useEffect)((function(){if(!y.current){p.entity_type,p.status,p.entity_id;var e=p.business_company,n=p.caseType;if(g(n),h!==Number(e))return c("Switching business... Please, wait a while..."),C({url:"/user/companies/",notificationFromCompany:e,params:{limit:100}}),void(y.current=!0);k()}}),[h]);var v,k=(0,o.bK)({url:"/".concat(null==p?void 0:p.business_company,"/").concat(w?"cases/as_business":"ims/groups","/").concat(null==p?void 0:p.entity_id,"/"),cb:{success:function(e){if(e){var n=e.id,t=e.status,a=e.last_read_message;s={entityId:n,statusId:null==t?void 0:t.id,lastReadMessageId:a},c=s.entityId,i=s.lastReadMessageId,r=s.statusId,o="",u="",d=i?"&hasUnreadMessage=true&lastReadMessage=".concat(i,"&unread=").concat(i):"","case"===(null==p?void 0:p.entity_type)?(u="/case-messages/",o="?case=".concat(c,"&status=").concat(r).concat(d)):(u="/group-chat/",o="?chat=".concat(c).concat(d)),m.push({pathname:u,search:o})}var s,c,i,r,o,u,d},error:function(e){console.error(e,"PreloaderPage > fetchSingleChatEntity")}}}).fetchData,I=(0,o.bK)({url:"",dynamicUrl:!0,cb:{success:(v=(0,a.Z)(i().mark((function e(n,t){var a,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.results,s=t[0].notificationFromCompany,c=a.find((function(e){return e.company.id===Number(s)})),e.next=5,_(c);case 5:k();case 6:case"end":return e.stop()}}),e)}))),function(e,n){return v.apply(this,arguments)}),error:function(e,n){}}}),C=I.fetchData;return(0,f.jsx)("div",{className:"h-full w-full p-8 dark:text-white",children:t})}}}]);
//# sourceMappingURL=4596.98ef1c38.chunk.js.map