{"version":3,"file":"static/js/6006.a643e0c3.chunk.js","mappings":"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","sources":["pages/BusinessProfileMain/components/Forms/ConfigFormElements.tsx","pages/BusinessProfileMain/components/Forms/CustomFieldItem.tsx","pages/BusinessProfileMain/components/Forms/AddCustomFieldForm.tsx","pages/BusinessProfileMain/components/Forms/FormsCustomFields.tsx","pages/BusinessProfileMain/components/Forms/hooks/useFormsConfigHelpers.tsx","pages/BusinessProfileMain/components/Forms/FormsConfigForm.tsx"],"sourcesContent":["import { Field } from 'formik';\nimport { runSideEffectsAfterDepartmentChange } from 'pages/Cases/helpers';\nimport { useRef } from 'react';\nimport { isMobile } from 'react-device-detect';\nimport AsyncSelectJs from 'shared/components/Fields/AsyncSelectJs';\nimport { KntTwilioStyle } from 'shared/services';\nimport { useAppState } from 'shared/state';\nimport { useTranslation } from 'react-i18next';\nimport get from 'lodash/get';\nimport { CreateCaseSubDepComponent } from 'pages/Cases/components/create-case/CreateCaseSubDep';\n\ntype Props = {\n\tsetFieldValue: (field: string, value: any) => void;\n\tvalues: any;\n\tdepartmentRef: React.MutableRefObject<null>;\n};\n\nexport default function ConfigFormElements({ setFieldValue, values, departmentRef }: Props) {\n\tconst { companyId } = useAppState();\n\tconst subDepIdsRef = useRef([]);\n\n\tconst { t } = useTranslation();\n\n\tconst isFieldsDisabled = false;\n\n\treturn (\n\t\t<div className=\"feedback-field__left flex w-[45%] flex-col justify-items-center gap-y-2.5\">\n\t\t\t<h3 className=\"text-lg dark:text-kgrey\">{t('your_form')}</h3>\n\t\t\t<div className=\"feedback-field__wrapper react-select-dropdown \">\n\t\t\t\t<Field\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('select_department')}\n\t\t\t\t\tlabelClasses=\"text-sm text-kgrey font-light\"\n\t\t\t\t\tcomponent={AsyncSelectJs}\n\t\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\t\tname=\"department\"\n\t\t\t\t\tplaceholder={t('select_department')}\n\t\t\t\t\toptionLabel=\"name\"\n\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\tisSearchable={!isMobile}\n\t\t\t\t\tisClearable\n\t\t\t\t\tisCached\n\t\t\t\t\tisDisabled={isFieldsDisabled}\n\t\t\t\t\topenMenuOnFocus\n\t\t\t\t\tloadOptionsKey=\"results\"\n\t\t\t\t\tloadOptionsUrl={`/${companyId}/departments/`}\n\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\tsearch,\n\t\t\t\t\t\t\tis_staff: 'true'\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t\tonChange={(option: any) => {\n\t\t\t\t\t\trunSideEffectsAfterDepartmentChange({\n\t\t\t\t\t\t\tdepartmentRef,\n\t\t\t\t\t\t\toption,\n\t\t\t\t\t\t\tsetFieldValue\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{get(values, 'department') && get(values, 'department.sub_departments_count') > 0 && (\n\t\t\t\t<>\n\t\t\t\t\t{Object.keys(values?.sub_department ?? {}).map((subdep) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={subdep} className=\"feedback-field__wrapper\">\n\t\t\t\t\t\t\t\t<CreateCaseSubDepComponent\n\t\t\t\t\t\t\t\t\t{...{\n\t\t\t\t\t\t\t\t\t\tlabel: t('select_sub_department'),\n\t\t\t\t\t\t\t\t\t\tlabelClasses: 'text-sm text-kgrey font-light',\n\t\t\t\t\t\t\t\t\t\tsubdep,\n\t\t\t\t\t\t\t\t\t\tcompanyId,\n\t\t\t\t\t\t\t\t\t\tvalues,\n\t\t\t\t\t\t\t\t\t\tsetFieldValue,\n\t\t\t\t\t\t\t\t\t\tsubDepIdsRef,\n\t\t\t\t\t\t\t\t\t\tisDisabled: isFieldsDisabled\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t<div className=\"feedback-field__wrapper react-select-dropdown\">\n\t\t\t\t<Field\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('select_status')}\n\t\t\t\t\tlabelClasses=\"text-sm text-kgrey font-light\"\n\t\t\t\t\tcomponent={AsyncSelectJs}\n\t\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\t\tname=\"status\"\n\t\t\t\t\toptionLabel=\"title\"\n\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\tisSearchable\n\t\t\t\t\tisCached\n\t\t\t\t\tisDisabled={isFieldsDisabled}\n\t\t\t\t\tplaceholder={t('select_status')}\n\t\t\t\t\treverse={true}\n\t\t\t\t\tloadOptionsUrl={`/${companyId}/my/company/case_statuses/`}\n\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\tsearch,\n\t\t\t\t\t\t\tis_staff: 'true'\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t\tloadOptionsKey=\"\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"feedback-field__wrapper react-select-dropdown\">\n\t\t\t\t<Field\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('select_priority')}\n\t\t\t\t\tlabelClasses=\"text-sm text-kgrey font-light\"\n\t\t\t\t\tcomponent={AsyncSelectJs}\n\t\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\t\tname=\"priority\"\n\t\t\t\t\tplaceholder={t('select_priority')}\n\t\t\t\t\toptionLabel=\"name\"\n\t\t\t\t\toptionValue=\"code\"\n\t\t\t\t\tisSearchable\n\t\t\t\t\tisCached\n\t\t\t\t\tisDisabled={isFieldsDisabled}\n\t\t\t\t\tloadOptionsUrl={`/${companyId}/cases/as_business/priorities/`}\n\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\tsearch\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t\tloadOptionsKey=\"choices\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import { Field } from 'formik';\nimport { MdDragIndicator } from 'react-icons/md';\nimport { DeleteButton } from 'shared/components/ActionsButtons/DeleteButton';\nimport { EditButton } from 'shared/components/ActionsButtons/EditButton';\nimport { KntAutoSizeTextField, KntInputField } from 'shared/components/Fields';\n\nexport default function CustomFieldItem({\n\trequired = false,\n\tlabel,\n\tname,\n\tplaceholder,\n\tonEdit,\n\tonDelete,\n\tdisabled,\n\tisDeletable = false,\n\tdraggable = false\n}: {\n\trequired?: boolean;\n\tlabel: string;\n\tname: string;\n\tplaceholder: string;\n\tonEdit: () => void;\n\tonDelete?: () => void;\n\tisDeletable?: boolean;\n\tdisabled?: boolean;\n\tdraggable?: boolean;\n}) {\n\treturn (\n\t\t<div className=\"custom-field__wrapper\">\n\t\t\t<div className=\"custom-field__item flex items-center gap-x-2.5\">\n\t\t\t\t{draggable && <MdDragIndicator className=\"mt-2 dark:text-kgrey\" />}\n\n\t\t\t\t<Field\n\t\t\t\t\trequired={required}\n\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\tclassNames=\"w-[75%]\"\n\t\t\t\t\tname={name}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tinputClassNames=\"border-kgrey-light-grey-4\"\n\t\t\t\t/>\n\t\t\t\t<div className=\"item__icons flex flex-1 gap-x-1.5 pt-2.5\">\n\t\t\t\t\t<EditButton\n\t\t\t\t\t\tclassName=\"!bg-kgrey-light-grey-2 dark:!bg-kdark-dark333\"\n\t\t\t\t\t\tclickHandler={onEdit}\n\t\t\t\t\t/>\n\t\t\t\t\t{isDeletable && typeof onDelete === 'function' ? (\n\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\tclassName=\"!bg-kgrey-light-grey-2 dark:!bg-kdark-dark333\"\n\t\t\t\t\t\t\tclickHandler={onDelete}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import { Field, Formik, FormikBag } from 'formik';\nimport { KntInputField } from 'shared/components/Fields';\nimport { FormControlLabel, KntButton } from 'shared/components/Elements';\nimport { IOSSwitch } from 'shared/components/Elements/Fields/SwitchComp';\nimport { useNotistack, useSwitch } from 'shared/hooks';\nimport { useCallback, useMemo } from 'react';\nimport { TCustomField } from './FormsConfigForm';\nimport { TFormType } from './FormsCustomFields';\nimport * as Yup from 'yup';\nimport { useTranslation } from 'react-i18next';\n\ntype Props = {\n\tcloseFieldsForm: () => void;\n\tsetCustomFields: React.Dispatch<React.SetStateAction<TCustomField[]>>;\n\topenFieldsForm: {\n\t\tformType: TFormType;\n\t\tcustomFieldEntity?: TCustomField;\n\t} | null;\n\tcustomFields: TCustomField[];\n};\n\nexport function AddCustomFieldForm({\n\tcloseFieldsForm,\n\tsetCustomFields,\n\topenFieldsForm,\n\tcustomFields\n}: Props) {\n\tconst initialValues = openFieldsForm?.customFieldEntity\n\t\t? {\n\t\t\t\tplaceholder: openFieldsForm?.customFieldEntity?.placeholder,\n\t\t\t\tname: openFieldsForm?.customFieldEntity?.name,\n\t\t\t\trequired: openFieldsForm?.customFieldEntity?.required\n\t\t  }\n\t\t: { placeholder: '', name: '', required: false };\n\n\tconst { t } = useTranslation();\n\tconst { showNotification } = useNotistack();\n\tconst { checked, handleChange } = useSwitch({ required: initialValues.required });\n\n\tconst yupSchema = useMemo(\n\t\t() =>\n\t\t\tYup.object().shape({\n\t\t\t\tname: Yup.string().required(t('required'))\n\t\t\t}),\n\t\t[t]\n\t);\n\n\tconst onFormSubmit = useCallback(\n\t\t(values, formikBag) => {\n\t\t\tformikBag.validateForm().then((errors: Record<string, any>) => {\n\t\t\t\tif (Object.keys(errors).length === 0) {\n\t\t\t\t\tconst fieldNameAlreadyExist = customFields.some((field) => {\n\t\t\t\t\t\tif (openFieldsForm?.formType === 'add_field') {\n\t\t\t\t\t\t\treturn field.name === values.name;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tfield?.temp_id !== openFieldsForm?.customFieldEntity?.temp_id &&\n\t\t\t\t\t\t\tfield.name === values.name\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (fieldNameAlreadyExist) {\n\t\t\t\t\t\treturn showNotification({\n\t\t\t\t\t\t\tmessage: t('field_title_exist'),\n\t\t\t\t\t\t\tvariant: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (openFieldsForm?.formType === 'add_field') {\n\t\t\t\t\t\tsetCustomFields((prev) => {\n\t\t\t\t\t\t\treturn [...prev, { ...values }].map((newField, index) => {\n\t\t\t\t\t\t\t\tif (newField.order) {\n\t\t\t\t\t\t\t\t\treturn newField;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn { ...newField, order: index + 1, temp_id: index + 1 };\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//if form_type === 'edit_field\n\t\t\t\t\t\tsetCustomFields((prev) => {\n\t\t\t\t\t\t\treturn prev.map((field) => {\n\t\t\t\t\t\t\t\tif (field?.temp_id === openFieldsForm?.customFieldEntity?.temp_id) {\n\t\t\t\t\t\t\t\t\treturn { ...field, ...values };\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn field;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tcloseFieldsForm();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t[openFieldsForm]\n\t);\n\n\treturn (\n\t\t<Formik\n\t\t\tenableReinitialize\n\t\t\tvalidationSchema={yupSchema}\n\t\t\tonSubmit={onFormSubmit}\n\t\t\tinitialValues={initialValues}\n\t\t>\n\t\t\t{({ handleSubmit, submitForm, setFieldValue }) => {\n\t\t\t\treturn (\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<h3 className=\"my-3 text-lg\">{t('add_field')}</h3>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\tplaceholder={t('enter_field_label')}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonBlur={(event: any) => {\n\t\t\t\t\t\t\t\tsetFieldValue(event.target.name, event.target.value.trim());\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\t\t\tname=\"placeholder\"\n\t\t\t\t\t\t\tplaceholder={t('enter_placeholder')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{!openFieldsForm?.customFieldEntity?.default ? (\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tlabelPlacement=\"start\"\n\t\t\t\t\t\t\t\tclassName=\"!ml-1 !flex justify-between\"\n\t\t\t\t\t\t\t\tname=\"required\"\n\t\t\t\t\t\t\t\tchecked={checked.required}\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<IOSSwitch\n\t\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\t\tchecked={checked.required}\n\t\t\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('required', event.target.checked);\n\t\t\t\t\t\t\t\t\t\t\thandleChange(event);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={t('is_this_required_field')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<div className=\"mt-3 flex justify-end gap-x-2.5\">\n\t\t\t\t\t\t\t<KntButton onClick={closeFieldsForm}>{t('cancel')}</KntButton>\n\t\t\t\t\t\t\t<KntButton color=\"primary\" onClick={submitForm}>\n\t\t\t\t\t\t\t\t{t('save')}\n\t\t\t\t\t\t\t</KntButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t);\n\t\t\t}}\n\t\t</Formik>\n\t);\n}\n","import { TCustomField } from './FormsConfigForm';\nimport { useEntityActionPopup, useWhiteModal } from 'shared/hooks';\nimport { useCallback } from 'react';\nimport CustomFieldItem from './CustomFieldItem';\nimport { AddCustomFieldForm } from './AddCustomFieldForm';\nimport { KntButton } from 'shared/components';\nimport { BiPlus } from 'react-icons/bi';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport { useTranslation } from 'react-i18next';\nimport { DragDropContext, Draggable, DropResult, Droppable } from 'react-beautiful-dnd';\nimport { useAppState } from 'shared/state';\nimport { Field } from 'formik';\nimport { KntInputField } from 'shared/components/Fields';\nimport { convertToLocalizationKey } from 'shared/services/utils/convertToLocalizationKey';\n\ntype Props = {\n\tcustomFields: TCustomField[];\n\tsetCustomFields: React.Dispatch<React.SetStateAction<TCustomField[]>>;\n\tsetFieldValue: (field: string, value: any, shouldValidate?: boolean) => void;\n};\n\nexport type TFormType = 'edit_field' | 'add_field';\n\nexport function FormsCustomFields({ customFields, setCustomFields, setFieldValue }: Props) {\n\tconst { WhiteModal } = useWhiteModal();\n\tconst { t } = useTranslation();\n\tconst { companyId } = useAppState();\n\n\tconst {\n\t\tvisible: openFieldsForm,\n\t\tshowVisible: showFieldsForm,\n\t\tclosePopup: closeFieldsForm\n\t} = useEntityActionPopup<{\n\t\tformType: TFormType;\n\t\tcustomFieldEntity?: TCustomField;\n\t}>();\n\n\tconst onCustomFieldEditClicked = useCallback(\n\t\t(formType: TFormType, customFieldEntity?: TCustomField) => () => {\n\t\t\tshowFieldsForm({ formType, customFieldEntity });\n\t\t},\n\t\t[showFieldsForm]\n\t);\n\n\tconst onFieldsFormModalClosed = useCallback(() => {\n\t\tcloseFieldsForm();\n\t}, []);\n\n\tconst onDeleteCustomField = useCallback(\n\t\t(fieldName: string) => () => {\n\t\t\tif (customFields.some((field) => field.name === fieldName)) {\n\t\t\t\tsetCustomFields((prev) => prev.filter((field) => field.name !== fieldName));\n\t\t\t}\n\t\t},\n\t\t[customFields]\n\t);\n\n\tconst droppableId = `AllForms-${companyId}`;\n\n\tconst onCustomFieldsOrderChanged = useCallback(async (result: DropResult) => {\n\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\tconsole.log('result onStatusDragEnd', result);\n\t\t}\n\n\t\tconst { destination, source } = result;\n\n\t\tif (!destination) return;\n\n\t\tif (destination.droppableId === source.droppableId && destination.index === source.index) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst reorder = (list: TCustomField[], startIndex: number, endIndex: number) => {\n\t\t\tconst result = Array.from(list);\n\t\t\tconst [removed] = result.splice(startIndex, 1);\n\t\t\tresult.splice(endIndex, 0, removed);\n\n\t\t\t// Update order property based on new position\n\t\t\treturn result.map((item, index) => ({ ...item, order: index + 2 }));\n\t\t};\n\n\t\t//ignoring default field it is not draggable\n\t\tsetCustomFields((prevCustomFields) => [\n\t\t\t...prevCustomFields.filter((field) => field.default),\n\t\t\t...reorder(\n\t\t\t\tprevCustomFields.filter((field) => !field?.default),\n\t\t\t\tsource.index,\n\t\t\t\tdestination.index\n\t\t\t)\n\t\t]);\n\t}, []);\n\n\tconst defaultField =\n\t\tcustomFields.find((field) => field.order === 1 && field.default) ?? customFields[0];\n\n\treturn (\n\t\t<div className=\"feedback-field__right justify-content-center flex w-1/2 flex-1 flex-col gap-y-2.5\">\n\t\t\t<h3 className=\"text-lg dark:text-kgrey\">{t('add_custom_fields')}</h3>\n\t\t\t<Field\n\t\t\t\trequired\n\t\t\t\tlabel={t('form_title')}\n\t\t\t\tname=\"title\"\n\t\t\t\tclassNames=\"w-4/5\"\n\t\t\t\tplaceholder={t('form_title_placeholder')}\n\t\t\t\tinputElementClassNames=\"!bg-white dark:!bg-kdark border-kgrey-light-grey-4 dark:text-white\"\n\t\t\t\tcomponent={KntInputField}\n\t\t\t\tonBlur={(event: any) => {\n\t\t\t\t\tsetFieldValue(event.target.name, event.target.value.trim());\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<CustomFieldItem\n\t\t\t\trequired\n\t\t\t\tname={defaultField?.name}\n\t\t\t\tlabel={defaultField?.name}\n\t\t\t\tplaceholder={defaultField?.placeholder}\n\t\t\t\tisDeletable={false}\n\t\t\t\tonEdit={onCustomFieldEditClicked('edit_field', defaultField)}\n\t\t\t\tdisabled\n\t\t\t/>\n\t\t\t<DragDropContext onDragEnd={onCustomFieldsOrderChanged}>\n\t\t\t\t<Droppable droppableId={droppableId}>\n\t\t\t\t\t{(provided) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className=\"relative h-full\" {...provided.droppableProps} ref={provided.innerRef}>\n\t\t\t\t\t\t\t\t<Scrollbars style={{ height: customFields.length > 2 ? 250 : 100 }}>\n\t\t\t\t\t\t\t\t\t{customFields\n\t\t\t\t\t\t\t\t\t\t.filter((field) => !(field?.order === 1 && field?.default))\n\t\t\t\t\t\t\t\t\t\t.sort((fieldA, fieldB) => fieldA.order - fieldB.order)\n\t\t\t\t\t\t\t\t\t\t.map((field, index) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<Draggable\n\t\t\t\t\t\t\t\t\t\t\t\t\tdraggableId={String(field?.temp_id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={field?.temp_id}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{(providedProp) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...providedProp.draggableProps}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...providedProp.dragHandleProps}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tref={providedProp.innerRef}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CustomFieldItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdraggable\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={field.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={field.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={field.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={field.placeholder}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisDeletable={!field.default}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonDelete={onDeleteCustomField(field.name)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonEdit={onCustomFieldEditClicked('edit_field', field)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t</Draggable>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Scrollbars>\n\t\t\t\t\t\t\t\t{provided.placeholder}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t</Droppable>\n\t\t\t</DragDropContext>\n\n\t\t\t<div className=\"mr-5 flex justify-end\">\n\t\t\t\t<KntButton\n\t\t\t\t\tonClick={onCustomFieldEditClicked('add_field')}\n\t\t\t\t\ticonComponent={<BiPlus />}\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\tclassName=\"mt-3\"\n\t\t\t\t>\n\t\t\t\t\t{t('add_field')}\n\t\t\t\t</KntButton>\n\t\t\t</div>\n\n\t\t\t<WhiteModal open={Boolean(openFieldsForm)} handleModalOpen={onFieldsFormModalClosed}>\n\t\t\t\t<AddCustomFieldForm\n\t\t\t\t\topenFieldsForm={openFieldsForm}\n\t\t\t\t\tsetCustomFields={setCustomFields}\n\t\t\t\t\tcloseFieldsForm={closeFieldsForm}\n\t\t\t\t\tcustomFields={customFields}\n\t\t\t\t/>\n\t\t\t</WhiteModal>\n\t\t</div>\n\t);\n}\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { useAxios, useNotistack, useQueryParams } from 'shared/hooks';\nimport { PriorityType } from 'shared/typings/priority.types';\nimport * as Yup from 'yup';\nimport { TFormItem } from '../FormsConfigTable';\nimport { useDispatch } from 'react-redux';\nimport { TCustomField } from '../FormsConfigForm';\nimport { capitalizeFirstLetter } from 'shared/services';\nimport { useAppState } from 'shared/state';\nimport { getDepartmentPayload, getSubDepartmentPayload } from 'pages/Cases/helpers';\nimport get from 'lodash/get';\nimport actions from 'store/actions';\nimport { useTranslation } from 'react-i18next';\n\nconst FormRequest = actions.entity.formRequest;\n\ntype TFormPayload = {\n\tform_meta_info: {\n\t\tdepartment: number;\n\t\tsub_department: number | null;\n\t\tstatus: number;\n\t\tpriority: PriorityType;\n\t};\n\ttitle: string;\n\tfields: {\n\t\tname: string;\n\t\tplaceholder: string;\n\t\torder: number;\n\t\trequired: boolean;\n\t}[];\n\tform_id: number;\n};\n\ntype Nullable<T> = { [P in keyof T]: T[P] | null };\n\ntype InitialValuesType = TFormItem['form_meta_info'] & { title: string };\n\nexport default function useFormsConfigHelpers({\n\tmatch\n}: {\n\tmatch: { params: { formType: 'edit' | 'create' } };\n}) {\n\tconst { t, i18n } = useTranslation();\n\tconst configFormSchema = useMemo(\n\t\t() =>\n\t\t\tYup.object().shape({\n\t\t\t\tdepartment: Yup.object().nullable().required(t('required')),\n\t\t\t\tstatus: Yup.object().nullable().required(t('required')),\n\t\t\t\tpriority: Yup.object().nullable().required(t('required')),\n\t\t\t\ttitle: Yup.string().required(t('required'))\n\t\t\t}),\n\t\t[i18n.language]\n\t);\n\n\tconst [initialValues, setInitialValues] = useState<Nullable<Partial<InitialValuesType>>>({\n\t\tdepartment: null,\n\t\tsub_department: null,\n\t\tstatus: null,\n\t\tpriority: null,\n\t\ttitle: ''\n\t});\n\tconst [customFields, setCustomFields] = useState<TCustomField[]>([\n\t\t{\n\t\t\tname: 'Your name',\n\t\t\tplaceholder: 'Enter Name',\n\t\t\torder: 1,\n\t\t\trequired: true,\n\t\t\tdefault: true,\n\t\t\tid: 1,\n\t\t\ttemp_id: 1\n\t\t}\n\t]);\n\n\tconst history = useHistory();\n\tconst dispatch = useDispatch();\n\tconst departmentRef = useRef(null);\n\n\tconst { query } = useQueryParams<{ formId: string }>();\n\tconst { companyId } = useAppState();\n\tconst { showNotification } = useNotistack();\n\n\tconst isEditForm = match?.params?.formType === 'edit';\n\n\tconst { fetchData: fetchFormById } = useAxios({\n\t\turl: '',\n\t\tdynamicUrl: true,\n\t\tinitialLoad: false,\n\t\tcb: {\n\t\t\tsuccess: (data: TFormItem) => {\n\t\t\t\tconst computedPriority: any = {\n\t\t\t\t\tname: capitalizeFirstLetter(\n\t\t\t\t\t\tdata?.form_meta_info?.priority\n\t\t\t\t\t\t\t? (data?.form_meta_info?.priority as unknown as string)?.toLowerCase()\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t),\n\t\t\t\t\tcode: data?.form_meta_info?.priority\n\t\t\t\t};\n\t\t\t\tsetInitialValues((prev) => ({\n\t\t\t\t\t...prev,\n\t\t\t\t\t...data.form_meta_info,\n\t\t\t\t\ttitle: data?.title,\n\t\t\t\t\tpriority: computedPriority,\n\t\t\t\t\tsub_department: data?.form_meta_info?.sub_department\n\t\t\t\t\t\t? { [data.form_meta_info?.sub_department?.id]: data.form_meta_info.sub_department }\n\t\t\t\t\t\t: {}\n\t\t\t\t}));\n\t\t\t\tsetCustomFields((prev) =>\n\t\t\t\t\tdata?.fields.map((field) => {\n\t\t\t\t\t\tconst defaultField = prev.find((prevField) => field.order === 1 && prevField.default);\n\n\t\t\t\t\t\tif (defaultField) {\n\t\t\t\t\t\t\treturn { ...field, default: true };\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn { ...field, temp_id: field?.id };\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t},\n\t\t\terror: (error) => {\n\t\t\t\tconsole.log(error, 'form error');\n\t\t\t}\n\t\t}\n\t});\n\n\tuseEffect(() => {\n\t\tif (isEditForm && companyId) {\n\t\t\tfetchFormById({ url: `${companyId}/feedback_link/${query?.formId}/` });\n\t\t}\n\t}, [companyId]);\n\n\tconst onFormSubmit = useCallback(\n\t\t(values, formikBag) => {\n\t\t\tconst payload: Partial<TFormPayload> = {};\n\t\t\tformikBag.validateForm().then((errors: Record<string, any>) => {\n\t\t\t\tif (Object.keys(errors).length === 0) {\n\t\t\t\t\tpayload.form_meta_info = {\n\t\t\t\t\t\tdepartment: getDepartmentPayload(values)?.id,\n\t\t\t\t\t\tsub_department: getSubDepartmentPayload({ values, departmentRef })?.id ?? null,\n\t\t\t\t\t\tstatus: get(values, 'status.id', null),\n\t\t\t\t\t\tpriority: get(values, 'priority.code', null)\n\t\t\t\t\t};\n\n\t\t\t\t\tpayload.title = get(values, 'title', '');\n\t\t\t\t\tpayload.fields = customFields?.map((field) => ({\n\t\t\t\t\t\tname: field?.name,\n\t\t\t\t\t\tplaceholder: field?.placeholder,\n\t\t\t\t\t\trequired: field?.required,\n\t\t\t\t\t\torder: field?.order,\n\t\t\t\t\t\t...(isEditForm ? { id: field?.id } : {})\n\t\t\t\t\t}));\n\n\t\t\t\t\tif (isEditForm) {\n\t\t\t\t\t\tpayload.form_id = Number(query?.formId);\n\t\t\t\t\t}\n\n\t\t\t\t\tdispatch(\n\t\t\t\t\t\tFormRequest({\n\t\t\t\t\t\t\tentity: 'AllForms',\n\t\t\t\t\t\t\tname: `All-feedback-configuration-${companyId}`,\n\t\t\t\t\t\t\turl: `/${companyId}/feedback_link/`,\n\t\t\t\t\t\t\tmethod: isEditForm ? 'patch' : 'post',\n\t\t\t\t\t\t\tparams: {},\n\t\t\t\t\t\t\tappendData: !isEditForm,\n\t\t\t\t\t\t\tupdateData: isEditForm,\n\t\t\t\t\t\t\tvalues: payload,\n\t\t\t\t\t\t\t//normalizeData: (data: FilterTemplateType) => data,\n\t\t\t\t\t\t\tcb: {\n\t\t\t\t\t\t\t\tsuccess: (data: TFormPayload) => {\n\t\t\t\t\t\t\t\t\thistory.push('/business-profile/forms');\n\n\t\t\t\t\t\t\t\t\tshowNotification({\n\t\t\t\t\t\t\t\t\t\tmessage: isEditForm ? t('successfully_updated') : t('successfully_created')\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t//Setting default custom after all has been success\n\t\t\t\t\t\t\t\t\tsetCustomFields([\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'Your name',\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: 'Enter Name',\n\t\t\t\t\t\t\t\t\t\t\torder: 1,\n\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\tdefault: true,\n\t\t\t\t\t\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\t\t\t\t\t\ttemp_id: 1\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\terror: (error: Error) => {\n\t\t\t\t\t\t\t\t\tconsole.log('error', error);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfinally: () => {\n\t\t\t\t\t\t\t\t\tformikBag.setSubmitting(false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t[customFields]\n\t);\n\n\treturn {\n\t\tonFormSubmit,\n\t\tinitialValues,\n\t\tsetInitialValues,\n\t\tcustomFields,\n\t\tsetCustomFields,\n\t\tconfigFormSchema,\n\t\tdepartmentRef,\n\t\tisEditForm,\n\t\thistory\n\t};\n}\n","import { Formik } from 'formik';\nimport { useTranslation } from 'react-i18next';\nimport ConfigFormElements from './ConfigFormElements';\nimport { FormsCustomFields } from './FormsCustomFields';\nimport { KntButton } from 'shared/components';\nimport useFormsConfigHelpers from './hooks/useFormsConfigHelpers';\nimport { useTranslationHelpers } from 'shared/hooks/useTranslationHelpers';\nimport { BreadCrumbs } from 'shared/components/Elements';\nimport { Link } from 'react-router-dom';\n\ntype Props = {\n\tmatch: { path: string; params: { formType: 'edit' | 'create' }; url: string };\n};\n\nexport type TCustomField = {\n\ttemp_id?: number;\n\tid?: number;\n\tname: string;\n\tplaceholder: string;\n\torder: number;\n\trequired: boolean;\n\tdefault?: boolean;\n\ttitle?: string;\n};\n\nexport default function FormsConfigForm({ match }: Props) {\n\tconst [t] = useTranslation();\n\tconst { isRTL } = useTranslationHelpers();\n\tconst {\n\t\tconfigFormSchema,\n\t\tinitialValues,\n\t\tonFormSubmit,\n\t\tdepartmentRef,\n\t\tcustomFields,\n\t\tsetCustomFields,\n\t\tisEditForm,\n\t} = useFormsConfigHelpers({ match });\n\n\treturn (\n\t\t<Formik\n\t\t\tvalidationSchema={configFormSchema}\n\t\t\tinitialValues={initialValues}\n\t\t\tenableReinitialize\n\t\t\tonSubmit={onFormSubmit}\n\t\t>\n\t\t\t{({ handleSubmit, values, setFieldValue, submitForm, isSubmitting }) => {\n\t\t\t\treturn (\n\t\t\t\t\t<form\n\t\t\t\t\t\tclassName=\"feedback-field mt-3 mb-6 flex flex-col justify-items-center gap-y-2.5\"\n\t\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\t<BreadCrumbs maxItems={4} aria-label=\"breadcrumb\" separator=\">\" className=\"!pb-4\">\n\t\t\t\t\t\t\t<Link className=\"hover:underline\" to={`/business-profile/forms`}>\n\t\t\t\t\t\t\t\t{t('feedback_configuration')}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<Link className={'font-medium text-primary hover:underline'} to={match?.url}>\n\t\t\t\t\t\t\t\t{isEditForm ? t('edit_form') : t('create_form')}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</BreadCrumbs>\n\t\t\t\t\t\t<section className=\"flex gap-x-4\">\n\t\t\t\t\t\t\t<ConfigFormElements\n\t\t\t\t\t\t\t\tdepartmentRef={departmentRef}\n\t\t\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\t\t\tsetFieldValue={setFieldValue}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FormsCustomFields setFieldValue={setFieldValue} customFields={customFields} setCustomFields={setCustomFields} />\n\t\t\t\t\t\t</section>\n\t\t\t\t\t\t<div className=\"flex items-center justify-center\">\n\t\t\t\t\t\t\t<KntButton\n\t\t\t\t\t\t\t\tisDisabled={isSubmitting}\n\t\t\t\t\t\t\t\tonClick={submitForm}\n\t\t\t\t\t\t\t\tclassName=\"w-2/5\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{isSubmitting ? '...' : isEditForm ? t('save_changes') : t('create_form')}\n\t\t\t\t\t\t\t</KntButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t);\n\t\t\t}}\n\t\t</Formik>\n\t);\n}\n"],"names":["ConfigFormElements","setFieldValue","values","departmentRef","companyId","useAppState","subDepIdsRef","useRef","t","useTranslation","isFieldsDisabled","className","required","label","labelClasses","component","AsyncSelectJs","customStylesProps","KntTwilioStyle","name","placeholder","optionLabel","optionValue","isSearchable","isMobile","isClearable","isCached","isDisabled","openMenuOnFocus","loadOptionsKey","loadOptionsUrl","loadOptionsParams","search","extra","is_staff","onChange","option","runSideEffectsAfterDepartmentChange","get","Object","keys","sub_department","map","subdep","CreateCaseSubDep","reverse","CustomFieldItem","onEdit","onDelete","disabled","isDeletable","draggable","KntInputField","classNames","inputClassNames","EditButton","clickHandler","DeleteButton","AddCustomFieldForm","closeFieldsForm","setCustomFields","openFieldsForm","customFields","initialValues","customFieldEntity","showNotification","useNotistack","useSwitch","checked","handleChange","yupSchema","useMemo","Yup","shape","onFormSubmit","useCallback","formikBag","validateForm","then","errors","length","some","field","formType","temp_id","message","variant","prev","newField","index","order","enableReinitialize","validationSchema","onSubmit","handleSubmit","submitForm","onBlur","event","target","value","trim","default","labelPlacement","control","size","onClick","color","FormsCustomFields","WhiteModal","useWhiteModal","useEntityActionPopup","visible","showFieldsForm","showVisible","closePopup","onCustomFieldEditClicked","onFieldsFormModalClosed","onDeleteCustomField","fieldName","filter","droppableId","onCustomFieldsOrderChanged","result","destination","source","reorder","list","startIndex","endIndex","Array","from","splice","removed","item","prevCustomFields","defaultField","find","inputElementClassNames","onDragEnd","provided","droppableProps","ref","innerRef","style","height","sort","fieldA","fieldB","draggableId","String","providedProp","draggableProps","dragHandleProps","iconComponent","open","Boolean","handleModalOpen","FormRequest","actions","FormsConfigForm","match","useTranslationHelpers","isRTL","i18n","configFormSchema","department","nullable","status","priority","title","language","useState","setInitialValues","id","history","useHistory","dispatch","useDispatch","query","useQueryParams","isEditForm","params","fetchFormById","useAxios","url","dynamicUrl","initialLoad","cb","success","data","computedPriority","capitalizeFirstLetter","form_meta_info","toLowerCase","code","fields","prevField","error","console","log","fetchData","useEffect","formId","payload","getDepartmentPayload","getSubDepartmentPayload","form_id","Number","entity","method","appendData","updateData","push","finally","setSubmitting","useFormsConfigHelpers","isSubmitting","maxItems","separator","to"],"sourceRoot":""}