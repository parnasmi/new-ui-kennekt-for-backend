!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="157bdbc9-5438-412f-a6b7-4ebb0b077de2",e._sentryDebugIdIdentifier="sentry-dbid-157bdbc9-5438-412f-a6b7-4ebb0b077de2")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"1d419c3c8a5f66a775a003b801a7dad6c0430a71"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[6356],{76356:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var l=a(72791),s=a(92112),n=a(53148),r=a(58617),i=a(56355),c=a(70272),d=a(66128),o=a(35741),m=a(40084),f=a(64880),x=a(29439),u=a(98741),p=a(12714),h=a(93433),b=a(1413);var g=a(17173),w=a(80184);function j(e){var t=e.id,a=e.departments,s=(0,m.m)().companyId,n=(0,g.$G)().t,r=[],i=[],c=(0,l.useState)(null),f=(0,x.Z)(c,2),j=f[0],v=f[1];return(0,l.useEffect)((function(){a&&v(function(e){return e?e.reduce((function(e,t){return t.is_staff?(0,b.Z)((0,b.Z)({},e),{},{staffDeps:[].concat((0,h.Z)(e.staffDeps),[t.id])}):(0,b.Z)((0,b.Z)({},e),{},{clientDeps:[].concat((0,h.Z)(e.clientDeps),[t.id])})}),{clientDeps:[],staffDeps:[]}):[]}(a))}),[a]),(0,w.jsxs)("div",{className:"flex w-full flex-wrap",children:[(0,w.jsxs)("div",{className:"mb-5 mr-0 w-full lg:mx-3 lg:mb-0 lg:w-5/12",children:[(0,w.jsx)("div",{className:"mb-1.5 pl-1.5 text-sm text-kdark dark:text-white",children:n("staff_departments")}),t&&s?(0,w.jsx)(o.Z.All,{entity:"tree",name:"AllTreeDepartments-Staff-".concat(t),url:"/".concat(s,"/departments/tree/"),params:{limit:100,extra:{is_staff:"True"}},children:function(e){var t=e.items,a=e.isFetched;return r=a&&(0,u.w)(t),(0,w.jsx)(w.Fragment,{children:a?(0,w.jsx)(p.ZP,{getPopupContainer:function(e){return e.parentNode},className:"check-select pointer-events-none w-full",transitionName:"rc-tree-select-dropdown-slide-up",choiceTransitionName:"rc-tree-select-selection__choice-zoom",dropdownStyle:{overflow:"auto"},dropdownPopupAlign:{overflow:{adjustY:0,adjustX:0},offset:[0,2]},placeholder:(0,w.jsx)("i",{children:n("select_staff_departments")}),searchPlaceholder:"please search",treeLine:!0,maxTagTextLength:10,multiple:!0,allowClear:!1,autoClearSearchValue:!0,treeData:r,treeNodeFilterProp:"title",treeCheckable:!0,showCheckedStrategy:p.hT,value:null==j?void 0:j.staffDeps}):(0,w.jsx)("div",{className:"flex justify-center",children:(0,w.jsx)(d.aN,{})})})}}):null]}),(0,w.jsxs)("div",{className:"w-full lg:w-6/12",children:[(0,w.jsx)("div",{className:"mb-1.5 pl-1.5 text-sm text-kdark dark:text-white",children:n("client_departments")}),t&&s?(0,w.jsx)(o.Z.All,{entity:"tree",name:"AllTreeDepartments-Client-".concat(t),url:"/".concat(s,"/departments/tree/"),params:{limit:100,extra:{is_staff:"False"}},children:function(e){var t=e.items,a=e.isFetched;return i=a&&(0,u.w)(t),(0,w.jsx)(w.Fragment,{children:a?(0,w.jsx)(p.ZP,{getPopupContainer:function(e){return e.parentNode},className:"check-select pointer-events-none w-full",transitionName:"rc-tree-select-dropdown-slide-up",choiceTransitionName:"rc-tree-select-selection__choice-zoom",dropdownStyle:{overflow:"auto"},dropdownPopupAlign:{overflow:{adjustY:0,adjustX:0},offset:[0,2]},placeholder:(0,w.jsx)("i",{children:n("select_client_departments")}),searchPlaceholder:"please search",treeLine:!0,maxTagTextLength:10,multiple:!0,allowClear:!1,autoClearSearchValue:!0,treeData:i,treeNodeFilterProp:"title",treeCheckable:!0,showCheckedStrategy:p.hT,value:null==j?void 0:j.clientDeps}):(0,w.jsx)("div",{className:"flex justify-center",children:(0,w.jsx)(d.aN,{})})})}}):null]})]})}var v=a(28182),k=a(90218);function N(e){var t=e.setModalItem,a=(0,f.UO)().id,l=(0,m.m)().companyId,x=(0,g.$G)().t,u=(0,k.K)().isRTL;return(0,w.jsx)(w.Fragment,{children:l?(0,w.jsx)(o.Z.One,{primaryKey:"id",id:a,entity:"staffEmployee",name:"staffEmployee-".concat(l),url:"".concat(l,"/employee/").concat(a,"/"),params:{},relations:"",children:function(e){var a=e.item,l=e.isFetched,o=a,m=o.avatar,f=o.first_name,p=o.mobile,h=o.last_name,b=o.username,g=o.roles,k=o.id,N=o.departments,y=o.is_business_owner;t(a);var _=l?"".concat(g[0]," ").concat(y?"| owner":""):"";return(0,w.jsx)(w.Fragment,{children:l?(0,w.jsxs)("div",{className:"mb-16 flex flex-col pt-8 lg:flex-row",children:[(0,w.jsx)("div",{className:(0,v.Z)("mb-5 h-28 w-28 flex-shrink-0 overflow-hidden rounded-full bg-kgrey-bg lg:mb-0",u?"ml-12":"mr-12"),children:(0,w.jsxs)(c.Z,{className:"inline-block",style:{color:"#fff",width:"100%",height:"100%"},src:null==m?void 0:m.url,children:[f[0],h[0]]})}),(0,w.jsxs)("div",{className:"flex-grow",children:[(0,w.jsxs)("div",{className:"flex flex-wrap",children:[(0,w.jsxs)("div",{className:"mb-3",children:[(0,w.jsx)("div",{className:"mb-3 px-5 text-xl font-medium text-kdark dark:text-white",children:x("personal_information")}),(0,w.jsx)(n.ev,{text:f,wrapperClassnames:"bg-kgrey-bgmenu shadow-recent-panel-2",title:x("first_name"),textClassName:"!text-lg font-semibold",children:(0,w.jsx)(r.g3P,{className:"text-kgrey"})}),(0,w.jsx)(n.ev,{text:h,title:x("last_name"),wrapperClassnames:"bg-kgrey-bgmenu shadow-recent-panel-2",textClassName:"text-lg font-semibold",children:(0,w.jsx)(i.VRY,{className:"text-kgrey"})})]}),(0,w.jsxs)("div",{className:"mb-3",children:[(0,w.jsx)("div",{className:"mb-3 px-5 text-xl font-medium text-kdark dark:text-white",children:x("contact_information")}),(0,w.jsx)(n.ev,{text:b,title:x("email"),wrapperClassnames:"bg-kgrey-bgmenu shadow-recent-panel-2",textClassName:"!text-lg !font-med",children:(0,w.jsx)(s.$P,{className:"text-kgrey"})}),p?(0,w.jsx)(n.ev,{text:p,title:x("mobile_phone"),wrapperClassnames:"bg-kgrey-bgmenu shadow-recent-panel-2",textClassName:"!text-lg font-semibold",children:(0,w.jsx)(i.I$,{className:"text-kgrey"})}):null]})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:"mb-3 px-5 text-xl font-medium text-kdark dark:text-white",children:x("additional_information")}),(0,w.jsx)("div",{className:"mb-2 inline-block",children:(0,w.jsx)(n.ev,{text:_,title:x("role"),wrapperClassnames:"bg-kgrey-bgmenu shadow-recent-panel-2",textClassName:"!text-lg font-semibold",children:(0,w.jsx)(i.I$,{className:"text-kgrey"})})}),(0,w.jsx)("div",{className:"w-full",children:(0,w.jsx)(j,{departments:N,id:k})})]})]})]}):(0,w.jsx)("div",{className:"flex justify-center",children:(0,w.jsx)(d.aN,{})})})}}):null})}}}]);
//# sourceMappingURL=6356.2c8d7bcd.chunk.js.map