!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="6d1d27a2-59f5-4121-a569-a39afdd9b439",e._sentryDebugIdIdentifier="sentry-dbid-6d1d27a2-59f5-4121-a569-a39afdd9b439")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"1d419c3c8a5f66a775a003b801a7dad6c0430a71"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[9751],{29751:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var a=n(1413),s=n(7481),o=n(76188),i=n(81724),r=n(87818),d=n(77917),l=n(32380),c=n(64880),m=n(4245),u=n(16178),p=n(54270),w=(n(72791),n(80266)),f=n(97689),h=n(17173),g=n(80184),b=l.Z.entity.formRequest,v=i.Ry({username:i.Z_().email("Enter a valid email").required("Email is required"),new_password:i.Z_().strict(!0).trim("Password cannot be blank").min(6,"Password should be of minimum 6 characters length").required("Password is required"),passwordConfirmation:i.Z_().oneOf([i.iH("new_password")],"Passwords are not the same!").required("Password confirmation is required!")});var x=function(){var e=(0,r.I0)(),t=(0,c.k6)(),n=(0,c.TH)(),i=(0,c.UO)(),l=(0,u.lm)(),x=l.notifVisible,k=l.setNotifVisible,y=l.handleNotificationClose,_=l.Notification,N=(0,u.eC)().showNotification,Z=(0,f.a)().isAuthentificated,S=(0,h.$G)().t,C=(0,u.bK)({url:"",dynamicUrl:!0,cb:{success:function(e,n){k(!0);var a=n[0],s=a.setPassWordData,o=a.setSubmitting,i=null==s?void 0:s.token;o(!1),w.tO.set("token",i),setTimeout((function(){Z?t.push("/switch-business"):(t.push("/"),window.location.reload())}),2e3)},error:function(e,t){N({message:S("something_went_wrong"),variant:"error"})}}}).fetchData,P=m.parse(n.search)||{username:""},T=(0,o.TA)({initialValues:{username:P.username,new_password:"",passwordConfirmation:""},validationSchema:v,onSubmit:function(t,n){n.setFieldError;var s=n.setSubmitting,o=(0,a.Z)({},t);delete o.passwordConfirmation,e(b({entity:"change_password",name:"change_password",url:"/user/set-password/",method:"patch",params:{},values:o,cb:{success:function(e){"code"in i&&(localStorage.clear(),C({url:"/sts/".concat(i.code,"/"),setSubmitting:s,setPassWordData:e}))},error:function(e){var t;e&&400===(null===(t=e.response)||void 0===t?void 0:t.status)&&N({message:"This invitation link is invalid.\nPlease contact to invited person to have a new invitation link.",variant:"error"}),s(!1)},finally:function(){}}}))}});return(0,g.jsx)(s.P,{title:"Set password for new user",description:'\n\t\t\t\t\t\t\t\t\t\tYou should set your personal password for getting started with \n\t\t\t\t\t\t\t\t\t\temail <span class="text-primary">'.concat(P.username,"</span>\n\t\t\t\t\t\t\t\t\t"),goToPageLink:"/signin",goToPage:"Do you want to login to another account?",goToPageLinkText:"Sign In",back:!0,content:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p.q,{children:(0,g.jsx)("title",{children:"KENNEKT | Set new password"})}),(0,g.jsx)("form",{onSubmit:T.handleSubmit,children:(0,g.jsxs)("div",{className:" w-full font-poppins md:w-[423px]",children:[(0,g.jsx)(d.Qp,{name:"new_password",placeholder:"Password",label:"Password",required:!0,onChange:T.handleChange,type:"password",value:T.values.new_password,error:T.touched.new_password&&Boolean(T.errors.new_password),helperText:T.touched.new_password&&T.errors.new_password}),(0,g.jsx)(d.Qp,{name:"passwordConfirmation",placeholder:"Confirm password",label:"Password confirmation",required:!0,onChange:T.handleChange,type:"password",value:T.values.passwordConfirmation,error:T.touched.passwordConfirmation&&Boolean(T.errors.passwordConfirmation),helperText:T.touched.passwordConfirmation&&T.errors.passwordConfirmation,classNames:"mb-8"}),(0,g.jsx)(_,{severity:"info",anchorOrigin:{vertical:"bottom",horizontal:"center"},handleClose:y,open:x,message:"Your account has been confirmed. You will redirected into the app in seconds..",autoHideDuration:3e3}),(0,g.jsx)("button",{disabled:T.isSubmitting,className:"bg-primary py-3.5 uppercase transition w-full rounded-lg text-center text-sm font-light text-white hover:bg-primary-dark",children:T.isSubmitting?"Setting password. Please wait a while":"Set password"})]})})]})})}},7481:function(e,t,n){n.d(t,{P:function(){return v}});var a,s=n(30168),o=n(52554),i=n(9478),r=n(91523),d=n(64880),l=n(28182),c=n(70629),m=n(66128),u=n(72791),p=n(23853),w=n(17173),f=n(63176),h=n(90218),g=n(64923),b="".concat(i.Z.PUBLIC_ASSETS,"img/");function v(e){var t=e.content,n=e.title,i=e.description,v=e.goToPage,x=e.goToPageLinkText,k=e.goToPageLink,y=e.goBackLink,_=void 0===y?null:y,N=e.back,Z=e.isInitialPage,S=e.showLanguageSelect,C=void 0!==S&&S,P=(0,d.k6)(),T=(0,w.$G)().t,j=(0,h.K)().isRTL,B=(0,u.useCallback)((function(){_?P.push(_):P.goBack()}),[_]);return(0,g.BX)("div",{className:"welcome flex min-h-full font-poppins ",children:[(0,g.tZ)("div",{className:(0,l.Z)("welcome__left hidden bg-cover bg-no-repeat py-14 px-20 md:block md:w-[52%]",{"md:!w-[52%]":Z}),css:(0,o.iv)(a||(a=(0,s.Z)(["\n\t\t\t\t\tbackground-image: url(","bg-welcome.jpg);\n\t\t\t\t"])),b),children:(0,g.tZ)(r.rU,{to:"/",className:"h-8 w-40",children:(0,g.tZ)("img",{src:"".concat(b,"logo-kennekt-2.svg"),alt:"",className:"object-cover"})})}),(0,g.BX)("div",{className:(0,l.Z)("flex w-full flex-col justify-between p-4 md:block md:w-[48%] md:pl-12 md:pt-14 md:pr-20 md:pb-14",{"md:!w-[48%]":Z}),children:[(0,g.BX)("div",{className:(0,l.Z)("top",{"flex items-center justify-between":c.tq&&Z}),children:[(0,g.tZ)("div",{className:"mobile-logo mb-2 lg:hidden",children:(0,g.tZ)(r.rU,{to:"/",className:"block h-6 w-32",children:(0,g.tZ)("img",{src:"".concat(b,"logo-kennekt-2.svg"),alt:"",className:"object-cover"})})}),(0,g.BX)("div",{className:(0,l.Z)("top-nav flex justify-between md:mb-28"),children:[(0,g.BX)("div",{className:(0,l.Z)("group flex cursor-pointer items-center text-kgrey-welcome",!N&&"opacity-0",Z&&"hidden",!Z&&!c.tq&&"md:flex"),onClick:B,children:[(0,g.tZ)("span",{className:"text-2xl transition group-hover:text-primary",children:j?(0,g.tZ)(p.Tfp,{}):(0,g.tZ)(p.YFh,{})}),(0,g.tZ)("span",{className:"mr-4 text-sm font-medium transition group-hover:text-primary md:ml-3 md:text-base",children:T("back")})]}),(0,g.BX)("div",{className:"flex items-center text-sm font-light md:text-lg",children:[(0,g.tZ)("span",{className:"hidden text-kgrey-welcome md:block ",children:v}),(0,g.tZ)(r.rU,{to:k,className:"transitions mx-2 whitespace-nowrap text-primary hover:text-primary-dark ",children:x}),C?(0,g.tZ)(f.S,{isRegistering:!0}):null]})]})]}),(0,g.BX)("div",{className:"content-wrapper",children:[(0,g.BX)("div",{className:"welcome__header mb-8 md:mb-12",children:[(0,g.tZ)("div",{className:"mb-1 text-2xl font-bold md:mb-2.5 md:text-3xl",children:n}),(0,g.tZ)("p",{className:"text-sm font-light text-kgrey-welcome md:text-base",children:(0,g.tZ)(m._S,{text:i})})]}),(0,g.tZ)("div",{className:"welcome__content",children:t})]}),(0,g.tZ)("div",{className:"opacity-0",children:"Footer"})]})]})}}}]);
//# sourceMappingURL=9751.47d84cb2.chunk.js.map