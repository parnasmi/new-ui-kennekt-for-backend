!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c2a5636e-604a-4e9d-b388-0e3d45cece57",e._sentryDebugIdIdentifier="sentry-dbid-c2a5636e-604a-4e9d-b388-0e3d45cece57")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"fb1fa34f10cc71f430d2612c84ee00a7489f3038"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[7494],{27523:function(e,n,t){t.d(n,{u:function(){return E}});var i=t(72791),a=t(16293),s=t(67688),r=t(26864),l=t(59099),o=t(70885),c=t(30874),d=t(18335),u=t(9478),m=t(40084),f=t(97689),p=t(320),h=t(30014),g=t(38596),b=t(1025),v=t.n(b),x=t(66364),y=t.n(x),j=t(94446),S=t(81201),C=t(55636),w=t(80184),k=(0,g.Z)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),N=S.pL.clientCSVConfig;function I(e){var n=e.onSuccess,t=(0,m.m)().companyId,s=(0,f.a)().token,r=(0,i.useState)(!1),l=(0,o.Z)(r,2),g=l[0],b=l[1],x=(0,i.useState)(null),I=(0,o.Z)(x,2),_=I[0],E=I[1],q=(0,i.useState)([]),V=(0,o.Z)(q,2),F=V[0],Z=V[1],T=(0,i.useState)(null),R=(0,o.Z)(T,2),A=R[0],P=R[1],L=(0,C.eC)().showNotification,D=k(),K=N,M=function(){E(null)};return(0,w.jsxs)("div",{className:"mb-4",children:[(0,w.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,w.jsx)("a",{href:"https://kennekt.com/files/kennekt_client.csv",download:!0,className:"text-sm text-primary transition hover:text-primary-dark",children:"Download CSV sample file"}),(0,w.jsx)("div",{className:"uploader",children:(0,w.jsx)(d.Z,{accept:".csv",className:"upload-file-styles",action:"".concat(u.Z.API_ROOT,"/").concat(t,"/import-clients/"),beforeUpload:function(e){return b(!0),E(e.name),"csv"===e.name.slice(-3).toLowerCase()?new Promise((function(n,i){v().parse(e,{complete:function(a){var s=a.data[0].length;7===s?(0,S.JZ)(e,K).then((function(a){y()(a.inValidMessages)?a&&(0,S.mp)({csvData:a,companyId:t,resolve:n,reject:i,setCsvData:Z,type:"client",file:e,setLoadingImage:b}):(Z(a.inValidMessages.map((function(e){return e.startsWith("<div")?e:'<div className="red">'.concat(e,"</div>")})).join("")),i(new Error("Invalid csv file")),b(!1),M())})):(s>7?(P("There are more than required columns in your csv file. Please remove redundant columns. Download sample csv file and edit it accordingly."),Z([])):s<7&&(P("There are missing columns in your csv file. Please add appropriate columns. Download sample csv file and edit it accordingly."),Z([])),i(new Error("Invalid csv file")),M(),b(!1))}})})):(b(!1),L({message:"Invalid file type. Download please sample of file csv",variant:"error"}),!1)},onSuccess:function(e){b(!1),L({message:"Successfully uploaded and invited",variant:"success"}),n()},headers:{Authorization:"Token "+s},children:(0,w.jsxs)(c.zx,{variant:"outlined","aria-label":"file-attach",className:"mr-5",children:[(0,w.jsx)(p.Z,{})," Upload CSV file"]})})})]}),(0,w.jsx)("div",{className:"file-name",children:null!==_?(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsx)("p",{className:"",children:_}),(0,w.jsx)(h.Z,{onClick:M,className:"cursor-pointer transition hover:text-primary"})]}):null}),(0,w.jsx)("div",{className:"linear-loader mt-2",children:g?(0,w.jsx)("div",{className:D.root,children:(0,w.jsx)(j.Z,{className:"loading-file"})}):null}),(0,w.jsx)("div",{className:"csv-error-display mt-2",children:!y()(F)&&(0,w.jsx)("div",{className:"my-5",children:(0,w.jsxs)("div",{children:[(0,w.jsx)(a._S,{text:F}),(0,w.jsx)("div",{className:"text-sm text-kred-pink",children:(0,w.jsx)("strong",{children:"Please correct and upload again"})})]})})}),(0,w.jsx)("div",{className:"primary-error-check",children:A&&(0,w.jsx)("div",{className:"mb-5",children:(0,w.jsx)("div",{className:"mt-5 text-sm text-kred-pink",children:(0,w.jsx)("strong",{children:A})})})})]})}var _=t(86053);function E(e){var n=e.SwitchClient,t=void 0===n?null:n,i=e.isSubmitting,o=e.setFieldValue,d=e.onSuccess,u=e.resetForm,m=e.isEditing,f=void 0!==m&&m,p=(0,C.h9)({csv:!1}),h=p.checked,g=p.handleChange;return(0,w.jsxs)("div",{children:[(0,w.jsx)(a.ph,{resetForm:u,title:"".concat(f?"Edit":"Invite"," Business Client"),isEditing:f}),t?(0,w.jsx)("div",{children:t}):null,(0,w.jsxs)(w.Fragment,{children:[f?null:(0,w.jsx)(c.D8,{control:(0,w.jsx)(_.k,{checked:h.csv,onChange:g,name:"csv"}),label:"Invite via csv file uploading(optional)",className:"mb-4",classes:{label:"!text-xs font-light text-kgrey-welcome"}}),h.csv?(0,w.jsx)(I,{onSuccess:d}):(0,w.jsx)(r.gN,{label:"Business Name",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"name",component:s.Mg,placeholder:"Type Business name here..",required:!0,autoComplete:"off"}),f?(0,w.jsx)(r.gN,{label:"Phone",name:"phone",component:s.UO,placeholder:"Enter company mobile phone number",enableSearch:!0,required:!0,labelClasses:"!text-xs !ml-6 !text-kgrey-welcome",onChangeHandler:o}):null,(0,w.jsxs)("div",{className:"mt-8 flex items-center justify-end",children:[i&&(0,w.jsx)(a.aN,{tiled:!0,withOverlay:!0}),(0,w.jsx)(l.p,{onSuccess:d,isSubmitting:i,disableOptions:h.csv,submitText:f?"Edit Client":"Invite Client"})]})]})]})}},6245:function(e,n,t){t(72791);var i=t(37099),a=t(81201),s=t(26864),r=t(40084),l=t(67688),o=t(59099),c=t(80184);n.Z=function(e){var n=e.isSubmitting,t=e.onSuccess,d=e.isEditing,u=void 0!==d&&d,m=(0,r.m)().companyId;return(0,c.jsxs)("div",{className:"w-full",children:[(0,c.jsx)(s.gN,{label:"Client Group Name:",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"name",component:l.Mg,placeholder:"Type your firstname..",required:!0,autoComplete:"off"}),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("label",{className:"ml-6 mb-2 block text-xs font-light text-kgrey-welcome",children:(0,c.jsx)("span",{children:"Search Client:"})}),(0,c.jsx)("div",{className:"react-select-dropdown",children:(0,c.jsx)(s.gN,{component:i.Z,customStylesProps:a.gb,name:"clients",placeholder:"Select Clients Here",optionLabel:"name",optionValue:"id",isSearchable:!0,isMulti:!0,isClearable:!0,loadOptionsKey:"results",loadOptionsUrl:"/".concat(m,"/client_companies/"),loadOptionsParams:function(e){return{extra:{search:e}}}})})]}),(0,c.jsx)("div",{className:"flex-center-between mt-8",children:(0,c.jsx)(o.p,{onSuccess:t,isSubmitting:n,submitText:"".concat(u?"Edit":"Create"," Client Group")})})]})}},96806:function(e,n,t){t.d(n,{B:function(){return c}});var i=t(72791),a=t(16293),s=t(26864),r=t(67688),l=t(59099),o=t(80184);function c(e){var n=e.SwitchClient,t=void 0===n?null:n,c=e.isSubmitting,d=e.setFieldValue,u=e.values,m=e.onSuccess,f=e.resetForm,p=e.isEditing,h=void 0!==p&&p,g=e.formValuesSetter,b=void 0===g?function(){return null}:g;return(0,i.useEffect)((function(){if(!h){var e=["first_name","email","last_name","mobile"],n=Object.keys(u).filter((function(n){if((Array.isArray(u[n])?u[n].length:u[n])&&e.includes(n))return u[n]}));b(n)}}),[u]),(0,o.jsxs)("div",{children:[(0,o.jsx)(a.ph,{resetForm:f,title:"".concat(h?"Edit":"Invite"," Individual Client"),isEditing:h}),t?(0,o.jsx)("div",{children:t}):null,(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.gN,{label:"First Name",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"first_name",component:r.Mg,placeholder:"Type your firstname..",required:!0,autoComplete:"off"}),(0,o.jsx)(s.gN,{label:"Last Name",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"last_name",component:r.Mg,placeholder:"Type your lastname..",required:!0,autoComplete:"off"}),(0,o.jsx)(s.gN,{type:"email",label:"Email",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"email",component:r.Mg,placeholder:"Type your email..",required:!0,disabled:h}),(0,o.jsx)(s.gN,{label:"Phone",name:"mobile",component:r.UO,placeholder:"Enter company mobile phone number",enableSearch:!0,required:!0,labelClasses:"!text-xs !ml-6 !text-kgrey-welcome",onChangeHandler:d}),(0,o.jsxs)("div",{className:"flex items-center justify-end",children:[c&&(0,o.jsx)(a.aN,{tiled:!0,withOverlay:!0}),(0,o.jsx)(l.p,{onSuccess:m,isSubmitting:c,submitText:h?"Edit Client":"Invite Client"})]})]})]})}},59099:function(e,n,t){t.d(n,{p:function(){return a}});t(72791);var i=t(80184);function a(e){var n=e.onSuccess,t=e.isSubmitting,a=e.disableOptions,s=void 0!==a&&a,r=e.submitText,l=void 0===r?"Invite Client":r;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:"mr-5 rounded-lg border border-kgrey  px-5 py-2 text-kgrey transition hover:border-primary hover:text-primary focus:ring focus:ring-primary",onClick:n,type:"button",children:"Cancel"}),(0,i.jsx)("button",{className:"rounded-lg bg-primary-dark px-5 py-2 text-white border border-transparent hover:border-primary-dark transition-colors hover:bg-white hover:text-primary-dark focus:ring focus:ring-primary disabled:pointer-events-none disabled:opacity-50 dark:hover:bg-primary-300 dark:hover:text-white dark:focus:ring-primary-300",type:"submit",disabled:t||s,children:l})]})}},41639:function(e,n,t){t(72791);var i=t(26864),a=t(67688),s=t(59099),r=t(80184);n.Z=function(e){var n=e.isSubmitting,t=e.onSuccess,l=e.isEditing,o=void 0!==l&&l;return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)(i.gN,{label:"Client Group Name:",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"name",component:a.Mg,placeholder:"Type your firstname..",required:!0,autoComplete:"off"}),(0,r.jsx)(i.gN,{label:"Role description:",name:"description",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",component:a.Mg,placeholder:"Role description",type:"textarea"}),(0,r.jsx)("div",{className:"flex-center-between mt-8",children:(0,r.jsx)(s.p,{onSuccess:t,isSubmitting:n,submitText:"".concat(o?"Edit":"Create"," Linked Role")})})]})}},70822:function(e,n,t){t.d(n,{w:function(){return c},d:function(){return k}});var i=t(73469),a=t(87987),s=t(30874),r=t(72791),l=t(28182),o=t(80184);function c(e){var n=e.is_individual,t=e.icon,r=e.name,c=e.owner,d=e.nameClassNames,u=void 0===d?"":d,m=(0,i.$)(n,r,c);return(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(s.qE,{src:(0,a.n)(n,t,c),letter:m[0],alt:m,className:"bg-primary-200"}),(0,o.jsx)("span",{className:(0,l.Z)("ml-2 overflow-hidden text-ellipsis",u),children:m})]})}var d=t(70885);function u(e){var n=e.clientType,t=e.setClientType;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"switch-toggle-custom switch-ios mb-4 font-poppins",children:[(0,o.jsx)("input",{id:"client",name:"casetype",type:"radio",defaultChecked:"Individual"===n,tabIndex:-1}),(0,o.jsx)("label",{htmlFor:"client",onClick:function(){return t("Individual")},children:"Individual"}),(0,o.jsx)("input",{id:"Staff",name:"casetype",type:"radio",defaultChecked:"Business"===n,tabIndex:-1}),(0,o.jsx)("label",{htmlFor:"Staff",onClick:function(){return t("Business")},children:"Business"}),(0,o.jsx)("a",{})]})})}var m=t(96806),f=t(27945),p=t(40084),h=t(55636);function g(e){var n=e.SwitchClient,t=e.onSuccess,i=e.initialIndividualClientCompany,a=e.formValuesSetter,s=e.hasToShowGuard,r=(0,p.m)().companyId,l=(0,h.eC)().showNotification;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(f.Z.Main,{entity:"clients",name:"AllClients",url:"/".concat(r,"/my/company/clients/").concat(i.id,"/employee/"),method:"post",primaryKey:"id",sendAsFormData:!1,fields:[{name:"first_name",required:!0,value:"",onSubmitKey:""},{name:"last_name",required:!0,value:"",onSubmitKey:""},{name:"email",onSubmitKey:"",required:!0,value:""},{name:"mobile",onSubmitKey:"",required:!0,value:""}],onSuccess:function(e,n){l({message:"Success! Waiting for client accepting.."}),t(),n()},onError:function(e,n){var t;console.log(e,"Individual client form");var i=e&&e.response,a=(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.message)||"Something went wrong";400===i.status&&a.match("Already connected")&&(a="Client Already Has Been Connected"),l({message:a,variant:"error"})},children:function(e){var t=e.isSubmitting,i=e.values,r=e.setFieldValue,l=e.resetForm;return(0,o.jsx)(m.B,{setFieldValue:r,values:i,isSubmitting:t,SwitchClient:n,onSuccess:s,resetForm:l,formValuesSetter:a})}})})}var b=t(27523),v=t(67688),x=t(26864),y=t(16293),j=t(59099);function S(e){var n=e.setFieldValue,t=e.isSubmitting,i=e.onSuccess;return(0,o.jsxs)("div",{children:[(0,o.jsx)(x.gN,{label:"Business name",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"name",component:v.Mg,required:!0,autoComplete:"off"}),(0,o.jsx)(x.gN,{label:"First Name",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"first_name",component:v.Mg,required:!0,placeholder:"Owners first name",autoComplete:"off"}),(0,o.jsx)(x.gN,{label:"Last Name",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"last_name",component:v.Mg,required:!0,placeholder:"Owners last name",autoComplete:"off"}),(0,o.jsx)(x.gN,{label:"Phone",name:"mobile",component:v.UO,placeholder:"Enter company mobile phone number",enableSearch:!0,required:!0,labelClasses:"!text-xs !ml-6 !text-kgrey-welcome",onChangeHandler:n}),(0,o.jsx)(x.gN,{type:"email",label:"Email",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"email",component:v.Mg,placeholder:"Type your email..",required:!0}),(0,o.jsxs)("div",{className:"flex items-center justify-end",children:[t&&(0,o.jsx)(y.aN,{tiled:!0,withOverlay:!0}),(0,o.jsx)(j.p,{onSuccess:i,isSubmitting:t,submitText:"Add Client"})]})]})}function C(e){var n=e.onSuccess,t=e.businessName,i=e.parentOnSuccess,a=(0,p.m)().companyId,s=(0,h.eC)().showNotification;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"mb-4 text-center",children:[(0,o.jsx)("h2",{className:"text-lg font-bold",children:"This Business has not been registered in KENNEKT."}),(0,o.jsx)("h3",{className:"medium text-base",children:"Would you like to add?"})]}),(0,o.jsx)(f.Z.Main,{entity:"clients",name:"AllClients",url:"/".concat(a,"/my/company/client_company/"),method:"post",primaryKey:"id",sendAsFormData:!1,fields:[{name:"email",required:!0,type:"email",onSubmitKey:""},{name:"first_name",required:!0,onSubmitKey:""},{name:"last_name",required:!0,onSubmitKey:""},{name:"mobile",required:!0,onSubmitKey:""},{name:"name",required:!0,value:t,onSubmitKey:""}],onSuccess:function(e,t){s({message:"Success! Waiting for client accepting.."}),n(),i(),t()},onError:function(e,n){},children:function(e){var t=e.isSubmitting,i=(e.values,e.setFieldValue);e.resetForm;return(0,o.jsx)(S,{setFieldValue:i,onSuccess:n,isSubmitting:t})}})]})}function w(e){var n=e.SwitchClient,t=e.onSuccess,i=(0,p.m)().companyId,a=(0,h.eC)().showNotification,s=(0,h.dF)(),r=s.WhiteModal,l=s.modalHandler,c=s.open;return(0,o.jsx)(f.Z.Main,{entity:"clients",name:"AllClients",url:"/".concat(i,"/my/company/clients/"),method:"post",primaryKey:"id",sendAsFormData:!1,fields:[{name:"id",required:!1,value:null,onSubmitKey:""},{name:"is_individual",required:!0,value:!1,onSubmitKey:""},{name:"name",onSubmitKey:"",required:!0,value:""},{name:"phone",onSubmitKey:"",required:!1,value:null},{name:"status",onSubmitKey:"",required:!0,value:"Not Active"}],onSuccess:function(e,n){a({message:"Success! Waiting for client accepting.."}),t(),n()},onError:function(e,n){var t,i,s,r,o,c;("Company does not exists\n"===(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message)&&(a({message:"Client does not exist",variant:"error"}),l()),"Company does not exists\n"!==(null===e||void 0===e||null===(s=e.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message))&&a({message:null===e||void 0===e||null===(o=e.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message,variant:"error"})},children:function(e){var i=e.isSubmitting,a=e.values,s=e.setFieldValue,d=e.resetForm;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(b.u,{setFieldValue:s,isSubmitting:i,SwitchClient:n,onSuccess:t,resetForm:d}),(0,o.jsx)(r,{handleModalOpen:l,open:c,maxWidth:446,children:(0,o.jsx)(C,{businessName:a.name,onSuccess:l,parentOnSuccess:t})})]})}})}function k(e){var n=e.modalHandler,t=(e.hasToShowGuard,e.formValuesSetter),i=(0,r.useState)("Individual"),a=(0,d.Z)(i,2),s=a[0],l=a[1],c=(0,p.m)().companyId,m=(0,h.bK)({url:"/".concat(c,"/my/company/clients/"),method:"post",values:{is_individual:!0,status:"Not Active"},initialLoad:!0}),f=m.response,b=m.loading;return(0,o.jsxs)("div",{children:["Individual"===s&&f?(0,o.jsx)(g,{SwitchClient:(0,o.jsx)(u,{clientType:s,setClientType:l}),onSuccess:n,hasToShowGuard:n,initialIndividualClientCompany:f,formValuesSetter:t}):(0,o.jsx)(w,{SwitchClient:(0,o.jsx)(u,{clientType:s,setClientType:l}),onSuccess:n}),b?(0,o.jsx)(y.aN,{tiled:!0}):null]})}},95900:function(e,n,t){t.d(n,{lT:function(){return c},k0:function(){return d}});var i=t(70885),a=t(1413),s=t(72791),r=t(80184),l=(0,s.createContext)(null),o=function(e,n){switch(n.type){case"SET_SEARCH_QUERY":return(0,a.Z)((0,a.Z)({},e),{},{searchQuery:n.payload});case"SET_IS_STAFF":return(0,a.Z)((0,a.Z)({},e),{},{isStaff:n.payload});default:return e}};function c(e){var n=e.children,t=(0,s.useReducer)(o,{searchQuery:null,isStaff:"true"}),a=(0,i.Z)(t,2),c=a[0],d=a[1],u=(0,s.useCallback)((function(e){d({type:"SET_SEARCH_QUERY",payload:e})}),[]),m=(0,s.useCallback)((function(e){d({type:"SET_IS_STAFF",payload:e})}),[]),f={searchQuery:c.searchQuery,isStaff:c.isStaff,setSearchQuery:u,setIsStaff:m};return(0,r.jsx)(l.Provider,{value:f,children:n})}var d=function(){var e=(0,s.useContext)(l);if(!e)throw new Error("useClientsManagementContext must be used within the ClientsManagementContextProvider");return e}},73677:function(e,n,t){t.d(n,{Nt:function(){return b},PB:function(){return l},IW:function(){return d},vr:function(){return m},rU:function(){return f},tY:function(){return u},d1:function(){return g}});var i=t(55636),a=t(40084),s=t(49935),r=t(87818);function l(){var e=(0,a.m)().companyId,n=(0,r.I0)(),t=(0,i.eC)().showNotification,l=(0,i.iR)(),o=l.visible,c=l.showVisible,d=l.loading,u=l.toggleLoading,m=l.closePopup,f=(0,i.iR)(),p=f.visible,h=f.showVisible,g=f.closePopup;return{deleteLoading:d,handleClientDelete:function(i){u(),n((0,s.Bi)({entity:"clients",name:"AllClients",method:"delete",url:"/".concat(e,"/client_companies/remove/").concat(i.id,"/"),deleteData:!0,id:i.id,cb:{success:function(){t({message:"Successfully deleted",variant:"success"})},error:function(e){t({message:"Something went wrong",variant:"error"})},finally:function(){u(),m()}},params:{},primaryKey:"id",values:{}}))},showDeleteVisible:c,closeDeletePopup:m,deleteVisible:o,editVisible:p,showEditVisible:h,closeEditPopup:g}}var o=t(70885),c=t(72791);function d(){var e=c.useState(0),n=(0,o.Z)(e,2),t=n[0],a=n[1],s=c.useState("Clients List"),r=(0,o.Z)(s,2),l=r[0],d=r[1],u=(0,c.useState)(!1),m=(0,o.Z)(u,2),f=m[0],p=m[1],h=(0,c.useState)(!1),g=(0,o.Z)(h,2),b=g[0],v=g[1],x=(0,c.useState)(!1),y=(0,o.Z)(x,2),j=y[0],S=y[1],C=(0,i.tv)(),w=C.location,k=C.match,N=k.url,I=k.path,_=(0,i.gQ)("Clients Management"),E=_.unreadCasesQuantity,q=_.isHidden,V=function(){return p((function(e){return!e}))},F=function(){return v((function(e){return!e}))};return(0,c.useEffect)((function(){var e=w.pathname.split("/").filter(Boolean).filter(String),n=e[e.length-1]||"";!function(){switch(n){case"clients":a(0),d("Clients List");break;case"categories":a(1),d("Client Groups");break;case"incoming":case"outgoing":a(2),d("Client Requests");break;case"roles":a(3),d("Linked Client Roles");break;default:;}}()}),[w]),{primeTab:t,pageName:l,url:N,path:I,unreadCasesQuantity:E,isHidden:q,handleChangePrime:function(e,n){a(n)},inviteVisible:f,toggleInviteForm:V,groupVisible:b,toggleGroupForm:F,togglePopup:function(e){switch(e){case"clients":return V;case"categories":return F;default:return function(){}}},toggleLinkedRoleForm:function(){return S((function(e){return!e}))},linkedRoleVisible:j}}function u(){var e=(0,r.I0)(),n=(0,i.eC)().showNotification,t=(0,a.m)().companyId,l=(0,i.iR)(),o=l.visible,c=l.showVisible,d=l.loading,u=l.toggleLoading,m=l.closePopup;return{handleRoleUpdate:function(i,a){e((0,s.Bi)({entity:"linked-clients",name:"AllLinkedClients",method:"patch",url:"/".concat(t,"/my/company/linked_client/").concat(a.id,"/"),updateData:!0,id:a.id,values:{role:i.id},cb:{success:function(){n({message:"Role is successfully changed!",variant:"success"})},error:function(e){n({message:"Something went wrong",variant:"error"})},finally:function(){}},params:{},primaryKey:"id",normalizeData:function(e){return e}}))},deleteVisible:o,showDeleteVisible:c,deleteLoading:d,toggleDeleteLoading:u,closeDeletePopup:m,handleLinkedClientDelete:function(i){u(),e((0,s.Bi)({entity:"linked-clients",name:"AllLinkedClients",method:"delete",url:"/".concat(t,"/my/company/linked_client/").concat(i.id,"/"),deleteData:!0,id:i.id,values:{},cb:{success:function(){n({message:"Successfully deleted!",variant:"success"})},error:function(e){n({message:"Something went wrong",variant:"error"})},finally:function(){u(),m()}},params:{},primaryKey:"id"}))}}}function m(){var e=c.useState(0),n=(0,o.Z)(e,2),t=n[0],a=n[1],s=(0,i.tv)(),r=s.location,l=s.match,d=l.url,u=l.path;return(0,c.useEffect)((function(){var e=r.pathname.split("/"),n=e[e.length-1]||"";!function(){switch(n){case"incoming":a(0);break;case"outgoing":a(1);break;default:;}}()}),[r]),{url:d,path:u,handleChangeTab:function(e,n){a(n)},tab:t}}function f(){var e=(0,r.I0)(),n=(0,a.m)().companyId,t=(0,i.Zp)().reloadEntityAll,l=(0,i.iR)(),o=l.visible,c=l.showVisible,d=l.loading,u=l.toggleLoading,m=l.closePopup,f=(0,i.iR)(),p=f.visible,h=f.showVisible,g=f.loading,b=f.toggleLoading,v=f.closePopup,x=(0,i.eC)().showNotification;return{rejectVisible:o,showRejectVisible:c,rejectLoading:d,toggleRejectLoading:u,closeRejectPopup:m,editVisible:p,showEditVisible:h,editLoading:g,toggleEditLoading:b,closeEditPopup:v,handleStatusChange:function(i,a){var r="reject"===a;r?u():b(),e((0,s.Bi)({entity:"linked-clients",name:"AllLinkedClients",method:"post",url:"/".concat(n,"/company_connection_requests/").concat(i,"/").concat(a,"/"),id:i,values:{},cb:{success:function(){var e=r?"Successfully Rejected":"Successfully Accepted";t({entity:"incoming-request",name:"AllIncoming-Requests",url:"/".concat(n,"/company_connection_requests/"),params:{page:1,limit:10}}),m(),v(),x({message:e,variant:"success"})},error:function(e){x({message:"Something went wrong",variant:"error"})},finally:function(){"reject"===a?u():b()}},params:{},primaryKey:"id"}))}}}var p=t(26181),h=t.n(p);function g(){var e=(0,r.I0)(),n=(0,a.m)().companyId,t=(0,i.Zp)().reloadEntityAll,l=(0,i.iR)(),o=l.visible,c=l.showVisible,d=l.loading,u=l.toggleLoading,m=l.closePopup,f=(0,i.iR)(),p=f.visible,g=f.showVisible,b=f.loading,v=f.toggleLoading,x=f.closePopup,y=(0,i.eC)().showNotification;return{deleteVisible:o,showDeleteVisible:c,deleteLoading:d,toggleDeleteLoading:u,closeDeletePopup:m,resendVisible:p,showResendVisible:g,resendLoading:b,toggleResendLoading:v,closeResendPopup:x,handleDeleteRequest:function(t){u(),e((0,s.Bi)({entity:"outgoing-request",name:"AllOutgoing-Requests",method:"delete",url:"/".concat(n,"/my_company_connection_requests/").concat(t.id,"/"),deleteData:!0,id:t.id,cb:{success:function(){y({message:"Successfully deleted",variant:"success"}),m()},error:function(e){y({message:"Something went wrong",variant:"error"})},finally:function(){u()}},params:{},primaryKey:"id",values:{}}))},handleResendRequest:function(i){v(),e((0,s.Bi)({entity:"outgoing",name:"AllOutgoing",method:"patch",url:"/".concat(n,"/my/company/clients/").concat(h()(i,"requested_company.id"),"/resend_invitation/"),values:{},cb:{success:function(){t({entity:"outgoing-request",name:"AllOutgoing-Requests",url:"/".concat(n,"/my_company_connection_requests/"),params:{page:1,limit:10}}),x(),y({message:"Successfully resended",variant:"success"})},error:function(e){y({message:"Something went wrong",variant:"error"})},finally:function(){v()}},params:{},primaryKey:"id"}))}}}function b(){var e=(0,a.m)().companyId,n=(0,r.I0)(),t=(0,i.eC)().showNotification,l=(0,i.iR)(),o=l.visible,c=l.showVisible,d=l.loading,u=l.toggleLoading,m=l.closePopup,f=(0,i.iR)(),p=f.visible,h=f.showVisible,g=f.closePopup;return{deleteClientGroupHandler:function(){return function(){return i=o,u(),void n((0,s.Bi)({entity:"clientsGroups",name:"AllClientsGroups",method:"delete",url:"/".concat(e,"/categories/").concat(i.id,"/"),deleteData:!0,id:i.id,cb:{success:function(){t({message:"Successfully deleted",variant:"success"})},error:function(e){t({message:"Something went wrong",variant:"error"})},finally:function(){u(),m()}},params:{},primaryKey:"id",values:{}}));var i}},deleteVisible:o,showDeleteVisible:c,deleteLoading:d,closeDeletePopup:m,showEditVisible:h,closeEditPopup:g,editVisible:p}}},37494:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var i=t(1413),a=t(72791),s=t(16293),r=t(54270),l=t(85880),o=t(95900),c=t(80184);function d(){var e=(0,o.k0)(),n=e.searchQuery,t=e.setSearchQuery;return(0,c.jsxs)("div",{className:"group-sidebar__search relative",children:[(0,c.jsx)("input",{type:"search",value:n,className:"group-sidebar__search-input w-full border-b outline-none md:w-36 border-kgrey-border-solid dark:border-white dark:text-white  pl-7 transition focus:border-primary dark:focus:border-primary placeholder-[rgba(45, 45, 45, 0.3)] pt-2 pb-2 dark:bg-kdark",placeholder:"Search",onChange:function(e){return t(e.target.value)}}),(0,c.jsx)("div",{className:"absolute top-1/2 left-0 -translate-y-1/2",children:(0,c.jsx)("div",{className:"text-kgrey",children:(0,c.jsx)(l.lnn,{})})})]})}var u=t(91523),m=t(79271),f=t(73677),p=t(30874),h=t(70822),g=t(59028),b=t(40084),v=t(55636),x=t(27945),y=t(6245);function j(e){var n=e.onSuccess,t=(0,b.m)().companyId,i=(0,v.eC)().showNotification;return(0,c.jsx)("div",{children:(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(x.Z.Main,{entity:"clientsGroups",name:"AllClientsGroups",url:"/".concat(t,"/categories/"),method:"post",primaryKey:"id",sendAsFormData:!1,normalizeData:function(e){return e},prependData:!0,fields:[{name:"clients",onSubmitKey:"",required:!1,type:"object",value:[]},{name:"name",onSubmitKey:"",required:!0}],onSuccess:function(e,t){i({message:"Successfully created.."}),n(),t()},onError:function(e,n){var t,a,s=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Something went wrong";i({message:s,variant:"error"})},children:function(e){var t=e.isSubmitting,i=(e.values,e.resetForm);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.ph,{resetForm:i,title:"Create Client Group"}),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(y.Z,{isSubmitting:t,onSuccess:n}),t&&(0,c.jsx)(s.aN,{tiled:!0,withOverlay:!0})]})})]})}})})})}var S=t(41639);function C(e){var n=e.onSuccess,t=(0,b.m)().companyId,i=(0,v.eC)().showNotification;return(0,c.jsx)("div",{children:(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(x.Z.Main,{entity:"linkedClientsRole",name:"AllLinkedClientsRole",url:"/".concat(t,"/my/company/client/roles/"),method:"post",primaryKey:"id",sendAsFormData:!1,normalizeData:function(e){return e},prependData:!0,fields:[{name:"name",onSubmitKey:"",required:!0},{name:"description",onSubmitKey:"",required:!1}],onSuccess:function(e,t){i({message:"Successfully created.."}),n(),t()},onError:function(e,n){var t,a,s=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Something went wrong";i({message:s,variant:"error"})},children:function(e){var t=e.isSubmitting,i=(e.values,e.resetForm);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.ph,{resetForm:i,title:"Create Linked Client Role"}),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(S.Z,{isSubmitting:t,onSuccess:n}),t&&(0,c.jsx)(s.aN,{tiled:!0,withOverlay:!0})]})})]})}})})})}var w=(0,a.lazy)((function(){return t.e(8895).then(t.bind(t,28895))})),k=(0,a.lazy)((function(){return t.e(1785).then(t.bind(t,31785))})),N=(0,a.lazy)((function(){return t.e(4922).then(t.bind(t,34922))})),I=(0,a.lazy)((function(){return t.e(9583).then(t.bind(t,79583))})),_=(0,a.lazy)((function(){return t.e(9433).then(t.bind(t,59433))})),E=(0,a.lazy)((function(){return t.e(4065).then(t.bind(t,14065))}));function q(e){return{id:"simple-tabpanel-".concat(e),"aria-controls":"simple-tab-".concat(e)}}function V(){var e=(0,f.IW)(),n=e.primeTab,t=e.pageName,l=e.url,o=e.path,x=e.unreadCasesQuantity,y=e.isHidden,S=e.handleChangePrime,V=e.inviteVisible,F=e.toggleInviteForm,Z=e.groupVisible,T=e.toggleGroupForm,R=e.toggleLinkedRoleForm,A=e.linkedRoleVisible,P=(0,b.m)().isPermitted,L=(0,v.Tn)(),D=L.formValues,K=L.guardOpen,M=L.setGuardOpen,O=L.formValuesSetter,B=!(0,v.tv)().location.pathname.includes("request"),W=(0,a.useCallback)((function(){M((function(e){return!e}))}),[]),G=(0,a.useCallback)((function(){M(!1),O([]),F()}),[V]),z=(0,a.useCallback)((function(){D.length?M(!0):F()}),[D]);return(0,c.jsx)(g.d,{children:(0,c.jsxs)("div",{className:"flex min-h-full max-w-full flex-grow flex-col lg:p-4",children:[(!y||0===x)&&(0,c.jsx)(r.q,{children:(0,c.jsx)("title",{children:"KENNEKT | ".concat(t)})}),(0,c.jsx)("div",{className:"mb-5 flex items-center justify-between",children:(0,c.jsxs)("div",{className:"flex w-full flex-wrap items-center justify-between",children:[(0,c.jsx)("h2",{className:"py-4 text-xl font-bold dark:text-white md:text-3xl",children:"Clients Management"}),(0,c.jsxs)("div",{className:"flex w-full items-center md:w-auto",children:[B&&(0,c.jsx)(d,{}),0===n?(0,c.jsx)(p.aW,{disabled:!P,onClick:F,children:"New Client"}):null,1===n?(0,c.jsx)(p.aW,{disabled:!P,onClick:T,children:"New Client Group"}):null,3===n?(0,c.jsx)(p.aW,{disabled:!P,onClick:R,children:"New Linked Client Role"}):null,(0,c.jsx)(p.Cx,{handleModalOpen:function(){D.length?M(!0):F()},open:V,maxWidth:446,children:(0,c.jsx)(h.d,{hasToShowGuard:z,formValuesSetter:O,modalHandler:F})}),(0,c.jsx)(p.Cx,{handleModalOpen:T,open:Z,maxWidth:446,children:(0,c.jsx)(j,{onSuccess:T})}),(0,c.jsx)(p.Cx,{handleModalOpen:R,open:A,maxWidth:446,children:(0,c.jsx)(C,{onSuccess:R})}),(0,c.jsx)(s.sm,{featureHandler:G,isOpen:K,toggleHandler:W,title:"You have unsaved changes, Are you sure to cancel?"})]})]})}),(0,c.jsx)("div",{className:"prime-tabs-clients overflow-x-auto",children:(0,c.jsx)("div",{className:"prime-tabs",children:(0,c.jsxs)(s.sJ.Tabs,{roundedTop:!0,value:n,onChange:S,"aria-label":"simple tabs",children:[(0,c.jsx)(s.sJ.Tab,(0,i.Z)({label:"All Clients",component:u.rU,to:"".concat(l,"/clients")},q(0))),(0,c.jsx)(s.sJ.Tab,(0,i.Z)({label:"Clients Group",component:u.rU,to:"".concat(l,"/categories")},q(1))),(0,c.jsx)(s.sJ.Tab,(0,i.Z)({label:"Requests",component:u.rU,to:"".concat(l,"/requests/incoming")},q(2))),(0,c.jsx)(s.sJ.Tab,(0,i.Z)({label:"Linked Client Roles",component:u.rU,to:"".concat(l,"/roles")},q(3)))]})})}),(0,c.jsx)("div",{className:"relative flex max-w-full flex-grow flex-col",children:(0,c.jsx)("div",{className:"relative flex-grow",children:(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(s.aN,{tiled:!0}),children:(0,c.jsxs)(m.rs,{children:[(0,c.jsx)(m.AW,{exact:!0,path:"".concat(o,"/clients/"),component:w}),(0,c.jsx)(m.AW,{exact:!0,path:"".concat(o,"/categories/"),component:k}),(0,c.jsx)(m.AW,{exact:!0,path:"".concat(o,"/requests/incoming/"),component:N}),(0,c.jsx)(m.AW,{exact:!0,path:"".concat(o,"/requests/outgoing/"),component:N}),(0,c.jsx)(m.AW,{exact:!0,path:"".concat(o,"/roles/"),component:I}),(0,c.jsx)(m.AW,{exact:!0,path:"".concat(o,"/categories/:clientGroupId"),component:E}),(0,c.jsx)(m.AW,{exact:!0,path:"".concat(o,"/clients/:clientId"),component:_})]})})})})]})})}var F=function(){return(0,c.jsx)(s.SV,{children:(0,c.jsx)(o.lT,{children:(0,c.jsx)(V,{})})})}},87987:function(e,n,t){t.d(n,{n:function(){return i}});var i=function(e,n,t){var i;return e?null===t||void 0===t||null===(i=t.avatar)||void 0===i?void 0:i.thumbnail_150:null===n||void 0===n?void 0:n.thumbnail_150}},73469:function(e,n,t){t.d(n,{$:function(){return i}});var i=function(e,n,t){return e&&t?"".concat(null===t||void 0===t?void 0:t.first_name," ").concat(null===t||void 0===t?void 0:t.last_name):n}},94446:function(e,n,t){var i=t(87462),a=t(45987),s=t(72791),r=t(28182),l=t(91122),o=t(38317),c=t(13108),d=t(23364),u=s.forwardRef((function(e,n){var t=e.classes,o=e.className,c=e.color,u=void 0===c?"primary":c,m=e.value,f=e.valueBuffer,p=e.variant,h=void 0===p?"indeterminate":p,g=(0,a.Z)(e,["classes","className","color","value","valueBuffer","variant"]),b=(0,d.Z)(),v={},x={bar1:{},bar2:{}};if("determinate"===h||"buffer"===h)if(void 0!==m){v["aria-valuenow"]=Math.round(m),v["aria-valuemin"]=0,v["aria-valuemax"]=100;var y=m-100;"rtl"===b.direction&&(y=-y),x.bar1.transform="translateX(".concat(y,"%)")}else 0;if("buffer"===h)if(void 0!==f){var j=(f||0)-100;"rtl"===b.direction&&(j=-j),x.bar2.transform="translateX(".concat(j,"%)")}else 0;return s.createElement("div",(0,i.Z)({className:(0,r.Z)(t.root,t["color".concat((0,l.Z)(u))],o,{determinate:t.determinate,indeterminate:t.indeterminate,buffer:t.buffer,query:t.query}[h]),role:"progressbar"},v,{ref:n},g),"buffer"===h?s.createElement("div",{className:(0,r.Z)(t.dashed,t["dashedColor".concat((0,l.Z)(u))])}):null,s.createElement("div",{className:(0,r.Z)(t.bar,t["barColor".concat((0,l.Z)(u))],("indeterminate"===h||"query"===h)&&t.bar1Indeterminate,{determinate:t.bar1Determinate,buffer:t.bar1Buffer}[h]),style:x.bar1}),"determinate"===h?null:s.createElement("div",{className:(0,r.Z)(t.bar,("indeterminate"===h||"query"===h)&&t.bar2Indeterminate,"buffer"===h?[t["color".concat((0,l.Z)(u))],t.bar2Buffer]:t["barColor".concat((0,l.Z)(u))]),style:x.bar2}))}));n.Z=(0,o.Z)((function(e){var n=function(n){return"light"===e.palette.type?(0,c.$n)(n,.62):(0,c._j)(n,.5)},t=n(e.palette.primary.main),i=n(e.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4,"@media print":{colorAdjust:"exact"}},colorPrimary:{backgroundColor:t},colorSecondary:{backgroundColor:i},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(t," 0%, ").concat(t," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(i," 0%, ").concat(i," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0 -23px"},"50%":{opacity:0,backgroundPosition:"0 -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}}),{name:"MuiLinearProgress"})(u)},320:function(e,n,t){var i=t(64836),a=t(75263);n.Z=void 0;var s=a(t(72791)),r=(0,i(t(44894)).default)(s.createElement("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");n.Z=r}}]);
//# sourceMappingURL=7494.ceb77d7c.chunk.js.map