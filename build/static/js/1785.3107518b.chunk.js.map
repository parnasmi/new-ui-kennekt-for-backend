{"version":3,"file":"static/js/1785.3107518b.chunk.js","mappings":"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","sources":["pages/ClientsManagement/components/ClientGroups/EditClientGroup.tsx","pages/ClientsManagement/NestedPages/ClientsGroups/ClientsGroups.tsx","pages/ClientsManagement/NestedPages/ClientsGroups/index.ts"],"sourcesContent":["import React from 'react';\nimport { useAppState } from 'shared/state';\nimport { useNotistack } from 'shared/hooks';\nimport EntityForm from 'modules/entity/forms';\nimport { FormHeader, Loader } from 'shared/components';\nimport ClientGroupElements from './ClientGroupElements';\nimport { ClientGroupEntity } from 'shared/typings/client.types';\nimport EntityContainer from 'modules/entity/containers';\n\ntype Props = {\n\tonSuccess: () => void;\n\tentity: ClientGroupEntity;\n};\n\nexport function EditClientGroup({ onSuccess, entity }: Props) {\n\tconst { companyId } = useAppState();\n\tconst { showNotification } = useNotistack();\n\n\tif (!entity) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"max-w-[446px]\">\n\t\t\t<EntityContainer.One\n\t\t\t\tid={entity.id}\n\t\t\t\trelations={''}\n\t\t\t\tentity=\"clientsGroup\"\n\t\t\t\tname=\"AllClientGroup\"\n\t\t\t\turl={`/${companyId}/categories/${entity.id}/`}\n\t\t\t\tparams={{}}\n\t\t\t>\n\t\t\t\t{({ item, isFetched }) => {\n\t\t\t\t\tconst clientGroupEntity = item as ClientGroupEntity;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{!isFetched ? <Loader tiled withOverlay /> : null}\n\t\t\t\t\t\t\t<EntityForm.Main\n\t\t\t\t\t\t\t\tentity=\"clientsGroups\"\n\t\t\t\t\t\t\t\tname=\"AllClientsGroups\"\n\t\t\t\t\t\t\t\turl={`/${companyId}/categories/${entity.id}/`}\n\t\t\t\t\t\t\t\tmethod=\"put\"\n\t\t\t\t\t\t\t\tprimaryKey=\"id\"\n\t\t\t\t\t\t\t\tsendAsFormData={false}\n\t\t\t\t\t\t\t\tnormalizeData={(data: any) => data}\n\t\t\t\t\t\t\t\tupdateData\n\t\t\t\t\t\t\t\tfields={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'clients',\n\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\t\tvalue: clientGroupEntity.clients\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'name',\n\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tvalue: clientGroupEntity.name\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\tonSuccess={(response, resetForm): any => {\n\t\t\t\t\t\t\t\t\tshowNotification({ message: 'Successfully updated..' });\n\t\t\t\t\t\t\t\t\tonSuccess();\n\t\t\t\t\t\t\t\t\tresetForm();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonError={(error, resetForm): any => {\n\t\t\t\t\t\t\t\t\tconst errorText = error?.response?.data?.message || 'Something went wrong';\n\t\t\t\t\t\t\t\t\tshowNotification({ message: errorText, variant: 'error' });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{({ isSubmitting, values, resetForm }) => {\n\t\t\t\t\t\t\t\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\t\t\t\t\t\t\t\tconsole.log('edit client group  values', values);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<FormHeader resetForm={resetForm} title=\"Edit Client Group\" isEditing />\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={'flex items-center'}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ClientGroupElements\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSuccess={onSuccess}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisEditing\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{isSubmitting && <Loader tiled withOverlay />}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</EntityForm.Main>\n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</EntityContainer.One>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport {\n\tActionsButtons,\n\tConfirmModal,\n\tErrorBoundary,\n\tLoader,\n\tStyledTable,\n\tStyledTableCell,\n\tStyledTableHeadCell,\n\tStyledTableRow\n} from 'shared/components';\nimport { useAppState } from 'shared/state';\nimport EntityContainer from 'modules/entity/containers';\nimport {\n\tPagination,\n\tTableBody,\n\tTableContainer,\n\tTableHead,\n\tWhiteModal\n} from 'shared/components/Elements';\nimport { usePagination, useRouter } from 'shared/hooks';\nimport { useClientsManagementContext } from '../../context/ClientsManagementContext';\nimport { ClientGroupEntity } from 'shared/typings/client.types';\nimport { Link } from 'react-router-dom';\nimport { useDebounce } from 'use-debounce';\nimport { useClientGroups } from '../../hooks';\nimport { EditClientGroup } from '../../components/ClientGroups/EditClientGroup';\n\nfunction ClientsGroupsInner() {\n\tconst { companyId, isPermitted } = useAppState();\n\tconst { page, handlePage } = usePagination();\n\tconst { searchQuery: query } = useClientsManagementContext();\n\tconst [searchQuery] = useDebounce<string>(query, 500);\n\tconst { match, history } = useRouter();\n\n\tconst {\n\t\tdeleteClientGroupHandler,\n\t\tdeleteVisible,\n\t\tshowDeleteVisible,\n\t\tdeleteLoading,\n\t\tcloseDeletePopup,\n\t\tshowEditVisible,\n\t\tcloseEditPopup,\n\t\teditVisible\n\t} = useClientGroups();\n\n\treturn (\n\t\t<div>\n\t\t\t{companyId ? (\n\t\t\t\t<EntityContainer.All\n\t\t\t\t\tentity=\"clientsGroups\"\n\t\t\t\t\tname=\"AllClientsGroups\"\n\t\t\t\t\turl={`/${companyId}/categories/`}\n\t\t\t\t\tparams={{\n\t\t\t\t\t\tlimit: 10,\n\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\tsearch: searchQuery\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpage\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ items, isFetched, meta }) => {\n\t\t\t\t\t\tconst clientGroups = items as ClientGroupEntity[];\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<TableContainer classes={{ root: 'relative ' }}>\n\t\t\t\t\t\t\t\t\t<StyledTable\n\t\t\t\t\t\t\t\t\t\taria-label=\"simple table\"\n\t\t\t\t\t\t\t\t\t\tclasses={{ root: 'table-fixed dark-mode-styled-table' }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '60%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tGroup Name\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '20%' }}>Clients</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '20%', textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tActions\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t{clientGroups.map((item) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst { clients_count, name, id } = item;\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow key={id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`${match.path}${item.id}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-primary transition hover:text-primary-dark\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>{clients_count}</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-end \">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionsButtons.DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisDisabled={!isPermitted}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickHandler={() => showDeleteVisible(item)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionsButtons.ViewButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickHandler={() => history.push(`${match.path}${item.id}`)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// isDisabled={!item.owner}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionsButtons.EditButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisDisabled={!isPermitted}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickHandler={() => showEditVisible(item)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</StyledTable>\n\t\t\t\t\t\t\t\t\t{!isFetched && <Loader tiled withOverlay />}\n\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t\t<ConfirmModal\n\t\t\t\t\t\t\t\t\tfeatureHandler={deleteClientGroupHandler()}\n\t\t\t\t\t\t\t\t\tisOpen={Boolean(deleteVisible)}\n\t\t\t\t\t\t\t\t\ttoggleHandler={closeDeletePopup}\n\t\t\t\t\t\t\t\t\ttitle={`Are you sure to delete the ${deleteVisible?.name}?`}\n\t\t\t\t\t\t\t\t\thasLoader\n\t\t\t\t\t\t\t\t\tisLoading={deleteLoading}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<WhiteModal handleModalOpen={closeEditPopup} open={Boolean(editVisible)}>\n\t\t\t\t\t\t\t\t\t<EditClientGroup onSuccess={closeEditPopup} entity={editVisible!} />\n\t\t\t\t\t\t\t\t</WhiteModal>\n\t\t\t\t\t\t\t\t<div className=\"news__pagination my-4\">\n\t\t\t\t\t\t\t\t\t{items.length ? (\n\t\t\t\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\t\t\t\tcount={meta?.last_page}\n\t\t\t\t\t\t\t\t\t\t\tpage={page ? +page : 1}\n\t\t\t\t\t\t\t\t\t\t\tdefaultPage={6}\n\t\t\t\t\t\t\t\t\t\t\tsiblingCount={1}\n\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handlePage}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t</EntityContainer.All>\n\t\t\t) : (\n\t\t\t\t<div className=\"flex justify-center\">\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default function ClientsGroups() {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<ClientsGroupsInner />\n\t\t</ErrorBoundary>\n\t);\n}\n","import ClientsGroups from './ClientsGroups';\n\nexport default ClientsGroups;\n"],"names":["EditClientGroup","onSuccess","entity","companyId","useAppState","showNotification","useNotistack","className","id","relations","name","url","params","item","isFetched","clientGroupEntity","tiled","withOverlay","method","primaryKey","sendAsFormData","normalizeData","data","updateData","fields","onSubmitKey","required","type","value","clients","response","resetForm","message","onError","error","errorText","variant","isSubmitting","values","title","isEditing","ClientGroupElements","ClientsGroupsInner","isPermitted","usePagination","page","handlePage","query","useClientsManagementContext","searchQuery","useDebounce","useRouter","match","history","useClientGroups","deleteClientGroupHandler","deleteVisible","showDeleteVisible","deleteLoading","closeDeletePopup","showEditVisible","closeEditPopup","editVisible","limit","extra","search","items","meta","clientGroups","classes","root","style","width","textAlign","map","clients_count","to","path","isDisabled","clickHandler","push","featureHandler","isOpen","Boolean","toggleHandler","hasLoader","isLoading","handleModalOpen","open","length","count","last_page","defaultPage","siblingCount","color","onChange"],"sourceRoot":""}