"use strict";(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[658],{20658:function(e,t,s){s.r(t),s.d(t,{default:function(){return y}});s(47313);var n=s(90214),a=s(95762),i=s(77344),l=s(41559),r=s(26926),c=s(4901),d=s(26672),o=s(10658),m=s.n(o),x=s(22539),h=s(46417);function u(e){var t=e.campaignEntity||{},s=t.name,n=t.created_date,a=t.created_by;t.categories;return(0,h.jsxs)("div",{className:"flex items-center mb-8 flex-wrap",children:[(0,h.jsx)(r.ev,{text:s,title:"Name",wrapperClassnames:"bg-kgrey-bgmenu",textClassName:"!text-lg font-semibold",children:(0,h.jsx)(c.g3P,{className:"text-kgrey"})}),(0,h.jsx)(r.ev,{text:m()(n).format("MMMM D YYYY"),title:"Published Date",wrapperClassnames:"bg-kgrey-bgmenu",textClassName:"!text-lg font-semibold",children:(0,h.jsx)(x.f$3,{className:"text-kgrey"})}),(0,h.jsx)(r.ev,{text:"".concat(a.first_name," ").concat(a.last_name),title:"Created By",wrapperClassnames:"bg-kgrey-bgmenu",textClassName:"!text-lg font-semibold",children:(0,h.jsx)(d.VRY,{className:"text-kgrey"})})]})}function j(e){var t,s=e.categories;return(0,h.jsxs)("div",{className:"mb-8",children:[(0,h.jsx)("h2",{className:"font-bold text-xl mb-6 dark:text-white",children:"Client Groups"}),(0,h.jsx)(r.xJ,{classes:{root:"relative "},children:(0,h.jsxs)(l.k6,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,h.jsx)(r.ss,{children:(0,h.jsxs)(l.AF,{children:[(0,h.jsx)(l.EU,{style:{width:"5%"},children:"#"}),(0,h.jsx)(l.EU,{style:{width:"95%"},children:"Client Group"})]})}),(0,h.jsx)(r.RM,{children:(null!==(t=s)&&void 0!==t?t:[]).map((function(e,t){var s=e.name,n=e.id;return(0,h.jsxs)(l.AF,{children:[(0,h.jsx)(l.Yk,{children:t+1}),(0,h.jsx)(l.Yk,{children:s})]},n)}))})]})})]})}var p=s(62238),g=s(28303),v=s(11760);function f(e){var t=e.campaignId,s=(0,i.m)(),c=s.companyId,d=s.isPermitted,o=(0,n.h0)(),x=o.page,u=o.handlePage,j=(0,n.A3)(),f=j.query,y=j.setQuery,b=j.searchQuery,w=(0,n.tv)(),k=w.match,N=w.history,C=(0,v.a)().userData,Y=null===C||void 0===C?void 0:C.can_send_news,_=(0,p.n8)(),D=_.handleCampaignNewsDelete,A=_.deleteVisible,E=_.showDeleteVisible,F=_.deleteLoading,M=_.closeDeletePopup;return(0,h.jsxs)("div",{className:"relative mb-8",children:[(0,h.jsx)(r.Bu,{title:"Campaign News",query:f,placeholder:"Search For News",handleSearch:function(e){return y(e.target.value)},btnHandler:function(){return N.push("/news/campaigns/news/create/".concat(t))},btnText:"Add News",isPermitted:d||!Y}),c?(0,h.jsx)(a.Z.All,{entity:"news",name:"AllCampaignNews",url:"/".concat(c,"/notifications/"),params:{page:x,limit:5,extra:{search:b,campaign:t}},children:function(e){var s=e.items,n=e.isFetched,a=e.meta,i=s;return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{children:[(0,h.jsxs)(r.xJ,{classes:{root:"relative "},children:[(0,h.jsxs)(l.k6,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,h.jsx)(r.ss,{children:(0,h.jsxs)(l.AF,{children:[(0,h.jsx)(l.EU,{style:{width:"20%"},children:"Title"}),(0,h.jsx)(l.EU,{style:{width:"10%"},children:"Status"}),(0,h.jsx)(l.EU,{style:{width:"10%"},children:"Frequency"}),(0,h.jsx)(l.EU,{style:{width:"20%"},children:"Author"}),(0,h.jsx)(l.EU,{style:{width:"20%"},children:"Date"}),(0,h.jsx)(l.EU,{style:{width:"20%"},children:(0,h.jsx)("div",{className:"ml-2 mb-2",children:"Actions"})})]})}),(0,h.jsx)(r.RM,{children:i.map((function(e){var s=null!==e&&void 0!==e?e:{},n=s.frequency,a=s.start_time,i=s.status,r=s.author,c=s.subject,o=s.id;return(0,h.jsxs)(l.AF,{children:[(0,h.jsx)(l.Yk,{children:(0,h.jsx)(g.rU,{to:"".concat(k.url,"/").concat(e.id),children:(0,h.jsx)("span",{className:"text-primary transition hover:text-primary-dark",children:c})})}),(0,h.jsx)(l.Yk,{children:i}),(0,h.jsx)(l.Yk,{children:n}),(0,h.jsx)(l.Yk,{children:r.name}),(0,h.jsx)(l.Yk,{children:m()(a).format("MMMM D YYYY, h:mm a")}),(0,h.jsx)(l.Yk,{children:(0,h.jsxs)("div",{className:"flex items-center justify-end ",children:[(0,h.jsx)(l.cP.DeleteButton,{clickHandler:function(){return E(e)},isDisabled:!d||!Y}),(0,h.jsx)(l.cP.ViewButton,{clickHandler:function(){return N.push("/news/campaigns/view/".concat(t,"/").concat(e.id))},isDisabled:!d||!Y}),(0,h.jsx)(l.cP.EditButton,{clickHandler:function(){return N.push("/news/campaigns/edit/".concat(t,"/").concat(e.id))},isDisabled:!d||!Y})]})})]},o)}))})]}),!n&&(0,h.jsx)(l.aN,{tiled:!0,withOverlay:!0})]}),(0,h.jsx)(l.sm,{featureHandler:function(){return D(A)},isOpen:Boolean(A),toggleHandler:M,title:"Are you sure to delete  ".concat(null===A||void 0===A?void 0:A.subject,"?"),hasLoader:!0,isLoading:F}),(0,h.jsx)("div",{className:"news__pagination my-4",children:s.length?(0,h.jsx)(r.tl,{count:null===a||void 0===a?void 0:a.last_page,page:x?+x:1,defaultPage:6,siblingCount:1,color:"primary",onChange:u}):null})]})})}}):null]})}function y(){var e=(0,n.tv)().params,t=(0,i.m)().companyId,s=parseInt(null===e||void 0===e?void 0:e.campaignId);return t?(0,h.jsxs)("div",{className:"py-8",children:[(0,h.jsx)("h1",{className:"font-semibold text-2xl mb-6 dark:text-white",children:"Campaign Details"}),(0,h.jsx)(a.Z.One,{id:s,relations:"",entity:"campaigns",name:"Campaign-".concat(s),url:"/".concat(t,"/campaigns/").concat(s,"/"),params:{},children:function(e){var t=e.item,s=e.isFetched,n=t;return(0,h.jsx)(h.Fragment,{children:s?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u,{campaignEntity:n}),(0,h.jsx)(j,{categories:n.categories}),(0,h.jsx)(f,{campaignId:n.id})]}):(0,h.jsx)(l.aN,{tiled:!0,withOverlay:!0})})}})]}):null}}}]);