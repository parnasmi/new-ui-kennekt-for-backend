!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="3f9275ec-41f0-4bea-b03b-c232d2a78f54",e._sentryDebugIdIdentifier="sentry-dbid-3f9275ec-41f0-4bea-b03b-c232d2a78f54")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"1d419c3c8a5f66a775a003b801a7dad6c0430a71"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[3990],{53990:function(e,n,s){s.r(n),s.d(n,{default:function(){return le}});var i=s(35741),r=s(40084),t=s(16178),a=s(26181),l=s.n(a),c=s(66128),o=s(72791),d=s(92017),u=s(1413),h=s(29439),x=s(38596),m=s(6330),p=s(53148),j=s(86676),f=s(70629),v=s(9478),b=s(28182),y=s(92112),g=s(86776),_=s(97162),w=s(76053),k=s(23853),N=s(17425),C=s(78820),Z=s(80184);function I(){var e=(0,_.n$)().businessId,n=(0,r.m)().companyId;return(0,Z.jsx)("div",{children:(0,Z.jsx)(i.Z.One,{id:e,relations:"",entity:"businessCompany",name:"businessCompany-".concat(e),url:"/".concat(n,"/business_companies/").concat(e,"/"),params:{},children:function(e){var n=e.item,s=e.isFetched,i=n;return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:"p-4",children:s?(0,Z.jsxs)("div",{children:[(0,Z.jsx)("h1",{className:"mb-2",children:null==i?void 0:i.name}),(0,Z.jsx)("div",{children:null==i?void 0:i.about})]}):(0,Z.jsx)(c.aN,{})})})}})})}function S(){return(0,Z.jsx)(c.SV,{children:(0,Z.jsx)(I,{})})}var A=s(48583),E=s(66556),P=s(9773),B=s(43486),O=s(17631),F=s(46593),Y=s(67025),R=s(51625),U=s(34600);function q(){var e=(0,_.n$)().businessId,n=(0,r.m)().companyId,s=(0,t.h0)("callPage"),a=s.page,l=s.handlePage;return(0,Z.jsx)("div",{children:(0,Z.jsx)(i.Z.All,{entity:"businessDepartments",name:"businessDepartments-".concat(e),url:"/".concat(n,"/business_companies/").concat(e,"/departments/"),params:{limit:5,page:a},replaceIds:!0,children:function(e){var n=e.items,s=e.meta,i=e.isFetched,r=n.filter((function(e){return e.phone}));return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:"p-4",children:i?(0,Z.jsxs)("div",{children:[(0,Z.jsx)(A.Z,{children:(0,Z.jsxs)(E.Z,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,Z.jsx)(P.Z,{children:(0,Z.jsxs)(B.Z,{children:[(0,Z.jsx)(O.Z,{children:"Business"}),(0,Z.jsx)(O.Z,{children:"Action"})]})}),i?(0,Z.jsx)(F.Z,{children:r.map((function(e){return(0,Z.jsxs)(B.Z,{children:[(0,Z.jsx)(O.Z,{children:e.name}),(0,Z.jsx)(O.Z,{children:(0,Z.jsx)("a",{href:"tel:".concat(e.phone),children:(0,Z.jsx)(Y.Z,{color:"primary","aria-label":"visibility",children:(0,Z.jsx)(U.Z,{})})})})]},e.id)}))}):(0,Z.jsx)(c.aN,{})]})}),(0,Z.jsx)("div",{className:"mt-4 mb-4",children:(0,Z.jsx)(R.Z,{count:null==s?void 0:s.last_page,page:a?+a:1,onChange:l})})]}):(0,Z.jsx)(c.aN,{})})})}})})}function $(){return(0,Z.jsx)(c.SV,{children:(0,Z.jsx)(q,{})})}var D=s(93433),M=s(69181);s(31481);function V(){var e=(0,_.n$)(),n=e.businessId,s=e.viewedBusiness,a=(0,r.m)().companyId,l=(0,t.h0)("branchPage"),d=l.page,u=l.handlePage,x=(0,o.useState)({isPaneOpen:!1}),m=(0,h.Z)(x,2),f=m[0],v=m[1];return(0,Z.jsx)("div",{children:(0,Z.jsx)(i.Z.All,{entity:"branches",name:"branches-".concat(n),url:"/".concat(a,"/companies/").concat(n,"/branches/"),params:{limit:10,page:d},children:function(e){var n=e.items,i=e.meta,r=e.isFetched,t=(0,D.Z)(n).filter((function(e){return e.lat&&e.lng}));return(0,Z.jsxs)("div",{className:"p-4",children:[(0,Z.jsx)("div",{className:"mb-4",children:(0,Z.jsx)(p.zx,{color:"primary",variant:"contained",disabled:!t.length,onClick:function(){return v({isPaneOpen:!0})},children:t.length?"Show map":"No locations available"})}),(0,Z.jsx)(M.ZP,{className:"some-custom-class",overlayClassName:"some-custom-overlay-class",isOpen:f.isPaneOpen,title:"Map",from:"bottom",width:"100%",onRequestClose:function(){v({isPaneOpen:!1})},children:(0,Z.jsx)(c.tY,{branches:t,currentCompany:s})}),r?(0,Z.jsxs)("div",{children:[(0,Z.jsx)(p.xJ,{children:(0,Z.jsxs)(p.iA,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,Z.jsx)(p.ss,{children:(0,Z.jsxs)(p.SC,{children:[(0,Z.jsx)(p.pj,{children:"Branch"}),(0,Z.jsx)(p.pj,{children:"Action"})]})}),r?(0,Z.jsx)(p.RM,{children:n.map((function(e){return(0,Z.jsxs)(p.SC,{children:[(0,Z.jsx)(p.pj,{children:e.name}),(0,Z.jsx)(p.pj,{children:(0,Z.jsx)("a",{href:"tel:".concat(e.phone),children:(0,Z.jsx)(j.Z.IconButton,{color:"primary","aria-label":"visibility",children:(0,Z.jsx)(j.Z.PhoneIcon,{})})})})]},e.id)}))}):(0,Z.jsx)(c.aN,{})]})}),(0,Z.jsx)("div",{className:"mt-4 mb-4",children:(0,Z.jsx)(p.tl,{count:null==i?void 0:i.last_page,page:d?+d:1,onChange:u,color:"primary"})})]}):(0,Z.jsx)(c.aN,{})]})}})})}function z(){return(0,Z.jsx)(c.SV,{children:(0,Z.jsx)(V,{})})}function L(){var e,n,s,i,r,t,a,l,c,d,u,x,m,j,f=(0,o.useState)(0),v=(0,h.Z)(f,2),b=v[0],y=v[1],g=(0,_.n$)(),I=g.businessId,A=g.viewedBusiness;return(0,Z.jsxs)("div",{className:"bus-view",children:[(0,Z.jsx)("div",{className:"bus-view__tabs",children:(0,Z.jsxs)(p.YG,{value:b,onChange:function(e,n){y(n)},"aria-label":"Kennekt custom",children:[(0,Z.jsx)(p.o$,{label:"Info"}),(0,Z.jsx)(p.o$,{label:"Call us"}),(0,Z.jsx)(p.o$,{label:"Locations_depr"})]})}),(0,Z.jsx)("div",{className:"bus-view__content",children:I&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(p.x4,{value:b,index:0,children:(0,Z.jsx)(S,{})}),(0,Z.jsx)(p.x4,{value:b,index:1,children:(0,Z.jsx)($,{})}),(0,Z.jsx)(p.x4,{value:b,index:2,children:(0,Z.jsx)(z,{})})]})}),(0,Z.jsxs)("div",{className:"bus-view__footer flex items-center justify-center",children:[(null===(e=A.company)||void 0===e?void 0:e.facebook_url)&&(0,Z.jsx)("a",{href:null!==(n=A.company)&&void 0!==n&&n.facebook_url.startsWith("https")?null===(s=A.company)||void 0===s?void 0:s.facebook_url:"https://".concat(null===(i=A.company)||void 0===i?void 0:i.facebook_url),target:"_blank",className:"flex-centered group mr-2 h-8 w-8 cursor-pointer rounded-full border border-[#1877f2] bg-[#1877f2] transition hover:bg-white",rel:"noreferrer",children:(0,Z.jsx)("div",{className:"icon text-lg text-white group-hover:text-[#1877f2]",children:(0,Z.jsx)(w.f1b,{})})}),(null===(r=A.company)||void 0===r?void 0:r.twitter_url)&&(0,Z.jsx)("a",{href:null!==(t=A.company)&&void 0!==t&&t.twitter_url.startsWith("https")?null===(a=A.company)||void 0===a?void 0:a.twitter_url:"https://".concat(null===(l=A.company)||void 0===l?void 0:l.twitter_url),target:"_blank",className:"flex-centered group mr-2 h-8 w-8 cursor-pointer rounded-full border border-[#1d9bf0] bg-[#1d9bf0] transition hover:bg-white",rel:"noreferrer",children:(0,Z.jsx)("div",{className:"icon text-lg text-white group-hover:text-[#1d9bf0]",children:(0,Z.jsx)(N.HSY,{})})}),(null===(c=A.company)||void 0===c?void 0:c.website)&&(0,Z.jsx)("a",{href:null!==(d=A.company)&&void 0!==d&&d.website.startsWith("https")?null===(u=A.company)||void 0===u?void 0:u.website:"https://".concat(null===(x=A.company)||void 0===x?void 0:x.website),target:"_blank",className:"flex-centered group mr-2 h-8 w-8 cursor-pointer rounded-full border border-primary bg-primary transition hover:bg-white",rel:"noreferrer",children:(0,Z.jsx)("div",{className:"icon text-lg text-white group-hover:text-primary",children:(0,Z.jsx)(k.AlO,{})})}),(null===(m=A.company)||void 0===m?void 0:m.phone)&&(0,Z.jsx)("a",{href:"tel:".concat(null===(j=A.company)||void 0===j?void 0:j.phone),className:"flex-centered group mr-2 h-8 w-8 cursor-pointer rounded-full border border-primary bg-primary transition hover:bg-white",children:(0,Z.jsx)("div",{className:"icon text-lg text-white group-hover:text-primary",children:(0,Z.jsx)(C.rJP,{})})})]})]})}function T(){return(0,Z.jsx)(c.SV,{children:(0,Z.jsx)(L,{})})}function H(e){var n=e.className,s=void 0===n?"":n;return(0,Z.jsx)("svg",{width:"16",className:s,height:"17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Z.jsx)("path",{d:"m11.174 1.444 3.915 4.021c.25.257.436.571.545.917a2.351 2.351 0 0 1-.326 2.061c-.21.293-.483.53-.8.692l-3.95 2.03a.62.62 0 0 0-.303.354l-1.168 3.472a1.045 1.045 0 0 1-.28.434.988.988 0 0 1-1.395-.038l-2.517-2.586-3.602 3.7h-.86v-.884l3.602-3.7L1.516 9.33a1.07 1.07 0 0 1-.037-1.434c.115-.13.26-.23.423-.287l3.38-1.2a.614.614 0 0 0 .345-.311l1.975-4.059c.158-.325.389-.606.674-.821a2.174 2.174 0 0 1 2.007-.335c.336.111.642.304.892.56Zm3.055 4.905-3.915-4.022a.988.988 0 0 0-1.318-.103c-.129.098-.234.226-.305.374L6.715 6.657a1.841 1.841 0 0 1-1.036.933L2.606 8.682l5.438 5.586 1.061-3.157a1.86 1.86 0 0 1 .909-1.064l3.951-2.03c.144-.074.269-.182.364-.315a1.058 1.058 0 0 0 .148-.937c-.05-.157-.135-.3-.248-.416Z",fill:"#A5A7B2"})})}H.defaultProps={className:""};var K=s(97689),Q=s(80180),W=s(17173);function G(e){var n,s=e.handleModalOpen,i=e.open,r=(0,W.$G)().t,t=(0,o.useState)(!1),a=(0,h.Z)(t,2),l=a[0],d=a[1],u=(0,Q.v)({entity:"userCompanies",name:"AllUserCompanies",method:"delete",url:"/user/companies/".concat(null==i?void 0:i.id,"/left_business/").concat(null==i?void 0:i.company.id,"/"),deleteData:!0,id:null==i?void 0:i.id,cb:{success:function(e){s(null),d(!1)},error:function(e){d(!1)}}}).handleRequest,x=function(){s(null)};return(0,Z.jsx)("div",{className:"relative",children:(0,Z.jsxs)(p.Cx,{handleModalOpen:x,open:Boolean(i),children:[(0,Z.jsx)(p.$N,{id:"alert-dialog-title",children:(0,Z.jsx)(W.cC,{i18nKey:"disconnect_from_business_confirmation",values:{businessName:null==i||null===(n=i.company)||void 0===n?void 0:n.name}})}),(0,Z.jsxs)(p.kX,{children:[(0,Z.jsx)(p.zx,{onClick:x,autoFocus:!0,variant:"contained",children:r("cancel")}),(0,Z.jsx)(p.zx,{onClick:function(){i&&(d(!0),u())},variant:"contained",color:"secondary",children:r("text_continue")})]}),l&&(0,Z.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70",children:(0,Z.jsx)(c.aN,{})})]})})}function J(e){return(0,Z.jsx)(c.SV,{children:(0,Z.jsx)(G,(0,u.Z)({},e))})}var X=s(19053),ee=s(90218),ne="".concat(v.Z.PUBLIC_ASSETS,"img");function se(e,n){var s=n.ordering;return s?s.includes("-")&&s.includes(e)?e:s.includes(e)?"-".concat(e):e:e}var ie=(0,x.Z)((0,m.Z)({radioCell:{width:"50px"},radioRoot:{padding:f.tq?"0px":"9px"},tdRoot:{padding:f.tq?"8px":"16px"},thead:{"& th:first-child":{borderRadius:"10px",backgroundColor:"yellow"}}}));function re(e){var n,s,i=e.items,a=e.meta,l=e.handleChange,u=e.tempCompanyId,x=e.page,m=e.handlePage,f=e.query,v=e.setQueryHandler,w=e.isFetched,k=ie(),N=(0,W.$G)().t,C=(0,ee.K)().isRTL,I=(0,_.n$)(),S=I.setBusinessId,A=I.setBusiness,E=(0,o.useState)(!1),P=(0,h.Z)(E,2),B=P[0],O=P[1],F=(0,t.Kx)(),Y=F.handleSort,R=F.query,U=F.removeQueryParams,q=(0,d.y)(),$=q.pinUnpinHandler,D=q.disconnectHandler,M=q.openExitModal,V=q.setOpenExitModal,z=(0,K.a)().userData,L=(0,r.m)().isDarkMode,Q=(0,t.tv)().history;return(0,o.useEffect)((function(){B||(S(null),A(null))}),[B,S,A]),(0,Z.jsxs)("div",{children:[(0,Z.jsxs)(p.xJ,{classes:{root:"relative"},children:[(0,Z.jsxs)(c.k6,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,Z.jsx)(p.ss,{className:"custom-kennekt-thead",children:(0,Z.jsxs)(c.AF,{children:[(0,Z.jsx)(c.EU,{style:{width:"5%"},children:R.ordering&&(0,Z.jsx)(p.u,{title:"Reset sort to default",placement:"top",children:(0,Z.jsx)(j.Z.IconButton,{size:"small",onClick:function(){return U()},color:"default",className:"hover:text-kprimary",children:(0,Z.jsx)("div",{className:"default-sort-img h-8 w-8",children:(0,Z.jsx)("img",{src:"".concat(ne,"/icon-default-sort.svg"),alt:""})})})})}),(0,Z.jsx)(c.EU,{style:{width:"25%",textAlign:C?"right":"left"},children:(0,Z.jsx)(p.ez,{IconComponent:y.Wn,active:null===(n=R.ordering)||void 0===n?void 0:n.includes("company__name"),direction:"company__name"!==R.ordering&&R.ordering?"asc":"desc",onClick:function(){return Y(se("company__name",R),"ordering")},children:(0,Z.jsx)("span",{children:N("business_name")})})}),(0,Z.jsx)(c.EU,{style:{width:"15%"},children:(0,Z.jsx)(p.ez,{IconComponent:y.Wn,active:null===(s=R.ordering)||void 0===s?void 0:s.includes("company__unread_case_count"),direction:"company__unread_case_count"!==R.ordering&&R.ordering?"asc":"desc",onClick:function(){return Y(se("company__unread_case_count",R),"ordering")},children:(0,Z.jsx)("span",{children:N("unread")})})}),(0,Z.jsx)(c.EU,{style:{width:"15%"},children:N("overdue_cases")}),(0,Z.jsx)(c.EU,{style:{width:"10%"},children:N("staff")}),(0,Z.jsx)(c.EU,{style:{width:"15%",textAlign:C?"center":"left"},children:N("status")}),(0,Z.jsx)(c.EU,{style:{width:"10%"},children:N("actions")}),(0,Z.jsx)(c.EU,{style:{width:"25%"},children:(0,Z.jsx)(g.P,{handleSearch:v,query:f,placeholder:N("search_by_business")})})]})}),(0,Z.jsx)(p.RM,{children:i.map((function(e){var n,s,i,r,t=(null===(n=e.company.owner)||void 0===n?void 0:n.id)===z.id,a=e.company,o=a.name,d=a.id,h=a.status,x=a.unread_cases_count,m=a.overdue_cases_count,f=a.color,v=a.icon,g=a.icon_dark,_=a.users_count,w=Number(u)===d,I=null===(s=e.company)||void 0===s||null===(i=s.comp_subscription)||void 0===i?void 0:i.is_available,S=!I&&"admin"!==(null===(r=e.role)||void 0===r?void 0:r.name)||"INACTIVE"===h,A=L&&g?null==g?void 0:g.thumbnail_150:null==v?void 0:v.thumbnail_150,E=function(e){return function(){d===u?Q.push("/case-messages"):l(e)}};return(0,Z.jsxs)(c.AF,{className:(0,b.Z)({"business-not-allowed-select":S}),children:[(0,Z.jsx)(c.Yk,{onClick:E(e),children:(0,Z.jsx)(p.Y8,{color:"primary",checked:w,classes:{root:k.radioRoot}})}),(0,Z.jsx)(c.Yk,{onClick:E(e),children:(0,Z.jsxs)("div",{className:"flex items-center",children:[(0,Z.jsx)(p.qE,{src:A,letter:o[0],alt:o,className:"bg-[".concat(f,"] mx-1.5"),classes:{root:"w-8 h-8"}}),(0,Z.jsx)("span",{children:o})]})}),(0,Z.jsx)(c.Yk,{onClick:E(e),children:(0,Z.jsx)("span",{className:(0,b.Z)("font-semibold",{"flex-centered h-8 w-8 rounded-full bg-primary text-white":x>0,"!text-right":C}),children:x})}),(0,Z.jsx)(c.Yk,{onClick:E(e),children:(0,Z.jsx)("span",{className:(0,b.Z)("font-semibold",{"flex-centered h-8 w-8 rounded-full bg-primary text-white":m>0}),children:m})}),(0,Z.jsx)(c.Yk,{onClick:E(e),children:(0,Z.jsx)("span",{className:"font-semibold",children:_})}),(0,Z.jsx)(c.Yk,{onClick:E(e),children:(0,Z.jsx)("span",{className:(0,b.Z)("block h-[20px] w-[8.5rem] rounded-[100px] bg-primary px-2 text-center text-xs font-medium uppercase leading-5 text-white",{"!bg-kgrey text-kdark-text-2":"INACTIVE"===h||!I}),children:N("ACTIVE"!==h||I?(0,X.u)(h):"suspended")})}),(0,Z.jsxs)(c.Yk,{children:[(0,Z.jsx)(p.u,{title:"".concat(e.pin_time?N("unpin_business"):N("pin_business")),placement:"top",children:(0,Z.jsx)(j.Z.IconButton,{size:"small",onClick:function(){return $(e)},color:"default",className:"!mx-2 hover:text-primary",children:e.pin_time?(0,Z.jsx)(y.Dg,{className:"text-kgrey transition hover:text-primary"}):(0,Z.jsx)(H,{className:"text-kgrey transition hover:text-primary"})})}),(0,Z.jsx)(p.u,{title:t?N("cannot_disconnect_from_business"):N("disconnect_from",o),placement:"top",children:(0,Z.jsx)(j.Z.IconButton,{size:"small",onClick:function(){return(!t||w)&&D({item:e,isOwner:t})},color:"secondary",className:"ml-10",children:(0,Z.jsx)("div",{className:(0,b.Z)("h-5 w-5",{"opacity-50":t}),children:(0,Z.jsx)("img",{src:"".concat(ne,"/icon-left-business.svg"),alt:""})})})})]}),(0,Z.jsx)(c.Yk,{})]},e.id)}))})]}),!w&&(0,Z.jsx)(c.aN,{tiled:!0,withOverlay:!0})]}),(0,Z.jsx)("div",{className:"mt-4 mb-4",children:(0,Z.jsx)(p.tl,{count:null==a?void 0:a.last_page,page:x||1,onChange:m,defaultPage:6,siblingCount:1,color:"primary"})}),(0,Z.jsx)(p.Cx,{handleModalOpen:function(){return O((function(e){return!e}))},open:Boolean(B),children:(0,Z.jsx)(T,{})}),(0,Z.jsx)(J,{handleModalOpen:V,open:M})]})}function te(e){return(0,Z.jsx)(c.SV,{children:(0,Z.jsx)(re,(0,u.Z)({},e))})}function ae(){var e=(0,r.m)().companyId,n=(0,t.h0)(),s=n.page,a=n.handlePage,o=(0,t.A3)(),u=o.query,h=o.setQuery,x=o.searchQuery,m=(0,d.y)(),p=m.tempCompanyId,j=m.handleChangeCompany,f=(0,t.Kx)().query,v=function(e){return h(e.target.value)};return(0,Z.jsx)(Z.Fragment,{children:e?(0,Z.jsx)(i.Z.All,{entity:"userCompanies",name:"AllUserCompanies",url:"/user/companies/",replaceIds:!0,params:{limit:10,extra:{search:x,ordering:f.ordering||""},page:s},children:function(e){var n=e.items,i=e.isFetched,r=e.meta,t=n.filter((function(e){return l()(e,"company.is_business")}));return(0,Z.jsx)(te,{tempCompanyId:p,page:s,query:u,handlePage:a,meta:r,items:t,setQueryHandler:v,handleChange:j,isFetched:i})}}):(0,Z.jsx)(c.aN,{})})}function le(){return(0,Z.jsx)(c.SV,{children:(0,Z.jsx)(ae,{})})}}}]);
//# sourceMappingURL=3990.4d7b8fd9.chunk.js.map