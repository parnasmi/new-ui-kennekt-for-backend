"use strict";(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[8193],{38193:function(e,i,n){n.r(i),n.d(i,{default:function(){return f}});var t=n(70885),s=(n(47313),n(95762)),a=n(26926),l=n(41559),c=n(28303),r=n(10658),d=n.n(r),o=n(77344),h=n(90214),u=n(94024),m=n(22206),p=n(63256),x=n(93905),j=n(92241);var g=n(46417);var f=function(){var e=(0,o.m)(),i=e.companyId,n=e.isPermitted,r=(0,h.h0)(),f=r.page,v=r.handlePage,y=(0,m.vd)().searchQuery,b=(0,h.tv)(),w=b.match,k=b.history,_=function(){var e=(0,o.m)().companyId,i=(0,j.I0)(),n=(0,h.eC)().showNotification,t=(0,h.iR)(),s=t.visible,a=t.showVisible,l=t.loading,c=t.toggleLoading,r=t.closePopup,d=(0,h.iR)(),u=d.visible,m=d.showVisible,p=d.closePopup;return{deleteLoading:l,handleCampaignDelete:function(t){c(),i((0,x.Bi)({entity:"campaigns",name:"AllCampaigns",method:"delete",url:"/".concat(e,"/campaigns/").concat(t.id,"/"),deleteData:!0,id:t.id,cb:{success:function(){n({message:"Successfully deleted",variant:"success"})},error:function(e){n({message:"Something went wrong",variant:"error"})},finally:function(){c(),r()}},params:{},primaryKey:"id",values:{}}))},showDeleteVisible:a,closeDeletePopup:r,deleteVisible:s,editVisible:u,showEditVisible:m,closeEditPopup:p}}(),C=_.deleteLoading,D=_.handleCampaignDelete,P=_.showDeleteVisible,E=_.closeDeletePopup,V=_.deleteVisible,Y=_.editVisible,N=_.showEditVisible,A=_.closeEditPopup,B=(0,u.Z)(y,500),U=(0,t.Z)(B,1)[0];return(0,g.jsx)("div",{children:i?(0,g.jsx)(s.Z.All,{entity:"campaigns",name:"AllCampaigns",url:"/".concat(i,"/campaigns/"),params:{limit:10,extra:{search:U},page:f},children:function(e){var i=e.items,t=e.isFetched,s=e.meta,r=i;return(0,g.jsxs)("div",{children:[(0,g.jsxs)(a.xJ,{classes:{root:"relative "},children:[(0,g.jsxs)(l.k6,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,g.jsx)(a.ss,{children:(0,g.jsxs)(l.AF,{children:[(0,g.jsx)(l.EU,{style:{width:"20%"},children:"Campaign"}),(0,g.jsx)(l.EU,{style:{width:"20%"},children:"Created Date"}),(0,g.jsx)(l.EU,{style:{width:"17%"},children:"Author"}),(0,g.jsx)(l.EU,{style:{width:"10%"},children:"Business"}),(0,g.jsx)(l.EU,{style:{width:"22%"},children:"Client Groups"}),(0,g.jsx)(l.EU,{style:{width:"11%"},children:"Actions"})]})}),(0,g.jsx)(a.RM,{children:r.map((function(e){var i=e.id,t=e.name,s=e.categories,a=e.created_date,r=e.created_by,o=e.total_companies;return(0,g.jsxs)(l.AF,{children:[(0,g.jsx)(l.Yk,{children:(0,g.jsx)(c.rU,{to:"".concat(w.path,"/view/").concat(e.id),className:"block truncate",children:(0,g.jsx)("span",{className:"text-primary transition hover:text-primary-dark ",children:t})})}),(0,g.jsx)(l.Yk,{children:d()(a).format("MMMM D YYYY, h:mm a")}),(0,g.jsx)(l.Yk,{children:"".concat(r.first_name," ").concat(r.last_name)}),(0,g.jsx)(l.Yk,{children:o}),(0,g.jsx)(l.Yk,{children:(0,g.jsx)("div",{children:s.map((function(e){return(0,g.jsx)("span",{className:"mr-2",children:"".concat(e.name,",")},e.id)}))})}),(0,g.jsx)(l.Yk,{children:(0,g.jsxs)("div",{className:"flex items-center justify-end ",children:[(0,g.jsx)(l.cP.DeleteButton,{isDisabled:!n,clickHandler:function(){return P(e)}}),(0,g.jsx)(l.cP.ViewButton,{isDisabled:!n,clickHandler:function(){return k.push("".concat(w.path,"/view/").concat(e.id))}}),(0,g.jsx)(l.cP.EditButton,{isDisabled:!n,clickHandler:function(){return N(e)}})]})})]},i)}))})]}),!t&&(0,g.jsx)(l.aN,{tiled:!0,withOverlay:!0})]}),(0,g.jsx)(l.sm,{featureHandler:function(){return D(V)},isOpen:Boolean(V),toggleHandler:E,title:"Are you sure to delete the campaign ".concat(null===V||void 0===V?void 0:V.name,"?"),hasLoader:!0,isLoading:C}),(0,g.jsx)(a.Cx,{handleModalOpen:A,open:Boolean(Y),children:(0,g.jsx)(p.F,{onSuccess:A,entity:Y})}),(0,g.jsx)("div",{className:"news__pagination my-4",children:i.length?(0,g.jsx)(a.tl,{count:null===s||void 0===s?void 0:s.last_page,page:f?+f:1,defaultPage:6,siblingCount:1,color:"primary",onChange:v}):null})]})}}):(0,g.jsx)("div",{className:"flex justify-center",children:(0,g.jsx)(l.aN,{})})})}}}]);