!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c478cda4-56de-4a07-bcbe-01b5f9bd40a9",e._sentryDebugIdIdentifier="sentry-dbid-c478cda4-56de-4a07-bcbe-01b5f9bd40a9")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"2d91d0cb0833c8f8db3c1dd482d6954c4680f762"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[9751],{29751:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var a=n(1413),s=n(7481),o=n(76188),i=n(81724),r=n(87818),d=n(94389),l=n(32380),c=n(64880),m=n(4245),u=n(36261),p=n(54270),w=(n(72791),n(80266)),f=n(97689),h=n(80184),g=l.Z.entity.formRequest,b=i.Ry({username:i.Z_().email("Enter a valid email").required("Email is required"),new_password:i.Z_().strict(!0).trim("Password cannot be blank").min(6,"Password should be of minimum 6 characters length").required("Password is required"),passwordConfirmation:i.Z_().oneOf([i.iH("new_password")],"Passwords are not the same!").required("Password confirmation is required!")});var v=function(){var e=(0,r.I0)(),t=(0,c.k6)(),n=(0,c.TH)(),i=(0,c.UO)(),l=(0,u.lm)(),v=l.notifVisible,x=l.setNotifVisible,k=l.handleNotificationClose,y=l.Notification,_=(0,u.eC)().showNotification,N=(0,f.a)().isAuthentificated,Z=(0,u.bK)({url:"",dynamicUrl:!0,cb:{success:function(e,n){x(!0);var a=n[0],s=a.setPassWordData,o=a.setSubmitting,i=null==s?void 0:s.token;o(!1),w.tO.set("token",i),setTimeout((function(){N?t.push("/switch-business"):(t.push("/"),window.location.reload())}),2e3)},error:function(e,t){_({message:"Something went wrong",variant:"error"})}}}).fetchData,S=m.parse(n.search)||{username:""},P=(0,o.TA)({initialValues:{username:S.username,new_password:"",passwordConfirmation:""},validationSchema:b,onSubmit:function(t,n){n.setFieldError;var s=n.setSubmitting,o=(0,a.Z)({},t);delete o.passwordConfirmation,e(g({entity:"change_password",name:"change_password",url:"/user/set-password/",method:"patch",params:{},values:o,cb:{success:function(e){"code"in i&&(localStorage.clear(),Z({url:"/sts/".concat(i.code,"/"),setSubmitting:s,setPassWordData:e}))},error:function(e){var t;e&&400===(null===(t=e.response)||void 0===t?void 0:t.status)&&_({message:"This invitation link is invalid.\nPlease contact to invited person to have a new invitation link.",variant:"error"}),s(!1)},finally:function(){}}}))}});return(0,h.jsx)(s.P,{title:"Set password for new user",description:'\n\t\t\t\t\t\t\t\t\t\tYou should set your personal password for getting started with \n\t\t\t\t\t\t\t\t\t\temail <span class="text-primary">'.concat(S.username,"</span>\n\t\t\t\t\t\t\t\t\t"),goToPageLink:"/signin",goToPage:"Do you want to login to another account?",goToPageLinkText:"Sign In",back:!0,content:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.q,{children:(0,h.jsx)("title",{children:"KENNEKT | Set new password"})}),(0,h.jsx)("form",{onSubmit:P.handleSubmit,children:(0,h.jsxs)("div",{className:" w-full font-poppins md:w-[423px]",children:[(0,h.jsx)(d.Qp,{name:"new_password",placeholder:"Password",label:"Password",required:!0,onChange:P.handleChange,type:"password",value:P.values.new_password,error:P.touched.new_password&&Boolean(P.errors.new_password),helperText:P.touched.new_password&&P.errors.new_password}),(0,h.jsx)(d.Qp,{name:"passwordConfirmation",placeholder:"Confirm password",label:"Password confirmation",required:!0,onChange:P.handleChange,type:"password",value:P.values.passwordConfirmation,error:P.touched.passwordConfirmation&&Boolean(P.errors.passwordConfirmation),helperText:P.touched.passwordConfirmation&&P.errors.passwordConfirmation,classNames:"mb-8"}),(0,h.jsx)(y,{severity:"info",anchorOrigin:{vertical:"bottom",horizontal:"center"},handleClose:k,open:v,message:"Your account has been confirmed. You will redirected into the app in seconds..",autoHideDuration:3e3}),(0,h.jsx)("button",{disabled:P.isSubmitting,className:"bg-primary py-3.5 uppercase transition w-full rounded-lg text-center text-sm font-light text-white hover:bg-primary-dark",children:P.isSubmitting?"Setting password. Please wait a while":"Set password"})]})})]})})}},7481:function(e,t,n){n.d(t,{P:function(){return b}});var a,s=n(30168),o=n(52554),i=n(9478),r=n(91523),d=n(64880),l=n(28182),c=n(70629),m=n(18381),u=(n(72791),n(23853)),p=n(17173),w=n(95758),f=n(90218),h=n(64923),g="".concat(i.Z.PUBLIC_ASSETS,"img/");function b(e){var t=e.content,n=e.title,i=e.description,b=e.goToPage,v=e.goToPageLinkText,x=e.goToPageLink,k=e.back,y=e.isInitialPage,_=e.showLanguageSelect,N=void 0!==_&&_,Z=(0,d.k6)(),S=(0,p.$G)().t,P=(0,f.K)().isRTL;return(0,h.BX)("div",{className:"welcome flex min-h-full font-poppins ",children:[(0,h.tZ)("div",{className:(0,l.Z)("welcome__left hidden bg-cover bg-no-repeat py-14 px-20 md:block md:w-[52%]",{"md:!w-[52%]":y}),css:(0,o.iv)(a||(a=(0,s.Z)(["\n\t\t\t\t\tbackground-image: url(","bg-welcome.jpg);\n\t\t\t\t"])),g),children:(0,h.tZ)(r.rU,{to:"/",className:"h-8 w-40",children:(0,h.tZ)("img",{src:"".concat(g,"logo-kennekt-2.svg"),alt:"",className:"object-cover"})})}),(0,h.BX)("div",{className:(0,l.Z)("flex w-full flex-col justify-between p-4 md:block md:w-[48%] md:pl-12 md:pt-14 md:pr-20 md:pb-14",{"md:!w-[48%]":y}),children:[(0,h.BX)("div",{className:(0,l.Z)("top",{"flex items-center justify-between":c.tq&&y}),children:[(0,h.tZ)("div",{className:"mobile-logo mb-2 lg:hidden",children:(0,h.tZ)(r.rU,{to:"/",className:"block h-6 w-32",children:(0,h.tZ)("img",{src:"".concat(g,"logo-kennekt-2.svg"),alt:"",className:"object-cover"})})}),(0,h.BX)("div",{className:(0,l.Z)("top-nav flex justify-between md:mb-28"),children:[(0,h.BX)("div",{className:(0,l.Z)("group flex cursor-pointer items-center text-kgrey-welcome",!k&&"opacity-0",y&&"hidden",!y&&!c.tq&&"md:flex"),onClick:function(){return Z.goBack()},children:[(0,h.tZ)("span",{className:"text-2xl transition group-hover:text-primary",children:P?(0,h.tZ)(u.Tfp,{}):(0,h.tZ)(u.YFh,{})}),(0,h.tZ)("span",{className:"mr-4 text-sm font-medium transition group-hover:text-primary md:ml-3 md:text-base",children:S("back")})]}),(0,h.BX)("div",{className:"flex items-center text-sm font-light md:text-lg",children:[(0,h.tZ)("span",{className:"hidden text-kgrey-welcome md:block ",children:b}),(0,h.tZ)(r.rU,{to:x,className:"transitions mx-2 whitespace-nowrap text-primary hover:text-primary-dark ",children:v}),N?(0,h.tZ)(w.S,{isRegistering:!0}):null]})]})]}),(0,h.BX)("div",{className:"content-wrapper",children:[(0,h.BX)("div",{className:"welcome__header mb-8 md:mb-12",children:[(0,h.tZ)("div",{className:"mb-1 text-2xl font-bold md:mb-2.5 md:text-3xl",children:n}),(0,h.tZ)("p",{className:"text-sm font-light text-kgrey-welcome md:text-base",children:(0,h.tZ)(m._S,{text:i})})]}),(0,h.tZ)("div",{className:"welcome__content",children:t})]}),(0,h.tZ)("div",{className:"opacity-0",children:"Footer"})]})]})}}}]);
//# sourceMappingURL=9751.f03ab297.chunk.js.map