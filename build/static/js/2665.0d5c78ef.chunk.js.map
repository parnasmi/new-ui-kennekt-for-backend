{"version":3,"file":"static/js/2665.0d5c78ef.chunk.js","mappings":"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","sources":["pages/News/NestedPages/EditTemplate/index.ts","pages/News/NestedPages/EditTemplate/EditTemplate.tsx","pages/News/components/TemplateFormElements.tsx"],"sourcesContent":["import { EditTemplate } from './EditTemplate';\n\nexport default EditTemplate;\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { Link } from 'react-router-dom';\nimport Typography from '@material-ui/core/Typography';\nimport EntityForm from 'modules/entity/forms';\nimport { useAppState } from 'shared/state';\nimport { useNotistack, useRouter } from 'shared/hooks';\nimport { TemplateFormElements } from '../../components/TemplateFormElements';\nimport EntityContainer from 'modules/entity/containers';\nimport { NewsTemplateType } from 'shared/typings/news.types';\nimport { Loader } from 'shared/components';\n\nexport function EditTemplate() {\n\tconst { companyId } = useAppState();\n\tconst { history, params } = useRouter();\n\tconst { showNotification } = useNotistack();\n\n\tconst templateId = parseInt((params as { templateId: string })?.templateId);\n\n\treturn (\n\t\t<EntityContainer.One\n\t\t\tid={templateId}\n\t\t\tentity=\"templates\"\n\t\t\tname={`Template-${templateId}`}\n\t\t\turl={`/${companyId}/notification-templates/${templateId}/`}\n\t\t\tparams={{}}\n\t\t\trelations=\"\"\n\t\t>\n\t\t\t{({ item, isFetched }) => {\n\t\t\t\tconst templateItem = item as NewsTemplateType;\n\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{isFetched ? (\n\t\t\t\t\t\t\t<div className=\"news-page py-4\">\n\t\t\t\t\t\t\t\t<Helmet>\n\t\t\t\t\t\t\t\t\t<title>KENNEKT | Edit Template</title>\n\t\t\t\t\t\t\t\t\t<meta name=\"description\" content=\"KENNEKT Announcement\" />\n\t\t\t\t\t\t\t\t</Helmet>\n\t\t\t\t\t\t\t\t<h1 className=\"mb-2 text-2xl font-bold\">Edit Template</h1>\n\t\t\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\t\t\t<Breadcrumbs aria-label=\"breadcrumb\">\n\t\t\t\t\t\t\t\t\t\t<Link to={`/news/templates/`}>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-primary transition hover:text-primary-dark\">\n\t\t\t\t\t\t\t\t\t\t\t\tTemplates List\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t<Typography color=\"textPrimary\" className=\"!text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t{templateItem.title}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Breadcrumbs>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"uni-page__content\">\n\t\t\t\t\t\t\t\t\t<EntityForm.Main\n\t\t\t\t\t\t\t\t\t\tentity=\"templates\"\n\t\t\t\t\t\t\t\t\t\tname=\"AllTemplates\"\n\t\t\t\t\t\t\t\t\t\turl={`/${companyId}/notification-templates/${templateId}/`}\n\t\t\t\t\t\t\t\t\t\tsendAsFormData={false}\n\t\t\t\t\t\t\t\t\t\tmethod=\"put\"\n\t\t\t\t\t\t\t\t\t\tfields={[\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tname: 'subject',\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: templateItem.subject\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tname: 'title',\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: templateItem.title\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tname: 'body',\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: templateItem.body\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\tonSuccess={() => {\n\t\t\t\t\t\t\t\t\t\t\thistory.push('/news/templates');\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonError={(error): any => {\n\t\t\t\t\t\t\t\t\t\t\tconst errorText = error?.response?.data?.message || 'Something went wrong';\n\t\t\t\t\t\t\t\t\t\t\tshowNotification({ message: errorText, variant: 'error' });\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{({ isSubmitting, values }) => {\n\t\t\t\t\t\t\t\t\t\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('create template values', values);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn <TemplateFormElements isSubmitting={isSubmitting} isEditing />;\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t</EntityForm.Main>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Loader tiled withOverlay />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t}}\n\t\t</EntityContainer.One>\n\t);\n}\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { Field } from 'formik';\nimport { KntInputField } from 'shared/components/Fields';\nimport QuillEditorNews from 'shared/components/Fields/QuillEditorNews';\nimport { KntButton, Loader } from 'shared/components';\nimport { Link } from 'react-router-dom';\nimport { Paper } from '@material-ui/core';\nconst keywords = [\n\t{ name: 'Reader First Name', code: '{reader_first_name}' },\n\t{ name: 'Reader Last Name', code: '{reader_last_name}' },\n\t{ name: 'Reader Company', code: '{business_company}' },\n\t{ name: 'Author First Name', code: '{author_first_name}' },\n\t{ name: 'Author Last Name', code: '{author_last_name}' },\n\t{ name: 'Author company', code: '{client_company}' }\n];\n\ntype Props = {\n\tisSubmitting: boolean;\n\tisEditing?: boolean;\n};\nexport function TemplateFormElements({ isSubmitting, isEditing = false }: Props) {\n\treturn (\n\t\t<Paper className=\"uni-page__paper\">\n\t\t\t<div className=\"form-page p-5\">\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item xs={12} sm={4}>\n\t\t\t\t\t\t<div className=\"form-page__row mb-5\">\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tlabel=\"Template name\"\n\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-page__row mb-5\">\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tlabel=\"Template title\"\n\t\t\t\t\t\t\t\tname=\"subject\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<div className=\"form-page__row mb-5\">\n\t\t\t\t\t<div className=\"form-page__label ml-2 mb-2 block text-sm font-light text-kgrey-menuText\">\n\t\t\t\t\t\tDescription*\n\t\t\t\t\t</div>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={QuillEditorNews}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\tbounds={'.form-page'}\n\t\t\t\t\t\t{...{ keywords }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{isSubmitting && <Loader tiled withOverlay />}\n\t\t\t\t<div className=\"form-page__row justify-content-between mb-5\">\n\t\t\t\t\t<KntButton>\n\t\t\t\t\t\t<Link to=\"/news/templates\">Cancel</Link>\n\t\t\t\t\t</KntButton>\n\t\t\t\t\t<KntButton type=\"submit\" color=\"primary\" isDisabled={isSubmitting} className=\"ml-4\">\n\t\t\t\t\t\t{isEditing ? 'Update' : 'Create'}\n\t\t\t\t\t</KntButton>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Paper>\n\t);\n}\n"],"names":["companyId","useAppState","useRouter","history","params","showNotification","useNotistack","templateId","parseInt","id","entity","name","url","relations","item","isFetched","templateItem","className","Helmet","content","Breadcrumbs","to","Typography","color","title","sendAsFormData","method","fields","required","onSubmitKey","value","subject","body","onSuccess","push","onError","error","errorText","response","data","message","variant","isSubmitting","values","TemplateFormElements","isEditing","tiled","withOverlay","keywords","code","container","spacing","xs","sm","component","KntInputField","type","label","size","fullWidth","autoComplete","QuillEditorNews","bounds","isDisabled"],"sourceRoot":""}