{"version":3,"file":"static/js/4413.f4b76150.chunk.js","mappings":"+uBAiEMA,EAAgB,SAACC,GAAkB,IAAD,EAC/BC,EAAiED,EAAjEC,SAAUC,EAAuDF,EAAvDE,WAAYC,EAA2CH,EAA3CG,sBACxBC,GAAUC,EAAAA,EAAAA,QAAuB,MAE/BC,GAAoDC,EAAAA,EAAAA,KAApDD,oBAGFE,EAAaP,EAASO,WAC3BC,EAAiBR,EAASQ,eAC1BC,EAAYT,EAASU,MACrBC,EAAoBX,EAASW,kBAC7BC,EAAoBZ,EAASY,kBAC7BC,EAAsBb,EAASa,oBAC/BC,EAAcd,EAASc,YACvBC,EAAoBf,EAASe,kBAC7BC,EAAShB,EAASiB,GAClBC,EAAWlB,SAAH,UAAGA,EAAUmB,cAAb,aAAG,EAAkBF,GAC7BG,EAAWpB,EAASoB,SACpBC,EAAerB,EAASsB,cACxBC,EAAgBvB,EAASwB,gBACzBC,EAAYzB,EAAS0B,cACrBC,EAAc3B,EAAS4B,aACvBC,EAAkB7B,EAAS8B,kBAC3BC,EAAc/B,EAASgC,aAElBC,GAAYC,EAAAA,EAAAA,UAAQ,kBAAM7B,aAAN,EAAMA,EAAsBW,EAA5B,GAAqC,CAACA,EAAQX,IAUxE,OACC,gBAAK8B,IAAKhC,EAASiC,UAAS,eAAUpB,EAAV,WAA5B,UACC,SAAC,IAAD,CACCF,YAAaA,EACbL,UAAWA,EACXF,WAAYA,EACZC,eAAgBA,EAChBK,oBAAqBA,EACrBE,kBAAmBA,EACnBJ,kBAAmBA,EACnBC,kBAAmBA,EACnBqB,UAAWA,EACXjB,OAAQA,EACRE,SAAUA,EACVmB,SAAUrC,EAASqC,SACnBjB,SAAUA,EACVC,aAAcA,EACdU,YAAaA,EACb9B,WAAYA,EACZC,sBAAuBA,EACvBqB,cAAeA,EACfE,UAAWA,EACXE,YAAaA,EACbE,gBAAiBA,KAIpB,EAEM,SAASS,EAASvC,GACxB,OACC,SAAC,KAAD,CAAewC,WAAS,EAAxB,UACC,SAACzC,GAAD,UAAmBC,KAGrB,C,iSCvHM,SAASyC,EAAT,GAA8E,IAAlDtB,EAAiD,EAAjDA,SAAUuB,EAAuC,EAAvCA,KAAMC,EAAiC,EAAjCA,uBAClD,GAAyDC,EAAAA,EAAAA,MAAjDC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,SAAUC,EAAxB,EAAwBA,YAAaC,EAArC,EAAqCA,gBACrC,GAAiEzC,EAAAA,EAAAA,KAAzD0C,EAAR,EAAQA,kBAAmBC,EAA3B,EAA2BA,QAASC,EAApC,EAAoCA,yBACpC,GAAoBC,EAAAA,EAAAA,MAAZC,EAAR,EAAQA,EAAGC,EAAX,EAAWA,KACHC,GAAUC,EAAAA,EAAAA,KAAVD,MAEFE,GAAYtB,EAAAA,EAAAA,UACjB,iBAAM,CACL,CACCxB,MAAO0C,EAAE,oBACTK,eAAgB,WACfV,IACAC,EAAkB,CAAEP,KAAAA,EAAMvB,SAAAA,EAAUwC,KAAM,QAC1C,EACDC,mBAAoBV,GAErB,CACCvC,MAAO0C,EAAE,iBACTK,eAAgB,WACfV,IACAC,EAAkB,CAAEP,KAAAA,EAAMvB,SAAAA,EAAUwC,KAAM,UAC1C,EACDC,mBAAoBV,GAErB,CACCvC,MAAO0C,EAAE,iBACTK,eAAgB,WACfV,IACAC,EAAkB,CAAEP,KAAAA,EAAMvB,SAAAA,EAAUwC,KAAM,iBAC1C,EACDC,mBAAoBT,EAAyBhC,IAE9C,CACCR,OACC,SAAC,KAAD,CACCkD,SACC,SAAC,KAAD,CAAUC,MAAM,UAAUC,QAASpB,EAAwBN,UAAU,UAEtE2B,MAAOX,EAAE,eACTY,eAAe,QACf5B,UAAU,UAGZqB,eAAgB,WACfV,IACAC,EAAkB,CAAEP,KAAAA,EAAMvB,SAAAA,EAAUwC,KAAM,eAC1C,EACDC,mBAAoBV,GAxCtB,GA2CA,CAACI,EAAKY,SAAUhB,EAASC,EAAyBhC,KACjDgD,QAAO,SAACC,GAAD,OAAcA,EAASR,kBAAvB,IAET,OACC,gCACEH,EAAUY,QACV,gBACChC,WAAWiC,EAAAA,EAAAA,GACV,8JACA,CAAE,aAAcf,EAAO,WAAYA,IAEpCgB,QAASxB,EALV,UAOC,SAAC,MAAD,CAAuBV,UAAW,aAEhC,KAEHQ,GACA,SAAC,KAAD,CAAM3B,GAAG,YAAY4B,SAAUA,EAAU0B,aAAW,EAAC3B,KAAMA,EAAM4B,QAASzB,EAA1E,SACES,EAAUiB,KAAI,SAACN,EAAUO,GAAX,OACd,SAACC,EAAA,EAAD,CAAsBL,QAASH,EAASV,eAAxC,SACEU,EAASzD,OADIgE,EADD,MAuDb,OAGN,C,yDCzHM,SAASE,EAAT,GAMI,IALVnC,EAKS,EALTA,KACAoC,EAIS,EAJTA,WACA3D,EAGS,EAHTA,SACA4D,EAES,EAFTA,qBACApC,EACS,EADTA,uBAEA,GASIpC,EAAAA,EAAAA,KARH4C,EADD,EACCA,yBACA6B,EAFD,EAECA,mBACAC,EAHD,EAGCA,SACAC,EAJD,EAICA,sBACAC,EALD,EAKCA,mBACAC,EAND,EAMCA,aACAC,EAPD,EAOCA,UACAC,EARD,EAQCA,YAEOjC,GAAMD,EAAAA,EAAAA,MAANC,EACAE,GAAUC,EAAAA,EAAAA,KAAVD,MAEWgC,GAAyBC,EAAAA,EAAAA,IAAS,CACpDC,IAAI,IAAD,OAAMJ,EAAN,cACHK,OAAQ,OACRC,eAAe,EACfC,GAAI,CACHC,QAAS,SAACC,EAAMC,GAAW,EAE3BC,MAAO,SAACA,GAAY,KAPdC,UAWFC,EAAkB,mCAAG,6FAC1BhB,EAAsB/D,GAEhBgF,EAAU,CACfC,eAAc,kBACVhB,aADS,EACTA,EAAcgB,eADL,IAEZC,oBAAmB,kBACflB,GADc,cAEhBhE,IAAYgE,SAAAA,EAAqBhE,SARX,SAapBoE,EAAqB,CAC1Be,OAAQH,IAdiB,OAgBtB,kBAAmBA,GACtBI,EAAAA,GAAAA,IAAY,mBAAoBC,KAAKC,UAAUN,SAAf,UAAeA,EAASC,qBAAxB,aAAe,EAAwBC,qBAjB9C,2CAAH,qDAqBlBK,GAAuB1B,EAAmBC,GAC1C0B,EACLxF,KAAYgC,GAA4BA,EAAyBhC,GAAY,EACxEyF,EAAkBtB,EAAYjB,OAAS,EACvCwC,EAAkBF,GAAsBD,IAAwBE,EAEtE,OACC,iCACCvE,WAAWiC,EAAAA,EAAAA,GACV,0HACA,CACC,UAAWf,EACX,aAAcA,KAGZwB,GARL,eAUC,mBAAQ1C,UAAW,4DAAnB,SACEK,KAEF,iBAAKL,UAAU,eAAf,UACEyC,EAAa,GACb,kBAAMzC,UAAW,8CAAjB,eACIgB,EAAE,eADN,KACsB,mBAAQhB,UAAW,gBAAnB,SAAqCyC,OAExD,KACH+B,GACA,gBACCxE,WAAWiC,EAAAA,EAAAA,GACV,2GACA,CACC,cAAenB,EAAyBhC,IAAa2F,EAAAA,IAJxD,SAQE3D,EAAyBhC,KAExB,SAGL,SAAC4F,EAAA,EAAD,CACC1E,WAAWiC,EAAAA,EAAAA,GAAK,mBAAoB,CACnC,gBAAiBa,aAAjB,EAAiBA,EAAqBhE,GACtC,WAAYoC,EACZ,SAAUA,IAEXyD,KAAK,QACLzC,QAAS2B,EAPV,SASEf,SAAAA,EAAqBhE,IAAY,SAAC,KAAD,KAAmB,SAAC,KAAD,OAEtD,SAACsB,EAAD,CACCtB,SAAUA,EACVuB,KAAMA,EACNC,uBAAwBA,OAI3B,CAEM,SAASsE,EAAajH,GAC5B,OACC,SAAC,KAAD,CAAewC,WAAS,EAAxB,UACC,SAACqC,GAAD,UAAuB7E,KAGzB,C,0BCzIYkH,EAAiB,SAAClH,GAAD,OAC7B,UAAC,MAAD,gBACCmH,MAAO,EACPC,MAAO,IACPC,OAAQ,IACRC,QAAQ,cACRC,gBAAgB,UAChBC,gBAAgB,WACZxH,GAPL,eASC,iBAAMyH,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,IAAIC,OAAO,OAClD,iBAAMI,EAAE,MAAMC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAIR,MAAM,IAAIC,OAAO,OACrD,iBAAMI,EAAE,IAAIC,EAAE,IAAIC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,QACnD,iBAAMI,EAAE,MAAMC,EAAE,IAAIC,GAAG,IAAIC,GAAG,IAAIR,MAAM,KAAKC,OAAO,QACpD,mBAAQQ,GAAG,MAAMC,GAAG,IAAIC,EAAE,OAC1B,mBAAQF,GAAG,MAAMC,GAAG,KAAKC,EAAE,OAC3B,mBAAQF,GAAG,MAAMC,GAAG,KAAKC,EAAE,OAC3B,mBAAQF,GAAG,MAAMC,GAAG,KAAKC,EAAE,OAC3B,mBAAQF,GAAG,KAAKC,GAAG,KAAKC,EAAE,QAC1B,iBAAMN,EAAE,KAAKC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,QACrD,iBAAMI,EAAE,KAAKC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,QACrD,iBAAMI,EAAE,KAAKC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,OACrD,iBAAMI,EAAE,KAAKC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,QACtD,iBAAMI,EAAE,MAAMC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAIR,MAAM,KAAKC,OAAO,QACtD,iBAAMI,EAAE,MAAMC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAIR,MAAM,KAAKC,OAAO,UAxB1B,ECAjBW,EAAe,SAAChI,GAAD,OAC3B,UAAC,MAAD,gBACCmH,MAAO,EACPC,MAAO,IACPC,OAAQ,IACRC,QAAQ,cACRC,gBAAgB,UAChBC,gBAAgB,WACZxH,GAPL,eASC,iBAAMyH,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,IAAIC,OAAO,OAClD,iBAAMI,EAAE,MAAMC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAIR,MAAM,IAAIC,OAAO,OACrD,mBAAQQ,GAAG,MAAMC,GAAG,KAAKC,EAAE,OAC3B,iBAAMN,EAAE,IAAIC,EAAE,IAAIC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,QACnD,iBAAMI,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,WAd1B,E,sFCuBfY,EAAsB,SAAC,GAA4D,IAAD,gBAAzDhI,EAAyD,EAAzDA,SAAUC,EAA+C,EAA/CA,WAAYC,EAAmC,EAAnCA,sBACnDG,GAAwBC,EAAAA,EAAAA,KAAxBD,oBAEFE,EAAU,UAAGP,EAASiI,aAAZ,aAAG,EAAgB1H,WAClCC,EAAc,UAAGR,EAASiI,aAAZ,aAAG,EAAgBzH,eACjCC,EAAYT,SAAH,UAAGA,EAAUiI,aAAb,iBAAG,EAAiBC,sBAApB,aAAG,EAAiCC,KAC7CxH,EAAiB,UAAGX,EAASiI,aAAZ,aAAG,EAAgBtH,kBACpCC,EAAoBZ,EAASmI,KAC7BtH,EAAsBb,EAASoI,UAC/BtH,EAAW,UAAGd,EAASiI,aAAZ,aAAG,EAAgBnH,YAC9BM,EAAQ,UAAGpB,EAASiI,aAAZ,aAAG,EAAgB7G,SAC3BL,EAAiB,UAAGf,EAASiI,aAAZ,aAAG,EAAgBlH,kBACpCC,EAAShB,aAAH,EAAGA,EAAUqI,UACnBnH,EAAWlB,aAAH,EAAGA,EAAUiI,MAAM9G,OAC3BE,EAAerB,aAAH,EAAGA,EAAUiI,MAAM3G,cAC/BS,EAAc/B,aAAH,EAAGA,EAAUiI,MAAMjG,aAC9BT,EAAgBvB,aAAH,EAAGA,EAAUiI,MAAMzG,gBAChCK,EAAkB7B,aAAH,EAAGA,EAAUiI,MAAMnG,kBAClCH,EAAc3B,aAAH,EAAGA,EAAU4B,aAEnBK,EAAY5B,aAAH,EAAGA,EAAsBW,GAExC,OACC,SAACsH,EAAA,EAAD,CACCxH,YAAaA,EACbL,UAAWA,EACXF,WAAYA,EACZC,eAAgBA,EAChBK,oBAAqBA,EACrBE,kBAAmBA,EACnBJ,kBAAmBA,EACnBC,kBAAmBA,EACnBqB,UAAWA,EACXjB,OAAQA,EACRqB,SAAUrC,aAAF,EAAEA,EAAUqC,SACpBnB,SAAUA,EACVqH,kBAAmBvI,EAASiB,GAC5BG,SAAUA,EACVC,aAAcA,EACdU,YAAaA,EACb9B,WAAYA,EACZC,sBAAuBA,EACvByB,YAAaA,EACbF,UAAW,KACXF,cAAeA,EACfM,gBAAiBA,GAGnB,EAEM,SAAS2G,EAAezI,GAC9B,OACC,SAAC,KAAD,CAAewC,WAAS,EAAxB,UACC,SAACyF,GAAD,UAAyBjI,KAG3B,CCtED,SAAS0I,EAAT,GAA+E,IAA3DC,EAA0D,EAA1DA,eAAgBC,EAA0C,EAA1CA,aAAc1I,EAA4B,EAA5BA,WAK3C2I,GAAQ,kBACVD,GACAD,GAOJ,OAAO,kBACHE,GADJ,IAECxB,OAAQnH,EAAa2I,EAASxB,OAASwB,EAASxB,OALpC,GAQZyB,aARY,IAUb,CAWM,SAASC,EAAT,GAOmB,IANzBC,EAMwB,EANxBA,SACAC,EAKwB,EALxBA,KAKwB,IAJxBC,MAAAA,OAIwB,MAJhB,CAAC,EAIe,EAHxBhJ,EAGwB,EAHxBA,WAGwB,IAFxBiJ,UAAAA,OAEwB,SADxBhJ,EACwB,EADxBA,sBAEA,OACC,0CACK6I,EAASI,gBACTJ,EAASK,iBAFd,IAGCjH,IAAK4G,EAASM,SACdJ,MAAOR,EAAS,CACfC,eAAgBK,EAASI,eAAeF,MACxCN,aAAcM,EACdhJ,WAAAA,IAEDmC,UAAS,eAAUnC,EAAa,cAAgB,IATjD,SAWE,UAAY+I,QAAAA,EAAQ,CAAC,IACrB,SAACR,EAAD,CACCxI,SAAUgJ,EACV/I,WAAYA,EACZC,sBAAuBA,KAGxB,SAACoC,EAAA,EAAD,CACCtC,SAAUgJ,EACVE,UAAWA,EACXjJ,WAAYA,EACZC,sBAAuBA,MAK3B,CCnED,I,EAUaoJ,EAASC,EAAAA,MAAW,SAAaxJ,GAC7C,IAAcyJ,EAAwBzJ,EAA9B8F,KAAanB,EAAiB3E,EAAjB2E,MAAOuE,EAAUlJ,EAAVkJ,MACtBD,EAAOQ,EAAMC,UAAU/E,GACvBxE,EAAwBsJ,EAAMtJ,sBAGpC,IAAK8I,EACJ,OAAO,KAGR,IAAMU,EApBW,SAACV,GACI,IAAD,MAEd,IAFP,MAAI,UAAWA,EACR,GAAN,OAAUA,SAAV,UAAUA,EAAM/H,UAAhB,aAAU,EAAU0I,WAApB,YAAkCX,SAAlC,UAAkCA,EAAMf,aAAxC,iBAAkC,EAAahH,UAA/C,aAAkC,EAAiB0I,YAE7C,GAAN,OAAUX,SAAV,UAAUA,EAAM/H,UAAhB,aAAU,EAAU0I,WAApB,YAAkCX,SAAlC,UAAkCA,EAAM/H,UAAxC,aAAkC,EAAU0I,WAE7C,CAcoBC,CAAUZ,GAE9B,OACC,SAAC,KAAD,CAAWU,YAAaA,EAAahF,MAAOA,EAA5C,SACE,SAACqE,EAAUc,GAAX,OACA,SAACf,EAAD,CACCI,UAAWM,EAAMN,UACjBH,SAAUA,EACVC,KAAMA,EACNC,MAAOA,EACPhJ,WAAY4J,EAAS5J,WACrBC,sBAAuBA,GAPxB,GADsDwJ,EAazD,GAAEI,EAAAA,I,UCxBUC,EAAgBR,EAAAA,MAAW,YAQ7B,IAPVC,EAOS,EAPTA,MACArI,EAMS,EANTA,OACA+H,EAKS,EALTA,UACAc,EAIS,EAJTA,SACAC,EAGS,EAHTA,YACA/J,EAES,EAFTA,sBACAgK,EACS,EADTA,eAEgBC,GAAiBC,EAAAA,EAAAA,MAAzBhD,OAkBFiD,GAAoBjK,EAAAA,EAAAA,QAAO,MAC3BkK,GAAgBlK,EAAAA,EAAAA,SAAO,GAe7B,OAZAmK,EAAAA,EAAAA,YAAU,WAIwB,IAAD,EAD5BD,EAAcE,UACbH,EAAkBG,UAErBH,SAAA,UAAAA,EAAmBG,eAAnB,SAA4BC,4BAG9BH,EAAcE,SAAU,CACxB,GAAE,CAACN,KAGH,SAAC,KAAD,CACCQ,YAAavJ,EAAOF,GAAG0I,WACvBgB,KAAK,UACLjH,KAAMkH,EAAAA,EAAAA,qBACNC,YAAa,SAAC9B,EAAUc,EAAUiB,GAArB,OACZ,SAAChC,EAAD,CACCC,SAAUA,EACV9I,WAAY4J,EAAS5J,WACrB+I,KAAMQ,EAAMsB,EAAOC,OAAOrG,OAC1BwE,UAAWA,EACXhJ,sBAAuBA,GANZ,EAJd,SAcE,SAAC6I,GAKD,IAAMiC,EAAYf,EAAcT,EAAMpF,OAAS,EAAIoF,EAAMpF,OAEzD,OACC,SAAC,IAAD,CACC6G,aAAc,SAACvG,GAAD,OAAWA,EAAQ8E,EAAMpF,MAAzB,EACd4G,UAAWA,EACXE,cAAelB,EACf7H,IAAKkI,EACLc,UAAW,EALZ,SAOE,YAA+B,IAA5BC,EAA2B,EAA3BA,gBAAiBjJ,EAAU,EAAVA,IACpB,OACC,SAAC,KAAD,CACCiF,OACC+C,EACGA,GACCkB,EAAAA,GAjF6C,IADC,KAqF/C,EAEJL,UAAWA,EACXM,SAAU,IACVnE,MAAO,IACPoE,SAAUxC,EAASM,SACnBmC,SAAU,CAAE/B,UAAWD,EAAON,UAAAA,EAAWhJ,sBAAAA,GACzCkC,UAAU,iBAGVgJ,gBAAiBA,EACjBjJ,IAAKA,EAlBN,SAoBEmH,GAGH,GAGH,GAGH,I,uDCvFKmC,GAAgB,kBACrB,0BACE,OAAIC,MAAM,IAAIjH,KAAI,SAACuE,EAAW2C,GAC9B,OACC,gBAAKvJ,UAAW,OAAhB,UACC,SAAC6E,EAAD,KAD4B0E,EAI9B,KARmB,EAYhBC,GAAU,WACf,IAAQxI,GAAMD,EAAAA,EAAAA,MAANC,EACR,OACC,gBACChB,UAAW,kFADZ,SAGEgB,EAAE,aAGL,EAED,SAASyI,GAAT,GAAgD,IAAzB1K,EAAwB,EAAxBA,OAAQuD,EAAgB,EAAhBA,MACtBoH,GAAUC,EAAAA,EAAAA,MAAVD,MACFE,EAAcF,aAAH,EAAGA,EAAOE,YACrBC,EAAiBH,aAAH,EAAGA,EAAOG,eACxBC,EAAgC,SAAhBF,GAA0BC,GAAmBH,SAAAA,EAAOK,YAAc,EAAI,EAC5F,GAAwBC,EAAAA,EAAAA,UAASF,GAAjC,eAAOG,EAAP,KAAaC,EAAb,KACA,GAAoCF,EAAAA,EAAAA,UAASF,GAA7C,eAAOK,EAAP,KAAmBC,EAAnB,KACA,GACClM,EAAAA,EAAAA,KADO+E,EAAR,EAAQA,YAAaL,EAArB,EAAqBA,SAAUyH,EAA/B,EAA+BA,YAAavH,EAA5C,EAA4CA,mBAAoBwH,EAAhE,EAAgEA,WAAY3H,EAA5E,EAA4EA,mBAE5E,GAAsD4H,EAAAA,EAAAA,KAAtD,eAAOC,EAAP,KAAgCC,EAAhC,KAAwBzF,OACxB,GAA0D0F,EAAAA,EAAAA,GAAmB,CAC5E5L,SAAUC,EAAOF,KADV8L,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,SAAUC,EAA/B,EAA+BA,uBAIzBC,GAAaC,EAAAA,EAAAA,IAAkB,CACpCjM,SAAUC,EAAOF,GACjB+D,SAAAA,EACAK,YAAAA,EACA4H,uBAAAA,IAGYG,GAA4BC,EAAAA,EAAAA,IAAa,CACrDC,OAAQ,QACRC,SAAUpM,EAAOF,GACjBiM,WAAAA,IAHOM,IAMFC,GAA4BvI,aAAH,EAAGA,EAAqB/D,EAAOF,IAC9D,IAAyEyM,EAAAA,EAAAA,MAAjExN,GAAR,GAAQA,sBAAuByN,GAA/B,GAA+BA,gBAAiBC,GAAhD,GAAgDA,sBAChDC,EAAAA,EAAAA,IAAkB1M,IAUlBoJ,EAAAA,EAAAA,YAAU,WACT,IAAM2B,EAAwB,IAATG,EAAa,EAAI,EAEhCyB,EAA0BC,GAAAA,EAAAA,GAAqB,wBAAwB,SAAC7M,GACzEA,GAAYA,IAAaC,EAAOF,IACnC+M,YAAW,WACVxB,EAAcN,GACdI,EAAQJ,EACR,GAAE,EAEJ,IAEK+B,EAAkCF,GAAAA,EAAAA,GAAqB,wBAAwB,WACpFC,YAAW,WACVxB,EAAcN,GACdI,EAAQJ,EACR,GAAE,EACH,IAED,OAAO,WACN4B,IACAG,GACA,CACD,GAAE,CAAC9M,EAAQkL,KAIZ9B,EAAAA,EAAAA,YAAU,WACTiC,EAAcN,GACdI,EAAQJ,EACR,GAAE,CAACe,EAAwBQ,GAA2BpI,IAOvD,IAAM2E,IAAWkE,EAAAA,EAAAA,cAChB,SAACC,GACIA,IACH9I,EAAYjB,OACToI,GAAc,SAAC4B,GAAD,OAAoB,IAATA,EAAaA,EAAO,EAAIA,EAAO,CAA1C,IACd9B,GAAQ,SAAC8B,GAAD,OAAoB,IAATA,EAAaA,EAAO,EAAIA,EAAO,CAA1C,IAEZ,GACD,CAAC/I,IAGF,OACC,SAAC,QAAD,CACCiI,OAAO,QACP7K,KAAMyK,EACN1H,IAAKwH,EACLqB,OAAQ,CACPC,OAAM,UACFvB,GAEJwB,MAAO,GACPlC,KAAMhH,EAAYjB,OAASmI,EAAaF,GAEzCmC,YAAU,EACVC,YAAY,SACZC,YAAsB,IAATrC,GAAuB,IAATA,KAAgBhH,EAAYjB,OACvDuK,gBAAiBtJ,EAAYjB,OAd9B,SAgBE,YAAiC,IAA9BoF,EAA6B,EAA7BA,MAAON,EAAsB,EAAtBA,UAAW0F,EAAW,EAAXA,KACfC,GAAkBD,aAAA,EAAAA,EAAME,eAAgB,EACxCX,EACLjF,GAAa2F,IAAmBD,aAAhC,EAAgCA,EAAMG,YAAaF,GAAkBD,aAAH,EAAGA,EAAMG,WAEtEC,EAAexF,EAAiByF,QAAO,SAACC,EAAKC,EAAMzK,GACxD,MAEO,GAAN,eAAWwK,GAFRzB,GAEH,oBAAqB0B,GAArB,IAA2BC,cAAeC,MAAQC,OAAS5K,KAE3D,CAAgByK,GAEjB,GAAE,IAEGI,GAAcC,EAAAA,EAAAA,IAAmBR,GAEvC,OACC,SAAC,KAAD,CACCtF,YAAavI,EAAOF,GAAG0I,WACvBjF,MAAOA,EACP+K,eAAgBpE,EAAAA,KAAaoB,EAH9B,SAKE,SAAC1D,GAAc,IAAD,EACd,OACC,gCACC3G,WAAWiC,EAAAA,EAAAA,GAAK,iBAAD,OACGlD,EAAOF,GADV,wCAEd,CACCyO,OACCxG,IACCM,EAAMpF,SACNiB,EAAYjB,QAAUW,EAAmBC,OAGzC+D,EAASI,gBAVd,IAWChH,IAAK4G,EAASM,SAXf,WAaC,SAACrC,EAAD,CACCvE,KAAMtB,EAAOT,MACbmE,WAAYuI,SAAF,UAAEA,EAAyBwB,YAA3B,aAAE,EAA+Be,MAC3CzO,SAAUC,EAAOF,GACjByB,uBAAwBvB,EAAOyO,yBAC/B9K,qBAAsBiE,EAASK,mBAEhC,gBACCjH,IAAKyK,EACLxK,UAAU,iGAFX,UAIC,gBACCyN,KAAKA,EAAAA,EAAAA,IAAF,mFACQC,EAAAA,IAAQ,UAAOjD,EAAP,OAEnBzK,WAAWiC,EAAAA,EAAAA,GAAK,wBAAyBmF,EAAMpF,QAAU,iBAAkB,CAC1E,qBAAsBsI,IALxB,WASGxD,GAA8B,IAAjBM,EAAMpF,SAAgB,SAACqH,GAAD,IACnB,IAAjBjC,EAAMpF,QAAgB8E,IAAa,SAAC0C,GAAD,KACpC,SAAC7B,EAAD,CACC5I,OAAQA,EACRqI,MAAO+F,EACPrG,UAAWA,EACXc,SAAUA,GACVC,YAAakE,EACbjO,sBAAuBA,GACvBgK,eAAgB,CAACgC,EAAcuB,OAGhC,SAAC,KAAD,CACCsC,gBAAiBnC,GACjBhL,KAAMoN,QAAQrC,IACdsC,SAAU,IACVC,SAAU,IACVC,YAAU,EALX,UAOC,SAAC,IAAD,CACCnP,OAAQ2M,GACRC,qBAAsBA,eAO5B,GAGH,GAGH,CAEM,SAASwC,GAAOrQ,GACtB,OACC,SAAC,KAAD,WACC,SAAC8L,IAAD,UAAiB9L,KAGnB,C,iJCpJD,OAtGA,YAA+C,IAAD,IAAlByE,EAAkB,EAAlBA,QACnBpB,GAAMD,EAAAA,EAAAA,MAANC,EACR,GAAgC9C,EAAAA,EAAAA,KAAxB8E,EAAR,EAAQA,UAAWJ,EAAnB,EAAmBA,SACXqL,GAAqBC,EAAAA,EAAAA,MAArBD,iBACFE,GAA2BC,EAAAA,GAAAA,KAAY,SAACC,GAAD,OAAuBA,EAAMnD,MAA7B,IAEvCJ,EAAU,sBAAkB9H,GAC5BsL,EAAS,oBAAGH,EAAyBI,gBAA5B,aAAG,EAAoCzD,GAAY0D,WAAnD,QAA0D,GAEzE,OACC,SAAC,UAAD,CACCtD,OAAO,WACP7K,KAAI,sBAAiB2C,GACrBI,IAAG,WAAMJ,EAAN,8BACHK,OAAO,OACPoL,WAAW,KACXC,gBAAgB,EAChBC,cAAe,SAAClL,GAAD,OAAeA,CAAf,EACf2I,YAAU,EACVwC,OAAQ,CACP,CACCvO,KAAM,QACNwO,UAAU,EACVC,YAAa,IAEd,CACCzO,KAAM,eACN0O,MAAOT,EAAUtM,OACjB8M,YAAa,IAEd,CACCzO,KAAM,aACN0O,OAAO,EACPD,YAAa,IAEd,CACCzO,KAAM,WACN0O,MAAOnM,IAAa4F,EAAAA,EAAAA,MACpBsG,YAAa,IAEd,CACCzO,KAAM,uBACN0O,OAAO,EACPD,YAAa,IAEd,CACCzO,KAAM,2BACN0O,OAAO,EACPD,YAAa,KAGfE,UAAW,SAACC,EAAUC,GACrBjB,EAAiB,CAChBkB,QAASnO,EAAE,0BACXoO,QAAS,YAEVhN,GACA,EACDiN,QAAS,SAAC1L,EAAOuL,GAAoB,IAAD,MAEnCjB,EAAiB,CAChBkB,QAAO,UAAExL,SAAF,UAAEA,EAAOsL,gBAAT,iBAAE,EAAiBxL,YAAnB,aAAE,EAAuB0L,eAAzB,QAAoCnO,EAAE,wBAC7CoO,QAAS,SAEV,EAtDF,SAwDE,YAA+B,IAA5BnL,EAA2B,EAA3BA,OAAQqL,EAAmB,EAAnBA,aACX,OACC,4BACC,eAAItP,UAAU,yBAAd,SAAwCgB,EAAE,wBAC1C,SAAC,MAAD,CACCW,MAAOX,EAAE,gBACTuO,aAAa,wDACblP,KAAK,QACLmP,UAAWC,GAAAA,GACXC,YAAa1O,EAAE,qBACf6N,UAAQ,EACRc,eAAgBC,EAAAA,EAChBC,eAAgB5L,EAAO3F,MAAM0D,UAE9B,iBAAKhC,UAAU,qCAAf,WACC,SAAC,KAAD,CAAQoP,QAAQ,WAAW9N,KAAK,SAASY,QAASE,EAAlD,SACEpB,EAAE,aAEJ,SAAC,KAAD,CACCoO,QAAQ,YACR9N,KAAK,SACLtB,UAAU,QACVyB,MAAM,UACNqO,UAAW7L,EAAO3F,OAASgR,EAL5B,SAOEtO,EAAE,eAGJsO,IAAgB,SAAC,KAAD,CAAQS,OAAK,MAGhC,GAGH,EChHM,SAASC,KACf,OAAsChG,EAAAA,EAAAA,WAAS,GAA/C,eAAOiG,EAAP,KAAoBC,EAApB,KACQlP,GAAMD,EAAAA,EAAAA,MAANC,EAEFmP,EAAa,kBAAMD,GAAe,SAAClE,GAAD,OAAWA,CAAX,GAArB,EAEnB,OACC,iBAAKhM,UAAU,6CAAf,WACC,SAAC,KAAD,CAAQoP,QAAQ,WAAW3N,MAAM,UAAUJ,eAAgB8O,EAA3D,SACEnP,EAAE,oBAEJ,SAAC,KAAD,CAAY2M,gBAAiBwC,EAAY3P,KAAMyP,EAAanC,SAAU,IAAtE,UACC,SAAC,GAAD,CAAkB1L,QAAS+N,QAI9B,C,gBCNM,SAASC,GAAT,GAAoE,IAAhCC,EAA+B,EAA/BA,qBAC1C,GAA+CnS,EAAAA,EAAAA,KAAvCoS,EAAR,EAAQA,QAAStN,EAAjB,EAAiBA,UAAWuN,EAA5B,EAA4BA,eACpBtC,GAAqBC,EAAAA,EAAAA,MAArBD,iBACAjN,GAAMD,EAAAA,EAAAA,MAANC,EAOFwP,GALoBvF,EAAAA,EAAAA,IAAa,CACtCC,OAAQ,WACRJ,WAAW,eAAD,OAAiB9H,KAFpBoI,IAKgChE,MAAuBqJ,MAC9D,SAACC,GAAD,OAAQA,EAAG7R,MAAO0R,aAAV,EAAUA,EAAgBzR,SAAlC,IAGD,OACC,+BACC,SAAC,UAAD,CACCD,GAAI0R,aAAF,EAAEA,EAAgBzR,SACpBoM,OAAO,WACP7K,KAAI,sBAAiB2C,GACrBI,IAAG,WAAMJ,EAAN,qCAA4CuN,aAA5C,EAA4CA,EAAgBzR,SAA5D,KACHuE,OAAO,QACPoL,WAAW,KACXrC,YAAU,EACVsC,gBAAgB,EAChBC,cAAe,SAAClL,GAAD,OAAeA,CAAf,EACfmL,OAAQ,CACP,CACCvO,KAAM,YACN0O,MAAOyB,aAAF,EAAEA,EAAuBG,UAC9BC,cAAe,SAAC7B,GAAD,OAAYA,EAAQ,CAAElQ,GAAIkQ,EAAMlQ,IAAO,IAAvC,EACfiQ,YAAa,GACbxN,KAAM,UAEP,CACCjB,KAAM,gBACN0O,MAAOyB,aAAF,EAAEA,EAAuBK,cAC9BD,cAAe,SAAC7B,GAAD,OAAYA,EAAQ,CAAElQ,GAAIkQ,EAAMlQ,IAAO,IAAvC,EACfiQ,YAAa,GACbxN,KAAM,UAEP,CACCjB,KAAM,2BACN0O,OAAO,EACP6B,cAAe,SAAC7B,EAAO9K,GAAR,QAAsBA,EAAe4M,aAArC,EACf/B,YAAa,GACbxN,KAAM,UAEP,CACCjB,KAAM,QACN0O,MAAOyB,aAAF,EAAEA,EAAuBlS,MAC9BwQ,YAAa,GACbxN,KAAM,WAGR0N,UAAW,SAACC,EAAUC,GACrBmB,GACA,EACDhB,QAAS,SAAC1L,EAAOuL,GAAoB,IAAD,MAEnCjB,EAAiB,CAChBkB,QAAO,UAAExL,SAAF,UAAEA,EAAOsL,gBAAT,iBAAE,EAAiBxL,YAAnB,aAAE,EAAuB0L,eAAzB,QAAoCnO,EAAE,wBAC7CoO,QAAS,SAEV,EAhDF,SAkDE,YAA+B,IAA5BnL,EAA2B,EAA3BA,OAAQqL,EAAmB,EAAnBA,aACX,OACC,4BACC,eAAItP,UAAU,yBAAd,SAAwCgB,EAAE,qBAC1C,gBAAKhB,UAAU,6BAAf,UACC,SAAC,MAAD,CACCwP,UAAWsB,GAAAA,EACXC,kBAAmBC,EAAAA,GACnBrP,MAAOX,EAAE,iBACTuO,aAAa,yDACblP,KAAK,gBACL4Q,YAAY,QACZC,YAAY,KACZC,cAAY,EACZC,UAAQ,EACRC,aAAW,EACX3B,YAAa1O,EAAE,+BACfsQ,SAAS,EACTC,eAAc,WAAMvO,EAAN,8BACdwO,kBAAmB,SAACC,GAAD,MAAqB,CACvCvF,MAAO,CACNuF,OAAAA,EACAC,SAAWpB,EAAoB,OAAV,SAHJ,EAMnBqB,iBAAkB,SAACC,GAAD,aACjBA,EAAO/S,MAAO2R,aAAd,EAAcA,EAAuB3R,MAAMoF,SAAA,UAAAA,EAAQ0M,iBAAR,eAAmB9R,MAAO+S,EAAO/S,EAD3D,EAGlBgT,eAAe,QAGjB,gBAAK7R,UAAU,6BAAf,UACC,SAAC,MAAD,CACCwP,UAAWsB,GAAAA,EACXC,kBAAmBC,EAAAA,GACnBrP,MAAOX,EAAE,aACTuO,aAAa,yDACblP,KAAK,YACL4Q,YAAY,QACZC,YAAY,KACZC,cAAY,EACZC,UAAQ,EACR1B,YAAa1O,EAAE,2BACfsQ,SAAS,EACTD,aAAW,EACXE,eAAc,WAAMvO,EAAN,8BACdwO,kBAAmB,SAACC,GAAD,MAAqB,CACvCvF,MAAO,CACNuF,OAAAA,EACAC,SAAWpB,EAAoB,OAAV,SAHJ,EAMnBqB,iBAAkB,SAACC,GAAD,aACjBA,EAAO/S,MAAO2R,aAAd,EAAcA,EAAuB3R,MACrCoF,SAAA,UAAAA,EAAQ4M,qBAAR,eAAuBhS,MAAO+S,EAAO/S,EAFpB,EAIlBgT,eAAe,QAIjB,iBAAK7R,UAAU,qCAAf,WACC,SAAC,KAAD,CAAQoP,QAAQ,WAAW9N,KAAK,SAASY,QAASmO,EAAlD,SACErP,EAAE,aAEJ,SAAC,KAAD,CACCoO,QAAQ,YACR9N,KAAK,SACLtB,UAAU,QACVyB,MAAM,UACNqO,SAAUR,OAAoBrL,EAAO0M,aAAgB1M,EAAO4M,eAL7D,SAOE5M,EAAO0M,WAAa1M,EAAO4M,cAAgB7P,EAAE,OAASA,EAAE,cAG1DsO,IAAgB,SAAC,KAAD,CAAQS,OAAK,MAGhC,KAIJ,C,SCvED,OA7EA,YAA+C,IAAnB3N,EAAkB,EAAlBA,QAC3B,GAAsClE,EAAAA,EAAAA,KAA9B8E,EAAR,EAAQA,UAAWuN,EAAnB,EAAmBA,eACXtC,GAAqBC,EAAAA,EAAAA,MAArBD,iBACAjN,GAAMD,EAAAA,EAAAA,MAANC,EAER,OACC,SAAC,UAAD,CACCnC,GAAI0R,aAAF,EAAEA,EAAgBzR,SACpBoM,OAAO,WACP7K,KAAI,sBAAiB2C,GACrBI,IAAG,WAAMJ,EAAN,qCAA4CuN,aAA5C,EAA4CA,EAAgBzR,SAA5D,KACHuE,OAAO,MACPoL,WAAW,KACXrC,YAAU,EACVsC,gBAAgB,EAChBC,cAAe,SAAClL,GAAD,OAAeA,CAAf,EACfmL,OAAQ,CACP,CACCvO,KAAM,QACNwO,UAAU,EACVE,OAAOwB,aAAA,EAAAA,EAAgBlQ,OAAQ,GAC/ByO,YAAa,KAGfE,UAAW,SAACC,EAAUC,GACrBjB,EAAiB,CAChBkB,QAASnO,EAAE,0BACXoO,QAAS,YAEVhN,GACA,EACDiN,QAAS,SAAC1L,EAAOuL,GAAoB,IAAD,MAEnCjB,EAAiB,CAChBkB,QAAO,UAAExL,SAAF,UAAEA,EAAOsL,gBAAT,iBAAE,EAAiBxL,YAAnB,aAAE,EAAuB0L,eAAzB,QAAoCnO,EAAE,wBAC7CoO,QAAS,SAEV,EA/BF,SAiCE,YAA+B,IAA5BnL,EAA2B,EAA3BA,OAAQqL,EAAmB,EAAnBA,aACX,OACC,4BACC,eAAItP,UAAU,yBAAd,SAAwCgB,EAAE,uBAC1C,SAAC,MAAD,CACCW,MAAOX,EAAE,gBACTuO,aAAa,wDACblP,KAAK,QACLmP,UAAWC,GAAAA,GACXC,YAAa1O,EAAE,qBACf6N,UAAQ,EACRiD,WAAS,EACTjC,eAAgB5L,EAAO3F,MAAM0D,OAC7B2N,eAAgBC,EAAAA,EAChB/Q,GAAG,cAEJ,iBAAKmB,UAAU,qCAAf,WACC,SAAC,KAAD,CAAQoP,QAAQ,WAAW9N,KAAK,SAASY,QAASE,EAAlD,SACEpB,EAAE,aAEJ,SAAC,KAAD,CACCoO,QAAQ,YACR9N,KAAK,SACLtB,UAAU,QACVyB,MAAM,UACNqO,UAAW7L,EAAO3F,OAASgR,EAL5B,SAOEtO,EAAE,eAGJsO,IAAgB,SAAC,KAAD,CAAQS,OAAK,MAGhC,GAGH,ECjFM,SAASgC,KACf,OAA4E7T,EAAAA,EAAAA,KAApEoS,EAAR,EAAQA,QAAS0B,EAAjB,EAAiBA,oBAAqBhP,EAAtC,EAAsCA,UAAWiP,EAAjD,EAAiDA,uBACjD,GAA8BjI,EAAAA,EAAAA,WAAS,GAAvC,eAAOkI,EAAP,KAAgBC,EAAhB,KACQC,GAAqBC,EAAAA,GAAAA,KAArBD,iBACR,GAAoCpI,EAAAA,EAAAA,UAA4B,MAAhE,eAAOsI,EAAP,KAAmBC,EAAnB,KACQvR,GAAMD,EAAAA,EAAAA,MAANC,EAEFwR,EAAQ,mCAAG,WAAOC,GAAP,wEAChBA,EAAEC,iBACFP,GAAW,GAFK,kBAKTC,EAAiB,CACtBO,aAAcX,aAAF,EAAEA,EAAqBY,WACnCC,aAAcP,aAAF,EAAEA,EAAYzT,GAC1BiU,YAAaxC,EACbyC,YAAaf,aAAF,EAAEA,EAAqBe,YAClCC,iBAAkB,EAClB7H,SAAU8H,OAAOjB,aAAD,EAACA,EAAqB7G,UACtC+H,eAAgBlB,aAAF,EAAEA,EAAqBkB,eACrCrV,YAAY,IAbE,OAefsU,GAAW,GACXgB,IAhBe,gDAkBfhB,GAAW,GAlBI,yDAAH,sDAsBRgB,EAAyB,kBAAMlB,EAAuB,KAA7B,EAE/B,OACC,kBAAMO,SAAUA,EAAhB,WACC,eAAIxS,UAAU,yBAAd,4BAGA,SAAC,KAAD,CACC+Q,kBAAmBC,EAAAA,GACnB3Q,KAAK,gBACLqP,YAAY,gBACZwB,YAAY,KACZD,YAAY,QACZY,eAAe,GACfV,cAAY,EACZE,aAAW,EACX+B,eAAa,EACbrE,MAAOuD,EAEPe,uBAAqB,EACrB/B,SAAS,EACTC,eAAc,WAAMvO,EAAN,8BACdwO,kBAAmB,SAACC,GAAD,MAAqB,CACvCvF,MAAO,CACNuF,OAAAA,EACAC,SAAWpB,EAAoB,OAAV,SAHJ,EAMnBqB,iBAAkB,SAACC,GAAD,OAAwBA,EAAO/S,MAAOmT,aAAd,EAAcA,EAAqBY,WAA3D,EAClBU,SAAU,SAAC1B,GAAD,OAAwBW,EAAcX,EAAtC,KAGX,iBAAK5R,UAAU,qCAAf,WACC,SAAC,KAAD,CAAQoP,QAAQ,WAAW9N,KAAK,SAASY,QAASiR,EAAlD,SACEnS,EAAE,aAEJ,SAAC,KAAD,CACCoO,QAAQ,YACR9N,KAAK,SACLtB,UAAU,QACVyB,MAAM,UACNqO,SAAUoC,IAAYI,EALvB,uBAUAJ,IAAW,SAAC,KAAD,CAAQnC,OAAK,MAG3B,C,sDCrDD,SAASwD,KACR,OAUIrV,EAAAA,EAAAA,KATHsV,EADD,EACCA,YACA5Q,EAFD,EAECA,SACAD,EAHD,EAGCA,mBACA/B,EAJD,EAICA,kBACA2P,EALD,EAKCA,eACAyB,EAND,EAMCA,oBACAC,EAPD,EAOCA,uBACA5H,EARD,EAQCA,YACApH,EATD,EASCA,YAED,GAAwDsH,EAAAA,EAAAA,KAAxD,eAAOkJ,EAAP,KAA8BC,EAA9B,KAAsB1O,OACtB,GADA,MAQI9G,EAAAA,EAAAA,MANH8E,EADD,EACCA,UACA2Q,EAFD,EAECA,eACAC,EAHD,EAGCA,gBACAC,EAJD,EAICA,2BACAC,EALD,EAKCA,8BACAxJ,EAND,EAMCA,WAEOpJ,GAAUC,EAAAA,EAAAA,KAAVD,MACR,GAA0C6S,EAAAA,EAAAA,MAAlCC,EAAR,EAAQA,oBAAqBC,EAA7B,EAA6BA,SACrBC,GAAoB7B,EAAAA,GAAAA,KAApB6B,gBACAC,GAAgCC,EAAAA,EAAAA,MAAhCD,4BACR,GACC5T,EAAAA,EAAAA,MADO8T,EAAR,EAAQA,oBAAqBC,EAA7B,EAA6BA,mBAAoBC,EAAjD,EAAiDA,mBAAoBC,GAArE,EAAqEA,kBAE7DxT,IAAMD,EAAAA,EAAAA,MAANC,EAEFyT,IAAQrG,EAAAA,GAAAA,KAAY,SAACC,GAAD,aAAuBA,SAAvB,UAAuBA,EAAOnD,cAA9B,aAAuB,EAAeuJ,KAAtC,KAG1BC,EAAAA,EAAAA,OAGAC,EAAAA,EAAAA,MAEA,IAAMC,GAA2BzQ,KAAK0Q,MAAM3Q,EAAAA,GAAAA,IAAY,uBAAyB,MAAMtB,GACjFiI,GAAyBlI,EAAmBC,IAAagS,GACzDE,IAA4BhV,EAAAA,EAAAA,UACjC,kBAAMiV,KAAIlK,GAAwB,8CAA+C,KAAjF,GACA,CAACA,MAGF1C,EAAAA,EAAAA,YAAU,WAET,OADAqL,GAAY,GACL,WACNA,GAAY,EACZ,CACD,GAAE,CAACA,KAGJrL,EAAAA,EAAAA,YAAU,WACT,OAAO,WACNwL,EAAe,IACfC,GAAgB,EAChB,CACD,GAAE,KAGHzL,EAAAA,EAAAA,YAAU,WACLnF,IACH,iBAAC,8FACMmR,IADN,0CAAD,EAID,GAAE,CAACnR,EAAWJ,IAEf,IAAMyN,GAAuB,kBAAMzP,EAAkB,KAAxB,EACvBoU,GAA+B,kBAAM/C,EAAuB,KAA7B,EAC/BgD,GAAkC,kBAAMnB,EAA8B,KAApC,EAExC,OACC,SAAC,GAAAoB,EAAD,CAAyBC,MAAOC,GAAAA,EAAhC,UACC,gBACCrV,IAAK0T,EACLzT,WAAWiC,EAAAA,EAAAA,GAAK,oEAAqE,CACpF,0BAA2BqI,EAC3B,gBAAiBpJ,EACjB,eAAgBA,IALlB,YAQI+S,GAAoC,IAAxBD,KACd,SAACqB,GAAA,EAAD,WACC,iDAGDrS,GACA,SAAC,QAAD,CACCkI,OAAQ,WACR7K,KAAI,sBAAiB2C,GACrBI,IAAG,WAAMJ,EAAN,8BACHsO,SAAS,EACTrF,OAAQ,CACPC,MAAO,CACNwF,SAAU9O,IAAa4F,EAAAA,EAAAA,MAAe,OAAS,UAGjD8M,QAAS,SAAC7R,GAAD,OAAeA,CAAf,EAVV,SAYE,YAAiC,IAA9B2D,EAA6B,EAA7BA,MAAON,EAAsB,EAAtBA,UACJyH,GAD0B,EAAX/B,KACJpF,EAAM/E,KAAI,SAACuE,GAAD,OAAeA,CAAf,KAErB2O,GAAoBC,EAAAA,GAAAA,IAAqC,CAC9DjH,SAAAA,EACAkG,MAAAA,GACA7R,SAAAA,EACAK,YAAAA,EACA4H,uBAAAA,KAGD,OACC,SAAC,KAAD,CAAiB4K,UAAWvB,EAA5B,UACC,gBACClU,UACC,qIAEDyN,KAAKA,EAAAA,EAAAA,IAAF,mFACQiG,GAAkBzK,EAAAA,GAAW,EAAI,KAL7C,WAQC,SAAC,KAAD,CACCX,YAAaE,EAAAA,EAAAA,oBACbkN,UAAU,aACVpU,KAAMkH,EAAAA,EAAAA,sBAHP,SAKE,SAAC7B,GAAc,IAAD,MACd,OACC,gBAAK3G,UAAU,OAAf,UACC,gCACCA,UAAU,yBACN2G,EAASgP,gBAFd,IAGC5V,IAAK4G,EAASM,SAHf,WAKC,2BACG4D,UAAA,UAAAA,GAAwB+K,mBAAxB,mBAAqCC,qBAArC,SAAoD7T,SAGrD8S,GACEgB,KACAjL,UADM,UACNA,GAAwB+K,mBADlB,aACN,EAAqCC,cACrC,gBAEAtH,GACDlM,KAAI,SAACuE,EAAkBtE,GACxB,OACC,SAACyT,GAAA,EAAD,CACCC,IAAI,EAEEC,QAAS,KAAO3T,EAAQ,GAH/B,UAKC,SAAC0L,GAAD,CAAQjP,OAAQ6H,EAAoBtE,MAAOA,GAAhBsE,EAAK/H,KAH3B+H,EAAK/H,IAAMyD,EAMlB,IACAqE,EAAS+I,eAGV5I,GACDuD,IACCpH,EAAYjB,SACZ6I,IACA,SAACmF,GAAD,IACG,UAIP,KAGAlJ,IACD,0BACC,gBAAK9G,UAAU,OAAf,UACE,OAAIsJ,MAAM,IAAIjH,KAAI,SAACuE,EAAWtE,GAC9B,OACC,SAACyT,GAAA,EAAD,CAAMC,IAAI,EAAwBC,QAAS,KAAO3T,EAAQ,GAA1D,UACC,gBAAKtC,UAAW,OAAhB,UACC,SAAC2F,EAAD,OAFmBrD,EAMtB,QAIHwE,IACAyO,IACA1K,IAA0B5H,EAAYjB,SACtC,gBAAKhC,UAAU,kEAAf,SACEgB,GAAE,4BAED,MAGJ,SAAC,KAAD,CACC2M,gBAAiB0C,GACjB7P,KAA+B,UAAzB+P,aAAA,EAAAA,EAAgBjP,SAAoBiP,EAC1CzC,SAAU,IAHX,UAKC,SAACoI,GAAD,CAAgB9T,QAASiO,QAI1B,SAAC,KAAD,CACC8F,eAAgB9B,EAChB+B,OAAQxI,QAAiC,YAAzB2C,aAAA,EAAAA,EAAgBjP,SAAsBiP,GACtD8F,cAAehG,GACf/R,MAAO0C,GAAE,6BAA8B,CACtCsV,WAAY/F,aAAF,EAAEA,EAAgBlQ,KAAKkW,gBAElCC,WAAS,EACTC,UAAWnC,KAIZ,SAAC,KAAD,CACC6B,eAAgB5B,EAChB6B,OAAQxI,QACkB,mBAAzB2C,aAAA,EAAAA,EAAgBjP,SAA6BiP,GAE9C8F,cAAehG,GACf/R,OACC,2BACC,eAAI0B,UAAU,mBAAd,SAAkCuQ,aAAlC,EAAkCA,EAAgBlQ,QAClD,cAAGL,UAAU,cAAb,UAA4BgB,GAAE,0BAA9B,UAGFwV,WAAS,EACTC,UAAWjC,MAIZ,SAAC,KAAD,CACC7G,gBAAiB0C,GACjB7P,KAA+B,iBAAzB+P,aAAA,EAAAA,EAAgBjP,SAA2BiP,EACjDzC,SAAU,IAHX,UAKC,SAACsC,GAAD,CAA0BC,qBAAsBA,QAIjD,SAAC,KAAD,CACC1C,gBAAiBqH,GACjBxU,OAAQwR,EACRlE,SAAU,IAHX,UAKC,SAACiE,GAAD,OAID,SAAC,KAAD,CACCpE,gBAAiBsH,GACjBzU,KAA2C,UAArCqT,aAAA,EAAAA,EAA4BvS,MAClCwM,SAAU,IAHX,UAKC,SAAC,MAAD,CAA4B1L,QAAS6S,WAKzC,IAEC,SAIP,CAEc,SAASyB,KACvB,OACC,SAAC,KAAD,WACC,SAACnD,GAAD,KAGF,C","sources":["pages/Cases/components/CaseItem.tsx","pages/Cases/components/StatusHeaderDots.tsx","pages/Cases/components/StatusHeader.tsx","shared/components/Loaders/CaseItemLoader.tsx","shared/components/Loaders/StatusLoader.tsx","pages/Cases/components/SearchCaseItem.tsx","pages/Cases/components/DragItem.tsx","pages/Cases/components/DndRow.tsx","pages/Cases/components/ListComponent.tsx","pages/Cases/components/Status.tsx","pages/Cases/components/StatusCreateForm.tsx","pages/Cases/components/StatusCreateButton.tsx","pages/Cases/components/ConfirmationStatusesForm.tsx","pages/Cases/components/StatusEditForm.tsx","pages/Cases/components/StatusChangeMobile.tsx","pages/Cases/Cases.tsx"],"sourcesContent":["import React, { useMemo, useRef } from 'react';\nimport { useAppState } from 'shared/state';\nimport { CaseItemMarkup } from './CaseItemMarkup';\nimport { Priority } from 'shared/interfaces';\nimport { EntityDraft } from '../../GroupChat/types';\nimport { ErrorBoundary } from 'shared/components';\nimport { ToggleCaseDetailsOpen } from './case-details/CaseDetails.types';\n// import { useQueryParams } from '../../../shared/hooks';\n\ntype CompanyType = {\n\tid: number;\n\tname: string;\n};\n\nexport type CaseType = {\n\tid: number;\n\ttitle: any;\n\tcase_number: string;\n\tbusiness_company: CompanyType;\n\tclient_company: CompanyType;\n\tdepartment: {\n\t\tid: number;\n\t\tname: string;\n\t\ticon: {\n\t\t\tthumbnail: string | null;\n\t\t\tthumbnail_150: string | null;\n\t\t};\n\t};\n\ttext?: string;\n\tsub_department: {\n\t\tid: number;\n\t\tname: string;\n\t\ticon: {\n\t\t\tthumbnail: string | null;\n\t\t\tthumbnail_150: string | null;\n\t\t};\n\t};\n\tstatus: {\n\t\tid: number;\n\t\ttitle: string;\n\t};\n\tlast_message_type: string | null;\n\tlast_message_text: string;\n\tlast_message_author: {\n\t\tfirst_name: string;\n\t\tlast_name: string;\n\t};\n\tlast_message_time: any;\n\tpriority: Priority;\n\tpin_time: null | string;\n\tdraft_message: EntityDraft;\n\tassignee_ids: null | number[];\n\thas_linked_case: boolean;\n\trelated_to_id: boolean;\n\trecurring_id: number;\n\tlast_read_message: number | null;\n};\n\ntype Props = {\n\tcaseData: CaseType;\n\tisFetched: boolean;\n\tisDragging?: boolean;\n\ttoggleCaseDetailsOpen: ToggleCaseDetailsOpen;\n};\n\nconst CaseItemInner = (props: Props) => {\n\tconst { caseData, isDragging, toggleCaseDetailsOpen /*, isFetched */ } = props;\n\tconst caseRef = useRef<HTMLDivElement>(null);\n\n\tconst { unreadMessagesCount /*, searchQuery, caseType*/ } = useAppState();\n\t// const { query } = useQueryParams<{ case: string; status: string; searchedMessageId?: string }>();\n\n\tconst department = caseData.department,\n\t\tsub_department = caseData.sub_department,\n\t\tcaseTitle = caseData.title,\n\t\tlast_message_type = caseData.last_message_type,\n\t\tlast_message_text = caseData.last_message_text,\n\t\tlast_message_author = caseData.last_message_author,\n\t\tcase_number = caseData.case_number,\n\t\tlast_message_time = caseData.last_message_time,\n\t\tcaseId = caseData.id,\n\t\tstatusId = caseData?.status?.id,\n\t\tpriority = caseData.priority,\n\t\tdraftMessage = caseData.draft_message,\n\t\thasLinkedCase = caseData.has_linked_case,\n\t\trelatedTo = caseData.related_to_id,\n\t\trecurringId = caseData.recurring_id,\n\t\tlastReadMessage = caseData.last_read_message,\n\t\tassigneeIds = caseData.assignee_ids;\n\n\tconst hasUnread = useMemo(() => unreadMessagesCount?.[caseId], [caseId, unreadMessagesCount]);\n\n\t// const isActive = Number(query.case) === caseId;\n\n\t// useEffect(() => {\n\t// \tif (isActive && isFetched) {\n\t// \t\tcaseRef?.current?.scrollIntoView({ behavior: 'smooth', block: 'start' });\n\t// \t}\n\t// }, [query, statusId]);\n\n\treturn (\n\t\t<div ref={caseRef} className={`case-${caseId} h-full`}>\n\t\t\t<CaseItemMarkup\n\t\t\t\tcase_number={case_number}\n\t\t\t\tcaseTitle={caseTitle}\n\t\t\t\tdepartment={department}\n\t\t\t\tsub_department={sub_department}\n\t\t\t\tlast_message_author={last_message_author}\n\t\t\t\tlast_message_time={last_message_time}\n\t\t\t\tlast_message_type={last_message_type}\n\t\t\t\tlast_message_text={last_message_text}\n\t\t\t\thasUnread={hasUnread}\n\t\t\t\tcaseId={caseId}\n\t\t\t\tstatusId={statusId}\n\t\t\t\tpin_time={caseData.pin_time}\n\t\t\t\tpriority={priority}\n\t\t\t\tdraftMessage={draftMessage}\n\t\t\t\tassigneeIds={assigneeIds}\n\t\t\t\tisDragging={isDragging}\n\t\t\t\ttoggleCaseDetailsOpen={toggleCaseDetailsOpen}\n\t\t\t\thasLinkedCase={hasLinkedCase}\n\t\t\t\trelatedTo={relatedTo}\n\t\t\t\trecurringId={recurringId}\n\t\t\t\tlastReadMessage={lastReadMessage}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport function CaseItem(props: Props) {\n\treturn (\n\t\t<ErrorBoundary isCompact>\n\t\t\t<CaseItemInner {...props} />\n\t\t</ErrorBoundary>\n\t);\n}\n","import React, { useMemo } from 'react';\nimport { BiDotsVerticalRounded } from 'react-icons/bi';\nimport { Checkbox, FormControlLabel, Menu } from 'shared/components/Elements';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { useStatusHeaderMenu } from '../hooks';\nimport { useAppState } from 'shared/state';\nimport { useTranslation } from 'react-i18next';\nimport { useTranslationHelpers } from 'shared/hooks/useTranslationHelpers';\nimport clsx from 'clsx';\n\ntype Props = {\n\tstatusId: number;\n\tname: string;\n\tisConfirmationRequired: boolean;\n};\n\nexport function StatusHeaderDots({ statusId, name, isConfirmationRequired }: Props) {\n\tconst { open, anchorEl, handleClick, handleCloseMenu } = useStatusHeaderMenu();\n\tconst { setSelectedStatus, isAdmin, unreadCasesCountByStatus } = useAppState();\n\tconst { t, i18n } = useTranslation();\n\tconst { isRTL } = useTranslationHelpers();\n\n\tconst menuItems = useMemo(\n\t\t() => [\n\t\t\t{\n\t\t\t\ttitle: t('edit_status_name'),\n\t\t\t\tonClickHandler: () => {\n\t\t\t\t\thandleCloseMenu();\n\t\t\t\t\tsetSelectedStatus({ name, statusId, type: 'edit' });\n\t\t\t\t},\n\t\t\t\thasToShowComponent: isAdmin\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: t('delete_status'),\n\t\t\t\tonClickHandler: () => {\n\t\t\t\t\thandleCloseMenu();\n\t\t\t\t\tsetSelectedStatus({ name, statusId, type: 'delete' });\n\t\t\t\t},\n\t\t\t\thasToShowComponent: isAdmin\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: t('mark_all_read'),\n\t\t\t\tonClickHandler: () => {\n\t\t\t\t\thandleCloseMenu();\n\t\t\t\t\tsetSelectedStatus({ name, statusId, type: 'mark_all_read' });\n\t\t\t\t},\n\t\t\t\thasToShowComponent: unreadCasesCountByStatus[statusId]\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: (\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox color=\"primary\" checked={isConfirmationRequired} className=\"!py-0\" />\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel={t('add_buttons')}\n\t\t\t\t\t\tlabelPlacement=\"start\"\n\t\t\t\t\t\tclassName=\"!ml-0\"\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t\tonClickHandler: () => {\n\t\t\t\t\thandleCloseMenu();\n\t\t\t\t\tsetSelectedStatus({ name, statusId, type: 'add_buttons' });\n\t\t\t\t},\n\t\t\t\thasToShowComponent: isAdmin\n\t\t\t}\n\t\t],\n\t\t[i18n.language, isAdmin, unreadCasesCountByStatus[statusId]]\n\t).filter((menuItem) => menuItem.hasToShowComponent);\n\n\treturn (\n\t\t<>\n\t\t\t{menuItems.length ? (\n\t\t\t\t<div\n\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t' more-btn absolute top-3 h-6 w-4 cursor-pointer text-right text-kgrey-menuText transition-colors hover:text-primary dark:text-white dark:hover:text-primary',\n\t\t\t\t\t\t{ 'right-2.5': !isRTL, 'left-2.5': isRTL }\n\t\t\t\t\t)}\n\t\t\t\t\tonClick={handleClick}\n\t\t\t\t>\n\t\t\t\t\t<BiDotsVerticalRounded className={'inline'} />\n\t\t\t\t</div>\n\t\t\t) : null}\n\n\t\t\t{open ? (\n\t\t\t\t<Menu id=\"long-menu\" anchorEl={anchorEl} keepMounted open={open} onClose={handleCloseMenu}>\n\t\t\t\t\t{menuItems.map((menuItem, index) => (\n\t\t\t\t\t\t<MenuItem key={index} onClick={menuItem.onClickHandler}>\n\t\t\t\t\t\t\t{menuItem.title}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t\t{/* TODO: remove below code later if 4272 is successful, it is replace by dunamic mapping menu items */}\n\t\t\t\t\t{/* {isAdmin ? (\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\thandleCloseMenu();\n\t\t\t\t\t\t\t\tsetSelectedStatus({ name, statusId, type: 'edit' });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('edit_status_name')}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t) : null}\n\n\t\t\t\t\t{isAdmin ? (\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\thandleCloseMenu();\n\t\t\t\t\t\t\t\tsetSelectedStatus({ name, statusId, type: 'delete' });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('delete_status')}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{unreadCasesCountByStatus[statusId] ? (\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\thandleCloseMenu();\n\t\t\t\t\t\t\t\tsetSelectedStatus({ name, statusId, type: 'mark_all_read' });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('mark_all_read')}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{isAdmin ? (\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\thandleCloseMenu();\n\t\t\t\t\t\t\t\tsetSelectedStatus({ name, statusId, type: 'add_buttons' });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Checkbox color=\"primary\" checked={isConfirmationRequired} className=\"!py-0\" />\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={t('add_buttons')}\n\t\t\t\t\t\t\t\tlabelPlacement=\"start\"\n\t\t\t\t\t\t\t\tclassName=\"!ml-0\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t) : null} */}\n\t\t\t\t</Menu>\n\t\t\t) : null}\n\t\t</>\n\t);\n}\n","import React from 'react';\nimport { useAppState } from 'shared/state';\nimport { ErrorBoundary } from 'shared/components';\nimport { DraggableProvidedDragHandleProps } from 'react-beautiful-dnd';\nimport { StatusHeaderDots } from './StatusHeaderDots';\nimport IconButton from '@material-ui/core/IconButton';\nimport { IconSortDefault, IconSortDown } from '../../../shared/icons';\nimport clsx from 'clsx';\nimport { useAxios } from '../../../shared/hooks';\nimport { storage } from '../../../shared/services';\nimport { CASES_UNREAD_BADGE_COUNT } from '../constants';\nimport { useTranslation } from 'react-i18next';\nimport { useTranslationHelpers } from 'shared/hooks/useTranslationHelpers';\n\ntype Props = {\n\tname: string;\n\ttotalCount: number;\n\tstatusId: number;\n\tdraggableHandleProps: DraggableProvidedDragHandleProps | undefined;\n\tisConfirmationRequired: boolean;\n};\n\nexport function StatusHeaderInner({\n\tname,\n\ttotalCount,\n\tstatusId,\n\tdraggableHandleProps,\n\tisConfirmationRequired\n}: Props) {\n\tconst {\n\t\tunreadCasesCountByStatus,\n\t\tselectedCaseFilter,\n\t\tcaseType,\n\t\tsetStatusReverseState,\n\t\tstatusReverseState,\n\t\tsettingsData,\n\t\tcompanyId,\n\t\tsearchQuery\n\t} = useAppState();\n\tconst { t } = useTranslation();\n\tconst { isRTL } = useTranslationHelpers();\n\n\tconst { fetchData: saveCasesReverseData } = useAxios({\n\t\turl: `/${companyId}/settings/`,\n\t\tmethod: 'post',\n\t\tdynamicValues: true,\n\t\tcb: {\n\t\t\tsuccess: (data, args) => {},\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-empty-function\n\t\t\terror: (error) => {}\n\t\t}\n\t});\n\n\tconst handleReverseState = async () => {\n\t\tsetStatusReverseState(statusId);\n\n\t\tconst payload = {\n\t\t\tsettings_json: {\n\t\t\t\t...settingsData?.settings_json,\n\t\t\t\tcases_reverse_data: {\n\t\t\t\t\t...statusReverseState,\n\t\t\t\t\t[statusId]: !statusReverseState?.[statusId]\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tawait saveCasesReverseData({\n\t\t\tvalues: payload\n\t\t});\n\t\tif ('settings_json' in payload) {\n\t\t\tstorage.set('casesReverseData', JSON.stringify(payload?.settings_json?.cases_reverse_data));\n\t\t}\n\t};\n\n\tconst isFilterNotSelected = !selectedCaseFilter[caseType];\n\tconst isThereUnreadCases =\n\t\tstatusId in unreadCasesCountByStatus && unreadCasesCountByStatus[statusId] > 0;\n\tconst isSearchEnabled = searchQuery.length > 0;\n\tconst showUnreadCount = isThereUnreadCases && isFilterNotSelected && !isSearchEnabled;\n\n\treturn (\n\t\t<div\n\t\t\tclassName={clsx(\n\t\t\t\t'status__header relative mb-4 w-full flex-shrink-0 rounded-xl bg-kgrey-bg py-3.5 pl-5 leading-none dark:bg-kdark-lighter',\n\t\t\t\t{\n\t\t\t\t\t'pr-14 ': !isRTL,\n\t\t\t\t\t'pl-14 pr-5': isRTL\n\t\t\t\t}\n\t\t\t)}\n\t\t\t{...draggableHandleProps}\n\t\t>\n\t\t\t<strong className={'break-words px-1.5 font-medium text-black dark:text-white'}>\n\t\t\t\t{name}\n\t\t\t</strong>\n\t\t\t<div className=\"inline-block\">\n\t\t\t\t{totalCount > 0 ? (\n\t\t\t\t\t<span className={'ml-2 text-sm font-thin text-kgrey-variant-2'}>\n\t\t\t\t\t\t/ {t('total_cases')} <strong className={'font-semibold'}>{totalCount}</strong>\n\t\t\t\t\t</span>\n\t\t\t\t) : null}\n\t\t\t\t{showUnreadCount ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t'ml-2 inline-block h-6 w-6 rounded-full bg-primary text-center text-sm font-semibold leading-6 text-white',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'!w-fit px-1': unreadCasesCountByStatus[statusId] >= CASES_UNREAD_BADGE_COUNT\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{unreadCasesCountByStatus[statusId]}\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</div>\n\n\t\t\t<IconButton\n\t\t\t\tclassName={clsx('!absolute  top-2', {\n\t\t\t\t\t'!text-primary': statusReverseState?.[statusId],\n\t\t\t\t\t'right-7': !isRTL,\n\t\t\t\t\t'left-7': isRTL\n\t\t\t\t})}\n\t\t\t\tsize=\"small\"\n\t\t\t\tonClick={handleReverseState}\n\t\t\t>\n\t\t\t\t{statusReverseState?.[statusId] ? <IconSortDown /> : <IconSortDefault />}\n\t\t\t</IconButton>\n\t\t\t<StatusHeaderDots\n\t\t\t\tstatusId={statusId}\n\t\t\t\tname={name}\n\t\t\t\tisConfirmationRequired={isConfirmationRequired}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport function StatusHeader(props: Props) {\n\treturn (\n\t\t<ErrorBoundary isCompact>\n\t\t\t<StatusHeaderInner {...props} />\n\t\t</ErrorBoundary>\n\t);\n}\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\n\nexport const CaseItemLoader = (props: any) => (\n\t<ContentLoader\n\t\tspeed={2}\n\t\twidth={362}\n\t\theight={150}\n\t\tviewBox=\"0 0 362 150\"\n\t\tbackgroundColor=\"#f3f3f3\"\n\t\tforegroundColor=\"#ecebeb\"\n\t\t{...props}\n\t>\n\t\t<rect x=\"4\" y=\"24\" rx=\"0\" ry=\"0\" width=\"0\" height=\"1\" />\n\t\t<rect x=\"117\" y=\"153\" rx=\"0\" ry=\"0\" width=\"0\" height=\"1\" />\n\t\t<rect x=\"8\" y=\"1\" rx=\"4\" ry=\"4\" width=\"104\" height=\"12\" />\n\t\t<rect x=\"274\" y=\"0\" rx=\"7\" ry=\"7\" width=\"61\" height=\"17\" />\n\t\t<circle cx=\"351\" cy=\"7\" r=\"6\" />\n\t\t<circle cx=\"372\" cy=\"30\" r=\"6\" />\n\t\t<circle cx=\"351\" cy=\"23\" r=\"6\" />\n\t\t<circle cx=\"351\" cy=\"38\" r=\"6\" />\n\t\t<circle cx=\"26\" cy=\"56\" r=\"22\" />\n\t\t<rect x=\"66\" y=\"39\" rx=\"5\" ry=\"5\" width=\"199\" height=\"13\" />\n\t\t<rect x=\"68\" y=\"63\" rx=\"3\" ry=\"3\" width=\"136\" height=\"10\" />\n\t\t<rect x=\"68\" y=\"83\" rx=\"3\" ry=\"3\" width=\"135\" height=\"8\" />\n\t\t<rect x=\"25\" y=\"119\" rx=\"5\" ry=\"5\" width=\"242\" height=\"14\" />\n\t\t<rect x=\"327\" y=\"120\" rx=\"7\" ry=\"7\" width=\"17\" height=\"14\" />\n\t\t<rect x=\"304\" y=\"120\" rx=\"8\" ry=\"8\" width=\"17\" height=\"14\" />\n\t</ContentLoader>\n);\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\n\nexport const StatusLoader = (props: any) => (\n\t<ContentLoader\n\t\tspeed={2}\n\t\twidth={362}\n\t\theight={800}\n\t\tviewBox=\"0 0 362 800\"\n\t\tbackgroundColor=\"#f3f3f3\"\n\t\tforegroundColor=\"#ecebeb\"\n\t\t{...props}\n\t>\n\t\t<rect x=\"4\" y=\"24\" rx=\"0\" ry=\"0\" width=\"0\" height=\"1\" />\n\t\t<rect x=\"117\" y=\"153\" rx=\"0\" ry=\"0\" width=\"0\" height=\"1\" />\n\t\t<circle cx=\"372\" cy=\"30\" r=\"6\" />\n\t\t<rect x=\"5\" y=\"5\" rx=\"5\" ry=\"5\" width=\"350\" height=\"49\" />\n\t\t<rect x=\"6\" y=\"79\" rx=\"5\" ry=\"5\" width=\"347\" height=\"724\" />\n\t</ContentLoader>\n);\n","import React from 'react';\nimport { useAppState } from 'shared/state';\nimport { CaseItemMarkup } from './CaseItemMarkup';\nimport { SearchCaseEntity } from 'shared/interfaces';\nimport { ErrorBoundary } from 'shared/components';\nimport { ToggleCaseDetailsOpen } from './case-details/CaseDetails.types';\n\nexport type SearchedCaseType = {\n\tid: number;\n\ttext: any;\n\tentity_id: number;\n\trecurring_id: number;\n\tpin_time: null | string;\n\tcase_: SearchCaseEntity;\n\tfrom_user: {\n\t\tfirst_name: string;\n\t\tlast_name: string;\n\t};\n};\n\ntype Props = {\n\tcaseData: SearchedCaseType;\n\tisDragging?: boolean;\n\ttoggleCaseDetailsOpen: ToggleCaseDetailsOpen;\n};\n\nexport const SearchCaseItemInner = ({ caseData, isDragging, toggleCaseDetailsOpen }: Props) => {\n\tconst { unreadMessagesCount } = useAppState();\n\n\tconst department = caseData.case_?.department,\n\t\tsub_department = caseData.case_?.sub_department,\n\t\tcaseTitle = caseData?.case_?.pinned_message?.text,\n\t\tlast_message_type = caseData.case_?.last_message_type,\n\t\tlast_message_text = caseData.text,\n\t\tlast_message_author = caseData.from_user,\n\t\tcase_number = caseData.case_?.case_number,\n\t\tpriority = caseData.case_?.priority,\n\t\tlast_message_time = caseData.case_?.last_message_time,\n\t\tcaseId = caseData?.entity_id,\n\t\tstatusId = caseData?.case_.status,\n\t\tdraftMessage = caseData?.case_.draft_message,\n\t\tassigneeIds = caseData?.case_.assignee_ids,\n\t\thasLinkedCase = caseData?.case_.has_linked_case,\n\t\tlastReadMessage = caseData?.case_.last_read_message,\n\t\trecurringId = caseData?.recurring_id;\n\n\tconst hasUnread = unreadMessagesCount?.[caseId];\n\n\treturn (\n\t\t<CaseItemMarkup\n\t\t\tcase_number={case_number}\n\t\t\tcaseTitle={caseTitle}\n\t\t\tdepartment={department}\n\t\t\tsub_department={sub_department}\n\t\t\tlast_message_author={last_message_author}\n\t\t\tlast_message_time={last_message_time}\n\t\t\tlast_message_type={last_message_type}\n\t\t\tlast_message_text={last_message_text}\n\t\t\thasUnread={hasUnread}\n\t\t\tcaseId={caseId}\n\t\t\tpin_time={caseData?.pin_time}\n\t\t\tstatusId={statusId}\n\t\t\tsearchedMessageId={caseData.id}\n\t\t\tpriority={priority}\n\t\t\tdraftMessage={draftMessage}\n\t\t\tassigneeIds={assigneeIds}\n\t\t\tisDragging={isDragging}\n\t\t\ttoggleCaseDetailsOpen={toggleCaseDetailsOpen}\n\t\t\trecurringId={recurringId}\n\t\t\trelatedTo={null}\n\t\t\thasLinkedCase={hasLinkedCase}\n\t\t\tlastReadMessage={lastReadMessage}\n\t\t/>\n\t);\n};\n\nexport function SearchCaseItem(props: Props) {\n\treturn (\n\t\t<ErrorBoundary isCompact>\n\t\t\t<SearchCaseItemInner {...props} />\n\t\t</ErrorBoundary>\n\t);\n}\n","import React from 'react';\nimport { DraggableProvided } from 'react-beautiful-dnd';\nimport { CaseItem } from './CaseItem';\nimport { SearchCaseItem } from './SearchCaseItem';\nimport { ToggleCaseDetailsOpen } from './case-details/CaseDetails.types';\n\ntype GetStyleArgs = {\n\tdraggableStyle: any; //!\n\tvirtualStyle: Record<string, any>;\n\tisDragging: boolean;\n};\n\nfunction getStyle({ draggableStyle, virtualStyle, isDragging }: GetStyleArgs) {\n\t// If you don't want any spacing between your items\n\t// then you could just return this.\n\t// I do a little bit of magic to have some nice visual space\n\t// between the row items\n\tconst combined = {\n\t\t...virtualStyle,\n\t\t...draggableStyle\n\t};\n\n\t// Being lazy: this is defined in our css file\n\tconst grid = 10;\n\n\t// when dragging we want to use the draggable style for placement, otherwise use the virtual style\n\treturn {\n\t\t...combined,\n\t\theight: isDragging ? combined.height : combined.height - grid,\n\t\t// left: isDragging ? combined.left : combined.left + grid,\n\t\t// width: isDragging ? draggableStyle.width : `calc(${combined.width} - ${grid * 2}px)`,\n\t\tmarginBottom: grid\n\t};\n}\n\ntype ReactWindowItemProps = {\n\tprovided: DraggableProvided;\n\titem: any;\n\tisDragging: boolean;\n\tstyle?: Record<string, any>;\n\tisFetched?: boolean;\n\ttoggleCaseDetailsOpen: ToggleCaseDetailsOpen;\n};\n\nexport function DragItem({\n\tprovided,\n\titem,\n\tstyle = {},\n\tisDragging,\n\tisFetched = false,\n\ttoggleCaseDetailsOpen\n}: ReactWindowItemProps) {\n\treturn (\n\t\t<div\n\t\t\t{...provided.draggableProps}\n\t\t\t{...provided.dragHandleProps}\n\t\t\tref={provided.innerRef}\n\t\t\tstyle={getStyle({\n\t\t\t\tdraggableStyle: provided.draggableProps.style,\n\t\t\t\tvirtualStyle: style,\n\t\t\t\tisDragging\n\t\t\t})}\n\t\t\tclassName={`item ${isDragging ? 'is-dragging' : ''}`}\n\t\t>\n\t\t\t{'case_' in (item ?? {}) ? ( //https://youtu.be/I_jBM7MV95g\n\t\t\t\t<SearchCaseItem\n\t\t\t\t\tcaseData={item}\n\t\t\t\t\tisDragging={isDragging}\n\t\t\t\t\ttoggleCaseDetailsOpen={toggleCaseDetailsOpen}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<CaseItem\n\t\t\t\t\tcaseData={item}\n\t\t\t\t\tisFetched={isFetched}\n\t\t\t\t\tisDragging={isDragging}\n\t\t\t\t\ttoggleCaseDetailsOpen={toggleCaseDetailsOpen}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Draggable } from 'react-beautiful-dnd';\nimport { DragItem } from './DragItem';\nimport { areEqual } from 'react-window';\nimport { SearchedCaseType } from './SearchCaseItem';\nimport { CaseType } from './CaseItem';\n\ntype RowProps = {\n\tdata: any;\n\tindex: number;\n\tstyle: Record<string, any>;\n};\ntype CaseDragItem = SearchedCaseType | CaseType;\nconst getDragId = (item: CaseDragItem) => {\n\tif ('case_' in item) {\n\t\treturn `${item?.id?.toString()}|${item?.case_?.id?.toString()}`;\n\t} else {\n\t\treturn `${item?.id?.toString()}|${item?.id?.toString()}`;\n\t}\n};\n\n// Recommended react-window performance optimisation: memoize the row render function\n// Things are still pretty fast without this, but I am a sucker for making things faster\nexport const DndRow = React.memo(function Row(props: RowProps) {\n\tconst { data: items, index, style } = props;\n\tconst item = items.itemsData[index];\n\tconst toggleCaseDetailsOpen = items.toggleCaseDetailsOpen;\n\n\t// We are rendering an extra item for the placeholder\n\tif (!item) {\n\t\treturn null;\n\t}\n\n\tconst draggableId = getDragId(item);\n\n\treturn (\n\t\t<Draggable draggableId={draggableId} index={index} key={draggableId}>\n\t\t\t{(provided, snapshot) => (\n\t\t\t\t<DragItem\n\t\t\t\t\tisFetched={items.isFetched}\n\t\t\t\t\tprovided={provided}\n\t\t\t\t\titem={item}\n\t\t\t\t\tstyle={style}\n\t\t\t\t\tisDragging={snapshot.isDragging}\n\t\t\t\t\ttoggleCaseDetailsOpen={toggleCaseDetailsOpen}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</Draggable>\n\t);\n}, areEqual);\n","import React, { useEffect, useRef } from 'react';\nimport { Droppable } from 'react-beautiful-dnd';\nimport { FixedSizeList } from 'react-window';\nimport { StatusType } from './Status';\nimport InfiniteLoader from 'react-window-infinite-loader';\nimport { DragItem } from './DragItem';\nimport { DndRow } from './DndRow';\nimport config from 'config';\nimport { ToggleCaseDetailsOpen } from './case-details/CaseDetails.types';\nimport { useWindowSize } from '../../../shared/hooks';\nimport { isMobile } from 'react-device-detect';\n\ntype Props = {\n\titems: any;\n\tstatus: StatusType;\n\tisFetched: boolean;\n\tloadMore: (hasToLoadMore?: any) => void;\n\thasNextPage: number | boolean | undefined;\n\ttoggleCaseDetailsOpen: ToggleCaseDetailsOpen;\n\tresetCacheKeys: any[];\n};\n\nconst HEADER_PLUS_STATUS_HEADER_PLUS_MARGINS_HEIGHTS_DESK = 144;\nconst HEADER_PLUS_STATUS_HEADER_PLUS_MARGINS_HEIGHTS_MOB = 120;\n\nexport const ListComponent = React.memo(function ItemList({\n\titems,\n\tstatus,\n\tisFetched,\n\tloadMore,\n\thasNextPage,\n\ttoggleCaseDetailsOpen,\n\tresetCacheKeys\n}: Props) {\n\tconst { height: windowHeight } = useWindowSize();\n\t// There is an issue I have noticed with react-window that when reordered\n\t// react-window sets the scroll back to 0 but does not update the UI\n\t// I should raise an issue for this.\n\t// As a workaround I am resetting the scroll to 0\n\t// on any list that changes it's index\n\n\t//TODO:REMOVE IF DRAG-N-DROP FEATURE IS DONE AND WORKING JUST FINE WITHOUT ISSUES\n\t// const listRef = useRef();\n\t// useLayoutEffect(() => {\n\t// \tconst list = listRef.current;\n\t// \tif (list) {\n\t// \t\t// @ts-ignore\n\t// \t\tlist.scrollTo(0);\n\t// \t}\n\t// }, [index]);\n\n\t// We create a reference for the InfiniteLoader\n\tconst infiniteLoaderRef = useRef(null);\n\tconst hasMountedRef = useRef(false);\n\n\t// Each time the sort prop changed we called the method resetloadMoreItemsCache to clear the cache\n\tuseEffect(() => {\n\t\t// We only need to reset cached items when \"sortOrder\" changes.\n\t\t// This effect will run on mount too; there's no need to reset in that case.\n\t\tif (hasMountedRef.current) {\n\t\t\tif (infiniteLoaderRef.current) {\n\t\t\t\t// @ts-ignore\n\t\t\t\tinfiniteLoaderRef?.current?.resetloadMoreItemsCache();\n\t\t\t}\n\t\t}\n\t\thasMountedRef.current = true;\n\t}, [resetCacheKeys]);\n\n\treturn (\n\t\t<Droppable\n\t\t\tdroppableId={status.id.toString()}\n\t\t\tmode=\"virtual\"\n\t\t\ttype={config.CASES_DROPPABLE_TYPE}\n\t\t\trenderClone={(provided, snapshot, rubric) => (\n\t\t\t\t<DragItem\n\t\t\t\t\tprovided={provided}\n\t\t\t\t\tisDragging={snapshot.isDragging}\n\t\t\t\t\titem={items[rubric.source.index]}\n\t\t\t\t\tisFetched={isFetched}\n\t\t\t\t\ttoggleCaseDetailsOpen={toggleCaseDetailsOpen}\n\t\t\t\t/>\n\t\t\t)}\n\t\t>\n\t\t\t{(provided) => {\n\t\t\t\t// Add an extra item to our list to make space for a dragging item\n\t\t\t\t// Usually the DroppableProvided.placeholder does this, but that won't\n\t\t\t\t// work in a virtual list\n\t\t\t\t// const itemCount = snapshot.isUsingPlaceholder ? items.length + 1 : items.length;\n\t\t\t\tconst itemCount = hasNextPage ? items.length + 1 : items.length;\n\n\t\t\t\treturn (\n\t\t\t\t\t<InfiniteLoader\n\t\t\t\t\t\tisItemLoaded={(index) => index < items.length}\n\t\t\t\t\t\titemCount={itemCount}\n\t\t\t\t\t\tloadMoreItems={loadMore}\n\t\t\t\t\t\tref={infiniteLoaderRef}\n\t\t\t\t\t\tthreshold={0}\n\t\t\t\t\t>\n\t\t\t\t\t\t{({ onItemsRendered, ref }) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<FixedSizeList\n\t\t\t\t\t\t\t\t\theight={\n\t\t\t\t\t\t\t\t\t\twindowHeight\n\t\t\t\t\t\t\t\t\t\t\t? windowHeight -\n\t\t\t\t\t\t\t\t\t\t\t  (isMobile\n\t\t\t\t\t\t\t\t\t\t\t\t\t? HEADER_PLUS_STATUS_HEADER_PLUS_MARGINS_HEIGHTS_MOB\n\t\t\t\t\t\t\t\t\t\t\t\t\t: HEADER_PLUS_STATUS_HEADER_PLUS_MARGINS_HEIGHTS_DESK)\n\t\t\t\t\t\t\t\t\t\t\t: 0\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\titemCount={itemCount}\n\t\t\t\t\t\t\t\t\titemSize={166}\n\t\t\t\t\t\t\t\t\twidth={362}\n\t\t\t\t\t\t\t\t\touterRef={provided.innerRef}\n\t\t\t\t\t\t\t\t\titemData={{ itemsData: items, isFetched, toggleCaseDetailsOpen }}\n\t\t\t\t\t\t\t\t\tclassName=\"task-list pb-8\"\n\t\t\t\t\t\t\t\t\t// @ts-ignore TODO: remove after dnd logic completed\n\t\t\t\t\t\t\t\t\t// ref={listRef}\n\t\t\t\t\t\t\t\t\tonItemsRendered={onItemsRendered}\n\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{DndRow}\n\t\t\t\t\t\t\t\t</FixedSizeList>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t</InfiniteLoader>\n\t\t\t\t);\n\t\t\t}}\n\t\t</Droppable>\n\t);\n});\n","/**@jsxImportSource @emotion/react */\nimport React, { useEffect, useState, useCallback, lazy } from 'react';\nimport { css } from '@emotion/react';\nimport { StatusHeader } from './StatusHeader';\n// import { Scrollbars } from 'react-custom-scrollbars-2';\nimport EntityContainer from 'modules/entity/containers';\nimport { useAppState } from 'shared/state';\nimport { ErrorBoundary } from 'shared/components';\nimport { CaseItemLoader } from 'shared/components/Loaders';\nimport useDimensions from 'react-use-dimensions';\nimport { isMobile, isSafari } from 'react-device-detect';\nimport { useGetEntity, useQueryParams } from 'shared/hooks';\nimport { useCaseExtraParams } from '../hooks/useCaseExtraParams';\nimport { Draggable } from 'react-beautiful-dnd';\nimport { ListComponent } from './ListComponent';\nimport { useCaseDetailsToggle, useStatusCaseList } from '../hooks';\nimport { WhiteModal } from 'shared/components/Elements';\nimport { CaseDetails } from './case-details';\nimport { getCaseEntityName, sortChatList } from 'shared/services';\nimport clsx from 'clsx';\nimport { Case } from 'shared/interfaces';\nimport dayjs from 'dayjs';\nimport { casesEventChannel } from 'eventChannels/cases';\nimport { useTranslation } from 'react-i18next';\n\nexport type StatusType = {\n\tid: number;\n\ttitle: string;\n\torder_number: number;\n\tcompany_id: number;\n\tis_staff: boolean;\n\tis_confirmation_required: boolean;\n\tis_feedback_required: boolean;\n\tconfirmed: any;\n\tnot_confirmed: any;\n};\n\ntype Props = {\n\tstatus: StatusType;\n\tindex: number;\n};\n\nconst CaseSkeletons = () => (\n\t<>\n\t\t{[...Array(6)].map((item: any, idx) => {\n\t\t\treturn (\n\t\t\t\t<div className={'mb-2'} key={idx}>\n\t\t\t\t\t<CaseItemLoader />\n\t\t\t\t</div>\n\t\t\t);\n\t\t})}\n\t</>\n);\n\nconst NoCases = () => {\n\tconst { t } = useTranslation();\n\treturn (\n\t\t<div\n\t\t\tclassName={'flex-centered h-[148px] rounded-xl border border-dashed font-poppins text-kgrey'}\n\t\t>\n\t\t\t{t('no_cases')}\n\t\t</div>\n\t);\n};\n\nfunction StatusInner({ status, index }: Props) {\n\tconst { query } = useQueryParams();\n\tconst reloadCases = query?.reloadCases;\n\tconst reloadStatusId = query?.reloadStatusId;\n\tconst computedPage = (reloadCases === 'true' && reloadStatusId) || query?.forceUpdate ? 1 : 0;\n\tconst [page, setPage] = useState(computedPage);\n\tconst [searchPage, setSearchPage] = useState(computedPage);\n\tconst { searchQuery, caseType, isPermitted, statusReverseState, isDarkMode, selectedCaseFilter } =\n\t\tuseAppState();\n\tconst [statusBodyRef, { height: statusBodyHeight }] = useDimensions();\n\tconst { extraParams, casesUrl, selectedFilterTemplate } = useCaseExtraParams({\n\t\tstatusId: status.id\n\t});\n\n\tconst entityName = getCaseEntityName({\n\t\tstatusId: status.id,\n\t\tcaseType,\n\t\tsearchQuery,\n\t\tselectedFilterTemplate\n\t});\n\n\tconst { all: currentStatusCaseEntity } = useGetEntity({\n\t\tentity: 'cases',\n\t\tentityId: status.id,\n\t\tentityName\n\t});\n\n\tconst currentStatusReverseState = statusReverseState?.[status.id as number];\n\tconst { toggleCaseDetailsOpen, caseDetailsOpen, closeCaseDetailModal } = useCaseDetailsToggle();\n\tuseStatusCaseList(status);\n\n\t/* //https://www.youtube.com/watch?v=b1_M0FJWVYQ - explanation of reloading cases implementation\n\tuseEffect(() => {\n\t\tif (reloadStatusId && parseInt(reloadStatusId as string) === status.id) {\n\t\t\tsetSearchPage(computedPage);\n\t\t\tsetPage(computedPage);\n\t\t}\n\t}, [computedPage, reloadStatusId]); */\n\n\tuseEffect(() => {\n\t\tconst computedPage = page === 1 ? 0 : 1;\n\n\t\tconst unSubscribeCasesRefetch = casesEventChannel.on('refetchCasesByStatus', (statusId) => {\n\t\t\tif (statusId && statusId === status.id) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetSearchPage(computedPage);\n\t\t\t\t\tsetPage(computedPage);\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t});\n\n\t\tconst unSubscribeForceUpdateCasesList = casesEventChannel.on('forceUpdateCasesList', () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetSearchPage(computedPage);\n\t\t\t\tsetPage(computedPage);\n\t\t\t}, 0);\n\t\t});\n\n\t\treturn () => {\n\t\t\tunSubscribeCasesRefetch();\n\t\t\tunSubscribeForceUpdateCasesList();\n\t\t};\n\t}, [status, page]);\n\n\t/* re-fetching statuses from page 1 when certain actions: changing/applying filter, reversing status\n\tand searching cases. \"reloadStatusId\" should not affect on these actions. fix case numbers (3049, 3306) */\n\tuseEffect(() => {\n\t\tsetSearchPage(computedPage);\n\t\tsetPage(computedPage);\n\t}, [selectedFilterTemplate, currentStatusReverseState, searchQuery]);\n\n\t/*\n\tComplicated case fetching. Because of different endpoints\n  and payload structure for case in normal and search mode\n   * */\n\n\tconst loadMore = useCallback(\n\t\t(hasToLoadMore) => {\n\t\t\tif (hasToLoadMore) {\n\t\t\t\tsearchQuery.length\n\t\t\t\t\t? setSearchPage((prev) => (prev === 0 ? prev + 2 : prev + 1))\n\t\t\t\t\t: setPage((prev) => (prev === 0 ? prev + 2 : prev + 1));\n\t\t\t}\n\t\t},\n\t\t[searchQuery]\n\t);\n\n\treturn (\n\t\t<EntityContainer.All\n\t\t\tentity=\"cases\"\n\t\t\tname={entityName}\n\t\t\turl={casesUrl}\n\t\t\tparams={{\n\t\t\t\textra: {\n\t\t\t\t\t...extraParams\n\t\t\t\t},\n\t\t\t\tlimit: 10,\n\t\t\t\tpage: searchQuery.length ? searchPage : page\n\t\t\t}}\n\t\t\tappendData\n\t\t\tcancelField=\"status\"\n\t\t\treplaceIds={(page === 1 || page === 0) && !searchQuery.length}\n\t\t\tisCancellable={!!searchQuery.length}\n\t\t>\n\t\t\t{({ items, isFetched, meta }) => {\n\t\t\t\tconst metaCurrentPage = meta?.current_page || 1;\n\t\t\t\tconst hasToLoadMore =\n\t\t\t\t\tisFetched && metaCurrentPage && meta?.last_page && metaCurrentPage < meta?.last_page;\n\n\t\t\t\tconst mappedItems = (items as Case[]).reduce((acc, curr, index) => {\n\t\t\t\t\tif (currentStatusReverseState) {\n\t\t\t\t\t\t//CASE 3111 - added reversed_date: number to trigger sort by this date prop when reverse status ordering is active\n\t\t\t\t\t\treturn [...acc, { ...curr, reversed_date: dayjs().unix() + index }];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn [...acc, curr];\n\t\t\t\t\t}\n\t\t\t\t}, [] as Case[]);\n\n\t\t\t\tconst sortedItems = sortChatList<Case>(mappedItems);\n\n\t\t\t\treturn (\n\t\t\t\t\t<Draggable\n\t\t\t\t\t\tdraggableId={status.id.toString()}\n\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\tisDragDisabled={isMobile || !isPermitted}\n\t\t\t\t\t>\n\t\t\t\t\t\t{(provided) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t`status status-${status.id} mr-4 flex h-full w-[362px] flex-col`,\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\thidden:\n\t\t\t\t\t\t\t\t\t\t\t\tisFetched &&\n\t\t\t\t\t\t\t\t\t\t\t\t!items.length &&\n\t\t\t\t\t\t\t\t\t\t\t\t(searchQuery.length || selectedCaseFilter[caseType])\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{...provided.draggableProps}\n\t\t\t\t\t\t\t\t\tref={provided.innerRef}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<StatusHeader\n\t\t\t\t\t\t\t\t\t\tname={status.title}\n\t\t\t\t\t\t\t\t\t\ttotalCount={currentStatusCaseEntity?.meta?.count}\n\t\t\t\t\t\t\t\t\t\tstatusId={status.id}\n\t\t\t\t\t\t\t\t\t\tisConfirmationRequired={status.is_confirmation_required}\n\t\t\t\t\t\t\t\t\t\tdraggableHandleProps={provided.dragHandleProps}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tref={statusBodyRef}\n\t\t\t\t\t\t\t\t\t\tclassName=\"status__body relative w-full flex-grow overflow-hidden rounded-xl bg-white dark:bg-transparent\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\t\t\t\theight: ${isSafari && `${statusBodyHeight}px`};\n\t\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t\t\tclassName={clsx('status__inner h-full', !items.length && 'no-cases-found', {\n\t\t\t\t\t\t\t\t\t\t\t\t'status__inner-dark': isDarkMode\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{/*<Scrollbars style={{ height: '100%' }} autoHide>*/}\n\t\t\t\t\t\t\t\t\t\t\t{!isFetched && items.length === 0 && <CaseSkeletons />}\n\t\t\t\t\t\t\t\t\t\t\t{items.length === 0 && isFetched && <NoCases />}\n\t\t\t\t\t\t\t\t\t\t\t<ListComponent\n\t\t\t\t\t\t\t\t\t\t\t\tstatus={status}\n\t\t\t\t\t\t\t\t\t\t\t\titems={sortedItems}\n\t\t\t\t\t\t\t\t\t\t\t\tisFetched={isFetched}\n\t\t\t\t\t\t\t\t\t\t\t\tloadMore={loadMore}\n\t\t\t\t\t\t\t\t\t\t\t\thasNextPage={hasToLoadMore}\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleCaseDetailsOpen={toggleCaseDetailsOpen}\n\t\t\t\t\t\t\t\t\t\t\t\tresetCacheKeys={[computedPage, currentStatusReverseState]}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t{/*</Scrollbars>*/}\n\t\t\t\t\t\t\t\t\t\t\t<WhiteModal\n\t\t\t\t\t\t\t\t\t\t\t\thandleModalOpen={closeCaseDetailModal}\n\t\t\t\t\t\t\t\t\t\t\t\topen={Boolean(caseDetailsOpen)}\n\t\t\t\t\t\t\t\t\t\t\t\tminWidth={362}\n\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth={550}\n\t\t\t\t\t\t\t\t\t\t\t\tscrollable\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<CaseDetails\n\t\t\t\t\t\t\t\t\t\t\t\t\tcaseId={caseDetailsOpen}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcloseCaseDetailModal={closeCaseDetailModal}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</WhiteModal>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t</Draggable>\n\t\t\t\t);\n\t\t\t}}\n\t\t</EntityContainer.All>\n\t);\n}\n\nexport function Status(props: Props) {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<StatusInner {...props} />\n\t\t</ErrorBoundary>\n\t);\n}\n","import React from 'react';\nimport { Button } from '../../../shared/components/Elements';\nimport { Field } from 'formik';\nimport { Loader } from '../../../shared/components';\nimport EntityForm from '../../../modules/entity/forms';\nimport { useAppState } from '../../../shared/state';\nimport { useNotistack } from '../../../shared/hooks';\nimport { KntInputField } from '../../../shared/components/Fields';\nimport { useSelector } from 'react-redux';\nimport { IRootState } from '../../../shared/interfaces';\nimport config from '../../../config';\nimport { MAX_STATUS_TITLE_CHARACTER } from '../constants';\nimport { useTranslation } from 'react-i18next';\n\ntype Props = {\n\tonClose: () => void;\n};\n\nfunction StatusCreateForm({ onClose }: Props) {\n\tconst { t } = useTranslation();\n\tconst { companyId, caseType } = useAppState();\n\tconst { showNotification } = useNotistack();\n\tconst entityObjectInReduxState = useSelector((state: IRootState) => state.entity);\n\n\tconst entityName = `AllStatuses-${companyId}`;\n\tconst statusIds = entityObjectInReduxState.statuses?.[entityName].ids ?? [];\n\n\treturn (\n\t\t<EntityForm.Main\n\t\t\tentity=\"statuses\"\n\t\t\tname={`AllStatuses-${companyId}`}\n\t\t\turl={`/${companyId}/my/company/case_statuses/`}\n\t\t\tmethod=\"post\"\n\t\t\tprimaryKey=\"id\"\n\t\t\tsendAsFormData={false}\n\t\t\tnormalizeData={(data: any) => data}\n\t\t\tappendData\n\t\t\tfields={[\n\t\t\t\t{\n\t\t\t\t\tname: 'title',\n\t\t\t\t\trequired: true,\n\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'order_number',\n\t\t\t\t\tvalue: statusIds.length,\n\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'is_default',\n\t\t\t\t\tvalue: false,\n\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'is_staff',\n\t\t\t\t\tvalue: caseType === config.STAFF,\n\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'is_feedback_required',\n\t\t\t\t\tvalue: false,\n\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'is_confirmation_required',\n\t\t\t\t\tvalue: false,\n\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t}\n\t\t\t]}\n\t\t\tonSuccess={(response, resetForm): any => {\n\t\t\t\tshowNotification({\n\t\t\t\t\tmessage: t('status_created_success'),\n\t\t\t\t\tvariant: 'success'\n\t\t\t\t});\n\t\t\t\tonClose();\n\t\t\t}}\n\t\t\tonError={(error, resetForm): any => {\n\t\t\t\t// resetForm();\n\t\t\t\tshowNotification({\n\t\t\t\t\tmessage: error?.response?.data?.message ?? t('something_went_wrong'),\n\t\t\t\t\tvariant: 'error'\n\t\t\t\t});\n\t\t\t}}\n\t\t>\n\t\t\t{({ values, isSubmitting }) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h2 className=\"mb-4 text-xl font-bold\">{t('create_new_status')}</h2>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabel={t('status_title')}\n\t\t\t\t\t\t\tlabelClasses=\"ml-6 text-xs font-light text-kgrey-welcome mb-2 block\"\n\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\t\t\tplaceholder={t('type_status_title')}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tcharacterLimit={MAX_STATUS_TITLE_CHARACTER}\n\t\t\t\t\t\t\tcharacterCount={values.title.length}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"mt-4 flex items-center justify-end\">\n\t\t\t\t\t\t\t<Button variant=\"outlined\" type=\"button\" onClick={onClose}>\n\t\t\t\t\t\t\t\t{t('cancel')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tclassName=\"!ml-4\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tdisabled={!values.title || isSubmitting}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('create')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{isSubmitting && <Loader tiled />}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}}\n\t\t</EntityForm.Main>\n\t);\n}\n\nexport default StatusCreateForm;\n","import React, { useState } from 'react';\nimport { Button } from 'shared/components';\nimport StatusCreateForm from './StatusCreateForm';\nimport { WhiteModal } from '../../../shared/components/Elements';\nimport { useTranslation } from 'react-i18next';\n\nexport function StatusCreateButton() {\n\tconst [visibleForm, setVisibleForm] = useState(false);\n\tconst { t } = useTranslation();\n\n\tconst toggleForm = () => setVisibleForm((prev) => !prev);\n\n\treturn (\n\t\t<div className=\"status mr-4 flex h-full w-[362px] flex-col\">\n\t\t\t<Button variant=\"outlined\" color=\"primary\" onClickHandler={toggleForm}>\n\t\t\t\t{t('create_status')}\n\t\t\t</Button>\n\t\t\t<WhiteModal handleModalOpen={toggleForm} open={visibleForm} maxWidth={446}>\n\t\t\t\t<StatusCreateForm onClose={toggleForm} />\n\t\t\t</WhiteModal>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport EntityForm from 'modules/entity/forms';\nimport { useAppState } from 'shared/state';\nimport AsyncSelectJs from 'shared/components/Fields/AsyncSelectJs';\nimport { KntTwilioStyle } from 'shared/services';\nimport { Field } from 'formik';\nimport { Button } from 'shared/components/Elements';\nimport { Loader } from 'shared/components';\nimport { useGetEntity, useNotistack } from 'shared/hooks';\nimport { StatusType } from './Status';\nimport { useTranslation } from 'react-i18next';\n\ntype Props = {\n\tcloseEditStatusModal: () => void;\n};\n\nexport function ConfirmationStatusesForm({ closeEditStatusModal }: Props) {\n\tconst { isStaff, companyId, selectedStatus } = useAppState();\n\tconst { showNotification } = useNotistack();\n\tconst { t } = useTranslation();\n\n\tconst { all: statuses } = useGetEntity({\n\t\tentity: 'statuses',\n\t\tentityName: `AllStatuses-${companyId}`\n\t});\n\n\tconst currentSelectedStatus = (statuses.items as StatusType[]).find(\n\t\t(st) => st.id === selectedStatus?.statusId\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<EntityForm.Main\n\t\t\t\tid={selectedStatus?.statusId}\n\t\t\t\tentity=\"statuses\"\n\t\t\t\tname={`AllStatuses-${companyId}`}\n\t\t\t\turl={`/${companyId}/my/company/case_statuses/${selectedStatus?.statusId}/`}\n\t\t\t\tmethod=\"patch\"\n\t\t\t\tprimaryKey=\"id\"\n\t\t\t\tappendData\n\t\t\t\tsendAsFormData={false}\n\t\t\t\tnormalizeData={(data: any) => data}\n\t\t\t\tfields={[\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'confirmed',\n\t\t\t\t\t\tvalue: currentSelectedStatus?.confirmed,\n\t\t\t\t\t\tonSubmitValue: (value) => (value ? { id: value.id } : null),\n\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\ttype: 'object'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'not_confirmed',\n\t\t\t\t\t\tvalue: currentSelectedStatus?.not_confirmed,\n\t\t\t\t\t\tonSubmitValue: (value) => (value ? { id: value.id } : null),\n\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\ttype: 'object'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'is_confirmation_required',\n\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\tonSubmitValue: (value, values) => !!(values as any).not_confirmed,\n\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\ttype: 'object'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'title',\n\t\t\t\t\t\tvalue: currentSelectedStatus?.title,\n\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\ttype: 'object'\n\t\t\t\t\t}\n\t\t\t\t]}\n\t\t\t\tonSuccess={(response, resetForm): any => {\n\t\t\t\t\tcloseEditStatusModal();\n\t\t\t\t}}\n\t\t\t\tonError={(error, resetForm): any => {\n\t\t\t\t\t// resetForm();\n\t\t\t\t\tshowNotification({\n\t\t\t\t\t\tmessage: error?.response?.data?.message ?? t('something_went_wrong'),\n\t\t\t\t\t\tvariant: 'error'\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{({ values, isSubmitting }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h1 className=\"mb-6 text-lg font-bold\">{t('action_buttons')}</h1>\n\t\t\t\t\t\t\t<div className=\"react-select-dropdown mb-4\">\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tcomponent={AsyncSelectJs}\n\t\t\t\t\t\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\t\t\t\t\t\tlabel={t('not_confirmed')}\n\t\t\t\t\t\t\t\t\tlabelClasses=\"ml-2 text-sm font-light text-kgrey-menuText mb-2 block\"\n\t\t\t\t\t\t\t\t\tname=\"not_confirmed\"\n\t\t\t\t\t\t\t\t\toptionLabel=\"title\"\n\t\t\t\t\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\t\t\t\t\tisSearchable\n\t\t\t\t\t\t\t\t\tisCached\n\t\t\t\t\t\t\t\t\tisClearable\n\t\t\t\t\t\t\t\t\tplaceholder={t('select_not_confirmed_status')}\n\t\t\t\t\t\t\t\t\treverse={true}\n\t\t\t\t\t\t\t\t\tloadOptionsUrl={`/${companyId}/my/company/case_statuses/`}\n\t\t\t\t\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\t\tsearch,\n\t\t\t\t\t\t\t\t\t\t\tis_staff: !isStaff ? 'false' : 'true'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tisOptionDisabled={(option: StatusType) =>\n\t\t\t\t\t\t\t\t\t\toption.id === currentSelectedStatus?.id || values?.confirmed?.id === option.id\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tloadOptionsKey=\"\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"react-select-dropdown mb-4\">\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tcomponent={AsyncSelectJs}\n\t\t\t\t\t\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\t\t\t\t\t\tlabel={t('confirmed')}\n\t\t\t\t\t\t\t\t\tlabelClasses=\"ml-2 text-sm font-light text-kgrey-menuText mb-2 block\"\n\t\t\t\t\t\t\t\t\tname=\"confirmed\"\n\t\t\t\t\t\t\t\t\toptionLabel=\"title\"\n\t\t\t\t\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\t\t\t\t\tisSearchable\n\t\t\t\t\t\t\t\t\tisCached\n\t\t\t\t\t\t\t\t\tplaceholder={t('select_confirmed_status')}\n\t\t\t\t\t\t\t\t\treverse={true}\n\t\t\t\t\t\t\t\t\tisClearable\n\t\t\t\t\t\t\t\t\tloadOptionsUrl={`/${companyId}/my/company/case_statuses/`}\n\t\t\t\t\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\t\tsearch,\n\t\t\t\t\t\t\t\t\t\t\tis_staff: !isStaff ? 'false' : 'true'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tisOptionDisabled={(option: StatusType) =>\n\t\t\t\t\t\t\t\t\t\toption.id === currentSelectedStatus?.id ||\n\t\t\t\t\t\t\t\t\t\tvalues?.not_confirmed?.id === option.id\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tloadOptionsKey=\"\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"mt-4 flex items-center justify-end\">\n\t\t\t\t\t\t\t\t<Button variant=\"outlined\" type=\"button\" onClick={closeEditStatusModal}>\n\t\t\t\t\t\t\t\t\t{t('cancel')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tclassName=\"!ml-4\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting || !(!!values.confirmed === !!values.not_confirmed)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{values.confirmed && values.not_confirmed ? t('add') : t('reset')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{isSubmitting && <Loader tiled />}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</EntityForm.Main>\n\t\t</>\n\t);\n}\n","import React from 'react';\nimport { Button } from '../../../shared/components/Elements';\nimport { Field } from 'formik';\nimport { Loader } from '../../../shared/components';\nimport EntityForm from '../../../modules/entity/forms';\nimport { useAppState } from '../../../shared/state';\nimport { useNotistack } from '../../../shared/hooks';\nimport { KntInputField } from '../../../shared/components/Fields';\nimport { MAX_STATUS_TITLE_CHARACTER } from '../constants';\nimport { useTranslation } from 'react-i18next';\n\ntype Props = {\n\tonClose: () => void;\n};\n\nfunction StatusCreateForm({ onClose }: Props) {\n\tconst { companyId, selectedStatus } = useAppState();\n\tconst { showNotification } = useNotistack();\n\tconst { t } = useTranslation();\n\n\treturn (\n\t\t<EntityForm.Main\n\t\t\tid={selectedStatus?.statusId}\n\t\t\tentity=\"statuses\"\n\t\t\tname={`AllStatuses-${companyId}`}\n\t\t\turl={`/${companyId}/my/company/case_statuses/${selectedStatus?.statusId}/`}\n\t\t\tmethod=\"put\"\n\t\t\tprimaryKey=\"id\"\n\t\t\tappendData\n\t\t\tsendAsFormData={false}\n\t\t\tnormalizeData={(data: any) => data}\n\t\t\tfields={[\n\t\t\t\t{\n\t\t\t\t\tname: 'title',\n\t\t\t\t\trequired: true,\n\t\t\t\t\tvalue: selectedStatus?.name || '',\n\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t}\n\t\t\t]}\n\t\t\tonSuccess={(response, resetForm): any => {\n\t\t\t\tshowNotification({\n\t\t\t\t\tmessage: t('status_updated_success'),\n\t\t\t\t\tvariant: 'success'\n\t\t\t\t});\n\t\t\t\tonClose();\n\t\t\t}}\n\t\t\tonError={(error, resetForm): any => {\n\t\t\t\t// resetForm();\n\t\t\t\tshowNotification({\n\t\t\t\t\tmessage: error?.response?.data?.message ?? t('something_went_wrong'),\n\t\t\t\t\tvariant: 'error'\n\t\t\t\t});\n\t\t\t}}\n\t\t>\n\t\t\t{({ values, isSubmitting }) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h2 className=\"mb-4 text-xl font-bold\">{t('edit_status_name')}</h2>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabel={t('status_title')}\n\t\t\t\t\t\t\tlabelClasses=\"ml-6 text-xs font-light text-kgrey-welcome mb-2 block\"\n\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\t\t\tplaceholder={t('type_status_title')}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tcharacterCount={values.title.length}\n\t\t\t\t\t\t\tcharacterLimit={MAX_STATUS_TITLE_CHARACTER}\n\t\t\t\t\t\t\tid=\"mail.com\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"mt-4 flex items-center justify-end\">\n\t\t\t\t\t\t\t<Button variant=\"outlined\" type=\"button\" onClick={onClose}>\n\t\t\t\t\t\t\t\t{t('cancel')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tclassName=\"!ml-4\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tdisabled={!values.title || isSubmitting}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('update')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{isSubmitting && <Loader tiled />}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}}\n\t\t</EntityForm.Main>\n\t);\n}\n\nexport default StatusCreateForm;\n","import React, { useState } from 'react';\nimport { KntTwilioStyle } from '../../../shared/services';\nimport { AsyncSelect, Loader } from '../../../shared/components';\nimport { StatusType } from './Status';\nimport { useAppState } from '../../../shared/state';\nimport { Button } from '../../../shared/components/Elements';\nimport { useCaseController } from '../hooks/useCaseController';\nimport { useTranslation } from 'react-i18next';\n\nexport function StatusChangeMobile() {\n\tconst { isStaff, statusChangePayload, companyId, setStatusChangePayload } = useAppState();\n\tconst [loading, setLoading] = useState(false);\n\tconst { changeCaseStatus } = useCaseController();\n\tconst [nextStatus, setNextStatus] = useState<null | StatusType>(null);\n\tconst { t } = useTranslation();\n\n\tconst onSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n\t\te.preventDefault();\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tawait changeCaseStatus({\n\t\t\t\tprevStatusId: statusChangePayload?.prevStatus as number,\n\t\t\t\tnextStatusId: nextStatus?.id as number,\n\t\t\t\tisStaffCase: isStaff,\n\t\t\t\tsourceIndex: statusChangePayload?.sourceIndex,\n\t\t\t\tdestinationIndex: 0,\n\t\t\t\tentityId: Number(statusChangePayload?.entityId),\n\t\t\t\tsearchEntityId: statusChangePayload?.searchEntityId,\n\t\t\t\tisDragging: false\n\t\t\t});\n\t\t\tsetLoading(false);\n\t\t\tcloseStatusChangePopup();\n\t\t} catch (e) {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst closeStatusChangePopup = () => setStatusChangePayload(null);\n\n\treturn (\n\t\t<form onSubmit={onSubmit}>\n\t\t\t<h2 className=\"mb-4 text-xl font-bold\">Status Change</h2>\n\n\t\t\t{/*@ts-ignore*/}\n\t\t\t<AsyncSelect\n\t\t\t\tcustomStylesProps={KntTwilioStyle}\n\t\t\t\tname=\"status_change\"\n\t\t\t\tplaceholder=\"Select Status\"\n\t\t\t\toptionValue=\"id\"\n\t\t\t\toptionLabel=\"title\"\n\t\t\t\tloadOptionsKey=\"\"\n\t\t\t\tisSearchable\n\t\t\t\tisClearable\n\t\t\t\talwaysRefetch\n\t\t\t\tvalue={nextStatus}\n\t\t\t\t// customStyles=\"KntTwilioStyle\"\n\t\t\t\tloadOptionsOnMenuOpen\n\t\t\t\treverse={true}\n\t\t\t\tloadOptionsUrl={`/${companyId}/my/company/case_statuses/`}\n\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\textra: {\n\t\t\t\t\t\tsearch,\n\t\t\t\t\t\tis_staff: !isStaff ? 'false' : 'true'\n\t\t\t\t\t}\n\t\t\t\t})}\n\t\t\t\tisOptionDisabled={(option: StatusType) => option.id === statusChangePayload?.prevStatus}\n\t\t\t\tonChange={(option: StatusType) => setNextStatus(option)}\n\t\t\t/>\n\n\t\t\t<div className=\"mt-4 flex items-center justify-end\">\n\t\t\t\t<Button variant=\"outlined\" type=\"button\" onClick={closeStatusChangePopup}>\n\t\t\t\t\t{t('cancel')}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tclassName=\"!ml-4\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tdisabled={loading || !nextStatus}\n\t\t\t\t>\n\t\t\t\t\tChange\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t{loading && <Loader tiled />}\n\t\t</form>\n\t);\n}\n","/** @jsxImportSource @emotion/react */\nimport React, { useEffect, useMemo } from 'react';\nimport { useAppState } from 'shared/state';\nimport { Status, StatusType } from './components/Status';\nimport useDimensions from 'react-use-dimensions';\nimport { css } from '@emotion/react';\nimport EntityContainer from 'modules/entity/containers';\nimport { StatusLoader } from 'shared/components/Loaders';\nimport Grow from '@material-ui/core/Grow';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DayJsUtils from '@date-io/dayjs';\nimport { useUnreadCaseTab, useUnreadCount } from 'shared/hooks';\nimport sortBy from 'lodash/sortBy';\nimport { Helmet } from 'react-helmet';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport { ConfirmModal, ErrorBoundary } from 'shared/components';\nimport config from 'config';\nimport { useCaseController } from './hooks/useCaseController';\nimport { storage } from '../../shared/services';\nimport { isMobile } from 'react-device-detect';\nimport { ConfirmationStatusesForm, StatusCreateButton } from './components';\nimport { WhiteModal } from '../../shared/components/Elements';\nimport StatusEditForm from './components/StatusEditForm';\nimport { useCaseLoadingLogics, useScrollToMostLeftUnread, useStatusHeaderMenu } from './hooks';\nimport { StatusChangeMobile } from './components/StatusChangeMobile';\nimport { StatusPriorityMessagePopup } from '../../shared/components/Chat/components';\nimport clsx from 'clsx';\nimport { useSelector } from 'react-redux';\nimport { IRootState } from '../../shared/interfaces';\nimport { isThereAnySearchOrFilterMatchingCase } from './helpers';\nimport { useTranslation } from 'react-i18next';\nimport { useTranslationHelpers } from 'shared/hooks/useTranslationHelpers';\nimport get from 'lodash/get';\n\nfunction CasesInner() {\n\tconst {\n\t\tsetPageType,\n\t\tcaseType,\n\t\tselectedCaseFilter,\n\t\tsetSelectedStatus,\n\t\tselectedStatus,\n\t\tstatusChangePayload,\n\t\tsetStatusChangePayload,\n\t\tisPermitted,\n\t\tsearchQuery\n\t} = useAppState();\n\tconst [casePageRef, { height: casePageHeight }, node] = useDimensions();\n\tconst {\n\t\tcompanyId,\n\t\tsetSearchQuery,\n\t\ttoggleChatPanel,\n\t\tstatusPriorityMessagePopup,\n\t\tsetStatusPriorityMessagePopup,\n\t\tisDarkMode\n\t} = useAppState();\n\tconst { isRTL } = useTranslationHelpers();\n\tconst { unreadCasesQuantity, isHidden } = useUnreadCaseTab();\n\tconst { onStatusDragEnd } = useCaseController();\n\tconst { fetchCompanyAllUnreadCounts } = useUnreadCount();\n\tconst { deleteStatusHandler, statusDeleteLoader, markAllReadHandler, markAllReadLoader } =\n\t\tuseStatusHeaderMenu();\n\tconst { t } = useTranslation();\n\n\tconst cases = useSelector((state: IRootState) => state?.entity?.cases);\n\n\t//Cases loading general logics\n\tuseCaseLoadingLogics();\n\n\t//Scroll to Left Most Unread\n\tuseScrollToMostLeftUnread();\n\n\tconst parsedSelectedCaseFromLS = JSON.parse(storage.get('selectedCaseFilter') || '{}')[caseType];\n\tconst selectedFilterTemplate = selectedCaseFilter[caseType] || parsedSelectedCaseFromLS;\n\tconst statusFilterEnabledWithOR = useMemo(\n\t\t() => get(selectedFilterTemplate, 'filter_json.query_web.status_filter_with_or', null),\n\t\t[selectedFilterTemplate]\n\t);\n\n\tuseEffect(() => {\n\t\tsetPageType(true);\n\t\treturn () => {\n\t\t\tsetPageType(false);\n\t\t};\n\t}, [setPageType]);\n\n\t//Reset search When we leave Case Messages page\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tsetSearchQuery('');\n\t\t\ttoggleChatPanel(false);\n\t\t};\n\t}, []);\n\n\t//Load Status unread cases count\n\tuseEffect(() => {\n\t\tif (companyId) {\n\t\t\t(async () => {\n\t\t\t\tawait fetchCompanyAllUnreadCounts();\n\t\t\t})();\n\t\t}\n\t}, [companyId, caseType]);\n\n\tconst closeEditStatusModal = () => setSelectedStatus(null);\n\tconst closeMobileStatusChangePopup = () => setStatusChangePayload(null);\n\tconst closeStatusPriorityMessagePopup = () => setStatusPriorityMessagePopup(null);\n\n\treturn (\n\t\t<MuiPickersUtilsProvider utils={DayJsUtils}>\n\t\t\t<div\n\t\t\t\tref={casePageRef}\n\t\t\t\tclassName={clsx('cases-page-wrapper flex h-full w-full flex-col pb-1 pt-2  lg:pt-5', {\n\t\t\t\t\t'cases-page-wrapper-dark': isDarkMode,\n\t\t\t\t\t'pl-2 lg:pl-7': !isRTL,\n\t\t\t\t\t'pr-2 lg:pr-7': isRTL\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t{(!isHidden || unreadCasesQuantity === 0) && (\n\t\t\t\t\t<Helmet>\n\t\t\t\t\t\t<title>KENNEKT | Cases</title>\n\t\t\t\t\t</Helmet>\n\t\t\t\t)}\n\t\t\t\t{companyId ? (\n\t\t\t\t\t<EntityContainer.All\n\t\t\t\t\t\tentity={'statuses'}\n\t\t\t\t\t\tname={`AllStatuses-${companyId}`}\n\t\t\t\t\t\turl={`/${companyId}/my/company/case_statuses/`}\n\t\t\t\t\t\treverse={true}\n\t\t\t\t\t\tparams={{\n\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\tis_staff: caseType === config.STAFF ? 'true' : 'false'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdataKey={(data: any) => data}\n\t\t\t\t\t>\n\t\t\t\t\t\t{({ items, isFetched, meta }) => {\n\t\t\t\t\t\t\tconst statuses = items.map((item: any) => item) as StatusType[];\n\n\t\t\t\t\t\t\tconst isMatchingFilters = isThereAnySearchOrFilterMatchingCase({\n\t\t\t\t\t\t\t\tstatuses,\n\t\t\t\t\t\t\t\tcases,\n\t\t\t\t\t\t\t\tcaseType,\n\t\t\t\t\t\t\t\tsearchQuery,\n\t\t\t\t\t\t\t\tselectedFilterTemplate\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DragDropContext onDragEnd={onStatusDragEnd}>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t'case-statuses-scroll-container relative flex h-full flex-grow overflow-hidden overflow-x-auto bg-white !outline-none dark:bg-kdark'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\t\t\theight: ${casePageHeight - (isMobile ? 8 : 20)}px;\n\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Droppable\n\t\t\t\t\t\t\t\t\t\t\tdroppableId={config.STATUS_DROPPABLE_ID}\n\t\t\t\t\t\t\t\t\t\t\tdirection=\"horizontal\"\n\t\t\t\t\t\t\t\t\t\t\ttype={config.STATUS_DROPPABLE_TYPE}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{(provided) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"statuses-wrapper flex\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...provided.droppableProps}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tref={provided.innerRef}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(selectedFilterTemplate?.filter_json?.filter_status?.length &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* CASE: 4218 - if status filter is active with OR type, we need to request all status\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tso that skipping filtering by status if so */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!statusFilterEnabledWithOR\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? sortBy(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedFilterTemplate?.filter_json?.filter_status,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'order_number'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: statuses\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).map((item: StatusType, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grow\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tin={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={item.id || index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...{ timeout: 500 * (index + 1) }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Status status={item} key={item.id} index={index} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{provided.placeholder}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Status Create Form */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{isFetched &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisPermitted &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!searchQuery.length &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!selectedFilterTemplate ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StatusCreateButton />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t</Droppable>\n\t\t\t\t\t\t\t\t\t\t{/*Show Statuses loading skeletons*/}\n\t\t\t\t\t\t\t\t\t\t{!isFetched && (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{[...Array(6)].map((item: any, index: number) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grow in={true} key={index} {...{ timeout: 300 * (index + 1) }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={'mr-4'}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StatusLoader />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{isFetched &&\n\t\t\t\t\t\t\t\t\t\t!isMatchingFilters &&\n\t\t\t\t\t\t\t\t\t\t(selectedFilterTemplate || searchQuery.length) ? (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex w-full items-center justify-center text-xl dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t{t('no_matching_case_found')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t\t\t\t\t{/*Edit Status Name*/}\n\t\t\t\t\t\t\t\t\t\t<WhiteModal\n\t\t\t\t\t\t\t\t\t\t\thandleModalOpen={closeEditStatusModal}\n\t\t\t\t\t\t\t\t\t\t\topen={selectedStatus?.type === 'edit' ? !!selectedStatus : false}\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth={446}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<StatusEditForm onClose={closeEditStatusModal} />\n\t\t\t\t\t\t\t\t\t\t</WhiteModal>\n\n\t\t\t\t\t\t\t\t\t\t{/*Delete Status*/}\n\t\t\t\t\t\t\t\t\t\t<ConfirmModal\n\t\t\t\t\t\t\t\t\t\t\tfeatureHandler={deleteStatusHandler}\n\t\t\t\t\t\t\t\t\t\t\tisOpen={Boolean(selectedStatus?.type === 'delete' ? !!selectedStatus : false)}\n\t\t\t\t\t\t\t\t\t\t\ttoggleHandler={closeEditStatusModal}\n\t\t\t\t\t\t\t\t\t\t\ttitle={t('status_delete_confirmation', {\n\t\t\t\t\t\t\t\t\t\t\t\tstatusName: selectedStatus?.name.toUpperCase()\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\thasLoader\n\t\t\t\t\t\t\t\t\t\t\tisLoading={statusDeleteLoader}\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t{/*Delete Status*/}\n\t\t\t\t\t\t\t\t\t\t<ConfirmModal\n\t\t\t\t\t\t\t\t\t\t\tfeatureHandler={markAllReadHandler}\n\t\t\t\t\t\t\t\t\t\t\tisOpen={Boolean(\n\t\t\t\t\t\t\t\t\t\t\t\tselectedStatus?.type === 'mark_all_read' ? !!selectedStatus : false\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\ttoggleHandler={closeEditStatusModal}\n\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"mb-4 text-center\">{selectedStatus?.name}</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-center\">{t('mark_all_cases_as_read')}?</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thasLoader\n\t\t\t\t\t\t\t\t\t\t\tisLoading={markAllReadLoader}\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t{/* Add Confirmation Buttons */}\n\t\t\t\t\t\t\t\t\t\t<WhiteModal\n\t\t\t\t\t\t\t\t\t\t\thandleModalOpen={closeEditStatusModal}\n\t\t\t\t\t\t\t\t\t\t\topen={selectedStatus?.type === 'add_buttons' ? !!selectedStatus : false}\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth={446}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<ConfirmationStatusesForm closeEditStatusModal={closeEditStatusModal} />\n\t\t\t\t\t\t\t\t\t\t</WhiteModal>\n\n\t\t\t\t\t\t\t\t\t\t{/* Status Change Popup for Mobile */}\n\t\t\t\t\t\t\t\t\t\t<WhiteModal\n\t\t\t\t\t\t\t\t\t\t\thandleModalOpen={closeMobileStatusChangePopup}\n\t\t\t\t\t\t\t\t\t\t\topen={!!statusChangePayload}\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth={446}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<StatusChangeMobile />\n\t\t\t\t\t\t\t\t\t\t</WhiteModal>\n\n\t\t\t\t\t\t\t\t\t\t{/* Priority and Status Message Popup */}\n\t\t\t\t\t\t\t\t\t\t<WhiteModal\n\t\t\t\t\t\t\t\t\t\t\thandleModalOpen={closeStatusPriorityMessagePopup}\n\t\t\t\t\t\t\t\t\t\t\topen={statusPriorityMessagePopup?.type === 'case'}\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth={446}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<StatusPriorityMessagePopup onClose={closeStatusPriorityMessagePopup} />\n\t\t\t\t\t\t\t\t\t\t</WhiteModal>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</DragDropContext>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t</EntityContainer.All>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t</MuiPickersUtilsProvider>\n\t);\n}\n\nexport default function Cases() {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<CasesInner />\n\t\t</ErrorBoundary>\n\t);\n}\n"],"names":["CaseItemInner","props","caseData","isDragging","toggleCaseDetailsOpen","caseRef","useRef","unreadMessagesCount","useAppState","department","sub_department","caseTitle","title","last_message_type","last_message_text","last_message_author","case_number","last_message_time","caseId","id","statusId","status","priority","draftMessage","draft_message","hasLinkedCase","has_linked_case","relatedTo","related_to_id","recurringId","recurring_id","lastReadMessage","last_read_message","assigneeIds","assignee_ids","hasUnread","useMemo","ref","className","pin_time","CaseItem","isCompact","StatusHeaderDots","name","isConfirmationRequired","useStatusHeaderMenu","open","anchorEl","handleClick","handleCloseMenu","setSelectedStatus","isAdmin","unreadCasesCountByStatus","useTranslation","t","i18n","isRTL","useTranslationHelpers","menuItems","onClickHandler","type","hasToShowComponent","control","color","checked","label","labelPlacement","language","filter","menuItem","length","clsx","onClick","keepMounted","onClose","map","index","MenuItem","StatusHeaderInner","totalCount","draggableHandleProps","selectedCaseFilter","caseType","setStatusReverseState","statusReverseState","settingsData","companyId","searchQuery","saveCasesReverseData","useAxios","url","method","dynamicValues","cb","success","data","args","error","fetchData","handleReverseState","payload","settings_json","cases_reverse_data","values","storage","JSON","stringify","isFilterNotSelected","isThereUnreadCases","isSearchEnabled","showUnreadCount","CASES_UNREAD_BADGE_COUNT","IconButton","size","StatusHeader","CaseItemLoader","speed","width","height","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","cx","cy","r","StatusLoader","SearchCaseItemInner","case_","pinned_message","text","from_user","entity_id","CaseItemMarkup","searchedMessageId","SearchCaseItem","getStyle","draggableStyle","virtualStyle","combined","marginBottom","DragItem","provided","item","style","isFetched","draggableProps","dragHandleProps","innerRef","DndRow","React","items","itemsData","draggableId","toString","getDragId","snapshot","areEqual","ListComponent","loadMore","hasNextPage","resetCacheKeys","windowHeight","useWindowSize","infiniteLoaderRef","hasMountedRef","useEffect","current","resetloadMoreItemsCache","droppableId","mode","config","renderClone","rubric","source","itemCount","isItemLoaded","loadMoreItems","threshold","onItemsRendered","isMobile","itemSize","outerRef","itemData","CaseSkeletons","Array","idx","NoCases","StatusInner","query","useQueryParams","reloadCases","reloadStatusId","computedPage","forceUpdate","useState","page","setPage","searchPage","setSearchPage","isPermitted","isDarkMode","useDimensions","statusBodyRef","statusBodyHeight","useCaseExtraParams","extraParams","casesUrl","selectedFilterTemplate","entityName","getCaseEntityName","currentStatusCaseEntity","useGetEntity","entity","entityId","all","currentStatusReverseState","useCaseDetailsToggle","caseDetailsOpen","closeCaseDetailModal","useStatusCaseList","unSubscribeCasesRefetch","casesEventChannel","setTimeout","unSubscribeForceUpdateCasesList","useCallback","hasToLoadMore","prev","params","extra","limit","appendData","cancelField","replaceIds","isCancellable","meta","metaCurrentPage","current_page","last_page","mappedItems","reduce","acc","curr","reversed_date","dayjs","unix","sortedItems","sortChatList","isDragDisabled","hidden","count","is_confirmation_required","css","isSafari","handleModalOpen","Boolean","minWidth","maxWidth","scrollable","Status","showNotification","useNotistack","entityObjectInReduxState","useSelector","state","statusIds","statuses","ids","primaryKey","sendAsFormData","normalizeData","fields","required","onSubmitKey","value","onSuccess","response","resetForm","message","variant","onError","isSubmitting","labelClasses","component","KntInputField","placeholder","characterLimit","MAX_STATUS_TITLE_CHARACTER","characterCount","disabled","tiled","StatusCreateButton","visibleForm","setVisibleForm","toggleForm","ConfirmationStatusesForm","closeEditStatusModal","isStaff","selectedStatus","currentSelectedStatus","find","st","confirmed","onSubmitValue","not_confirmed","AsyncSelectJs","customStylesProps","KntTwilioStyle","optionLabel","optionValue","isSearchable","isCached","isClearable","reverse","loadOptionsUrl","loadOptionsParams","search","is_staff","isOptionDisabled","option","loadOptionsKey","autoFocus","StatusChangeMobile","statusChangePayload","setStatusChangePayload","loading","setLoading","changeCaseStatus","useCaseController","nextStatus","setNextStatus","onSubmit","e","preventDefault","prevStatusId","prevStatus","nextStatusId","isStaffCase","sourceIndex","destinationIndex","Number","searchEntityId","closeStatusChangePopup","alwaysRefetch","loadOptionsOnMenuOpen","onChange","CasesInner","setPageType","casePageRef","casePageHeight","setSearchQuery","toggleChatPanel","statusPriorityMessagePopup","setStatusPriorityMessagePopup","useUnreadCaseTab","unreadCasesQuantity","isHidden","onStatusDragEnd","fetchCompanyAllUnreadCounts","useUnreadCount","deleteStatusHandler","statusDeleteLoader","markAllReadHandler","markAllReadLoader","cases","useCaseLoadingLogics","useScrollToMostLeftUnread","parsedSelectedCaseFromLS","parse","statusFilterEnabledWithOR","get","closeMobileStatusChangePopup","closeStatusPriorityMessagePopup","M","utils","DayJsUtils","Helmet","dataKey","isMatchingFilters","isThereAnySearchOrFilterMatchingCase","onDragEnd","direction","droppableProps","filter_json","filter_status","sortBy","Grow","in","timeout","StatusEditForm","featureHandler","isOpen","toggleHandler","statusName","toUpperCase","hasLoader","isLoading","Cases"],"sourceRoot":""}