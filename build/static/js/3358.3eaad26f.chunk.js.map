{"version":3,"file":"static/js/3358.3eaad26f.chunk.js","mappings":"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","sources":["pages/StaffManagement/components/staffDetails/StaffDetails.tsx","pages/StaffManagement/hooks/useStaff.ts","pages/StaffManagement/components/staffDetails/index.tsx"],"sourcesContent":["import React, { lazy, Suspense, useState } from 'react';\nimport { /*CustomMuiTabs,*/ ErrorBoundary, Loader } from 'shared/components';\nimport { Helmet } from 'react-helmet';\nimport { KntButton, WhiteModal } from '../../../../shared/components/Elements';\nimport { Route, Switch } from 'react-router-dom';\nimport { StandardPageLayout } from '../../../../shared/layouts';\nimport { useStaff } from '../../hooks/useStaff';\nimport EditStaffForm from '../EditStaffForm';\nimport { useStaffManagementList } from '../../hooks/useStaffManagement';\nimport { useAppState } from '../../../../shared/state';\nimport { useAuth } from '../../../../modules/auth/hooks/useAuth';\nimport { useTranslation } from 'react-i18next';\n\nconst StaffDetailsCases = lazy(() => import('./components/StaffDetailsCases'));\nconst StaffDetailsGeneral = lazy(() => import('./components/StaffDetailsGeneral'));\n\n// function a11yProps(index: number) {\n// \treturn {\n// \t\tid: `simple-tabpanel-${index}`,\n// \t\t'aria-controls': `simple-tab-${index}`\n// \t};\n// }\n\nfunction StaffDetailsInner() {\n\tconst { isAdmin } = useAppState();\n\tconst { pageName, path, unreadCasesQuantity, isHidden /*, handleChangePrime,primeTab,url */ } =\n\t\tuseStaff();\n\tconst { editVisible, closeEditPopup, showEditVisible } = useStaffManagementList();\n\tconst [modalItem, setModalItem] = useState<any>(null);\n\tconst { company, userData } = useAuth();\n\tconst { t } = useTranslation();\n\n\tconst isBusinessOwner = userData.id === company?.company?.owner?.id;\n\n\t//\n\t// useEffect(() => {\n\t// \tif (primeTab === 0) {\n\t// \t\thistory.push(`${url}/general`);\n\t// \t}\n\t// }, [isRequestPageGeneral, history]);\n\n\treturn (\n\t\t<StandardPageLayout>\n\t\t\t<div className=\"relative flex min-h-full max-w-full flex-grow flex-col p-4\">\n\t\t\t\t{(!isHidden || unreadCasesQuantity === 0) && (\n\t\t\t\t\t<Helmet>\n\t\t\t\t\t\t<title>{`KENNEKT | ${pageName}`}</title>\n\t\t\t\t\t</Helmet>\n\t\t\t\t)}\n\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"mb-5 flex w-full items-center justify-between\">\n\t\t\t\t\t\t<h2 className=\"text-xl font-bold dark:text-white md:text-3xl\">{t('staff_details')}</h2>\n\t\t\t\t\t\t<KntButton\n\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\tisDisabled={\n\t\t\t\t\t\t\t\tisBusinessOwner\n\t\t\t\t\t\t\t\t\t? false || modalItem?.state === 'Pending'\n\t\t\t\t\t\t\t\t\t: modalItem?.is_business_owner || !isAdmin || modalItem?.state === 'Pending'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={() => showEditVisible(modalItem)}\n\t\t\t\t\t\t\t// className={\n\t\t\t\t\t\t\t// \t'rounded-xl bg-kgrey-bg font-poppins text-sm md:text-base' +\n\t\t\t\t\t\t\t// \t' ml-5 px-4 py-2 text-center transition hover:bg-primary-200 disabled:opacity-70 dark:bg-primary-300 dark:text-white'\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('edit_staff')}\n\t\t\t\t\t\t</KntButton>\n\t\t\t\t\t</div>\n\t\t\t\t\t<WhiteModal\n\t\t\t\t\t\thandleModalOpen={closeEditPopup}\n\t\t\t\t\t\topen={Boolean(editVisible)}\n\t\t\t\t\t\tscrollable\n\t\t\t\t\t\tmaxWidth={490}\n\t\t\t\t\t\tminWidth={490}\n\t\t\t\t\t\tnoPadding\n\t\t\t\t\t>\n\t\t\t\t\t\t<EditStaffForm entity={editVisible!} onSuccess={closeEditPopup} />\n\t\t\t\t\t</WhiteModal>\n\t\t\t\t\t{/*<div>*/}\n\t\t\t\t\t{/*\t<CustomMuiTabs.Tabs*/}\n\t\t\t\t\t{/*\t\troundedTop*/}\n\t\t\t\t\t{/*\t\tvalue={primeTab}*/}\n\t\t\t\t\t{/*\t\t// @ts-ignore*/}\n\t\t\t\t\t{/*\t\tonChange={handleChangePrime}*/}\n\t\t\t\t\t{/*\t\taria-label=\"simple tabs\">*/}\n\t\t\t\t\t{/*\t\t<CustomMuiTabs.Tab*/}\n\t\t\t\t\t{/*\t\t\tlabel=\"General\"*/}\n\t\t\t\t\t{/*\t\t\tcomponent={Link}*/}\n\t\t\t\t\t{/*\t\t\tto={`${url}/general`}*/}\n\t\t\t\t\t{/*\t\t\t{...a11yProps(0)}*/}\n\t\t\t\t\t{/*\t\t/>*/}\n\t\t\t\t\t{/*\t\t<CustomMuiTabs.Tab*/}\n\t\t\t\t\t{/*\t\t\tlabel=\"Cases\"*/}\n\t\t\t\t\t{/*\t\t\tcomponent={Link}*/}\n\t\t\t\t\t{/*\t\t\tto={`${url}/cases`}*/}\n\t\t\t\t\t{/*\t\t\t{...a11yProps(1)}*/}\n\t\t\t\t\t{/*\t\t/>*/}\n\t\t\t\t\t{/*\t</CustomMuiTabs.Tabs>*/}\n\t\t\t\t\t{/*</div>*/}\n\n\t\t\t\t\t<div className=\"relative flex max-w-full flex-grow flex-col\">\n\t\t\t\t\t\t<div className=\"relative flex-grow\">\n\t\t\t\t\t\t\t<Suspense fallback={<Loader tiled />}>\n\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t<Route exact path={`${path}/`}>\n\t\t\t\t\t\t\t\t\t\t<StaffDetailsGeneral setModalItem={setModalItem} />\n\t\t\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t\t\t<Route exact path={`${path}/cases/`} component={StaffDetailsCases} />\n\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</StandardPageLayout>\n\t);\n}\n\nexport function StaffDetails() {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<StaffDetailsInner />\n\t\t</ErrorBoundary>\n\t);\n}\n","import React, { useEffect, useState } from 'react';\nimport { useRouter, useUnreadCaseTab } from 'shared/hooks';\n\nexport function useStaff() {\n\tconst [primeTab, setPrimeTab] = React.useState(0);\n\tconst [pageName, setPageName] = React.useState('Clients List');\n\n\tconst [editStaff, setEditStaff] = useState(false);\n\n\tconst { location, match } = useRouter();\n\tconst { url, path } = match;\n\tconst { unreadCasesQuantity, isHidden } = useUnreadCaseTab('ClientsManagement');\n\n\tconst handleChangePrime = (\n\t\tevent: React.ChangeEvent<Record<string, unknown>>,\n\t\tnewValue: number\n\t) => {\n\t\tsetPrimeTab(newValue);\n\t};\n\n\tconst toggleEditStaff = () => setEditStaff((prev) => !prev);\n\n\t//Just to setup tab active tab indication\n\tuseEffect(() => {\n\t\tconst locationSplitterArray = location.pathname.split('/').filter(Boolean).filter(String);\n\t\tconst nestedPageType = locationSplitterArray[locationSplitterArray.length - 1] || '';\n\n\t\t(() => {\n\t\t\tswitch (nestedPageType) {\n\t\t\t\tcase 'general': {\n\t\t\t\t\tsetPrimeTab(0);\n\t\t\t\t\tsetPageName('General');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'cases': {\n\t\t\t\t\tsetPrimeTab(1);\n\t\t\t\t\tsetPageName('Cases');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t})();\n\t}, [location]);\n\n\treturn {\n\t\tprimeTab,\n\t\tpageName,\n\t\turl,\n\t\tpath,\n\t\tunreadCasesQuantity,\n\t\tisHidden,\n\t\thandleChangePrime,\n\t\tsetEditStaff,\n\t\teditStaff,\n\t\ttoggleEditStaff\n\t};\n}\n","import { StaffDetails } from './StaffDetails';\nexport default StaffDetails;\n"],"names":["StaffDetailsCases","lazy","StaffDetailsGeneral","StaffDetailsInner","isAdmin","useAppState","React","primeTab","setPrimeTab","pageName","setPageName","useState","editStaff","setEditStaff","useRouter","location","match","url","path","useUnreadCaseTab","unreadCasesQuantity","isHidden","useEffect","locationSplitterArray","pathname","split","filter","Boolean","String","nestedPageType","length","handleChangePrime","event","newValue","toggleEditStaff","prev","useStaff","useStaffManagementList","editVisible","closeEditPopup","showEditVisible","modalItem","setModalItem","useAuth","company","userData","t","useTranslation","isBusinessOwner","id","owner","className","Helmet","color","isDisabled","state","is_business_owner","onClick","handleModalOpen","open","scrollable","maxWidth","minWidth","noPadding","EditStaffForm","entity","onSuccess","Suspense","fallback","tiled","exact","component"],"sourceRoot":""}