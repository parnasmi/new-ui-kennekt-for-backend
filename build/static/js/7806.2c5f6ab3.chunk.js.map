{"version":3,"file":"static/js/7806.2c5f6ab3.chunk.js","mappings":"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","sources":["pages/ClientsManagement/utils/getClientType.ts","pages/ClientsManagement/NestedPages/ClientsList/ClientsList.tsx","pages/ClientsManagement/NestedPages/ClientsList/index.ts"],"sourcesContent":["export const getClientType = (isIndividual: boolean) => (isIndividual ? 'Individual' : 'Business');\n","import React from 'react';\nimport 'dayjs/locale/uz';\nimport 'dayjs/locale/ru';\nimport {\n\tActionsButtons,\n\tConfirmModal,\n\tErrorBoundary,\n\tLoader,\n\tStyledTable,\n\tStyledTableCell,\n\tStyledTableHeadCell,\n\tStyledTableRow\n} from 'shared/components';\nimport { useAppState } from 'shared/state';\nimport EntityContainer from 'modules/entity/containers';\nimport {\n\tPagination,\n\tTableBody,\n\tTableContainer,\n\tTableHead,\n\tTooltip\n} from 'shared/components/Elements';\nimport { usePagination, useRouter } from 'shared/hooks';\nimport { useClientsManagementContext } from '../../context/ClientsManagementContext';\nimport { ClientCompany } from '../../../../shared/typings/client.types';\nimport { ClientName } from '../../components';\nimport { getClientName, getClientType } from '../../utils';\nimport get from 'lodash/get';\nimport dayjs from 'dayjs';\nimport { useClientList } from '../../hooks';\nimport { useDebounce } from 'use-debounce';\nimport { Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { convertToLocalizationKey } from 'shared/services/utils/convertToLocalizationKey';\n\nfunction ClientsListInner() {\n\tconst { t } = useTranslation();\n\tconst { companyId, isPermitted } = useAppState();\n\tconst { page, handlePage } = usePagination();\n\tconst { searchQuery: query } = useClientsManagementContext();\n\tconst { match, history } = useRouter();\n\tconst { deleteLoading, handleClientDelete, showDeleteVisible, closeDeletePopup, deleteVisible } =\n\t\tuseClientList();\n\tconst [searchQuery] = useDebounce<string>(query, 500);\n\n\tconst deleteClientHandler = () => () => handleClientDelete(deleteVisible!);\n\n\treturn (\n\t\t<div>\n\t\t\t{companyId ? (\n\t\t\t\t<EntityContainer.All\n\t\t\t\t\tentity=\"clients\"\n\t\t\t\t\tname=\"AllClients\"\n\t\t\t\t\turl={`/${companyId}/client_companies/`}\n\t\t\t\t\tparams={{\n\t\t\t\t\t\tlimit: 10,\n\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\tsearch: searchQuery\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpage\n\t\t\t\t\t}}\n\t\t\t\t\treplaceIds\n\t\t\t\t>\n\t\t\t\t\t{({ items, isFetched, meta }) => {\n\t\t\t\t\t\tconst clients = items as ClientCompany[];\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<TableContainer classes={{ root: 'relative ' }}>\n\t\t\t\t\t\t\t\t\t<StyledTable\n\t\t\t\t\t\t\t\t\t\taria-label=\"simple table\"\n\t\t\t\t\t\t\t\t\t\tclasses={{ root: 'table-fixed dark-mode-styled-table' }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '20%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('client_name')}\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '10%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('client_type')}\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t{/*<StyledTableHeadCell style={{ width: '7%' }}>Users</StyledTableHeadCell>*/}\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '7%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('cases')}\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '10%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('status')}\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '20%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('registered')}\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '15%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('uploaded_file_name')}\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '11%', textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('actions')}\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t{clients.map((item) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\t\t\t\t\tis_individual,\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon,\n\t\t\t\t\t\t\t\t\t\t\t\t\towner,\n\t\t\t\t\t\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcases_count_as_client,\n\t\t\t\t\t\t\t\t\t\t\t\t\tstatus,\n\t\t\t\t\t\t\t\t\t\t\t\t\timported_from_file,\n\t\t\t\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\t\t\t} = item;\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow key={id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.owner ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`${match.path}${item.id}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ClientName\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tis_individual={is_individual}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\towner={owner}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnameClassNames=\"text-primary transition hover:text-primary-dark\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Something wrong with this client\" placement=\"top\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ClientName\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tis_individual={is_individual}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\towner={owner}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(convertToLocalizationKey(getClientType(is_individual)))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>{cases_count_as_client ?? 0}</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/*<StyledTableCell>{users_count}</StyledTableCell>*/}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"h-5 rounded-full bg-primary text-center text-xs font-medium leading-5 text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(convertToLocalizationKey(status))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{dayjs(get(item, 'created_date', '')).format('MMMM D YYYY, h:mm a')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\" truncate\">{imported_from_file}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionsButtons.DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisDisabled={!isPermitted}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickHandler={() => showDeleteVisible(item)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionsButtons.ViewButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickHandler={() => history.push(`${match.path}${item.id}`)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisDisabled={!item.owner}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/*<ActionsButtons.EditButton*/}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/*\tisDisabled={!isPermitted}*/}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/*\tclickHandler={() => showEditVisible(item)}*/}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/*/>*/}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</StyledTable>\n\t\t\t\t\t\t\t\t\t{!isFetched && <Loader tiled withOverlay />}\n\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t\t<ConfirmModal\n\t\t\t\t\t\t\t\t\tfeatureHandler={deleteClientHandler()}\n\t\t\t\t\t\t\t\t\tisOpen={Boolean(deleteVisible)}\n\t\t\t\t\t\t\t\t\ttoggleHandler={closeDeletePopup}\n\t\t\t\t\t\t\t\t\ttitle={t('delete_client_confirmation', {\n\t\t\t\t\t\t\t\t\t\tclientName: getClientName(\n\t\t\t\t\t\t\t\t\t\t\t(deleteVisible as ClientCompany)?.is_individual,\n\t\t\t\t\t\t\t\t\t\t\t(deleteVisible as ClientCompany)?.name,\n\t\t\t\t\t\t\t\t\t\t\t(deleteVisible as ClientCompany)?.owner\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\thasLoader\n\t\t\t\t\t\t\t\t\tisLoading={deleteLoading}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{/*<WhiteModal handleModalOpen={closeEditPopup} open={Boolean(editVisible)}>*/}\n\t\t\t\t\t\t\t\t{/*\t<EditInvitation entity={editVisible!} onSuccess={closeEditPopup} />*/}\n\t\t\t\t\t\t\t\t{/*</WhiteModal>*/}\n\t\t\t\t\t\t\t\t<div className=\"news__pagination my-4\">\n\t\t\t\t\t\t\t\t\t{items.length ? (\n\t\t\t\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\t\t\t\tcount={meta?.last_page}\n\t\t\t\t\t\t\t\t\t\t\tpage={page ? +page : 1}\n\t\t\t\t\t\t\t\t\t\t\tdefaultPage={6}\n\t\t\t\t\t\t\t\t\t\t\tsiblingCount={1}\n\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handlePage}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t</EntityContainer.All>\n\t\t\t) : (\n\t\t\t\t<div className=\"flex justify-center\">\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default function ClientsList() {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<ClientsListInner />\n\t\t</ErrorBoundary>\n\t);\n}\n","import ClientsList from './ClientsList';\nexport default ClientsList;\n"],"names":["getClientType","isIndividual","ClientsListInner","t","useTranslation","useAppState","companyId","isPermitted","usePagination","page","handlePage","query","useClientsManagementContext","searchQuery","useRouter","match","history","useClientList","deleteLoading","handleClientDelete","showDeleteVisible","closeDeletePopup","deleteVisible","useDebounce","entity","name","url","params","limit","extra","search","replaceIds","items","isFetched","meta","clients","classes","root","style","width","textAlign","map","item","is_individual","icon","owner","cases_count_as_client","status","imported_from_file","id","to","path","nameClassNames","title","placement","convertToLocalizationKey","className","dayjs","get","format","isDisabled","clickHandler","push","tiled","withOverlay","featureHandler","isOpen","Boolean","toggleHandler","clientName","getClientName","hasLoader","isLoading","length","count","last_page","defaultPage","siblingCount","color","onChange"],"sourceRoot":""}