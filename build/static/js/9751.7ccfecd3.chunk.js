!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="99102c77-ed05-45ad-bb82-9a3ce370b34b",e._sentryDebugIdIdentifier="sentry-dbid-99102c77-ed05-45ad-bb82-9a3ce370b34b")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"679831ce0b54925e28194bc104f85683e4de96a1"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[9751],{29751:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var a=n(1413),o=n(7481),s=n(26864),r=n(81724),i=n(87818),l=n(42339),d=n(32380),c=n(79271),m=n(4245),u=n(31102),p=n(54270),w=(n(72791),n(72248)),h=n(97689),f=n(80184),g=d.Z.entity.formRequest,b=r.Ry({username:r.Z_().email("Enter a valid email").required("Email is required"),new_password:r.Z_().strict(!0).trim("Password cannot be blank").min(6,"Password should be of minimum 6 characters length").required("Password is required"),passwordConfirmation:r.Z_().oneOf([r.iH("new_password")],"Passwords are not the same!").required("Password confirmation is required!")});var v=function(){var e=(0,i.I0)(),t=(0,c.k6)(),n=(0,c.TH)(),r=(0,c.UO)(),d=(0,u.lm)(),v=d.notifVisible,x=d.setNotifVisible,k=d.handleNotificationClose,y=d.Notification,_=(0,u.eC)().showNotification,N=(0,h.a)().isAuthentificated,Z=(0,u.bK)({url:"",dynamicUrl:!0,cb:{success:function(e,n){x(!0);var a=n[0],o=a.setPassWordData,s=a.setSubmitting,r=null===o||void 0===o?void 0:o.token;s(!1),w.tO.set("token",r),setTimeout((function(){N?t.push("/switch-business"):(t.push("/"),window.location.reload())}),2e3)},error:function(e,t){_({message:"Something went wrong",variant:"error"})}}}).fetchData,P=m.parse(n.search)||{username:""},S=(0,s.TA)({initialValues:{username:P.username,new_password:"",passwordConfirmation:""},validationSchema:b,onSubmit:function(t,n){n.setFieldError;var o=n.setSubmitting,s=(0,a.Z)({},t);delete s.passwordConfirmation,e(g({entity:"change_password",name:"change_password",url:"/user/set-password/",method:"patch",params:{},values:s,cb:{success:function(e){"code"in r&&(localStorage.clear(),Z({url:"/sts/".concat(r.code,"/"),setSubmitting:o,setPassWordData:e}))},error:function(e){var t;e&&400===(null===(t=e.response)||void 0===t?void 0:t.status)&&_({message:"This invitation link is invalid.\nPlease contact to invited person to have a new invitation link.",variant:"error"}),o(!1)},finally:function(){}}}))}});return(0,f.jsx)(o.P,{title:"Set password for new user",description:'\n\t\t\t\t\t\t\t\t\t\tYou should set your personal password for getting started with \n\t\t\t\t\t\t\t\t\t\temail <span class="text-primary">'.concat(P.username,"</span>\n\t\t\t\t\t\t\t\t\t"),goToPageLink:"/signin",goToPage:"Do you want to login to another account?",goToPageLinkText:"Sign In",back:!0,content:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p.q,{children:(0,f.jsx)("title",{children:"KENNEKT | Set new password"})}),(0,f.jsx)("form",{onSubmit:S.handleSubmit,children:(0,f.jsxs)("div",{className:" w-full font-poppins md:w-[423px]",children:[(0,f.jsx)(l.Qp,{name:"new_password",placeholder:"Password",label:"Password",required:!0,onChange:S.handleChange,type:"password",value:S.values.new_password,error:S.touched.new_password&&Boolean(S.errors.new_password),helperText:S.touched.new_password&&S.errors.new_password}),(0,f.jsx)(l.Qp,{name:"passwordConfirmation",placeholder:"Confirm password",label:"Password confirmation",required:!0,onChange:S.handleChange,type:"password",value:S.values.passwordConfirmation,error:S.touched.passwordConfirmation&&Boolean(S.errors.passwordConfirmation),helperText:S.touched.passwordConfirmation&&S.errors.passwordConfirmation,classNames:"mb-8"}),(0,f.jsx)(y,{severity:"info",anchorOrigin:{vertical:"bottom",horizontal:"center"},handleClose:k,open:v,message:"Your account has been confirmed. You will redirected into the app in seconds..",autoHideDuration:3e3}),(0,f.jsx)("button",{disabled:S.isSubmitting,className:"bg-primary py-3.5 uppercase transition w-full rounded-lg text-center text-sm font-light text-white hover:bg-primary-dark",children:S.isSubmitting?"Setting password. Please wait a while":"Set password"})]})})]})})}},7481:function(e,t,n){n.d(t,{P:function(){return h}});var a,o=n(30168),s=n(52554),r=n(9478),i=n(91523),l=n(79271),d=n(28182),c=n(70629),m=n(57090),u=(n(72791),n(23853)),p=n(64923),w="".concat(r.Z.PUBLIC_ASSETS,"img/");function h(e){var t=e.content,n=e.title,r=e.description,h=e.goToPage,f=e.goToPageLinkText,g=e.goToPageLink,b=e.back,v=e.isInitialPage,x=(0,l.k6)();return(0,p.BX)("div",{className:"welcome flex min-h-full font-poppins ",children:[(0,p.tZ)("div",{className:"welcome__left hidden bg-cover bg-no-repeat py-14 px-20 md:block md:w-[52%]",css:(0,s.iv)(a||(a=(0,o.Z)(["\n\t\t\t\t\tbackground-image: url(","bg-welcome.jpg);\n\t\t\t\t"])),w),children:(0,p.tZ)(i.rU,{to:"/",className:"h-8 w-40",children:(0,p.tZ)("img",{src:"".concat(w,"logo-kennekt-2.svg"),alt:"",className:"object-cover"})})}),(0,p.BX)("div",{className:"flex w-full flex-col justify-between p-4 md:block md:w-[48%] md:pl-12 md:pt-14 md:pr-20 md:pb-14",children:[(0,p.BX)("div",{className:(0,d.Z)("top",{"flex items-center justify-between":c.tq&&v}),children:[(0,p.tZ)("div",{className:"mobile-logo mb-2 lg:hidden",children:(0,p.tZ)(i.rU,{to:"/",className:"block h-6 w-32",children:(0,p.tZ)("img",{src:"".concat(w,"logo-kennekt-2.svg"),alt:"",className:"object-cover"})})}),(0,p.BX)("div",{className:(0,d.Z)("top-nav flex justify-between md:mb-28"),children:[(0,p.BX)("div",{className:(0,d.Z)("group flex cursor-pointer items-center text-kgrey-welcome",!b&&"opacity-0",v&&"hidden",!v&&!c.tq&&"md:flex"),onClick:function(){return x.goBack()},children:[(0,p.tZ)("span",{className:"text-2xl transition group-hover:text-primary",children:(0,p.tZ)(u.YFh,{})}),(0,p.tZ)("span",{className:"mr-4 text-sm font-medium transition group-hover:text-primary md:ml-3 md:text-base",children:"Back"})]}),(0,p.BX)("div",{className:"flex items-center text-sm font-light md:text-lg",children:[(0,p.tZ)("span",{className:"hidden text-kgrey-welcome md:block ",children:h}),(0,p.tZ)(i.rU,{to:g,className:"transitions ml-2 whitespace-nowrap text-primary hover:text-primary-dark ",children:f})]})]})]}),(0,p.BX)("div",{className:"content-wrapper",children:[(0,p.BX)("div",{className:"welcome__header mb-8 md:mb-12",children:[(0,p.tZ)("div",{className:"mb-1 text-2xl font-bold md:mb-2.5 md:text-3xl",children:n}),(0,p.tZ)("p",{className:"text-sm font-light text-kgrey-welcome md:text-base",children:(0,p.tZ)(m._S,{text:r})})]}),(0,p.tZ)("div",{className:"welcome__content",children:t})]}),(0,p.tZ)("div",{className:"opacity-0",children:"Footer"})]})]})}}}]);
//# sourceMappingURL=9751.7ccfecd3.chunk.js.map