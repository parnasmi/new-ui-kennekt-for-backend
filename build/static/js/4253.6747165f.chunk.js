!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=(new Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="09cb7fdf-ec12-4895-b7fc-d39d631f4801",e._sentryDebugIdIdentifier="sentry-dbid-09cb7fdf-ec12-4895-b7fc-d39d631f4801")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"e2b8a9729dacac74d98888be46c5988a7fe8bfbc"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[4253],{92651:function(e,a,t){"use strict";t.d(a,{Z:function(){return pe}});var n=t(4942),s=t(70885),i=t(1413),o=t(42982),r=t(72791),l=t(26513),c=t(89526),d=t(1288),u=t(26864),m=t(92977),p=t(91523),f=t(16293),b=t(26181),h=t.n(b),x=t(70272),v=t(8826),j=t(9895),g=t(37714),_=t(54241),y=t(97892),w=t.n(y),Z=t(75288),N=t(12377),S=t(80184),C=t(83027);w().extend(C);var k,E=function(e){var a=(0,r.useState)(null),t=(0,s.Z)(a,2),n=t[0],i=t[1],o=(0,r.useState)(0),l=(0,s.Z)(o,2),c=l[0],d=l[1],u=(0,r.useState)(0),m=(0,s.Z)(u,2),p=m[0],b=m[1],h=(0,r.useState)(!1),y=(0,s.Z)(h,2),C=y[0],k=y[1],E=(0,Z.fd)().uploadAudioFile,T=(0,N.vd)().audioUploadProgress;return(0,S.jsxs)("div",{className:"recorder-box flex items-center",children:["start"===n&&(0,S.jsx)("div",{className:"recorder-box__counter mr-5",children:(0,S.jsxs)("div",{className:"w-100 mr-4 flex",children:[(0,S.jsx)("div",{className:"knx-recording-pulse"}),(0,S.jsx)(x.Z,{className:"rct-notify mr-2.5 rounded-full !bg-kred-pink",style:{width:"20px",height:"20px"},children:" "}),(0,S.jsx)("div",{className:"knx-recording-text",children:w()(c).utc().format("HH:mm:ss")})]})}),(0,S.jsxs)("div",{className:"recorder-box__actions",children:["start"===n&&(0,S.jsx)(v.Z,{color:"primary",size:"small",className:"!mr-2",onClick:function(){k(!0),clearInterval(p),i("stop")},children:(0,S.jsx)(_.Z,{})}),"start"===n&&(0,S.jsx)(v.Z,{color:"primary","aria-label":"voice-message",size:"small",onClick:function(){clearInterval(p),k(!1),i("stop")},children:(0,S.jsx)(g.Z,{})}),!n&&(0,S.jsx)("div",{className:"case-chat-btn-wr mic-scroll",children:(0,S.jsx)(v.Z,{color:"primary","aria-label":"voice-message",size:"small",disabled:!!T,onClick:function(){var e=setInterval((function(){d((function(e){return e+1e3}))}),1e3);b(e),i("start"),d(0)},children:(0,S.jsx)(j.Z,{})})})]}),(0,S.jsx)(f.Si,{command:n,onStop:function(e){C||E(e),i(null)}})]})},T=t(74569),M=t.n(T),O=t(52417),D=t(18335),I=t(40084),V=t(9478),z=t(97689),q=M().CancelToken;function F(e){var a=e.uploadMeta,t=e.setUploadMeta,n=e.cancelSending,c=e.setCancelSending,d=e.setFiles,u=(0,I.m)().companyId,m=(0,z.a)().token,p=(0,r.useState)(null),f=(0,s.Z)(p,2),b=f[0],h=f[1];(0,r.useEffect)((function(){t(b)}),[b]),(0,r.useEffect)((function(){if(n){k("Operation canceled by the user.")}}),[n]);var x="".concat(V.Z.API_ROOT,"/").concat(u,"/upload/");return(0,S.jsx)("div",{children:a?(0,S.jsx)(l.Z,{variant:"outlined",className:"pending-upload__btn",color:"default",disabled:!!a,endIcon:(0,S.jsx)(O.Z,{}),children:"Upload"}):(0,S.jsx)(D.Z,{beforeUpload:function(e){var a=e;(new FileReader).readAsDataURL(a),(0,i.Z)((0,i.Z)({},e),{},{uid:e.uid,type:e.type,name:e.name,key:e.key,size:e.size,lastModified:e.lastModified})},customRequest:function(e){var a=e.file,t=e.filename,n=e.headers,s=void 0===n?{Authorization:"Token "+m}:n,i=new FormData;return i.append(t,a),M().post(x,i,{headers:s,onUploadProgress:function(e){var a=e.total,t=e.loaded;!function(e){var a=e.percent;h(Number(a))}({percent:Math.round(t/a*100).toFixed(2)})},cancelToken:new q((function(e){k=e}))}).then((function(e){!function(e,a,t){h(null),d((function(a){return[].concat((0,o.Z)(a),[e])}))}(e.data)})).catch((function(e){c(!1),h(null)})),{abort:function(){console.log("upload progress is aborted.")}}},children:(0,S.jsx)(l.Z,{variant:"outlined",className:"pending-upload__btn",color:"default",disabled:!!a,endIcon:(0,S.jsx)(O.Z,{}),children:"Upload"})})})}function R(e){return(0,S.jsx)(f.SV,{children:(0,S.jsx)(F,(0,i.Z)({},e))})}var U=t(35720),A="".concat(V.Z.PUBLIC_ASSETS,"img/");var L=function(e){var a=e.uploadMeta,t=e.setUploadMeta,n=e.cancelSending,s=e.setCancelSending,i=e.files,o=e.setFiles,r=function(e){var a=i.filter((function(a){return a.id!==e}));o(a)},l=(0,N.vd)(),c=l.audioUploadProgress,d=l.setAudioCancelSending;return(0,S.jsxs)("div",{className:"uploadbox flex items-center",children:[(0,S.jsx)("div",{className:"uploadbox__btn mr-5",children:(0,S.jsx)(R,{uploadMeta:a,setUploadMeta:t,cancelSending:n,setCancelSending:s,files:i,setFiles:o})}),(0,S.jsx)("div",{className:"uploadbox__display",children:(0,S.jsxs)("div",{className:"uploadbox__display-list  flex items-center",children:[i.map((function(e){return e.thumbnail?(0,S.jsxs)("div",{className:"uploadbox__display-item mb-2.5",children:[(0,S.jsx)("img",{src:h()(e,"thumbnail_150"),alt:""}),(0,S.jsx)("div",{className:"uploadbox__display-item-remove",onClick:function(){return r(e.id)}})]},e.name):"wav"===e.name.split(".").pop()?(0,S.jsxs)("div",{className:"uploadbox__display-item uploadbox__display-item_audio mb-2.5",children:[(0,S.jsx)("div",{className:"uploadbox__display-item-remove",onClick:function(){return r(e.id)}}),(0,S.jsxs)("audio",{controls:!0,children:[(0,S.jsx)("source",{src:e&&e.url,type:"audio/wav"}),(0,S.jsx)("source",{src:e&&e.url,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]},e.name):(0,S.jsxs)("div",{className:"uploadbox__display-item mb-2.5",children:[(0,S.jsx)("div",{className:"uploadbox__display-item-remove",onClick:function(){return r(e.id)}}),(0,S.jsx)("span",{className:"inline-block text-xs leading-3",children:e.name})]},e.name)})),(0,S.jsxs)("div",{className:"uploadbox__display-item uploadbox__display-item_placeholder mb-2.5",children:[(0,S.jsx)("img",{src:"".concat(A,"image-placeholder.png"),alt:""}),(null!==a||null!==c)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"upload-media-spinner",children:(0,S.jsx)(U.Z,{variant:"determinate",value:a||c})}),(0,S.jsx)("span",{className:"upload-cancel-icon",onClick:function(){c?d(!0):(s(!0),t(null))}})]})]})]})})]})},P=t(94135),Y=t(42124),H=t(89908),K=t(28912),W=t(92475),$=t(13925),B=t(85247),Q=t(51859),G=t(66828),J=t(38596),X=t(92005),ee=t(57407),ae=t(67025),te=t(93188),ne=t(81201),se=function(e){var a=e.newsType,t=e.handleChange,n=e.values,s=e.companyId,i=e.setFieldValue,o=e.isUpdate,r=void 0===o?null:o;return(0,S.jsxs)(S.Fragment,{children:[!r&&(0,S.jsx)(d.Z,{container:!0,spacing:3,children:(0,S.jsx)(d.Z,{item:!0,xs:12,children:(0,S.jsxs)(W.Z,{"aria-label":"News type",name:"news-type",value:a,onChange:t,className:"news-types flex !flex-row items-center",children:[(0,S.jsx)(P.Z,{value:"staff",control:(0,S.jsx)(K.Z,{color:"primary"}),label:"Staff"}),(0,S.jsx)(P.Z,{value:"client",control:(0,S.jsx)(K.Z,{color:"primary"}),label:"Clients"})]})})}),"staff"===a&&(0,S.jsx)(d.Z,{container:!0,spacing:3,children:(0,S.jsx)(d.Z,{item:!0,xs:12,sm:4,children:(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold",children:"Department"}),(0,S.jsx)(f.qb,{name:"route",customStylesProps:ne.gb,label:"",placeholder:"Select Department Name",optionLabel:"name",optionValue:"id",loadOptionsUrl:"/".concat(s,"/departments/"),loadOptionsParams:function(e){return{extra:{search:e,is_staff:"true"}}},value:h()(n,"staff_departments"),loadOptionsKey:"results",isMulti:!0,isSearchable:!0,isClearable:!0,onChange:function(e){i("staff_departments",e)}})]})})}),"client"===a&&(0,S.jsx)(d.Z,{container:!0,spacing:3,children:(0,S.jsx)(d.Z,{item:!0,xs:12,sm:4,children:(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold",children:"Client groups (Optional)"}),(0,S.jsx)(f.qb,{name:"route",customStylesProps:ne.gb,label:"",placeholder:"Client groups here",optionLabel:"name",optionValue:"id",loadOptionsUrl:"/".concat(s,"/categories/"),loadOptionsParams:function(e){return{extra:{search:e}}},value:h()(n,"categories"),loadOptionsKey:"results",isMulti:!0,isSearchable:!0,isClearable:!0,onChange:function(e){i("categories",e)}})]})})})]})},ie=t(32461),oe=t(27945),re=t(67688),le=t(31102),ce=function(e){var a=e.newsValues,t=e.onSuccess,n=(0,I.m)().companyId,s=(0,le.eC)().showNotification;return console.log("newsValues",a),(0,S.jsx)(oe.Z.Main,{entity:"templates",name:"AllTemplates",url:"/".concat(n,"/notification-templates/"),sendAsFormData:!1,method:"post",fields:[{name:"subject",required:!0,onSubmitKey:""},{name:"title",required:!0,value:a.subject,onSubmitKey:""},{name:"body",required:!0,value:a.body,onSubmitKey:""}],onSuccess:function(){t()},onError:function(e,a){var t,n,i=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Something went wrong";s({message:i,variant:"error"})},children:function(e){var a=e.values,n=e.isSubmitting;return(0,S.jsxs)("div",{className:"case-form",children:[(0,S.jsx)("div",{className:"case-form__content",children:(0,S.jsxs)("div",{className:"case-form__input-row mb-15",children:[(0,S.jsx)("div",{className:"case-form__input-row-label text-base font-bold",children:"Template name"}),(0,S.jsx)(u.gN,{component:re.Mg,type:"text",placeholder:"Template name here",name:"subject",autoComplete:"off"})]})}),(0,S.jsxs)("div",{className:"case-form__submit-row flex-center-end",children:[(0,S.jsx)(l.Z,{variant:"contained",disabled:n,onClick:function(){t()},children:"Cancel"}),(0,S.jsx)(l.Z,{className:"!ml-5",variant:"contained",color:"primary",disabled:n||!a.subject,type:"submit",children:"Create"})]}),n?(0,S.jsx)(f.aN,{tiled:!0,withOverlay:!0}):null]})}})},de=t(98016),ue=t.n(de),me=(0,J.Z)((function(e){return{formControl:{width:"100%"},selectEmpty:{marginTop:e.spacing(2)},pullLeft:{}}})),pe=function(e){var a=e.isSubmitting,t=e.values,b=e.setFieldValue,x=e.keywords,v=e.frequencies,j=e.statuses,g=e.campaignId,_=e.setFieldError,y=e.errors,Z=e.isUpdate,C=void 0!==Z&&Z,k=me(),T=(0,N.vd)(),M=T.audioResponse,O=T.setAudioResponse,D=function(e){switch(e){case"ONE_TIME":case"EVENTS":default:return"DAILY";case"DAILY":case"WEEKLY":case"MONTHLY":case"YEARLY":case"QUARTERLY":return e}},V=function(e){return null===e||void 0===e?void 0:e.slice(0,-1)},z=(0,X.x0)(),q=(0,r.useState)(""),F=(0,s.Z)(q,2),R=F[0],U=F[1],A=(0,r.useState)(!1),J=(0,s.Z)(A,2),oe=J[0],le=J[1],de=(0,r.useState)(null),pe=(0,s.Z)(de,2),be=pe[0],he=pe[1],xe=(0,r.useState)(!1),ve=(0,s.Z)(xe,2),je=ve[0],ge=ve[1],_e=(0,r.useState)(t.files),ye=(0,s.Z)(_e,2),we=ye[0],Ze=ye[1],Ne=(0,r.useState)("schedule"),Se=(0,s.Z)(Ne,2),Ce=Se[0],ke=Se[1],Ee=(0,r.useState)(D(C?D(C.frequency):"DAILY")),Te=(0,s.Z)(Ee,2),Me=Te[0],Oe=Te[1],De=(0,r.useState)(t.frequency),Ie=(0,s.Z)(De,2),Ve=Ie[0],ze=Ie[1],qe=(0,r.useState)(C?new Date(V(null===C||void 0===C?void 0:C.start_time)):new Date(t.start_time)),Fe=(0,s.Z)(qe,2),Re=Fe[0],Ue=Fe[1],Ae=(0,r.useState)({start:new Date(C?V(null===C||void 0===C?void 0:C.start_time):t.start_time),end:C&&!ue()(null===C||void 0===C?void 0:C.end_time)?new Date(C?V(null===C||void 0===C?void 0:C.end_time):t.end_time):null}),Le=(0,s.Z)(Ae,2),Pe=Le[0],Ye=Le[1],He=(0,r.useState)("EVENTS"===C.frequency?C.event_times.reduce((function(e,a){return[].concat((0,o.Z)(e),[(0,i.Z)((0,i.Z)({},a),{},{date:new Date(a.time)})])}),[]):[{id:z,date:new Date}]),Ke=(0,s.Z)(He,2),We=Ke[0],$e=Ke[1],Be=r.useState({startNow:!1,forever:!!C&&ue()(C.end_time),staffOnly:!1,newsType:C?t.type:"staff",isSubmitting:!1,open_for_cases:!!C&&t.open_for_cases}),Qe=(0,s.Z)(Be,2),Ge=Qe[0],Je=Qe[1],Xe=(0,I.m)().companyId,ea=(0,r.useRef)(!0),aa=Ge.staffOnly,ta=Ge.newsType,na=function(e){Je((0,i.Z)((0,i.Z)({},Ge),{},(0,n.Z)({},e.target.name,e.target.checked)))};(0,r.useEffect)((function(){b("open_for_cases",Ge.open_for_cases)}),[Ge.open_for_cases]),(0,r.useEffect)((function(){(function(e){var a=document.createElement("div");return a.innerHTML=e,fe(a)})(t.body)&&(_("body","Required"),b("body",""))}),[t.body]),(0,r.useEffect)((function(){M&&Ze((function(e){return[].concat((0,o.Z)(e),[M])}))}),[M]),(0,r.useEffect)((function(){return function(){Ze([]),O(null)}}),[]),(0,r.useEffect)((function(){b("files",we)}),[we]),(0,r.useEffect)((function(){"now"===Ce?(b("start_time","now"),b("end_time","now"),b("frequency","ONE_TIME")):(b("start_time",Re),b("frequency",Ve))}),[Ce]);var sa=function(e,a,t){Ge[e]?(Ge.startNow&&b(a,"now"),b("end_time",null)):b(a,t)};(0,r.useEffect)((function(){!function(){switch(Ve){case"ONE_TIME":b("frequency","ONE_TIME");break;case"REPEAT":b("frequency",Me),sa("startNow","start_time",Pe.start),sa("forever","end_time",Pe.end);break;case"EVENTS":b("frequency","EVENTS");break;default:;}}()}),[Ve,Me]),(0,r.useEffect)((function(){b("start_time",Re),b("end_time",Re)}),[Re]),(0,r.useEffect)((function(){sa("startNow","start_time",Pe.start),sa("forever","end_time",Pe.end)}),[Pe]),(0,r.useEffect)((function(){sa("startNow","start_time",Pe.start),sa("forever","end_time",Pe.end)}),[Ge]),(0,r.useEffect)((function(){var e=We.map((function(e){return{time:w()(e.date).format("YYYY-MM-DDTHH:mm:ss")}}));b("event_times",e)}),[We]),(0,r.useEffect)((function(){aa&&b("company_ids",void 0)}),[aa]),(0,r.useEffect)((function(){ea.current?ea.current=!1:("subject"in y&&Ge.isSubmitting&&oa("subject"),"body"in y&&!("subject"in y)&&Ge.isSubmitting&&oa("body"))}),[y,Ge.isSubmitting]),(0,r.useEffect)((function(){Ge.isSubmitting&&setTimeout((function(){Je((function(e){return(0,i.Z)((0,i.Z)({},e),{},{isSubmitting:!1})}))}),100)}),[Ge.isSubmitting]);var ia=function(e){var a=e.target,t=a.value;switch(a.name){case"sendTime":ke(t);break;case"delivFrequency":ze(t);break;case"frequency":Oe(t);break;case"news-type":Je((function(e){return(0,i.Z)((0,i.Z)({},e),{},{newsType:t})})),b("type",t);break;default:return null}};function oa(e){var a=document.querySelector("#subject"),t=document.querySelector("#body");"subject"===e&&(null===a||void 0===a||a.scrollIntoView({block:"start",behavior:"smooth"})),"body"===e&&(null===t||void 0===t||t.scrollIntoView({block:"start",behavior:"smooth"}))}var ra=function(){return le((function(e){return!e}))};return(0,S.jsx)(c.Z,{className:"uni-page__paper",children:(0,S.jsx)(Y.M,{utils:$.Z,children:(0,S.jsxs)("div",{className:"form-page react-select-dropdown p-2 sm:p-6",children:[!g&&(0,S.jsx)(se,{newsType:ta,handleChange:ia,values:t,companyId:Xe,setFieldValue:b,isUpdate:C}),!C&&(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(d.Z,{container:!0,spacing:3,alignItems:"center",children:[(0,S.jsx)(d.Z,{item:!0,xs:12,sm:8,md:6,lg:4,children:(0,S.jsx)("div",{className:"react-select-dropdown",children:(0,S.jsx)(f.qb,{name:"route",customStylesProps:ne.gb,label:"",placeholder:"Choose Template (Optional)",optionLabel:"subject",optionValue:"id",loadOptionsUrl:"/".concat(Xe,"/notification-templates/"),loadOptionsParams:function(e){return{extra:{search:e}}},value:R,loadOptionsKey:"results",isSearchable:!0,isClearable:!0,onChange:function(e){U(e),e?(b("subject",e.title),b("body",e.body)):(b("subject"," "),b("body"," "))}})})}),(0,S.jsx)(d.Z,{item:!0,xs:12,sm:4,md:4,children:(0,S.jsx)(l.Z,{variant:"contained",color:"primary",disabled:a,component:p.rU,className:"!text-white",to:"/news/create-template",children:"New Template"})})]})}),(0,S.jsx)(d.Z,{container:!0,spacing:3,children:(0,S.jsx)(d.Z,{item:!0,xs:12,sm:8,md:6,lg:4,children:(0,S.jsxs)("div",{className:"form-page__row mb-5",id:"subject",children:[(0,S.jsxs)("div",{className:"form-page__label text-md mb-2.5 font-bold",children:["News title",(0,S.jsx)(f.jH,{className:"text-kred-pink"})]}),(0,S.jsx)(u.gN,{component:re.Mg,type:"text",placeholder:"News title here",name:"subject",variant:"outlined",size:"small",fullWidth:!0,autoComplete:"off"})]})})}),(0,S.jsxs)("div",{className:"form-page__row mb-5",id:"body",children:[(0,S.jsxs)("div",{className:"form-page__label text-md mb-2.5 font-bold",children:["Description",(0,S.jsx)(f.jH,{className:"text-kred-pink"})]}),(0,S.jsx)(u.gN,{component:m.Z,type:"text",name:"body",bounds:".form-page",keywords:x,option:R}),(0,S.jsx)(u.Bc,{name:"body",children:function(e){return(0,S.jsx)("div",{className:"MuiFormHelperText-root MuiFormHelperText-contained Mui-error MuiFormHelperText-marginDense",children:e})}})]}),(0,S.jsxs)(d.Z,{container:!0,spacing:3,children:[(0,S.jsx)(d.Z,{item:!0,xs:12,sm:9,children:(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold",children:"File Upload"}),(0,S.jsx)(L,{uploadMeta:be,setUploadMeta:he,cancelSending:je,setCancelSending:ge,files:we,setFiles:Ze})]})}),(0,S.jsxs)(d.Z,{item:!0,xs:12,sm:8,md:6,lg:4,children:[(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold",children:"Record Audio"}),(0,S.jsx)(E,{})]}),(0,S.jsxs)("div",{className:"form-page__row custom-date-picker mb-5",children:[(0,S.jsx)("div",{className:"form-page__label mb-2 font-bold",children:"Sending status"}),(0,S.jsx)(u.gN,{component:re.mg,className:"basic-single",classNamePrefix:"select",isClearable:!0,isSearchable:!0,name:"status",options:j,placeholder:"Select sending status",styles:ne.C2})]}),(0,S.jsx)("div",{className:"form-page__row mb-5",children:(0,S.jsx)(P.Z,{control:(0,S.jsx)(B.Z,{checked:Ge.open_for_cases,onChange:na,name:"open_for_cases",color:"primary"}),label:"Allow Case Creation",classes:{label:"whitespace-nowrap"}})}),t.open_for_cases&&(0,S.jsxs)("div",{className:"form-page__row react-select-dropdown mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold ",children:"Department"}),(0,S.jsx)("div",{className:"react-select-dropdown",children:(0,S.jsx)(f.qb,{name:"route",label:"",customStylesProps:ne.gb,placeholder:"Select Department Name",optionLabel:"name",optionValue:"id",loadOptionsUrl:"/".concat(Xe,"/departments/"),loadOptionsParams:function(e){return{extra:{search:e,is_staff:"staff"===ta?"true":"false"}}},value:h()(t,"department"),loadOptionsKey:"results",isSearchable:!0,isClearable:!0,customStyles:"KntTwilioStyle",onChange:function(e){b("department",e)}})})]}),t.department&&(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold ",children:"Sub department"}),(0,S.jsx)("div",{className:"react-select-dropdown",children:(0,S.jsx)(f.qb,{name:"route",customStylesProps:ne.gb,label:"",placeholder:"Select Sub Department Name",optionLabel:"name",optionValue:"id",loadOptionsUrl:"/".concat(Xe,"/departments/").concat(h()(t,"department.id"),"/sub_departments/"),loadOptionsParams:function(e){return{extra:{search:e}}},value:h()(t,"sub_department"),loadOptionsKey:"results",isSearchable:!0,isClearable:!0,onChange:function(e){b("sub_department",e)}})})]}),function(){for(;h()(t,"sub_department.sub_departments_count")>0;)return(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold ",children:"Select sub department of sub deparment"}),(0,S.jsx)("div",{className:"react-select-dropdown",children:(0,S.jsx)(f.qb,{name:"route",customStyles:"KntTwilioStyle",label:"",placeholder:"Select Sub Department Name",optionLabel:"name",optionValue:"id",loadOptionsUrl:"/".concat(Xe,"/departments/").concat(h()(t,"sub_department.id"),"/sub_departments/"),loadOptionsParams:function(e){return{extra:{search:e}}},value:h()(t,"sub_department"),loadOptionsKey:"results",isSearchable:!0,isClearable:!0,onChange:function(e){b("sub_department",e)}})})]})}(),(0,S.jsx)("div",{className:"form-page__row mb-5",children:(0,S.jsx)(W.Z,{"aria-label":"time",name:"sendTime",value:Ce,onChange:ia,children:(0,S.jsxs)("div",{className:"flex",children:[(0,S.jsx)(P.Z,{value:"now",control:(0,S.jsx)(K.Z,{color:"primary"}),label:"Send now"}),(0,S.jsx)(P.Z,{value:"schedule",control:(0,S.jsx)(K.Z,{color:"primary"}),label:"Schedule"})]})})}),"schedule"===Ce&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold",children:"Delivery Frequency"}),(0,S.jsx)(W.Z,{"aria-label":"frequency",name:"delivFrequency",value:Ve,onChange:ia,children:(0,S.jsxs)("div",{className:"flex",children:[(0,S.jsx)(P.Z,{value:"ONE_TIME",control:(0,S.jsx)(K.Z,{color:"primary"}),label:"One time"}),(0,S.jsx)(P.Z,{value:"REPEAT",control:(0,S.jsx)(K.Z,{color:"primary"}),label:"Repeat"}),(0,S.jsx)(P.Z,{value:"EVENTS",control:(0,S.jsx)(K.Z,{color:"primary"}),label:"Multiple Events"})]})})]}),"ONE_TIME"===Ve&&(0,S.jsx)("div",{className:"form-page__row custom-date-picker mb-5",children:(0,S.jsx)(H.x,{label:"Send time",size:"small",fullWidth:!0,inputVariant:"outlined",value:Re,onChange:Ue})}),"REPEAT"===Ve&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"form-page__row custom-date-picker mb-5",children:(0,S.jsx)(G.Z,{variant:"outlined",className:k.formControl,children:(0,S.jsx)(te.Z,{id:"standard-select-currency",select:!0,name:"frequency",value:Me,label:"Select Frequency",variant:"outlined",size:"small",onChange:ia,children:v.map((function(e){return(0,S.jsx)(Q.Z,{value:e.code,children:e.name},e.code)}))})})}),(0,S.jsx)("div",{className:"form-page__row custom-date-picker mb-5",children:(0,S.jsxs)(d.Z,{container:!0,item:!0,xs:12,spacing:3,alignItems:"center",children:[!Ge.startNow&&(0,S.jsx)(d.Z,{item:!0,xs:12,sm:8,children:(0,S.jsx)(H.x,{label:"Start time",inputVariant:"outlined",value:Pe.start,size:"small",fullWidth:!0,onChange:function(e){return Ye((function(a){return(0,i.Z)((0,i.Z)({},a),{},{start:e})}))}})}),(0,S.jsx)(d.Z,{item:!0,xs:12,sm:4,children:(0,S.jsx)(P.Z,{control:(0,S.jsx)(B.Z,{checked:Ge.startNow,onChange:na,name:"startNow",color:"primary"}),label:"Start now",classes:{label:"whitespace-nowrap"}})})]})}),(0,S.jsx)("div",{className:"form-page__row custom-date-picker mb-5",children:(0,S.jsxs)(d.Z,{container:!0,item:!0,xs:12,spacing:3,alignItems:"center",children:[!Ge.forever&&(0,S.jsx)(d.Z,{item:!0,xs:12,sm:8,children:(0,S.jsx)(H.x,{label:"End time",inputVariant:"outlined",size:"small",fullWidth:!0,value:Pe.end,onChange:function(e){return Ye((function(a){return(0,i.Z)((0,i.Z)({},a),{},{end:e})}))}})}),(0,S.jsx)(d.Z,{item:!0,xs:12,sm:4,children:(0,S.jsx)(P.Z,{control:(0,S.jsx)(B.Z,{checked:Ge.forever,onChange:na,name:"forever",color:"primary"}),label:"Forever"})})]})})]}),"EVENTS"===Ve&&(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"mb-5",children:We.map((function(e){return(0,S.jsx)("div",{className:"form-page__row custom-date-picker mb-5",children:(0,S.jsxs)(d.Z,{container:!0,item:!0,xs:12,spacing:1,alignItems:"center",children:[(0,S.jsx)(d.Z,{item:!0,xs:10,sm:8,children:(0,S.jsx)(H.x,{label:"Start time",inputVariant:"outlined",size:"small",fullWidth:!0,value:e.date,onChange:function(a){!function(e,a){var t=We.find((function(e){return e.id===a})),n=We.filter((function(e){return e.id!==a}));t.date=e;var s=[].concat((0,o.Z)(n),[t]);$e(s)}(a,e.id)}})}),(0,S.jsx)(d.Z,{item:!0,xs:2,sm:4,children:(0,S.jsx)(ae.Z,{"aria-label":"delete",className:k.pullLeft,onClick:function(){return function(e){var a=We.filter((function(a){return a.id!==e}));$e(a)}(e.id)},children:(0,S.jsx)(ee.Z,{})})})]})},e.id)}))}),(0,S.jsx)(l.Z,{variant:"outlined",color:"primary",onClick:function(){$e((function(e){return[].concat((0,o.Z)(e),[{id:z,date:new Date}])}))},children:"Add one more"})]}),(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold",children:"Timezone"}),(0,S.jsx)("div",{className:"react-select-dropdown",children:(0,S.jsx)(f.qb,{name:"route",customStylesProps:ne.gb,label:"",placeholder:"Choose Timezones here",optionLabel:"title",optionValue:"id",loadOptionsUrl:"/timezones/",loadOptionsParams:function(e){return{extra:{search:e}}},value:h()(t,"timezone"),loadOptionsKey:"results",isSearchable:!0,isClearable:!0,customStyles:"KntTwilioStyle",onChange:function(e){b("timezone",e)}})})]})]})]})]}),(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)(l.Z,{variant:"contained",disabled:a,component:p.rU,className:"!mr-5",to:g?"/news/campaigns/view/".concat(g):"/news/news-list",children:"Cancel"}),(0,S.jsx)(l.Z,{className:"ml-20",variant:"contained",color:"primary",disabled:a,type:"submit",onClick:function(){setTimeout((function(){oa("subject")}),0),Je((function(e){return(0,i.Z)((0,i.Z)({},e),{},{isSubmitting:!0})}))},children:"".concat(C?"Update":"Create")}),a?(0,S.jsx)(f.aN,{tiled:!0,withOverlay:!0}):null,!R&&t.subject&&t.body&&!C&&(0,S.jsx)(l.Z,{className:"!ml-5",variant:"contained",color:"primary",disabled:a,onClick:ra,children:"Save as template"})]}),(0,S.jsx)(ie.C,{handleModalOpen:ra,open:!!oe,children:(0,S.jsx)(ce,{newsValues:t,onSuccess:ra})})]})})})};function fe(e){for(var a=0;a<e.childNodes.length;a++){var t=e.childNodes[a];if(t instanceof Text)return!1;if(!1===fe(t))return!1}return!0}},44453:function(e,a,t){"use strict";t.d(a,{L:function(){return i}});var n=t(97892),s=t.n(n);function i(e){return"now"===e?s()(new Date).format("YYYY-MM-DDTHH:mm:ss"):s()(new Date(e)).format("YYYY-MM-DDTHH:mm:ss")}},8826:function(e,a,t){"use strict";var n=t(45987),s=t(87462),i=t(72791),o=t(28182),r=t(38317),l=t(95051),c=t(91122),d=i.forwardRef((function(e,a){var t=e.children,r=e.classes,d=e.className,u=e.color,m=void 0===u?"default":u,p=e.component,f=void 0===p?"button":p,b=e.disabled,h=void 0!==b&&b,x=e.disableFocusRipple,v=void 0!==x&&x,j=e.focusVisibleClassName,g=e.size,_=void 0===g?"large":g,y=e.variant,w=void 0===y?"round":y,Z=(0,n.Z)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return i.createElement(l.Z,(0,s.Z)({className:(0,o.Z)(r.root,d,"round"!==w&&r.extended,"large"!==_&&r["size".concat((0,c.Z)(_))],h&&r.disabled,{primary:r.primary,secondary:r.secondary,inherit:r.colorInherit}[m]),component:f,disabled:h,focusRipple:!v,focusVisibleClassName:(0,o.Z)(r.focusVisible,j),ref:a},Z),i.createElement("span",{className:r.label},t))}));a.Z=(0,r.Z)((function(e){return{root:(0,s.Z)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(d)},54241:function(e,a,t){"use strict";var n=t(64836),s=t(75263);a.Z=void 0;var i=s(t(72791)),o=(0,n(t(44894)).default)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");a.Z=o},57407:function(e,a,t){"use strict";var n=t(64836),s=t(75263);a.Z=void 0;var i=s(t(72791)),o=(0,n(t(44894)).default)(i.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");a.Z=o},9895:function(e,a,t){"use strict";var n=t(64836),s=t(75263);a.Z=void 0;var i=s(t(72791)),o=(0,n(t(44894)).default)(i.createElement("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.91-3c-.49 0-.9.36-.98.85C16.52 14.2 14.47 16 12 16s-4.52-1.8-4.93-4.15c-.08-.49-.49-.85-.98-.85-.61 0-1.09.54-1 1.14.49 3 2.89 5.35 5.91 5.78V20c0 .55.45 1 1 1s1-.45 1-1v-2.08c3.02-.43 5.42-2.78 5.91-5.78.1-.6-.39-1.14-1-1.14z"}),"MicRounded");a.Z=o},37714:function(e,a,t){"use strict";var n=t(64836),s=t(75263);a.Z=void 0;var i=s(t(72791)),o=(0,n(t(44894)).default)(i.createElement("path",{d:"M6 6h12v12H6z"}),"Stop");a.Z=o},98016:function(e){e.exports=function(e){return null===e}}}]);
//# sourceMappingURL=4253.6747165f.chunk.js.map