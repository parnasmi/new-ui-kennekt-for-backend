!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="6c74df2a-9ccc-4870-97cf-79b61007e2d1",e._sentryDebugIdIdentifier="sentry-dbid-6c74df2a-9ccc-4870-97cf-79b61007e2d1")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"2d91d0cb0833c8f8db3c1dd482d6954c4680f762"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[6908],{23331:function(e,n,t){t.d(n,{je:function(){return l},JL:function(){return u}});var a=t(29439),c=t(1413),i=t(72791),r=t(80184),s=(0,i.createContext)(null),o=function(e,n){switch(n.type){case"SET_SEARCH_QUERY":return(0,c.Z)((0,c.Z)({},e),{},{searchQuery:n.payload});case"SET_PAYMENT_FREQUENCY":return(0,c.Z)((0,c.Z)({},e),{},{paymentFrequency:n.payload});default:return e}};function l(e){var n=e.children,t=(0,i.useReducer)(o,{searchQuery:null,paymentFrequency:"year"}),c=(0,a.Z)(t,2),l=c[0],u=c[1],d=l.searchQuery,f=l.paymentFrequency,h=(0,i.useCallback)((function(e){u({type:"SET_SEARCH_QUERY",payload:e})}),[]),p=(0,i.useCallback)((function(e){u({type:"SET_PAYMENT_FREQUENCY",payload:e})}),[]),b={searchQuery:d,setSearchQuery:h,paymentFrequency:f,setPaymentFrequency:p};return(0,r.jsx)(s.Provider,{value:b,children:n})}var u=function(){var e=(0,i.useContext)(s);if(!e)throw new Error("useNewsContext must be used within the NewsContextProvider");return e}},43682:function(e,n,t){t.d(n,{I:function(){return r},m:function(){return f}});var a=t(29439),c=t(72791),i=t(36261);function r(){var e=c.useState(0),n=(0,a.Z)(e,2),t=n[0],r=n[1],s=c.useState("Billing"),o=(0,a.Z)(s,2),l=o[0],u=o[1],d=(0,i.tv)(),f=d.location,h=d.match,p=h.url,b=h.path,m=(0,i.gQ)("Billing"),y=m.unreadCasesQuantity,v=m.isHidden;return(0,c.useEffect)((function(){var e=f.pathname.split("/").filter(Boolean).filter(String),n=e[e.length-1]||"";!function(){switch(n){case"billing":r(0),u("Billing");break;case"invoice":r(1),u("Invoice");break;default:;}}()}),[f]),{primeTab:t,pageName:l,url:p,path:b,unreadCasesQuantity:y,setPrimeTab:r,isHidden:v,handleChangePrime:function(e,n){r(n)}}}var s=t(15861),o=t(64687),l=t.n(o),u=t(40084),d=t(97689);function f(){var e=(0,u.m)().companyId,n=(0,d.a)().companies,t=(0,i.tv)().history,r=(0,c.useState)(!1),o=(0,a.Z)(r,2),f=o[0],h=o[1],p=(0,c.useState)(!1),b=(0,a.Z)(p,2),m=b[0],y=b[1],v=(0,i.eC)().showNotification,g=(0,c.useState)(!1),x=(0,a.Z)(g,2),_=x[0],w=x[1],E=(0,c.useState)(null),j=(0,a.Z)(E,2),C=j[0],k=j[1],S=(0,i.bK)({url:"/".concat(e,"/payment/").concat(e,"/cancel-subscription/"),method:"put",cb:{success:function(){v({message:"Your subscription has been cancelled",variant:"success"}),h(!1),y(!1)},error:function(e,n){var t,a;v({message:(null==e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Something went wrong",variant:"error"}),h(!1)}}}).fetchData,N=(0,i.bK)({url:"/payment/".concat(e,"/invoices/?page_size=10"),cb:{success:function(e){var n;null!=e&&null!==(n=e.results)&&void 0!==n&&n.length&&w(!0)},error:function(e,n){}}}).fetchData;(0,c.useEffect)((function(){if(N(),e&&n.length){var t=n.find((function(n){return n.company.id===e})),a=null==t?void 0:t.company.comp_subscription;a&&k(a)}}),[n,e]);var T=(0,c.useCallback)((0,s.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,S();case 3:case"end":return e.stop()}}),e)}))),[]);return{navigateToCheckout:(0,c.useCallback)((function(){return t.push("/checkout")}),[]),subscription:C,handleCancelRequest:T,setCancelSubscription:y,cancelSubscription:m,cancelLoading:f,hasUserAlreadyPaidInvoice:_}}},76908:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var a=t(1413),c=t(72791),i=t(59028),r=t(43682),s=t(54270),o=t(28182),l=t(18381),u=t(91523),d=t(64880),f=t(23331),h=t(17173),p=t(80184);function b(e){return{id:"payments-tabpanel-".concat(e),"aria-controls":"payments-tab-".concat(e)}}var m=(0,c.lazy)((function(){return Promise.all([t.e(5656),t.e(4365)]).then(t.bind(t,34365))})),y=(0,c.lazy)((function(){return t.e(3115).then(t.bind(t,73115))}));function v(){var e=(0,h.$G)().t,n=(0,r.I)(),t=n.primeTab,f=n.setPrimeTab,v=n.pageName,g=n.url,x=n.path,_=n.unreadCasesQuantity,w=n.isHidden,E=n.handleChangePrime,j=location.pathname.includes("invoices"),C=["billing"].find((function(e){return location.pathname.includes(e)}));return(0,c.useEffect)((function(){j&&f(1)}),[location,j]),(0,p.jsx)(i.d,{children:(0,p.jsxs)("div",{children:[(!w||0===_)&&(0,p.jsx)(s.q,{children:(0,p.jsx)("title",{children:"KENNEKT | ".concat(v)})}),(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsx)("h1",{className:"text-2xl font-medium dark:text-white",children:e("billing_invoices")}),(0,p.jsx)("p",{className:"text-sm text-kgrey",children:e("choose_right_plan_for_you")})]}),(0,p.jsx)("div",{className:(0,o.Z)("prime-tabs",{"prime-tabs_no-bottom-extend":C}),children:(0,p.jsxs)(l.sJ.Tabs,{roundedTop:!C,value:t,onChange:E,"aria-label":"simple tabs",children:[(0,p.jsx)(l.sJ.Tab,(0,a.Z)({label:e("billing"),component:u.rU,to:"".concat(g,"/billing")},b(0))),(0,p.jsx)(l.sJ.Tab,(0,a.Z)({label:e("invoices"),component:u.rU,to:"".concat(g,"/invoices")},b(1)))]})}),(0,p.jsx)("div",{className:"relative flex max-w-full flex-grow flex-col",children:(0,p.jsx)("div",{className:"relative flex-grow",children:(0,p.jsx)(c.Suspense,{fallback:(0,p.jsx)(l.aN,{tiled:!0}),children:(0,p.jsxs)(d.rs,{children:[(0,p.jsx)(d.AW,{exact:!0,path:"".concat(x,"/billing"),component:m}),(0,p.jsx)(d.AW,{exact:!0,path:"".concat(x,"/invoices"),component:y})]})})})})]})})}var g=function(){return(0,p.jsx)(l.SV,{children:(0,p.jsx)(f.je,{children:(0,p.jsx)(v,{})})})}}}]);
//# sourceMappingURL=6908.1ce4fbd7.chunk.js.map