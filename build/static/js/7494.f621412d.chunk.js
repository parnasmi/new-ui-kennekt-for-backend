!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ffb501cb-b445-448c-9260-419edafb2ad0",e._sentryDebugIdIdentifier="sentry-dbid-ffb501cb-b445-448c-9260-419edafb2ad0")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"679831ce0b54925e28194bc104f85683e4de96a1"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[7494],{6245:function(e,n,t){t(72791);var i=t(37099),a=t(72248),r=t(26864),s=t(40084),l=t(42339),o=t(59099),c=t(80184);n.Z=function(e){var n=e.isSubmitting,t=e.onSuccess,u=e.isEditing,d=void 0!==u&&u,m=(0,s.m)().companyId;return(0,c.jsxs)("div",{className:"w-full",children:[(0,c.jsx)(r.gN,{label:"Client Group Name:",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"name",component:l.Mg,placeholder:"Type your firstname..",required:!0,autoComplete:"off"}),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("label",{className:"ml-6 mb-2 block text-xs font-light text-kgrey-welcome",children:(0,c.jsx)("span",{children:"Search Client:"})}),(0,c.jsx)("div",{className:"react-select-dropdown",children:(0,c.jsx)(r.gN,{component:i.Z,customStylesProps:a.gb,name:"clients",placeholder:"Select Clients Here",optionLabel:"name",optionValue:"id",isSearchable:!0,isMulti:!0,isClearable:!0,loadOptionsKey:"results",loadOptionsUrl:"/".concat(m,"/client_companies/"),loadOptionsParams:function(e){return{extra:{search:e}}}})})]}),(0,c.jsx)("div",{className:"flex-center-between mt-8",children:(0,c.jsx)(o.p,{onSuccess:t,isSubmitting:n,submitText:"".concat(d?"Edit":"Create"," Client Group")})})]})}},59099:function(e,n,t){t.d(n,{p:function(){return a}});t(72791);var i=t(80184);function a(e){var n=e.onSuccess,t=e.isSubmitting,a=e.disableOptions,r=void 0!==a&&a,s=e.submitText,l=void 0===s?"Invite Client":s;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:"mr-5 rounded-lg border border-kgrey  px-5 py-2 text-kgrey transition hover:border-primary hover:text-primary focus:ring focus:ring-primary",onClick:n,type:"button",children:"Cancel"}),(0,i.jsx)("button",{className:"rounded-lg bg-primary-dark px-5 py-2 text-white border border-transparent hover:border-primary-dark transition-colors hover:bg-white hover:text-primary-dark focus:ring focus:ring-primary disabled:pointer-events-none disabled:opacity-50 dark:hover:bg-primary-300 dark:hover:text-white dark:focus:ring-primary-300",type:"submit",disabled:t||r,children:l})]})}},41639:function(e,n,t){t(72791);var i=t(26864),a=t(42339),r=t(59099),s=t(80184);n.Z=function(e){var n=e.isSubmitting,t=e.onSuccess,l=e.isEditing,o=void 0!==l&&l;return(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)(i.gN,{label:"Client Group Name:",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"name",component:a.Mg,placeholder:"Type your firstname..",required:!0,autoComplete:"off"}),(0,s.jsx)(i.gN,{label:"Role description:",name:"description",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",component:a.Mg,placeholder:"Role description",type:"textarea"}),(0,s.jsx)("div",{className:"flex-center-between mt-8",children:(0,s.jsx)(r.p,{onSuccess:t,isSubmitting:n,submitText:"".concat(o?"Edit":"Create"," Linked Role")})})]})}},14523:function(e,n,t){t.d(n,{w:function(){return c},d:function(){return D}});var i=t(73469),a=t(87987),r=t(84230),s=t(72791),l=t(28182),o=t(80184);function c(e){var n=e.is_individual,t=e.icon,s=e.name,c=e.owner,u=e.nameClassNames,d=void 0===u?"":u,m=(0,i.$)(n,s,c);return(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(r.qE,{src:(0,a.n)(n,t,c),letter:m[0],alt:m,className:"bg-primary-200"}),(0,o.jsx)("span",{className:(0,l.Z)("ml-2 overflow-hidden text-ellipsis",d),children:m})]})}var u=t(70885);function d(e){var n=e.clientType,t=e.setClientType;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"switch-toggle-custom switch-ios mb-4 font-poppins",children:[(0,o.jsx)("input",{id:"client",name:"casetype",type:"radio",defaultChecked:"Individual"===n,tabIndex:-1}),(0,o.jsx)("label",{htmlFor:"client",onClick:function(){return t("Individual")},children:"Individual"}),(0,o.jsx)("input",{id:"Staff",name:"casetype",type:"radio",defaultChecked:"Business"===n,tabIndex:-1}),(0,o.jsx)("label",{htmlFor:"Staff",onClick:function(){return t("Business")},children:"Business"}),(0,o.jsx)("a",{})]})})}var m=t(57090),f=t(26864),p=t(42339),g=t(59099);function h(e){var n=e.SwitchClient,t=void 0===n?null:n,i=e.isSubmitting,a=e.setFieldValue,r=e.values,l=e.onSuccess,c=e.resetForm,u=e.isEditing,d=void 0!==u&&u,h=e.formValuesSetter,v=void 0===h?function(){return null}:h;return(0,s.useEffect)((function(){if(!d){var e=["first_name","email","last_name","mobile"],n=Object.keys(r).filter((function(n){if((Array.isArray(r[n])?r[n].length:r[n])&&e.includes(n))return r[n]}));v(n)}}),[r]),(0,o.jsxs)("div",{children:[(0,o.jsx)(m.ph,{resetForm:c,title:"".concat(d?"Edit":"Invite"," Individual Client"),isEditing:d}),t?(0,o.jsx)("div",{children:t}):null,(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f.gN,{label:"First Name",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"first_name",component:p.Mg,placeholder:"Type your firstname..",required:!0,autoComplete:"off"}),(0,o.jsx)(f.gN,{label:"Last Name",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"last_name",component:p.Mg,placeholder:"Type your lastname..",required:!0,autoComplete:"off"}),(0,o.jsx)(f.gN,{type:"email",label:"Email",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"email",component:p.Mg,placeholder:"Type your email..",required:!0,disabled:d}),(0,o.jsx)(f.gN,{label:"Phone",name:"mobile",component:p.UO,placeholder:"Enter company mobile phone number",enableSearch:!0,required:!0,labelClasses:"!text-xs !ml-6 !text-kgrey-welcome",onChangeHandler:a}),(0,o.jsxs)("div",{className:"flex items-center justify-end",children:[i&&(0,o.jsx)(m.aN,{tiled:!0,withOverlay:!0}),(0,o.jsx)(g.p,{onSuccess:l,isSubmitting:i,submitText:d?"Edit Client":"Invite Client"})]})]})]})}var v=t(27945),b=t(40084),x=t(31102);function y(e){var n=e.SwitchClient,t=e.onSuccess,i=(e.initialIndividualClientCompany,e.formValuesSetter),a=e.hasToShowGuard,r=(0,b.m)().companyId,s=(0,x.eC)().showNotification;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(v.Z.Main,{entity:"clients",name:"AllClients",url:"/".concat(r,"/clients/"),method:"post",primaryKey:"id",sendAsFormData:!1,fields:[{name:"first_name",required:!0,value:"",onSubmitKey:""},{name:"last_name",required:!0,value:"",onSubmitKey:""},{name:"email",onSubmitKey:"",required:!0,value:""},{name:"mobile",onSubmitKey:"",required:!0,value:""},{name:"is_individual",onSubmitKey:"",value:!0},{name:"name",value:null,onSubmitKey:""}],onSuccess:function(e,n){s({message:"Success! Waiting for client accepting.."}),t(),n()},onError:function(e,n){var t;console.log(e,"Individual client form");var i=e&&e.response,a=(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.message)||"Something went wrong";400===i.status&&a.match("Already connected")&&(a="Client Already Has Been Connected"),s({message:a,variant:"error"})},children:function(e){var t=e.isSubmitting,r=e.values,s=e.setFieldValue,l=e.resetForm;return(0,o.jsx)(h,{setFieldValue:s,values:r,isSubmitting:t,SwitchClient:n,onSuccess:a,resetForm:l,formValuesSetter:i})}})})}var j=t(81039),S=t(9478),C=t(97689),w=t(320),k=t(30014),N=t(38596),I=t(1025),_=t.n(I),E=t(66364),V=t.n(E),Z=t(94446),P=t(72248),T=(0,N.Z)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),q=P.pL.clientCSVConfig;function R(e){var n=e.onSuccess,t=(0,b.m)().companyId,i=(0,C.a)().token,a=(0,s.useState)(!1),l=(0,u.Z)(a,2),c=l[0],d=l[1],f=(0,s.useState)(null),p=(0,u.Z)(f,2),g=p[0],h=p[1],v=(0,s.useState)([]),y=(0,u.Z)(v,2),N=y[0],I=y[1],E=(0,s.useState)(null),R=(0,u.Z)(E,2),F=R[0],A=R[1],L=(0,x.eC)().showNotification,D=T(),K=q,M=function(){h(null)};return(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,o.jsx)("a",{href:"https://kennekt.com/files/kennekt_client.csv",download:!0,className:"text-sm text-primary transition hover:text-primary-dark",children:"Download CSV sample file"}),(0,o.jsx)("div",{className:"uploader",children:(0,o.jsx)(j.Z,{accept:".csv",className:"upload-file-styles",action:"".concat(S.Z.API_ROOT,"/").concat(t,"/import-clients/"),beforeUpload:function(e){return d(!0),h(e.name),"csv"===e.name.slice(-3).toLowerCase()?new Promise((function(n,i){_().parse(e,{complete:function(a){var r=a.data[0].length;7===r?(0,P.JZ)(e,K).then((function(a){V()(a.inValidMessages)?a&&(0,P.mp)({csvData:a,companyId:t,resolve:n,reject:i,setCsvData:I,type:"client",file:e,setLoadingImage:d}):(I(a.inValidMessages.map((function(e){return e.startsWith("<div")?e:'<div className="red">'.concat(e,"</div>")})).join("")),i(new Error("Invalid csv file")),d(!1),M())})):(r>7?(A("There are more than required columns in your csv file. Please remove redundant columns. Download sample csv file and edit it accordingly."),I([])):r<7&&(A("There are missing columns in your csv file. Please add appropriate columns. Download sample csv file and edit it accordingly."),I([])),i(new Error("Invalid csv file")),M(),d(!1))}})})):(d(!1),L({message:"Invalid file type. Download please sample of file csv",variant:"error"}),!1)},onSuccess:function(e){d(!1),L({message:"Successfully uploaded and invited",variant:"success"}),n()},headers:{Authorization:"Token "+i},children:(0,o.jsxs)(r.zx,{variant:"outlined","aria-label":"file-attach",className:"mr-5",children:[(0,o.jsx)(w.Z,{})," Upload CSV file"]})})})]}),(0,o.jsx)("div",{className:"file-name",children:null!==g?(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("p",{className:"",children:g}),(0,o.jsx)(k.Z,{onClick:M,className:"cursor-pointer transition hover:text-primary"})]}):null}),(0,o.jsx)("div",{className:"linear-loader mt-2",children:c?(0,o.jsx)("div",{className:D.root,children:(0,o.jsx)(Z.Z,{className:"loading-file"})}):null}),(0,o.jsx)("div",{className:"csv-error-display mt-2",children:!V()(N)&&(0,o.jsx)("div",{className:"my-5",children:(0,o.jsxs)("div",{children:[(0,o.jsx)(m._S,{text:N}),(0,o.jsx)("div",{className:"text-sm text-kred-pink",children:(0,o.jsx)("strong",{children:"Please correct and upload again"})})]})})}),(0,o.jsx)("div",{className:"primary-error-check",children:F&&(0,o.jsx)("div",{className:"mb-5",children:(0,o.jsx)("div",{className:"mt-5 text-sm text-kred-pink",children:(0,o.jsx)("strong",{children:F})})})})]})}var F=t(86053);function A(e){var n=e.SwitchClient,t=void 0===n?null:n,i=e.isSubmitting,a=e.setFieldValue,s=e.onSuccess,l=e.resetForm,c=e.isEditing,u=void 0!==c&&c,d=(0,x.h9)({csv:!1}),h=d.checked,v=d.handleChange;return(0,o.jsxs)("div",{children:[(0,o.jsx)(m.ph,{resetForm:l,title:"".concat(u?"Edit":"Invite"," Business Client"),isEditing:u}),t?(0,o.jsx)("div",{children:t}):null,(0,o.jsxs)(o.Fragment,{children:[u?null:(0,o.jsx)(r.D8,{control:(0,o.jsx)(F.k,{checked:h.csv,onChange:v,name:"csv"}),label:"Invite via csv file uploading(optional)",className:"mb-4",classes:{label:"!text-xs font-light text-kgrey-welcome"}}),h.csv?(0,o.jsx)(R,{onSuccess:s}):(0,o.jsx)(f.gN,{label:"Business Name",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"name",component:p.Mg,placeholder:"Type Business name here..",required:!0,autoComplete:"off"}),u?(0,o.jsx)(f.gN,{label:"Phone",name:"phone",component:p.UO,placeholder:"Enter company mobile phone number",enableSearch:!0,required:!0,labelClasses:"!text-xs !ml-6 !text-kgrey-welcome",onChangeHandler:a}):null,(0,o.jsxs)("div",{className:"mt-8 flex items-center justify-end",children:[i&&(0,o.jsx)(m.aN,{tiled:!0,withOverlay:!0}),(0,o.jsx)(g.p,{onSuccess:s,isSubmitting:i,disableOptions:h.csv,submitText:u?"Edit Client":"Invite Client"})]})]})]})}function L(e){var n=e.SwitchClient,t=e.onSuccess,i=(0,b.m)().companyId,a=(0,x.eC)().showNotification,r=(0,x.dF)(),s=(r.WhiteModal,r.modalHandler);r.open;return(0,o.jsx)(v.Z.Main,{entity:"clients",name:"AllClients",url:"/".concat(i,"/clients/"),method:"post",primaryKey:"id",sendAsFormData:!1,fields:[{name:"id",required:!1,value:null,onSubmitKey:""},{name:"is_individual",required:!0,value:!1,onSubmitKey:""},{name:"name",onSubmitKey:"",required:!0,value:""},{name:"first_name",onSubmitKey:"",value:null},{name:"last_name",onSubmitKey:"",value:null},{name:"mobile",onSubmitKey:"",required:!1,value:null},{name:"email",onSubmitKey:"",value:null}],onSuccess:function(e,n){a({message:"Success! Waiting for client accepting.."}),t(),n()},onError:function(e,n){var t,i,r,l,o,c;("Company does not exists\n"===(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message)&&(a({message:"Client does not exist",variant:"error"}),s()),"Company does not exists\n"!==(null===e||void 0===e||null===(r=e.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.message))&&a({message:null===e||void 0===e||null===(o=e.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message,variant:"error"})},children:function(e){var i=e.isSubmitting,a=(e.values,e.setFieldValue),r=e.resetForm;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(A,{setFieldValue:a,isSubmitting:i,SwitchClient:n,onSuccess:t,resetForm:r})})}})}function D(e){var n=e.modalHandler,t=(e.hasToShowGuard,e.formValuesSetter),i=(0,s.useState)("Individual"),a=(0,u.Z)(i,2),r=a[0],l=a[1],c=(0,b.m)().companyId,f=(0,x.bK)({url:"/".concat(c,"/my/company/clients/"),method:"post",values:{is_individual:!0,status:"Not Active"},initialLoad:!0}),p=f.response,g=f.loading;return(0,o.jsxs)("div",{children:["Individual"===r&&p?(0,o.jsx)(y,{SwitchClient:(0,o.jsx)(d,{clientType:r,setClientType:l}),onSuccess:n,hasToShowGuard:n,initialIndividualClientCompany:p,formValuesSetter:t}):(0,o.jsx)(L,{SwitchClient:(0,o.jsx)(d,{clientType:r,setClientType:l}),onSuccess:n}),g?(0,o.jsx)(m.aN,{tiled:!0}):null]})}},95900:function(e,n,t){t.d(n,{lT:function(){return c},k0:function(){return u}});var i=t(70885),a=t(1413),r=t(72791),s=t(80184),l=(0,r.createContext)(null),o=function(e,n){switch(n.type){case"SET_SEARCH_QUERY":return(0,a.Z)((0,a.Z)({},e),{},{searchQuery:n.payload});case"SET_IS_STAFF":return(0,a.Z)((0,a.Z)({},e),{},{isStaff:n.payload});default:return e}};function c(e){var n=e.children,t=(0,r.useReducer)(o,{searchQuery:null,isStaff:"true"}),a=(0,i.Z)(t,2),c=a[0],u=a[1],d=(0,r.useCallback)((function(e){u({type:"SET_SEARCH_QUERY",payload:e})}),[]),m=(0,r.useCallback)((function(e){u({type:"SET_IS_STAFF",payload:e})}),[]),f={searchQuery:c.searchQuery,isStaff:c.isStaff,setSearchQuery:d,setIsStaff:m};return(0,s.jsx)(l.Provider,{value:f,children:n})}var u=function(){var e=(0,r.useContext)(l);if(!e)throw new Error("useClientsManagementContext must be used within the ClientsManagementContextProvider");return e}},73677:function(e,n,t){t.d(n,{Nt:function(){return v},PB:function(){return l},IW:function(){return u},vr:function(){return m},rU:function(){return f},tY:function(){return d},d1:function(){return h}});var i=t(31102),a=t(40084),r=t(49935),s=t(87818);function l(){var e=(0,a.m)().companyId,n=(0,s.I0)(),t=(0,i.eC)().showNotification,l=(0,i.e)({pageKey:"page",entity:"clients",entityName:"AllClients"}).forwardToPreviousPage,o=(0,i.iR)(),c=o.visible,u=o.showVisible,d=o.loading,m=o.toggleLoading,f=o.closePopup,p=(0,i.iR)(),g=p.visible,h=p.showVisible,v=p.closePopup;return{deleteLoading:d,handleClientDelete:function(i){m(),n((0,r.Bi)({entity:"clients",name:"AllClients",method:"delete",url:"/".concat(e,"/client_companies/remove/").concat(i.id,"/"),deleteData:!0,id:i.id,cb:{success:function(){t({message:"Successfully deleted",variant:"success"}),l()},error:function(e){t({message:"Something went wrong",variant:"error"})},finally:function(){m(),f()}},params:{},primaryKey:"id",values:{}}))},showDeleteVisible:u,closeDeletePopup:f,deleteVisible:c,editVisible:g,showEditVisible:h,closeEditPopup:v}}var o=t(70885),c=t(72791);function u(){var e=c.useState(0),n=(0,o.Z)(e,2),t=n[0],a=n[1],r=c.useState("Clients List"),s=(0,o.Z)(r,2),l=s[0],u=s[1],d=(0,c.useState)(!1),m=(0,o.Z)(d,2),f=m[0],p=m[1],g=(0,c.useState)(!1),h=(0,o.Z)(g,2),v=h[0],b=h[1],x=(0,c.useState)(!1),y=(0,o.Z)(x,2),j=y[0],S=y[1],C=(0,i.tv)(),w=C.location,k=C.match,N=k.url,I=k.path,_=(0,i.gQ)("Clients Management"),E=_.unreadCasesQuantity,V=_.isHidden,Z=function(){return p((function(e){return!e}))},P=function(){return b((function(e){return!e}))};return(0,c.useEffect)((function(){var e=w.pathname.split("/").filter(Boolean).filter(String),n=e[e.length-1]||"";!function(){switch(n){case"clients":a(0),u("Clients List");break;case"categories":a(1),u("Client Groups");break;case"incoming":case"outgoing":a(2),u("Client Requests");break;case"roles":a(3),u("Linked Client Roles");break;default:;}}()}),[w]),{primeTab:t,pageName:l,url:N,path:I,unreadCasesQuantity:E,isHidden:V,handleChangePrime:function(e,n){a(n)},inviteVisible:f,toggleInviteForm:Z,groupVisible:v,toggleGroupForm:P,togglePopup:function(e){switch(e){case"clients":return Z;case"categories":return P;default:return function(){}}},toggleLinkedRoleForm:function(){return S((function(e){return!e}))},linkedRoleVisible:j}}function d(){var e=(0,s.I0)(),n=(0,i.eC)().showNotification,t=(0,a.m)().companyId,l=(0,i.iR)(),o=l.visible,c=l.showVisible,u=l.loading,d=l.toggleLoading,m=l.closePopup,f=(0,i.e)({pageKey:"page",entity:"linked-clients",entityName:"AllLinkedClients"}).forwardToPreviousPage;return{handleRoleUpdate:function(i,a){e((0,r.Bi)({entity:"linked-clients",name:"AllLinkedClients",method:"patch",url:"/".concat(t,"/my/company/linked_client/").concat(a.id,"/"),updateData:!0,id:a.id,values:{role:i.id},cb:{success:function(){n({message:"Role is successfully changed!",variant:"success"})},error:function(e){n({message:"Something went wrong",variant:"error"})},finally:function(){}},params:{},primaryKey:"id",normalizeData:function(e){return e}}))},deleteVisible:o,showDeleteVisible:c,deleteLoading:u,toggleDeleteLoading:d,closeDeletePopup:m,handleLinkedClientDelete:function(i){d(),e((0,r.Bi)({entity:"linked-clients",name:"AllLinkedClients",method:"delete",url:"/".concat(t,"/my/company/linked_client/").concat(i.id,"/"),deleteData:!0,id:i.id,values:{},cb:{success:function(){f(),n({message:"Successfully deleted!",variant:"success"})},error:function(e){n({message:"Something went wrong",variant:"error"})},finally:function(){d(),m()}},params:{},primaryKey:"id"}))}}}function m(){var e=c.useState(0),n=(0,o.Z)(e,2),t=n[0],a=n[1],r=(0,i.tv)(),s=r.location,l=r.match,u=l.url,d=l.path;return(0,c.useEffect)((function(){var e=s.pathname.split("/"),n=e[e.length-1]||"";!function(){switch(n){case"incoming":a(0);break;case"outgoing":a(1);break;default:;}}()}),[s]),{url:u,path:d,handleChangeTab:function(e,n){a(n)},tab:t}}function f(){var e=(0,s.I0)(),n=(0,a.m)().companyId,t=(0,i.Zp)().reloadEntityAll,l=(0,i.iR)(),o=l.visible,c=l.showVisible,u=l.loading,d=l.toggleLoading,m=l.closePopup,f=(0,i.iR)(),p=f.visible,g=f.showVisible,h=f.loading,v=f.toggleLoading,b=f.closePopup,x=(0,i.eC)().showNotification,y=(0,i.e)({pageKey:"page",entity:"incoming-request",entityName:"AllIncoming-Requests"}).forwardToPreviousPage;return{rejectVisible:o,showRejectVisible:c,rejectLoading:u,toggleRejectLoading:d,closeRejectPopup:m,editVisible:p,showEditVisible:g,editLoading:h,toggleEditLoading:v,closeEditPopup:b,handleStatusChange:function(i,a){var s="reject"===a;s?d():v(),e((0,r.Bi)({entity:"linked-clients",name:"AllLinkedClients",method:"post",url:"/".concat(n,"/company_connection_requests/").concat(i,"/").concat(a,"/"),id:i,values:{},cb:{success:function(){var e=s?"Successfully Rejected":"Successfully Accepted";t({entity:"incoming-request",name:"AllIncoming-Requests",url:"/".concat(n,"/company_connection_requests/"),params:{page:1,limit:10}}),m(),b(),y(),x({message:e,variant:"success"})},error:function(e){x({message:"Something went wrong",variant:"error"})},finally:function(){"reject"===a?d():v()}},params:{},primaryKey:"id"}))}}}var p=t(26181),g=t.n(p);function h(){var e=(0,s.I0)(),n=(0,a.m)().companyId,t=(0,i.Zp)().reloadEntityAll,l=(0,i.iR)(),o=l.visible,c=l.showVisible,u=l.loading,d=l.toggleLoading,m=l.closePopup,f=(0,i.iR)(),p=f.visible,h=f.showVisible,v=f.loading,b=f.toggleLoading,x=f.closePopup,y=(0,i.eC)().showNotification,j=(0,i.e)({pageKey:"page",entity:"outgoing-request",entityName:"AllOutgoing-Requests"}).forwardToPreviousPage;return{deleteVisible:o,showDeleteVisible:c,deleteLoading:u,toggleDeleteLoading:d,closeDeletePopup:m,resendVisible:p,showResendVisible:h,resendLoading:v,toggleResendLoading:b,closeResendPopup:x,handleDeleteRequest:function(t){d(),e((0,r.Bi)({entity:"outgoing-request",name:"AllOutgoing-Requests",method:"delete",url:"/".concat(n,"/my_company_connection_requests/").concat(t.id,"/"),deleteData:!0,id:t.id,cb:{success:function(){y({message:"Successfully deleted",variant:"success"}),j(),m()},error:function(e){y({message:"Something went wrong",variant:"error"})},finally:function(){d()}},params:{},primaryKey:"id",values:{}}))},handleResendRequest:function(i){b(),e((0,r.Bi)({entity:"outgoing",name:"AllOutgoing",method:"patch",url:"/".concat(n,"/my/company/clients/").concat(g()(i,"requested_company.id"),"/resend_invitation/"),values:{},cb:{success:function(){t({entity:"outgoing-request",name:"AllOutgoing-Requests",url:"/".concat(n,"/my_company_connection_requests/"),params:{page:1,limit:10}}),x(),y({message:"Successfully resended",variant:"success"})},error:function(e){y({message:"Something went wrong",variant:"error"})},finally:function(){b()}},params:{},primaryKey:"id"}))}}}function v(){var e=(0,a.m)().companyId,n=(0,s.I0)(),t=(0,i.eC)().showNotification,l=(0,i.iR)(),o=l.visible,c=l.showVisible,u=l.loading,d=l.toggleLoading,m=l.closePopup,f=(0,i.iR)(),p=f.visible,g=f.showVisible,h=f.closePopup,v=(0,i.e)({pageKey:"page",entity:"clientsGroups",entityName:"AllClientsGroups"}).forwardToPreviousPage;return{deleteClientGroupHandler:function(){return function(){return i=o,d(),void n((0,r.Bi)({entity:"clientsGroups",name:"AllClientsGroups",method:"delete",url:"/".concat(e,"/categories/").concat(i.id,"/"),deleteData:!0,id:i.id,cb:{success:function(){t({message:"Successfully deleted",variant:"success"}),v()},error:function(e){t({message:"Something went wrong",variant:"error"})},finally:function(){d(),m()}},params:{},primaryKey:"id",values:{}}));var i}},deleteVisible:o,showDeleteVisible:c,deleteLoading:u,closeDeletePopup:m,showEditVisible:g,closeEditPopup:h,editVisible:p}}},37494:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var i=t(1413),a=t(72791),r=t(57090),s=t(54270),l=t(85880),o=t(95900),c=t(80184);function u(){var e=(0,o.k0)(),n=e.searchQuery,t=e.setSearchQuery;return(0,c.jsxs)("div",{className:"group-sidebar__search relative",children:[(0,c.jsx)("input",{type:"search",value:n,className:"group-sidebar__search-input w-full border-b outline-none md:w-36 border-kgrey-border-solid dark:border-white dark:text-white  pl-7 transition focus:border-primary dark:focus:border-primary placeholder-[rgba(45, 45, 45, 0.3)] pt-2 pb-2 dark:bg-kdark",placeholder:"Search",onChange:function(e){return t(e.target.value)}}),(0,c.jsx)("div",{className:"absolute top-1/2 left-0 -translate-y-1/2",children:(0,c.jsx)("div",{className:"text-kgrey",children:(0,c.jsx)(l.lnn,{})})})]})}var d=t(91523),m=t(79271),f=t(73677),p=t(84230),g=t(14523),h=t(59028),v=t(40084),b=t(31102),x=t(27945),y=t(6245);function j(e){var n=e.onSuccess,t=(0,v.m)().companyId,i=(0,b.eC)().showNotification;return(0,c.jsx)("div",{children:(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(x.Z.Main,{entity:"clientsGroups",name:"AllClientsGroups",url:"/".concat(t,"/categories/"),method:"post",primaryKey:"id",sendAsFormData:!1,normalizeData:function(e){return e},prependData:!0,fields:[{name:"clients",onSubmitKey:"",required:!1,type:"object",value:[]},{name:"name",onSubmitKey:"",required:!0}],onSuccess:function(e,t){i({message:"Successfully created.."}),n(),t()},onError:function(e,n){var t,a,r=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Something went wrong";i({message:r,variant:"error"})},children:function(e){var t=e.isSubmitting,i=(e.values,e.resetForm);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.ph,{resetForm:i,title:"Create Client Group"}),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(y.Z,{isSubmitting:t,onSuccess:n}),t&&(0,c.jsx)(r.aN,{tiled:!0,withOverlay:!0})]})})]})}})})})}var S=t(41639);function C(e){var n=e.onSuccess,t=(0,v.m)().companyId,i=(0,b.eC)().showNotification;return(0,c.jsx)("div",{children:(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(x.Z.Main,{entity:"linkedClientsRole",name:"AllLinkedClientsRole",url:"/".concat(t,"/my/company/client/roles/"),method:"post",primaryKey:"id",sendAsFormData:!1,normalizeData:function(e){return e},prependData:!0,fields:[{name:"name",onSubmitKey:"",required:!0},{name:"description",onSubmitKey:"",required:!1}],onSuccess:function(e,t){i({message:"Successfully created.."}),n(),t()},onError:function(e,n){var t,a,r=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Something went wrong";i({message:r,variant:"error"})},children:function(e){var t=e.isSubmitting,i=(e.values,e.resetForm);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.ph,{resetForm:i,title:"Create Linked Client Role"}),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(S.Z,{isSubmitting:t,onSuccess:n}),t&&(0,c.jsx)(r.aN,{tiled:!0,withOverlay:!0})]})})]})}})})})}var w=(0,a.lazy)((function(){return t.e(7806).then(t.bind(t,77806))})),k=(0,a.lazy)((function(){return t.e(1785).then(t.bind(t,31785))})),N=(0,a.lazy)((function(){return t.e(4922).then(t.bind(t,34922))})),I=(0,a.lazy)((function(){return t.e(9583).then(t.bind(t,79583))})),_=(0,a.lazy)((function(){return t.e(9433).then(t.bind(t,59433))})),E=(0,a.lazy)((function(){return t.e(4065).then(t.bind(t,14065))}));function V(e){return{id:"simple-tabpanel-".concat(e),"aria-controls":"simple-tab-".concat(e)}}function Z(){var e=(0,f.IW)(),n=e.primeTab,t=e.pageName,l=e.url,o=e.path,x=e.unreadCasesQuantity,y=e.isHidden,S=e.handleChangePrime,Z=e.inviteVisible,P=e.toggleInviteForm,T=e.groupVisible,q=e.toggleGroupForm,R=e.toggleLinkedRoleForm,F=e.linkedRoleVisible,A=(0,v.m)().isPermitted,L=(0,b.Tn)(),D=L.formValues,K=L.guardOpen,M=L.setGuardOpen,O=L.formValuesSetter,B=!(0,b.tv)().location.pathname.includes("request"),G=(0,a.useCallback)((function(){M((function(e){return!e}))}),[]),W=(0,a.useCallback)((function(){M(!1),O([]),P()}),[Z]),z=(0,a.useCallback)((function(){D.length?M(!0):P()}),[D]);return(0,c.jsx)(h.d,{children:(0,c.jsxs)("div",{className:"flex min-h-full max-w-full flex-grow flex-col lg:p-4",children:[(!y||0===x)&&(0,c.jsx)(s.q,{children:(0,c.jsx)("title",{children:"KENNEKT | ".concat(t)})}),(0,c.jsx)("div",{className:"mb-5 flex items-center justify-between",children:(0,c.jsxs)("div",{className:"flex w-full flex-wrap items-center justify-between",children:[(0,c.jsx)("h2",{className:"py-4 text-xl font-bold dark:text-white md:text-3xl",children:"Clients Management"}),(0,c.jsxs)("div",{className:"flex w-full items-center md:w-auto",children:[B&&(0,c.jsx)(u,{}),0===n?(0,c.jsx)(p.aW,{disabled:!A,onClick:P,children:"New Client"}):null,1===n?(0,c.jsx)(p.aW,{disabled:!A,onClick:q,children:"New Client Group"}):null,3===n?(0,c.jsx)(p.aW,{disabled:!A,onClick:R,children:"New Linked Client Role"}):null,(0,c.jsx)(p.Cx,{handleModalOpen:function(){D.length?M(!0):P()},open:Z,maxWidth:446,children:(0,c.jsx)(g.d,{hasToShowGuard:z,formValuesSetter:O,modalHandler:P})}),(0,c.jsx)(p.Cx,{handleModalOpen:q,open:T,maxWidth:446,children:(0,c.jsx)(j,{onSuccess:q})}),(0,c.jsx)(p.Cx,{handleModalOpen:R,open:F,maxWidth:446,children:(0,c.jsx)(C,{onSuccess:R})}),(0,c.jsx)(r.sm,{featureHandler:W,isOpen:K,toggleHandler:G,title:"You have unsaved changes, Are you sure to cancel?"})]})]})}),(0,c.jsx)("div",{className:"prime-tabs-clients overflow-x-auto",children:(0,c.jsx)("div",{className:"prime-tabs",children:(0,c.jsxs)(r.sJ.Tabs,{roundedTop:!0,value:n,onChange:S,"aria-label":"simple tabs",children:[(0,c.jsx)(r.sJ.Tab,(0,i.Z)({label:"All Clients",component:d.rU,to:"".concat(l,"/clients")},V(0))),(0,c.jsx)(r.sJ.Tab,(0,i.Z)({label:"Clients Group",component:d.rU,to:"".concat(l,"/categories")},V(1))),(0,c.jsx)(r.sJ.Tab,(0,i.Z)({label:"Requests",component:d.rU,to:"".concat(l,"/requests/incoming")},V(2))),(0,c.jsx)(r.sJ.Tab,(0,i.Z)({label:"Linked Client Roles",component:d.rU,to:"".concat(l,"/roles")},V(3)))]})})}),(0,c.jsx)("div",{className:"relative flex max-w-full flex-grow flex-col",children:(0,c.jsx)("div",{className:"relative flex-grow",children:(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(r.aN,{tiled:!0}),children:(0,c.jsxs)(m.rs,{children:[(0,c.jsx)(m.AW,{exact:!0,path:"".concat(o,"/clients/"),component:w}),(0,c.jsx)(m.AW,{exact:!0,path:"".concat(o,"/categories/"),component:k}),(0,c.jsx)(m.AW,{exact:!0,path:"".concat(o,"/requests/incoming/"),component:N}),(0,c.jsx)(m.AW,{exact:!0,path:"".concat(o,"/requests/outgoing/"),component:N}),(0,c.jsx)(m.AW,{exact:!0,path:"".concat(o,"/roles/"),component:I}),(0,c.jsx)(m.AW,{exact:!0,path:"".concat(o,"/categories/:clientGroupId"),component:E}),(0,c.jsx)(m.AW,{exact:!0,path:"".concat(o,"/clients/:clientId"),component:_})]})})})})]})})}var P=function(){return(0,c.jsx)(r.SV,{children:(0,c.jsx)(o.lT,{children:(0,c.jsx)(Z,{})})})}},87987:function(e,n,t){t.d(n,{n:function(){return i}});var i=function(e,n,t){var i;return e?null===t||void 0===t||null===(i=t.avatar)||void 0===i?void 0:i.thumbnail_150:null===n||void 0===n?void 0:n.thumbnail_150}},73469:function(e,n,t){t.d(n,{$:function(){return i}});var i=function(e,n,t){return e&&t?"".concat(null===t||void 0===t?void 0:t.first_name," ").concat(null===t||void 0===t?void 0:t.last_name):n}},94446:function(e,n,t){var i=t(87462),a=t(45987),r=t(72791),s=t(28182),l=t(91122),o=t(38317),c=t(13108),u=t(23364),d=r.forwardRef((function(e,n){var t=e.classes,o=e.className,c=e.color,d=void 0===c?"primary":c,m=e.value,f=e.valueBuffer,p=e.variant,g=void 0===p?"indeterminate":p,h=(0,a.Z)(e,["classes","className","color","value","valueBuffer","variant"]),v=(0,u.Z)(),b={},x={bar1:{},bar2:{}};if("determinate"===g||"buffer"===g)if(void 0!==m){b["aria-valuenow"]=Math.round(m),b["aria-valuemin"]=0,b["aria-valuemax"]=100;var y=m-100;"rtl"===v.direction&&(y=-y),x.bar1.transform="translateX(".concat(y,"%)")}else 0;if("buffer"===g)if(void 0!==f){var j=(f||0)-100;"rtl"===v.direction&&(j=-j),x.bar2.transform="translateX(".concat(j,"%)")}else 0;return r.createElement("div",(0,i.Z)({className:(0,s.Z)(t.root,t["color".concat((0,l.Z)(d))],o,{determinate:t.determinate,indeterminate:t.indeterminate,buffer:t.buffer,query:t.query}[g]),role:"progressbar"},b,{ref:n},h),"buffer"===g?r.createElement("div",{className:(0,s.Z)(t.dashed,t["dashedColor".concat((0,l.Z)(d))])}):null,r.createElement("div",{className:(0,s.Z)(t.bar,t["barColor".concat((0,l.Z)(d))],("indeterminate"===g||"query"===g)&&t.bar1Indeterminate,{determinate:t.bar1Determinate,buffer:t.bar1Buffer}[g]),style:x.bar1}),"determinate"===g?null:r.createElement("div",{className:(0,s.Z)(t.bar,("indeterminate"===g||"query"===g)&&t.bar2Indeterminate,"buffer"===g?[t["color".concat((0,l.Z)(d))],t.bar2Buffer]:t["barColor".concat((0,l.Z)(d))]),style:x.bar2}))}));n.Z=(0,o.Z)((function(e){var n=function(n){return"light"===e.palette.type?(0,c.$n)(n,.62):(0,c._j)(n,.5)},t=n(e.palette.primary.main),i=n(e.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4,"@media print":{colorAdjust:"exact"}},colorPrimary:{backgroundColor:t},colorSecondary:{backgroundColor:i},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(t," 0%, ").concat(t," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(i," 0%, ").concat(i," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0 -23px"},"50%":{opacity:0,backgroundPosition:"0 -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}}),{name:"MuiLinearProgress"})(d)},320:function(e,n,t){var i=t(64836),a=t(75263);n.Z=void 0;var r=a(t(72791)),s=(0,i(t(44894)).default)(r.createElement("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");n.Z=s}}]);
//# sourceMappingURL=7494.f621412d.chunk.js.map