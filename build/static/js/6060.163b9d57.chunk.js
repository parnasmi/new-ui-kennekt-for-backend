!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=(new Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="9a534788-1e36-4d1e-87e6-5a9b852fe5fd",e._sentryDebugIdIdentifier="sentry-dbid-9a534788-1e36-4d1e-87e6-5a9b852fe5fd")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"1d419c3c8a5f66a775a003b801a7dad6c0430a71"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[6060],{36060:function(e,a,t){t.r(a),t.d(a,{default:function(){return C}});var n=t(17173),l=t(16178),r=t(76188),o=t(27945),i=t(66128),s=t(77917),c=t(40084),d=t(80184);function u(e){var a=e.onCloseModal,t=(0,c.m)().companyId,u=(0,n.$G)().t,g=(0,l.Zp)().reloadEntityAll,m=(0,l.eC)().showNotification,p=(0,l.h0)().page;return(0,d.jsx)(o.Z.Main,{entity:"categories",name:"AllCategories-".concat(t),url:"/".concat(t,"/contacts/category/"),method:"post",primaryKey:"id",sendAsFormData:!1,prependData:!1,appendData:!1,fields:[{name:"name",required:!0,onSubmitKey:"",value:"",type:"string"}],onError:function(e){var a,t,n,l;null!==(a=e.response)&&void 0!==a&&a.data&&m({message:null!==(t=null===(n=e.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message)&&void 0!==t?t:u("something_went_wrong"),variant:"error"})},onSuccess:function(){g({entity:"categories",name:"AllCategories-".concat(t),url:"/".concat(t,"/contacts/category/"),replaceIds:!0,params:{page:p,limit:10}}),m({message:u("successfully_created")}),a()},children:function(e){var t=e.isSubmitting,n=e.setFieldValue,l=e.submitForm;return(0,d.jsxs)("div",{className:"category-form",children:[(0,d.jsx)(r.gN,{label:u("category_name"),name:"name",component:s.Mg,placeholder:u("enter_category_name"),onBlur:function(e){var a,t;n(e.target.name,null===(a=e.target)||void 0===a||null===(t=a.value)||void 0===t?void 0:t.trim(),!0)},required:!0}),(0,d.jsxs)("div",{className:"category-form__buttons flex justify-end gap-x-2",children:[(0,d.jsx)(i.Ik,{onClick:a,children:u("cancel")}),(0,d.jsx)(i.Ik,{isSubmitting:t,color:"primary",onClick:l,children:u("save")})]})]})}})}var g=t(29439),m=t(35741),p=t(53148),h=t(90218),f=t(22553);function y(e){var a=e.onCloseModal,t=e.editingCategoryItem,u=(0,c.m)().companyId,g=(0,n.$G)().t,m=(0,l.Zp)().reloadEntityAll,p=(0,l.eC)().showNotification;return(0,d.jsx)(o.Z.Main,{id:null==t?void 0:t.id,entity:"categories",name:"AllCategories-".concat(u),url:"/".concat(u,"/contacts/category/").concat(null==t?void 0:t.id,"/"),method:"put",primaryKey:"id",sendAsFormData:!1,prependData:!1,appendData:!1,updateData:!0,fields:[{name:"name",required:!0,value:null==t?void 0:t.name,onSubmitKey:""}],onError:function(e){var a,t,n,l;null!==(a=e.response)&&void 0!==a&&a.data&&p({message:null!==(t=null===(n=e.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message)&&void 0!==t?t:g("something_went_wrong"),variant:"error"})},onSuccess:function(){m({entity:"categories",name:"AllCategories-".concat(u),url:"/".concat(u,"/contacts/category/"),replaceIds:!0}),p({message:g("successfully_updated")}),a()},children:function(e){e.values;var t=e.isSubmitting;return(0,d.jsxs)("div",{className:"category-form",children:[(0,d.jsx)(r.gN,{label:g("category_name"),name:"name",component:s.Mg,placeholder:g("enter_category_name"),required:!0}),(0,d.jsxs)("div",{className:"category-form__buttons flex justify-end gap-x-2",children:[(0,d.jsx)(i.Ik,{onClick:a,children:g("cancel")}),(0,d.jsx)(i.Ik,{isSubmitting:t,type:"submit",color:"primary",children:g("save")})]})]})}})}var x=t(72791);function v(e){var a=e.onCategoryCreateModalOpen,t=e.isPermitted,l=e.hideAddButton,r=(0,n.$G)().t;return(0,d.jsxs)("div",{className:"category-page__not-found mt-32 grid place-content-center place-items-center",children:[(0,d.jsx)("h3",{className:"category-page__not-found--title text-2xl font-semibold dark:text-white",children:r("no_categories_found")}),l?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{className:"category-page__not-found--subtitle py-2 dark:text-white",children:r("click_below_to_add_category")}),(0,d.jsx)(i.Ik,{isDisabled:!t,onClick:a,color:"primary",children:r("add_category")})]})]})}var b=t(80180),_=t(85880);function j(e){var a=e.searchQuery,t=e.onSearchChange,l=(0,n.$G)().t;return(0,d.jsxs)("div",{className:"group-sidebar__search relative",children:[(0,d.jsx)("input",{type:"search",value:a,className:"group-sidebar__search-input w-full border-b outline-none md:w-36 border-kgrey-border-solid dark:border-white dark:text-white  pl-7 transition focus:border-primary dark:focus:border-primary placeholder-[rgba(45, 45, 45, 0.3)] pt-2 pb-2 dark:bg-kdark",placeholder:l("search"),onChange:t}),(0,d.jsx)("div",{className:"absolute top-1/2 left-0 -translate-y-1/2",children:(0,d.jsx)("div",{className:"text-kgrey",children:(0,d.jsx)(_.lnn,{})})})]})}function k(e){var a=e.onOpenCreateCategoryModal,t=(0,x.useState)(""),r=(0,g.Z)(t,2),o=r[0],s=r[1],u=(0,c.m)(),_=u.companyId,k=u.isAdmin,C=(0,l.h0)(),w=C.page,N=C.handlePage,A=C.removePage,I=(0,h.K)().isRTL,D=(0,n.$G)().t,M=(0,l.eC)().showNotification,E=(0,l.Zp)().reloadEntityAll,S=(0,f.Z)(o,500),F=(0,g.Z)(S,1)[0],P=(0,x.useCallback)((function(e){s(e.target.value)}),[]),Z=(0,l.iR)(),B=Z.visible,O=Z.loading,R=Z.showVisible,G=Z.closePopup,$=(0,l.iR)(),q=$.visible,H=$.showVisible,K=$.closePopup,Y=(0,b.v)({name:"AllCategories-".concat(_),entity:"categories",method:"delete",url:"/".concat(_,"/contacts/category/").concat(null==B?void 0:B.id,"/"),deleteData:!0,id:null==B?void 0:B.id,cb:{success:function(){G(),M({message:D("successfully_deleted")}),E({entity:"categories",name:"AllCategories-".concat(_),url:"/".concat(_,"/contacts/category/"),params:{limit:10,page:1},replaceIds:!0}),A()},error:function(){}}}).handleRequest,L=(0,x.useCallback)((function(){B&&Y()}),[B]),U=k;return(0,d.jsxs)("div",{className:"category-page__table",children:[(0,d.jsx)(m.Z.All,{entity:"categories",name:"AllCategories-".concat(_),url:"/".concat(_,"/contacts/category/"),replaceIds:!0,params:{limit:10,extra:{search:F},page:w},children:function(e){var t=e.items,n=e.isFetched,l=e.meta;return(0,d.jsxs)(d.Fragment,{children:[!n||0!==t.length||F.length?(0,d.jsxs)("div",{className:"category-page__actions flex w-full justify-between pt-4",children:[(0,d.jsx)(j,{searchQuery:o,onSearchChange:P}),(0,d.jsx)(p.Ik,{isDisabled:!U,onClick:a,color:"primary",children:D("add_category")})]}):null,n&&t.length>0?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(p.xJ,{classes:{root:"relative "},children:(0,d.jsxs)(i.k6,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table !w-full !min-w-full"},children:[(0,d.jsx)(p.ss,{children:(0,d.jsxs)(i.AF,{children:[(0,d.jsx)(i.EU,{style:{width:"33%",textAlign:I?"right":"left"},children:D("category_name")}),(0,d.jsx)(i.EU,{style:{width:"33%",textAlign:I?"right":"left"},children:D("contacts_count")}),(0,d.jsx)(i.EU,{style:{width:"10%",textAlign:I?"right":"left"},children:D("actions")})]})}),(0,d.jsx)(p.RM,{children:t.map((function(e){return(0,d.jsxs)(i.AF,{children:[(0,d.jsx)(i.Yk,{children:e.name}),(0,d.jsx)(i.Yk,{children:e.contacts_count}),(0,d.jsx)(i.Yk,{children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)(i.cP.EditButton,{isDisabled:!U,clickHandler:function(){H(e)}}),(0,d.jsx)(i.cP.DeleteButton,{isDisabled:!U,clickHandler:function(){R(e)}})]})})]},e.id)}))})]})})}):n&&0===t.length?(0,d.jsx)(v,{hideAddButton:!!F.length,isPermitted:U,onCategoryCreateModalOpen:a}):(0,d.jsx)(i.aN,{tiled:!0}),(0,d.jsx)("div",{className:"news__pagination my-4 flex items-center justify-between",children:n&&t.length?(0,d.jsx)(p.tl,{count:null==l?void 0:l.last_page,page:w?+w:1,defaultPage:6,siblingCount:1,color:"primary",onChange:N}):null})]})}}),(0,d.jsx)(p.Cx,{open:Boolean(q),handleModalOpen:K,children:(0,d.jsx)(y,{editingCategoryItem:q,onCloseModal:K})}),(0,d.jsx)(i.sm,{isLoading:O,isOpen:Boolean(B),toggleHandler:G,title:D("delete_category_confirmation"),featureHandler:L})]})}function C(){(0,n.$G)().t;var e=(0,l.dF)(),a=e.WhiteModal,t=e.open,r=e.modalHandler;return(0,d.jsxs)("section",{className:"category-page",children:[(0,d.jsx)(k,{onOpenCreateCategoryModal:r}),(0,d.jsx)(a,{open:t,handleModalOpen:r,children:(0,d.jsx)(u,{onCloseModal:r})})]})}}}]);
//# sourceMappingURL=6060.163b9d57.chunk.js.map