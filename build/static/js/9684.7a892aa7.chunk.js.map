{"version":3,"file":"static/js/9684.7a892aa7.chunk.js","mappings":"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","sources":["pages/Login/Login.tsx","shared/layouts/WelcomeLayout.tsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport { WelcomeLayout } from 'shared/layouts/WelcomeLayout';\nimport isEmpty from 'lodash/isEmpty';\nimport { useFormik } from 'formik';\nimport * as yup from 'yup';\nimport Actions from 'store/actions';\nimport { useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { KntInput } from 'shared/components/Fields';\nimport { useRouter } from '../../shared/hooks';\n\nconst validationSchema = yup.object({\n\tusername: yup.string().email('Enter a valid email').required('Email is required'),\n\tpassword: yup\n\t\t.string()\n\t\t.strict(true)\n\t\t.trim('Password cannot be blank')\n\t\t.min(6, 'Password should be of minimum 6 characters length')\n\t\t.required('Password is required')\n});\n\nfunction Login() {\n\tconst dispatch = useDispatch();\n\tconst emailRef = useRef<HTMLInputElement>(null);\n\tconst { history } = useRouter();\n\tconst formik = useFormik({\n\t\tinitialValues: {\n\t\t\tusername: '',\n\t\t\tpassword: ''\n\t\t},\n\t\tvalidationSchema: validationSchema,\n\t\tonSubmit: (values, { setFieldError, setSubmitting }) => {\n\t\t\t// alert(JSON.stringify(values, null, 2));\n\t\t\tdispatch(\n\t\t\t\tActions.auth.Login.request({\n\t\t\t\t\tvalues,\n\t\t\t\t\tcb: {\n\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\tsetSubmitting(false);\n\t\t\t\t\t\t\thistory.push('/');\n\t\t\t\t\t\t\tdispatch(Actions.auth.GetMe.request());\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: (errors: { message: string; code: string }) => {\n\t\t\t\t\t\t\t// console.log('login error', errors);\n\t\t\t\t\t\t\tif (!isEmpty(errors)) {\n\t\t\t\t\t\t\t\tsetFieldError('password', errors.message);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (errors.message.includes('Invalid token')) {\n\t\t\t\t\t\t\t\tlocalStorage.clear();\n\t\t\t\t\t\t\t\tdocument.location.reload();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetSubmitting(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfinally: () => {}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t});\n\n\tuseEffect(() => {\n\t\tif (emailRef?.current) emailRef?.current.focus();\n\t}, []);\n\n\treturn (\n\t\t<WelcomeLayout\n\t\t\ttitle={'Sign in to KENNEKT'}\n\t\t\tdescription={'The most effective business management system'}\n\t\t\tgoToPageLink={'/signup'}\n\t\t\tgoToPage={'Create New account?'}\n\t\t\tgoToPageLinkText={'Sign Up'}\n\t\t\tback\n\t\t\tcontent={\n\t\t\t\t<>\n\t\t\t\t\t<form onSubmit={formik.handleSubmit}>\n\t\t\t\t\t\t<div className=\" w-full font-poppins md:max-w-[423px]\">\n\t\t\t\t\t\t\t<KntInput\n\t\t\t\t\t\t\t\tname={'username'}\n\t\t\t\t\t\t\t\tplaceholder={'Email'}\n\t\t\t\t\t\t\t\tlabel={'Email address'}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\t\t\t\ttype={'email'}\n\t\t\t\t\t\t\t\tvalue={formik.values.username}\n\t\t\t\t\t\t\t\terror={formik.touched.username && Boolean(formik.errors.username)}\n\t\t\t\t\t\t\t\thelperText={formik.touched.username && formik.errors.username}\n\t\t\t\t\t\t\t\tref={emailRef}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<KntInput\n\t\t\t\t\t\t\t\tname={'password'}\n\t\t\t\t\t\t\t\tplaceholder={'Password'}\n\t\t\t\t\t\t\t\tlabel={'Password'}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\t\t\t\ttype={'password'}\n\t\t\t\t\t\t\t\tvalue={formik.values.password}\n\t\t\t\t\t\t\t\terror={formik.touched.password && Boolean(formik.errors.password)}\n\t\t\t\t\t\t\t\thelperText={formik.touched.password && formik.errors.password}\n\t\t\t\t\t\t\t\tclassNames={'mb-8'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tdisabled={formik.isSubmitting}\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'bg-primary py-3.5 uppercase transition ' +\n\t\t\t\t\t\t\t\t\t'w-full rounded-lg text-center text-sm font-light text-white hover:bg-primary-dark'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{formik.isSubmitting ? 'Signing in. Please wait a while' : 'Sign in'}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<p className={'mt-5 text-center text-xs font-light text-kgrey-welcome'}>\n\t\t\t\t\t\t\t\tBy signing in you agree to KENNEKT's\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={'/request-password'}\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'mt-6 inline-block w-full text-center font-poppins text-xs font-light text-kgrey-welcome underline hover:no-underline'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tForgot password ?\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n}\n\nexport default Login;\n","/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\n\nimport config from 'config';\nimport { Link } from 'react-router-dom';\nimport { useHistory } from 'react-router';\nimport clsx from 'clsx';\nimport { isMobile } from 'react-device-detect';\nimport { HtmlParser } from 'shared/components';\nimport React from 'react';\nimport { FiChevronLeft } from 'react-icons/fi';\nconst imgPath = `${config.PUBLIC_ASSETS}img/`;\n\ntype Prop = {\n\tcontent: React.ReactNode;\n\ttitle: string;\n\tdescription: string;\n\tgoToPage: string;\n\tgoToPageLinkText: string;\n\tgoToPageLink: string;\n\tback?: boolean;\n\tisInitialPage?: boolean;\n};\n\nexport function WelcomeLayout({\n\tcontent,\n\ttitle,\n\tdescription,\n\tgoToPage,\n\tgoToPageLinkText,\n\tgoToPageLink,\n\tback,\n\tisInitialPage\n}: Prop) {\n\tconst history = useHistory();\n\t// @ts-ignore\n\treturn (\n\t\t<div className={'welcome flex min-h-full font-poppins '}>\n\t\t\t<div\n\t\t\t\tclassName=\"welcome__left hidden bg-cover bg-no-repeat py-14 px-20 md:block md:w-[52%]\"\n\t\t\t\tcss={css`\n\t\t\t\t\tbackground-image: url(${imgPath}bg-welcome.jpg);\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t<Link to={'/'} className={'h-8 w-40'}>\n\t\t\t\t\t<img src={`${imgPath}logo-kennekt-2.svg`} alt=\"\" className={'object-cover'} />\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t\t<div className=\"flex w-full flex-col justify-between p-4 md:block md:w-[48%] md:pl-12 md:pt-14 md:pr-20 md:pb-14\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={clsx('top', {\n\t\t\t\t\t\t'flex items-center justify-between': isMobile && isInitialPage\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"mobile-logo mb-2 lg:hidden\">\n\t\t\t\t\t\t<Link to={'/'} className={'block h-6 w-32'}>\n\t\t\t\t\t\t\t<img src={`${imgPath}logo-kennekt-2.svg`} alt=\"\" className={'object-cover'} />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={clsx('top-nav flex justify-between md:mb-28')}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t'group flex cursor-pointer items-center text-kgrey-welcome',\n\t\t\t\t\t\t\t\t!back && 'opacity-0',\n\t\t\t\t\t\t\t\tisInitialPage && 'hidden',\n\t\t\t\t\t\t\t\t!isInitialPage && !isMobile && 'md:flex'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonClick={() => history.goBack()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className=\"text-2xl transition group-hover:text-primary\">\n\t\t\t\t\t\t\t\t<FiChevronLeft />\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'mr-4 text-sm font-medium transition group-hover:text-primary md:ml-3 md:text-base'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex items-center text-sm font-light md:text-lg\">\n\t\t\t\t\t\t\t<span className={'hidden text-kgrey-welcome md:block '}>{goToPage}</span>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={goToPageLink}\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'transitions ml-2 whitespace-nowrap text-primary hover:text-primary-dark '\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{goToPageLinkText}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className={'content-wrapper'}>\n\t\t\t\t\t<div className=\"welcome__header mb-8 md:mb-12\">\n\t\t\t\t\t\t<div className=\"mb-1 text-2xl font-bold md:mb-2.5 md:text-3xl\">{title}</div>\n\t\t\t\t\t\t<p className={'text-sm font-light text-kgrey-welcome md:text-base'}>\n\t\t\t\t\t\t\t{/*@ts-ignore*/}\n\t\t\t\t\t\t\t<HtmlParser text={description} />\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"welcome__content\">{content}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={'opacity-0'}>Footer</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":["validationSchema","yup","username","email","required","password","strict","trim","min","dispatch","useDispatch","emailRef","useRef","history","useRouter","formik","useFormik","initialValues","onSubmit","values","setFieldError","setSubmitting","Actions","cb","success","push","error","errors","isEmpty","message","includes","localStorage","clear","document","location","reload","finally","useEffect","current","focus","WelcomeLayout","title","description","goToPageLink","goToPage","goToPageLinkText","back","content","handleSubmit","className","name","placeholder","label","onChange","handleChange","type","value","touched","Boolean","helperText","ref","classNames","disabled","isSubmitting","to","imgPath","config","isInitialPage","useHistory","css","src","alt","clsx","isMobile","onClick","goBack","text"],"sourceRoot":""}