"use strict";(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[7230],{57230:function(e,t,s){s.r(t),s.d(t,{default:function(){return w}});var n=s(70885),i=s(47313),l=s(95762),a=s(94435),r=s(51328),c=s(28303),d=s(10658),o=s.n(d),h=s(77344),u=s(94024),x=s(79447),f=s(22206),j=s(62238),m=s(52654),v=s(46417);var w=function(){var e=(0,h.m)(),t=e.companyId,s=e.isPermitted,d=(0,x.h0)(),w=d.page,p=d.handlePage,y=d.removePage,k=(0,f.vd)().searchQuery,g=(0,x.tv)(),b=g.match,N=g.history,D=(0,x.h9)({isStaff:!1}),Y=D.checked,_=D.handleChange,S=(0,u.Z)(k,500),E=(0,n.Z)(S,1)[0];(0,i.useEffect)((function(){return function(){return y()}}),[]);var P=(0,j.c2)(),A=P.deleteLoading,C=P.handleNewsDelete,U=P.showDeleteVisible,F=P.closeDeletePopup,H=P.deleteVisible;return(0,v.jsx)("div",{children:t?(0,v.jsx)(l.Z.All,{entity:"news",name:"AllNews",url:"/".concat(t,"/").concat(s?"":"my-","notifications/"),params:{limit:10,extra:{search:E,type:Y.isStaff?"client":"staff"},page:w},children:function(e){var t=e.items,n=e.isFetched,i=e.meta,l=t;return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{children:[(0,v.jsxs)(a.xJ,{classes:{root:"relative "},children:[(0,v.jsxs)(r.k6,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,v.jsx)(a.ss,{children:(0,v.jsxs)(r.AF,{children:[(0,v.jsx)(r.EU,{style:{width:"20%"},children:"Title"}),(0,v.jsx)(r.EU,{style:{width:"10%"},children:"Status"}),(0,v.jsx)(r.EU,{style:{width:"10%"},children:"Frequency"}),(0,v.jsx)(r.EU,{style:{width:"20%"},children:"Author"}),(0,v.jsx)(r.EU,{style:{width:"20%"},children:"Date"}),(0,v.jsxs)(r.EU,{style:{width:"20%"},children:[(0,v.jsx)("div",{className:"ml-2 mb-2",children:"Actions"}),(0,v.jsx)("div",{className:"flex-center-end1",children:(0,v.jsx)(a.D8,{control:(0,v.jsx)(m.k,{checked:Y.isStaff,onChange:_,name:"isStaff"}),label:Y.isStaff?"Show Staff News":"Show Client News",className:"!ml-0",classes:{label:"!text-sm text-primary"}})})]})]})}),(0,v.jsx)(a.RM,{children:l.map((function(e){var t=null!==e&&void 0!==e?e:{},n=t.frequency,i=t.start_time,l=t.status,a=t.author,d=t.subject,h=t.id;return(0,v.jsxs)(r.AF,{children:[(0,v.jsx)(r.Yk,{children:(0,v.jsx)(c.rU,{to:"".concat(b.path,"/view/").concat(h),children:(0,v.jsx)("span",{className:"text-primary transition hover:text-primary-dark",children:d})})}),(0,v.jsx)(r.Yk,{children:l}),(0,v.jsx)(r.Yk,{children:n}),(0,v.jsx)(r.Yk,{children:a.name}),(0,v.jsx)(r.Yk,{children:o()(i).format("MMMM D YYYY, h:mm a")}),(0,v.jsx)(r.Yk,{children:(0,v.jsxs)("div",{className:"flex items-center justify-end ",children:[(0,v.jsx)(r.cP.DeleteButton,{isDisabled:!s,clickHandler:function(){return U(e)}}),(0,v.jsx)(r.cP.ViewButton,{isDisabled:!s,clickHandler:function(){return N.push("/news/news-list/view/".concat(e.id))}}),(0,v.jsx)(r.cP.EditButton,{isDisabled:!s,clickHandler:function(){return N.push("/news/news-list/edit/".concat(e.id))}})]})})]},h)}))})]}),!n&&(0,v.jsx)(r.aN,{tiled:!0,withOverlay:!0})]}),(0,v.jsx)(r.sm,{featureHandler:function(){return C(H)},isOpen:Boolean(H),toggleHandler:F,title:"Are you sure to delete  ".concat(null===H||void 0===H?void 0:H.subject,"?"),hasLoader:!0,isLoading:A}),(0,v.jsx)("div",{className:"news__pagination my-4",children:t.length?(0,v.jsx)(a.tl,{count:null===i||void 0===i?void 0:i.last_page,page:w?+w:1,defaultPage:6,siblingCount:1,color:"primary",onChange:p}):null})]})})}}):(0,v.jsx)("div",{className:"flex justify-center",children:(0,v.jsx)(r.aN,{})})})}}}]);