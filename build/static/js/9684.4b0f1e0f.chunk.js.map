{"version":3,"file":"static/js/9684.4b0f1e0f.chunk.js","mappings":"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","sources":["pages/Login/Login.tsx","shared/layouts/WelcomeLayout.tsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport { WelcomeLayout } from 'shared/layouts/WelcomeLayout';\nimport isEmpty from 'lodash/isEmpty';\nimport { useFormik } from 'formik';\nimport * as yup from 'yup';\nimport Actions from 'store/actions';\nimport { useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { KntInput } from 'shared/components/Fields';\nimport { useRouter } from '../../shared/hooks';\nimport { useTranslation } from 'react-i18next';\nimport Localization from 'i18n';\n\nconst validationSchema = yup.object({\n\tusername: yup\n\t\t.string()\n\t\t.email(Localization.t('valid_email'))\n\t\t.required(Localization.t('email_required')),\n\tpassword: yup\n\t\t.string()\n\t\t.strict(true)\n\t\t.trim(Localization.t('password_cannot_blank'))\n\t\t.min(6, Localization.t('password_validation'))\n\t\t.required(Localization.t('password_required'))\n});\n\nfunction Login() {\n\tconst dispatch = useDispatch();\n\tconst { t } = useTranslation();\n\tconst emailRef = useRef<HTMLInputElement>(null);\n\tconst { history } = useRouter();\n\tconst formik = useFormik({\n\t\tinitialValues: {\n\t\t\tusername: '',\n\t\t\tpassword: ''\n\t\t},\n\t\tvalidationSchema: validationSchema,\n\t\tonSubmit: (values, { setFieldError, setSubmitting }) => {\n\t\t\t// alert(JSON.stringify(values, null, 2));\n\t\t\tdispatch(\n\t\t\t\tActions.auth.Login.request({\n\t\t\t\t\tvalues,\n\t\t\t\t\tcb: {\n\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\tsetSubmitting(false);\n\t\t\t\t\t\t\thistory.push('/');\n\t\t\t\t\t\t\tdispatch(Actions.auth.GetMe.request());\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: (\n\t\t\t\t\t\t\terrors: { message: { code: string; detail: string }; code: string } | string[]\n\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\tif (!isEmpty(errors)) {\n\t\t\t\t\t\t\t\tconst computedErrorMessage = Array.isArray(errors)\n\t\t\t\t\t\t\t\t\t? errors[0]\n\t\t\t\t\t\t\t\t\t: errors.message?.detail;\n\t\t\t\t\t\t\t\tsetFieldError('password', computedErrorMessage);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (!Array.isArray(errors) && errors.message.code === 'token_not_valid') {\n\t\t\t\t\t\t\t\tlocalStorage.clear();\n\t\t\t\t\t\t\t\tdocument.location.reload();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetSubmitting(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfinally: () => {}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t});\n\n\tuseEffect(() => {\n\t\tif (emailRef?.current) emailRef?.current.focus();\n\t}, []);\n\n\treturn (\n\t\t<WelcomeLayout\n\t\t\ttitle={t('sign_in_to_kennekt')}\n\t\t\tdescription={t('login_sub_info')}\n\t\t\tgoToPageLink={'/signup'}\n\t\t\tgoToPage={''}\n\t\t\tgoToPageLinkText={t('sign_up')}\n\t\t\tgoBackLink=\"/\"\n\t\t\tback\n\t\t\tshowLanguageSelect\n\t\t\tcontent={\n\t\t\t\t<>\n\t\t\t\t\t<form onSubmit={formik.handleSubmit}>\n\t\t\t\t\t\t<div className=\" w-full font-poppins md:max-w-[423px]\">\n\t\t\t\t\t\t\t<KntInput\n\t\t\t\t\t\t\t\tname={'username'}\n\t\t\t\t\t\t\t\tplaceholder={t('email')}\n\t\t\t\t\t\t\t\tlabel={t('email_address')}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\t\t\t\ttype={'email'}\n\t\t\t\t\t\t\t\tvalue={formik.values.username}\n\t\t\t\t\t\t\t\terror={formik.touched.username && Boolean(formik.errors.username)}\n\t\t\t\t\t\t\t\thelperText={formik.touched.username && formik.errors.username}\n\t\t\t\t\t\t\t\tref={emailRef}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<KntInput\n\t\t\t\t\t\t\t\tname={'password'}\n\t\t\t\t\t\t\t\tplaceholder={t('password')}\n\t\t\t\t\t\t\t\tlabel={t('password')}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\t\t\t\ttype={'password'}\n\t\t\t\t\t\t\t\tvalue={formik.values.password}\n\t\t\t\t\t\t\t\terror={formik.touched.password && Boolean(formik.errors.password)}\n\t\t\t\t\t\t\t\thelperText={formik.touched.password && formik.errors.password}\n\t\t\t\t\t\t\t\tclassNames={'mb-8'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tdisabled={formik.isSubmitting}\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'bg-primary py-3.5 uppercase transition ' +\n\t\t\t\t\t\t\t\t\t'w-full rounded-lg text-center text-sm font-light text-white hover:bg-primary-dark'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{formik.isSubmitting ? t('sign_in_loading') : t('sign_in')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<p className={'mt-5 text-center text-xs font-light text-kgrey-welcome'}>\n\t\t\t\t\t\t\t\t{t('signin_label_info')}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={'/request-password'}\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'mt-6 inline-block w-full text-center font-poppins text-xs font-light text-kgrey-welcome underline hover:no-underline'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('forget_password')}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n}\n\nexport default Login;\n","/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\n\nimport config from 'config';\nimport { Link } from 'react-router-dom';\nimport { useHistory } from 'react-router';\nimport clsx from 'clsx';\nimport { isMobile } from 'react-device-detect';\nimport { HtmlParser } from 'shared/components';\nimport React, { useCallback } from 'react';\nimport { FiChevronLeft, FiChevronRight } from 'react-icons/fi';\nimport { useTranslation } from 'react-i18next';\nimport { LanguageSelect } from 'shared/components/HeaderKnt/components/LanguageSelect/LanguageSelect';\nimport { useTranslationHelpers } from 'shared/hooks/useTranslationHelpers';\nconst imgPath = `${config.PUBLIC_ASSETS}img/`;\n\ntype Prop = {\n\tcontent: React.ReactNode;\n\ttitle: string;\n\tdescription: string;\n\tgoToPage: string | React.ReactNode;\n\tgoToPageLinkText: string;\n\tgoToPageLink: string;\n\tgoBackLink?: string | null;\n\tback?: boolean;\n\tisInitialPage?: boolean;\n\tshowLanguageSelect?: boolean;\n};\n\nexport function WelcomeLayout({\n\tcontent,\n\ttitle,\n\tdescription,\n\tgoToPage,\n\tgoToPageLinkText,\n\tgoToPageLink,\n\tgoBackLink = null,\n\tback,\n\tisInitialPage,\n\tshowLanguageSelect = false\n}: Prop) {\n\tconst history = useHistory();\n\tconst { t } = useTranslation();\n\tconst { isRTL } = useTranslationHelpers();\n\n\tconst onGoBackClicked = useCallback(() => {\n\t\tif (goBackLink) {\n\t\t\thistory.push(goBackLink);\n\t\t} else {\n\t\t\thistory.goBack();\n\t\t}\n\t}, [goBackLink]);\n\n\t// @ts-ignore\n\treturn (\n\t\t<div className={'welcome flex min-h-full font-poppins '}>\n\t\t\t<div\n\t\t\t\tclassName={clsx(\n\t\t\t\t\t'welcome__left hidden bg-cover bg-no-repeat py-14 px-20 md:block md:w-[52%]',\n\t\t\t\t\t{ 'md:!w-[52%]': isInitialPage }\n\t\t\t\t)}\n\t\t\t\tcss={css`\n\t\t\t\t\tbackground-image: url(${imgPath}bg-welcome.jpg);\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t<Link to={'/'} className={'h-8 w-40'}>\n\t\t\t\t\t<img src={`${imgPath}logo-kennekt-2.svg`} alt=\"\" className={'object-cover'} />\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName={clsx(\n\t\t\t\t\t'flex w-full flex-col justify-between p-4 md:block md:w-[48%] md:pl-12 md:pt-14 md:pr-20 md:pb-14',\n\t\t\t\t\t{ 'md:!w-[48%]': isInitialPage }\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName={clsx('top', {\n\t\t\t\t\t\t'flex items-center justify-between': isMobile && isInitialPage\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"mobile-logo mb-2 lg:hidden\">\n\t\t\t\t\t\t<Link to={'/'} className={'block h-6 w-32'}>\n\t\t\t\t\t\t\t<img src={`${imgPath}logo-kennekt-2.svg`} alt=\"\" className={'object-cover'} />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={clsx('top-nav flex justify-between md:mb-28')}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t'group flex cursor-pointer items-center text-kgrey-welcome',\n\t\t\t\t\t\t\t\t!back && 'opacity-0',\n\t\t\t\t\t\t\t\tisInitialPage && 'hidden',\n\t\t\t\t\t\t\t\t!isInitialPage && !isMobile && 'md:flex'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonClick={onGoBackClicked}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className=\"text-2xl transition group-hover:text-primary\">\n\t\t\t\t\t\t\t\t{isRTL ? <FiChevronRight /> : <FiChevronLeft />}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'mr-4 text-sm font-medium transition group-hover:text-primary md:ml-3 md:text-base'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('back')}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex items-center text-sm font-light md:text-lg\">\n\t\t\t\t\t\t\t<span className={'hidden text-kgrey-welcome md:block '}>{goToPage}</span>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={goToPageLink}\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'transitions mx-2 whitespace-nowrap text-primary hover:text-primary-dark '\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{goToPageLinkText}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t{showLanguageSelect ? <LanguageSelect isRegistering /> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className={'content-wrapper'}>\n\t\t\t\t\t<div className=\"welcome__header mb-8 md:mb-12\">\n\t\t\t\t\t\t<div className=\"mb-1 text-2xl font-bold md:mb-2.5 md:text-3xl\">{title}</div>\n\t\t\t\t\t\t<p className={'text-sm font-light text-kgrey-welcome md:text-base'}>\n\t\t\t\t\t\t\t{/*@ts-ignore*/}\n\t\t\t\t\t\t\t<HtmlParser text={description} />\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"welcome__content\">{content}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={'opacity-0'}>Footer</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":["validationSchema","yup","username","email","Localization","required","password","strict","trim","min","dispatch","useDispatch","t","useTranslation","emailRef","useRef","history","useRouter","formik","useFormik","initialValues","onSubmit","values","setFieldError","setSubmitting","Actions","cb","success","push","error","errors","isEmpty","computedErrorMessage","Array","isArray","message","detail","code","localStorage","clear","document","location","reload","finally","useEffect","current","focus","WelcomeLayout","title","description","goToPageLink","goToPage","goToPageLinkText","goBackLink","back","showLanguageSelect","content","handleSubmit","className","name","placeholder","label","onChange","handleChange","type","value","touched","Boolean","helperText","ref","classNames","disabled","isSubmitting","to","imgPath","config","isInitialPage","useHistory","isRTL","useTranslationHelpers","onGoBackClicked","useCallback","goBack","clsx","css","src","alt","isMobile","onClick","isRegistering","text"],"sourceRoot":""}