{"version":3,"file":"static/js/2314.d4bfe510.chunk.js","mappings":"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","sources":["pages/Departments/components/staffTableDetails/StaffDepartmentIcon.tsx","shared/icons/IconDepartmentMembers.tsx","pages/Departments/components/DepartmentDeleteModal.tsx","pages/Departments/components/DepartmentList.tsx","pages/Departments/components/EditDepartment.tsx","pages/Departments/hooks/useDepartmentList.ts","shared/services/utils/getBusinessIcon.tsx"],"sourcesContent":["import React from 'react';\nimport { getBusinessIcon } from 'shared/services/utils/getBusinessIcon';\nimport { StyledTableCell } from 'shared/components';\nimport { StaffDepartmentIconTypes } from 'shared/typings/department.types';\nimport { Link } from 'react-router-dom';\nimport { useQueryParams } from '../../../../shared/hooks';\nimport qs from 'query-string';\n\nexport type StaffDepartmentIconType = {\n\ticon: StaffDepartmentIconTypes;\n\tname: string;\n\tid: number;\n};\n\nexport default function StaffDepartmentIcon({ icon, name, id }: StaffDepartmentIconType) {\n\tconst { query } = useQueryParams();\n\tconst searchString = qs.stringify(query);\n\n\treturn (\n\t\t<StyledTableCell>\n\t\t\t<div className=\"flex items-center\">\n\t\t\t\t<div className=\"h-9 w-9 flex-shrink-0\">\n\t\t\t\t\t{getBusinessIcon(icon?.thumbnail || icon?.thumbnail_150 || '', name)}\n\t\t\t\t</div>\n\t\t\t\t<Link to={`/departments/view/${id}/dep/?${searchString}`}>\n\t\t\t\t\t<p className=\"ml-2.5 text-sm font-medium text-primary transition hover:text-primary-dark\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</p>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</StyledTableCell>\n\t);\n}\n","import React from 'react';\n\nexport function IconDepartmentMembers({ className = '' }: { className?: string }) {\n\treturn (\n\t\t<svg\n\t\t\tclassName={className}\n\t\t\twidth=\"20\"\n\t\t\theight=\"14\"\n\t\t\tviewBox=\"0 0 20 14\"\n\t\t\tfill=\"none\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t>\n\t\t\t<path\n\t\t\t\td=\"M9.95754 9.1167C7.08256 9.1167 4.65676 9.58649 4.65676 11.3996C4.65676 13.2135 7.09823 13.6668 9.95754 13.6668C12.8325 13.6668 15.2583 13.197 15.2583 11.3838C15.2583 9.56998 12.8169 9.1167 9.95754 9.1167Z\"\n\t\t\t\tfill=\"#A5A7B2\"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\topacity=\"0.4\"\n\t\t\t\td=\"M9.95752 7.38935C11.9043 7.38935 13.4653 5.81938 13.4653 3.86142C13.4653 1.90272 11.9043 0.333496 9.95752 0.333496C8.01077 0.333496 6.44978 1.90272 6.44978 3.86142C6.44978 5.81938 8.01077 7.38935 9.95752 7.38935Z\"\n\t\t\t\tfill=\"#A5A7B2\"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\topacity=\"0.4\"\n\t\t\t\td=\"M17.5733 4.68294C18.077 2.70171 16.6003 0.922363 14.72 0.922363C14.5155 0.922363 14.32 0.944877 14.129 0.983151C14.1036 0.989155 14.0753 1.00191 14.0604 1.02443C14.0432 1.05294 14.0559 1.09122 14.0745 1.11598C14.6394 1.91298 14.964 2.88332 14.964 3.92497C14.964 4.92308 14.6662 5.85366 14.1439 6.62589C14.0902 6.70543 14.138 6.81275 14.2327 6.82926C14.364 6.85253 14.4984 6.86453 14.6356 6.86829C16.0049 6.90431 17.2338 6.01801 17.5733 4.68294Z\"\n\t\t\t\tfill=\"#A5A7B2\"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\td=\"M19.0077 9.34738C18.757 8.81005 18.1519 8.44157 17.2319 8.26071C16.7976 8.15415 15.6224 8.00405 14.5292 8.02432C14.5128 8.02657 14.5039 8.03782 14.5024 8.04533C14.5001 8.05584 14.5046 8.07385 14.5262 8.0851C15.0314 8.33651 16.9841 9.42993 16.7386 11.7361C16.7282 11.8359 16.808 11.9222 16.9073 11.9072C17.3878 11.8382 18.6242 11.571 19.0077 10.7387C19.2196 10.299 19.2196 9.7879 19.0077 9.34738Z\"\n\t\t\t\tfill=\"#A5A7B2\"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\topacity=\"0.4\"\n\t\t\t\td=\"M5.87067 0.983151C5.6804 0.944127 5.48415 0.922363 5.2797 0.922363C3.39936 0.922363 1.92269 2.70171 2.4271 4.68294C2.76586 6.01801 3.9948 6.90431 5.36402 6.86828C5.50132 6.86453 5.63637 6.85177 5.76695 6.82926C5.86172 6.81275 5.90947 6.70543 5.85575 6.62588C5.33343 5.85291 5.03571 4.92308 5.03571 3.92497C5.03571 2.88257 5.36104 1.91222 5.92589 1.11598C5.9438 1.09122 5.95723 1.05294 5.93932 1.02443C5.92439 1.00116 5.89679 0.989155 5.87067 0.983151Z\"\n\t\t\t\tfill=\"#A5A7B2\"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\td=\"M2.76797 8.26058C1.84794 8.44144 1.24354 8.80992 0.992829 9.34725C0.780171 9.78778 0.780171 10.2988 0.992829 10.7394C1.37636 11.5709 2.61276 11.8388 3.0933 11.9071C3.19254 11.9221 3.27163 11.8365 3.26118 11.736C3.01569 9.43056 4.96842 8.33713 5.47432 8.08572C5.49521 8.07372 5.49969 8.05646 5.49745 8.0452C5.49596 8.0377 5.48775 8.02644 5.47134 8.02494C4.37745 8.00392 3.20298 8.15402 2.76797 8.26058Z\"\n\t\t\t\tfill=\"#A5A7B2\"\n\t\t\t/>\n\t\t</svg>\n\t);\n}\n","import React, { useState } from 'react';\nimport { useAppState } from 'shared/state';\nimport { WhiteModal, Button, DialogActions, DialogTitle } from 'shared/components/Elements';\nimport { ErrorBoundary, Loader } from 'shared/components';\nimport { useEntityForm } from 'modules/entity/hooks/useEntityForm';\nimport { useNotistack } from 'shared/hooks';\n\ntype Props = {\n\thandleModalOpen: (item: any | null) => void;\n\topen: any | null;\n};\n\nfunction DepartmentDeleteModalInner({ handleModalOpen, open }: Props) {\n\tconst { companyId } = useAppState();\n\tconst [loading, setLoading] = useState(false);\n\tconst { showNotification } = useNotistack();\n\n\tconst { handleRequest: handleDeleteRequest } = useEntityForm({\n\t\tentity: 'departments',\n\t\tname: `AllDepartments-${companyId}`,\n\t\tmethod: 'delete',\n\t\turl: `/${companyId}/departments/${open?.id}/`,\n\t\tdeleteData: true,\n\t\tid: open?.id,\n\t\tcb: {\n\t\t\tsuccess: (data) => {\n\t\t\t\thandleModalOpen(null);\n\t\t\t\tsetLoading(false);\n\t\t\t\tshowNotification({ message: 'Successfully deleted', variant: 'success' });\n\t\t\t},\n\t\t\terror: (error) => {\n\t\t\t\tshowNotification({\n\t\t\t\t\tmessage: error.response.data.message || 'Non empty department can not be deleted',\n\t\t\t\t\tvariant: 'error'\n\t\t\t\t});\n\t\t\t\tsetLoading(false);\n\t\t\t\thandleModalOpen(null);\n\t\t\t},\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-empty-function\n\t\t\tfinally: () => {}\n\t\t}\n\t});\n\n\tconst rejectRequest = (branch: any) => {\n\t\tsetLoading(true);\n\t\thandleDeleteRequest();\n\t};\n\n\tconst handleDelete = () => {\n\t\tif (open) rejectRequest(open);\n\t};\n\n\tconst closeModal = () => {\n\t\thandleModalOpen(null);\n\t};\n\n\treturn (\n\t\t<div className=\"relative\">\n\t\t\t<WhiteModal handleModalOpen={closeModal} open={Boolean(open)}>\n\t\t\t\t<DialogTitle id=\"alert-dialog-title\">\n\t\t\t\t\tAre you sure you want to delete the \"<strong>{open?.name}</strong>\" department ?\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={closeModal} autoFocus variant=\"contained\">\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={handleDelete} variant=\"contained\" color=\"secondary\">\n\t\t\t\t\t\tDelete\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t\t{loading && (\n\t\t\t\t\t<div className=\"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70\">\n\t\t\t\t\t\t<Loader />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</WhiteModal>\n\t\t</div>\n\t);\n}\n\nexport function DepartmentDeleteModal(props: Props) {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<DepartmentDeleteModalInner {...props} />\n\t\t</ErrorBoundary>\n\t);\n}\n","import React, { useCallback, useState } from 'react';\nimport {\n\tErrorBoundary,\n\tLoader,\n\tStyledTable,\n\tStyledTableCell,\n\tStyledTableHeadCell,\n\tStyledTableRow\n} from 'shared/components';\nimport { useAppState } from 'shared/state';\nimport EntityContainer from 'modules/entity/containers';\nimport { Pagination, TableBody, TableContainer, TableHead } from 'shared/components/Elements';\nimport { usePagination, useQueryParams } from 'shared/hooks';\nimport { useDepartmentContext } from '../context/DepartmentContext';\nimport { StaffDepartmentRequestTypes } from 'shared/typings/department.types';\nimport StaffDepartmentIcon from './staffTableDetails/StaffDepartmentIcon';\nimport { BsFillTelephoneFill } from 'react-icons/bs';\nimport { IconDepartmentMembers } from 'shared/icons/IconDepartmentMembers';\nimport { AiFillDelete, AiFillEye } from 'react-icons/ai';\nimport { MdModeEditOutline } from 'react-icons/md';\nimport IconButton from '@material-ui/core/IconButton';\nimport { MenuItem, Select } from '@material-ui/core';\nimport EditDepartmentForm from './EditDepartment';\nimport { Link } from 'react-router-dom';\nimport { DepartmentDeleteModal } from './DepartmentDeleteModal';\nimport { useDepartmentList } from '../hooks/useDepartmentList';\nimport { useDebounce } from 'use-debounce';\nimport qs from 'query-string';\nimport CopyEmailButton from './CopyEmailButton';\nimport clsx from 'clsx';\n\nfunction StaffDepartmentRequest() {\n\tconst { companyId, isAdmin, isPermitted } = useAppState();\n\tconst { page, handlePage } = usePagination();\n\tconst { isStaff, searchQuery } = useDepartmentContext();\n\tconst [deleteModal, setDeleteModal] = useState<StaffDepartmentRequestTypes | null>(null);\n\tconst { handleDepOrderChange } = useDepartmentList('department', searchQuery, 0, isStaff);\n\n\tconst { query } = useQueryParams();\n\tconst searchString = qs.stringify(query);\n\n\tconst [querySearch] = useDebounce<string>(searchQuery, 500);\n\n\tconst [modifyModal, setModifyModal] = useState<StaffDepartmentRequestTypes | null>(null);\n\n\tconst renderSelectItems = (count: number | undefined) => {\n\t\treturn [...Array(count)].map((_, key) => {\n\t\t\treturn (\n\t\t\t\t<MenuItem key={key} value={key + 1}>\n\t\t\t\t\t{Number(key + 1)}\n\t\t\t\t</MenuItem>\n\t\t\t);\n\t\t});\n\t};\n\n\tconst handleModal = useCallback(\n\t\t(item: StaffDepartmentRequestTypes | null) => setModifyModal(item),\n\t\t[]\n\t);\n\tconst handleDeleteModal = useCallback(\n\t\t(item: StaffDepartmentRequestTypes | null) => setDeleteModal(item),\n\t\t[]\n\t);\n\n\treturn (\n\t\t<div>\n\t\t\t{companyId ? (\n\t\t\t\t<EntityContainer.All\n\t\t\t\t\tentity={'departments'}\n\t\t\t\t\tname={`AllDepartments-${companyId}`}\n\t\t\t\t\turl={`/${companyId}/departments/`}\n\t\t\t\t\treplaceIds\n\t\t\t\t\tparams={{\n\t\t\t\t\t\tlimit: 10,\n\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\tis_staff: isStaff,\n\t\t\t\t\t\t\tsearch: querySearch\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpage\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ items, isFetched, meta }) => {\n\t\t\t\t\t\tconst requests = items.map((item: unknown) => item) as StaffDepartmentRequestTypes[];\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<TableContainer classes={{ root: 'relative ' }}>\n\t\t\t\t\t\t\t\t\t<StyledTable\n\t\t\t\t\t\t\t\t\t\taria-label=\"simple table\"\n\t\t\t\t\t\t\t\t\t\tclasses={{ root: 'table-fixed dark-mode-styled-table' }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '17%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tDepartment\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '17%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tPhone Number\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '10%' }}>Members</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '15%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"truncate\">Subdepartment</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '7%' }}>Cases</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '5%' }}>Order</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '10%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-centered\">Email</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '15%' }}>Actions</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t{requests.map((item: StaffDepartmentRequestTypes) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon,\n\t\t\t\t\t\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\t\t\t\t\t\tphone,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmembers_count,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdepartment_case_count,\n\t\t\t\t\t\t\t\t\t\t\t\t\tsorder,\n\t\t\t\t\t\t\t\t\t\t\t\t\tacc_email_alias,\n\t\t\t\t\t\t\t\t\t\t\t\t\tsub_departments_count,\n\t\t\t\t\t\t\t\t\t\t\t\t\tacc_status,\n\t\t\t\t\t\t\t\t\t\t\t\t\tauto_case_create\n\t\t\t\t\t\t\t\t\t\t\t\t} = item;\n\t\t\t\t\t\t\t\t\t\t\t\tconst mobile = phone ? (phone[0] === '+' ? phone : `+${phone}`) : null;\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow key={id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StaffDepartmentIcon icon={icon} name={name} id={id} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mobile ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<BsFillTelephoneFill color=\"#979797\" size=\"15px\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={`tel:${mobile}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"test-kdark-text ml-2 align-middle text-sm text-primary hover:text-primary-dark\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mobile}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center \">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconDepartmentMembers />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"ml-2 text-sm font-semibold\">{members_count}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center pr-4 text-sm  font-semibold\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{sub_departments_count}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center pr-4 text-sm font-semibold\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{department_case_count}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center px-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!isAdmin}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-sm font-semibold\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={Number(sorder)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(evt) => handleDepOrderChange(evt, item.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderSelectItems(meta.count)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\" flex-centered px-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{acc_email_alias && auto_case_create ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyEmailButton copiedEmail={acc_email_alias} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!auto_case_create && acc_email_alias) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn 'Deactivated';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>{acc_status ? <p>Not ready yet</p> : <div>None</div>}</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={clsx({ 'cursor-not-allowed': !isAdmin })}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!isAdmin}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDeleteModal(item)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AiFillDelete color=\"#979797\" size=\"18px\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={clsx({ 'cursor-not-allowed': !isAdmin })}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!isPermitted}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"view\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/departments/view/${id}/dep/?${searchString}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AiFillEye size=\"18px\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={clsx({ 'cursor-not-allowed': !isAdmin })}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!isPermitted}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleModal(item)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MdModeEditOutline color=\"#979797\" size=\"18px\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</StyledTable>\n\t\t\t\t\t\t\t\t\t{!isFetched && <Loader tiled withOverlay />}\n\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t\t<EditDepartmentForm handleModalOpen={handleModal} open={modifyModal} />\n\t\t\t\t\t\t\t\t<DepartmentDeleteModal handleModalOpen={handleDeleteModal} open={deleteModal} />\n\n\t\t\t\t\t\t\t\t<div className=\"news__pagination my-4\">\n\t\t\t\t\t\t\t\t\t{items.length ? (\n\t\t\t\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\t\t\t\tcount={meta?.last_page}\n\t\t\t\t\t\t\t\t\t\t\tpage={page ? +page : 1}\n\t\t\t\t\t\t\t\t\t\t\tdefaultPage={6}\n\t\t\t\t\t\t\t\t\t\t\tsiblingCount={1}\n\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handlePage}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t</EntityContainer.All>\n\t\t\t) : (\n\t\t\t\t<div className=\"flex justify-center\">\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default function DepartmentList() {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<StaffDepartmentRequest />\n\t\t</ErrorBoundary>\n\t);\n}\n","import React, { useCallback, useState } from 'react';\nimport EntityForm from 'modules/entity/forms';\nimport { useAppState } from 'shared/state';\nimport DepartmentFormElements from './DepartmentFormElements';\nimport { WhiteModal } from 'shared/components/Elements';\n\nimport { useNotistack, useUpdateEntities } from 'shared/hooks';\nimport get from 'lodash/get';\nimport { useDepartmentContext } from '../context/DepartmentContext';\n\ntype Props = {\n\thandleModalOpen: (item: any | null) => void;\n\topen: any | null;\n};\n\nfunction getTimeUnit(unit: string) {\n\tswitch (unit) {\n\t\tcase 'MINUTES': {\n\t\t\treturn { label: 'minutes', value: 'MINUTES' };\n\t\t}\n\t\tcase 'HOURS': {\n\t\t\treturn { label: 'hours', value: 'HOURS' };\n\t\t}\n\t\tcase 'DAYS': {\n\t\t\treturn { label: 'days', value: 'DAYS' };\n\t\t}\n\t\tdefault:\n\t\t\treturn null;\n\t}\n}\n\nexport default function EditDepartmentForm({ handleModalOpen, open }: Props) {\n\tconst { companyId } = useAppState();\n\tconst closeModal = useCallback(() => handleModalOpen(null), []);\n\tconst { showNotification } = useNotistack();\n\tconst { updateEntities } = useUpdateEntities();\n\tconst { isStaff, setIsStaff } = useDepartmentContext();\n\tconst [accStatusRequired, setAccStatusRequired] = useState<boolean>(false);\n\n\treturn (\n\t\t<div>\n\t\t\t{companyId ? (\n\t\t\t\t<div>\n\t\t\t\t\t<WhiteModal\n\t\t\t\t\t\tmaxWidth={466}\n\t\t\t\t\t\tminWidth={466}\n\t\t\t\t\t\thandleModalOpen={closeModal}\n\t\t\t\t\t\topen={Boolean(open)}\n\t\t\t\t\t\tscrollable\n\t\t\t\t\t\tnoPadding\n\t\t\t\t\t>\n\t\t\t\t\t\t<EntityForm.Main\n\t\t\t\t\t\t\tentity=\"departments\"\n\t\t\t\t\t\t\tname={`AllDepartments-${companyId}`}\n\t\t\t\t\t\t\turl={`${companyId}/departments/${open?.id}/`}\n\t\t\t\t\t\t\tmethod=\"patch\"\n\t\t\t\t\t\t\tid={open?.id}\n\t\t\t\t\t\t\tupdateData\n\t\t\t\t\t\t\tprimaryKey=\"id\"\n\t\t\t\t\t\t\tsendAsFormData={false}\n\t\t\t\t\t\t\tnormalizeData={(data: any) => data}\n\t\t\t\t\t\t\tfields={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'icon',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.icon,\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? value : null)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'name',\n\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\tvalue: open?.name,\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'link',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.link,\n\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? value : null)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'phone',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.phone,\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'case_escalation_time',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.case_escalation_time ?? '',\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? parseInt(value) : null),\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'case_escalation_time_unit',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: getTimeUnit(open?.case_escalation_time_unit),\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => value?.value,\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'assign_required',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.assign_required,\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'initial_response_time',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.initial_response_time ?? '',\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? parseInt(value) : null),\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'initial_response_time_unit',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: getTimeUnit(open?.initial_response_time_unit),\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => value?.value,\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'default_assignees',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tvalue: open?.default_assignees,\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value.length ? value.map((item: any) => item.id) : [])\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'data_field',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tvalue: open?.data_field\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'auto_case_create',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.auto_case_create,\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'acc_status',\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => get(value, 'id'),\n\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\tvalue: open?.acc_status,\n\t\t\t\t\t\t\t\t\trequired: accStatusRequired,\n\t\t\t\t\t\t\t\t\ttype: 'object'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'is_staff',\n\t\t\t\t\t\t\t\t\tvalue: isStaff === 'true',\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'acc_linked_email',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.acc_linked_email,\n\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => (value ? value : null),\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'acc_email_alias',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tvalue: open?.acc_email_alias,\n\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tonSuccess={(response, resetForm): any => {\n\t\t\t\t\t\t\t\tshowNotification({ message: 'Success! ' });\n\t\t\t\t\t\t\t\tif (response?.default_assignees?.length < open?.default_assignees?.length) {\n\t\t\t\t\t\t\t\t\tupdateEntities({\n\t\t\t\t\t\t\t\t\t\tentity: 'departments',\n\t\t\t\t\t\t\t\t\t\tentityId: open?.id,\n\t\t\t\t\t\t\t\t\t\tupdatingData: {\n\t\t\t\t\t\t\t\t\t\t\tdefault_assignees: response?.default_assignees || []\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tresetForm();\n\t\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonError={(error, resetForm): any => {\n\t\t\t\t\t\t\t\tshowNotification({\n\t\t\t\t\t\t\t\t\tmessage: error?.response?.data?.message ?? 'Something went wrong',\n\t\t\t\t\t\t\t\t\tvariant: 'error'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tresetForm();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{({ isSubmitting, values, setFieldValue, errors, setFieldError, resetForm }) => {\n\t\t\t\t\t\t\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\t\t\t\t\t\t\tconsole.log('values edit department', values);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<DepartmentFormElements\n\t\t\t\t\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\t\t\t\t\tsetFieldValue={setFieldValue}\n\t\t\t\t\t\t\t\t\t\tsetFieldError={setFieldError}\n\t\t\t\t\t\t\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t\t\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\t\t\t\t\tcloseModal={closeModal}\n\t\t\t\t\t\t\t\t\t\tisCreate={false}\n\t\t\t\t\t\t\t\t\t\tresetForm={resetForm}\n\t\t\t\t\t\t\t\t\t\tdepartmentId={open?.id}\n\t\t\t\t\t\t\t\t\t\tsetAccStatusRequired={setAccStatusRequired}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</EntityForm.Main>\n\t\t\t\t\t</WhiteModal>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}\n\nEditDepartmentForm.defaultProps = {\n\tonSuccess: () => {}\n};\n","import { useAppState } from 'shared/state';\nimport { useLoadAll, usePagination } from '../../../shared/hooks';\nimport { useDispatch } from 'react-redux';\nimport Actions from '../../../store/actions';\nconst FormRequest = Actions.entity.formRequest;\n\nexport function useDepartmentList(\n\ttype: string,\n\tsearchQuery: string,\n\tdepartmentId?: number,\n\tisStaff?: string\n): any {\n\tconst { companyId } = useAppState();\n\tconst { page } = usePagination(type === 'department' ? 'page' : 'subPage');\n\tconst dispatch = useDispatch();\n\tconst { reloadEntityAll } = useLoadAll();\n\n\tconst handleDepOrderChange = (evt: any, id: number): any => {\n\t\tif (id) {\n\t\t\tdispatch(\n\t\t\t\tFormRequest({\n\t\t\t\t\tentity: 'sorder',\n\t\t\t\t\tname: 'AllSorder',\n\t\t\t\t\turl: `/${companyId}/departments/${id}/change_order/${evt.target.value}/`,\n\t\t\t\t\tparams: {},\n\t\t\t\t\tmethod: 'put',\n\t\t\t\t\tvalues: {},\n\t\t\t\t\tcb: {\n\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\treloadEntityAll({\n\t\t\t\t\t\t\t\tentity: type === 'department' ? 'departments' : 'subDepartments',\n\t\t\t\t\t\t\t\tname:\n\t\t\t\t\t\t\t\t\ttype === 'department'\n\t\t\t\t\t\t\t\t\t\t? `AllDepartments-${companyId}`\n\t\t\t\t\t\t\t\t\t\t: `SubDepartments-${companyId}`,\n\t\t\t\t\t\t\t\turl:\n\t\t\t\t\t\t\t\t\ttype === 'department'\n\t\t\t\t\t\t\t\t\t\t? `/${companyId}/departments/`\n\t\t\t\t\t\t\t\t\t\t: `/${companyId}/departments/${departmentId}/sub_departments/`,\n\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\tpage: page,\n\t\t\t\t\t\t\t\t\tlimit: 10,\n\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\tis_staff: isStaff ? isStaff : null,\n\t\t\t\t\t\t\t\t\t\tsearch: searchQuery\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: () => {},\n\t\t\t\t\t\tfinally: () => {}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t};\n\n\treturn { handleDepOrderChange };\n}\n","import { Avatar } from '@material-ui/core';\n\nexport const getBusinessIcon = (url: string | undefined, name: string | undefined) => {\n\tif (url) {\n\t\treturn (\n\t\t\t<Avatar\n\t\t\t\tclassName=\"inline-block\"\n\t\t\t\talt={name || 'Business icon'}\n\t\t\t\tsrc={url}\n\t\t\t\tstyle={{ width: '100%', height: '100%' }}\n\t\t\t/>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<Avatar className=\"inline-block\" style={{ color: '#fff', width: '100%', height: '100%' }}>\n\t\t\t\t{name ? name[0].toUpperCase() : null}\n\t\t\t</Avatar>\n\t\t);\n\t}\n};\n"],"names":["StaffDepartmentIcon","icon","name","id","query","useQueryParams","searchString","qs","className","getBusinessIcon","thumbnail","thumbnail_150","to","IconDepartmentMembers","width","height","viewBox","fill","xmlns","d","opacity","DepartmentDeleteModalInner","handleModalOpen","open","companyId","useAppState","useState","loading","setLoading","showNotification","useNotistack","handleDeleteRequest","useEntityForm","entity","method","url","deleteData","cb","success","data","message","variant","error","response","finally","handleRequest","closeModal","Boolean","onClick","autoFocus","color","DepartmentDeleteModal","props","StaffDepartmentRequest","isAdmin","isPermitted","usePagination","page","handlePage","useDepartmentContext","isStaff","searchQuery","deleteModal","setDeleteModal","handleDepOrderChange","useDepartmentList","useDebounce","querySearch","modifyModal","setModifyModal","handleModal","useCallback","item","handleDeleteModal","replaceIds","params","limit","extra","is_staff","search","items","isFetched","meta","requests","map","classes","root","style","count","phone","members_count","department_case_count","sorder","acc_email_alias","sub_departments_count","acc_status","auto_case_create","mobile","size","href","Select","disabled","value","Number","onChange","evt","Array","_","key","MenuItem","CopyEmailButton","copiedEmail","clsx","IconButton","tiled","withOverlay","EditDepartment","length","last_page","defaultPage","siblingCount","DepartmentList","getTimeUnit","unit","label","EditDepartmentForm","updateEntities","useUpdateEntities","setIsStaff","accStatusRequired","setAccStatusRequired","maxWidth","minWidth","scrollable","noPadding","updateData","primaryKey","sendAsFormData","normalizeData","fields","required","type","onSubmitKey","onSubmitValue","link","case_escalation_time","parseInt","case_escalation_time_unit","assign_required","initial_response_time","initial_response_time_unit","default_assignees","data_field","get","acc_linked_email","onSuccess","resetForm","entityId","updatingData","onError","isSubmitting","values","setFieldValue","errors","setFieldError","isCreate","departmentId","defaultProps","FormRequest","Actions","dispatch","useDispatch","reloadEntityAll","useLoadAll","target","alt","src","toUpperCase"],"sourceRoot":""}