/*! For license information please see main.6c4eb32c.js.LICENSE.txt */
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="96139f27-7389-478e-8c4f-f42ad5688b5a",e._sentryDebugIdIdentifier="sentry-dbid-96139f27-7389-478e-8c4f-f42ad5688b5a")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"1d419c3c8a5f66a775a003b801a7dad6c0430a71"},function(){var e,t,n,a,r,s={9478:function(e,t){"use strict";var n="ws://127.0.0.1:8000",a="AIzaSyCkrRrmtG7mC1vsM9wABlK7EXS9mAD3-p0",r={CLIENT_APP_URL:"https://client.kennekt.com",API_ROOT:"http://127.0.0.1:8000",REACT_APP_URL:"https://app.kennekt.com",DEFAULT_LANGUAGE:"en",PUBLIC:"",PUBLIC_ASSETS:"".concat("","/assets/"),API_WS_DEV:n,GMAP_API_KEY:a,STATUS_DROPPABLE_ID:"statuses",STATUS_DROPPABLE_TYPE:"column",CASES_DROPPABLE_TYPE:"cases",CLIENT:"Client",STAFF:"Staff"};t.Z=r},25157:function(e,t,n){"use strict";n.d(t,{C:function(){return a}});var a=(0,n(33040).U)()},71887:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var a=(0,n(33040).U)()},5861:function(e,t,n){"use strict";var a=n(21105),r=n(17173),s=n(99800),i=n(9522);a.ZP.use(s.Z).use(i.Z).use(r.Db).init({supportedLngs:["EN","UZ","RU","AR"],fallbackLng:"EN",debug:!1,interpolation:{escapeValue:!1}}),t.Z=a.ZP},80313:function(e,t,n){"use strict";n(32338),n(98933);var a=n(72791),r=n(54164),s=n(87818),i=n(64880),o=n(96993),l=n(80266),c=n(66128),u=n(59028),d=n(97689),m=n(40084),p=n(38565),f=n(1795),h=n(98246),g=n(72863),v=n(49425),x=n(16178),y=n(65954);var b=n(1413),_=n(15861),C=n(64687),E=n.n(C),S=n(53148),Z=n(39126),j=n(80184);function k(e){var t=e.className,n=void 0===t?"":t;return(0,j.jsx)("svg",{className:n,width:"26",height:"28",viewBox:"0 0 26 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,j.jsx)("path",{d:"M11.7106 7.97122L10.9878 8.66226L10.9492 8.62182L10.9153 8.57732L11.7106 7.97122ZM16.5287 27.6017C16.0289 27.8368 15.4332 27.6223 15.1981 27.1225L11.3672 18.9786C11.1321 18.4788 11.3467 17.8831 11.8464 17.648C12.3462 17.4129 12.9419 17.6275 13.177 18.1272L16.5823 25.3663L23.8213 21.961C24.3211 21.726 24.9168 21.9405 25.1519 22.4403C25.3869 22.94 25.1724 23.5357 24.6726 23.7708L16.5287 27.6017ZM0.227262 0.883968C4.19579 1.26851 7.25776 2.88219 9.32004 4.39025C10.3518 5.14474 11.1389 5.87667 11.6715 6.42415C11.938 6.69816 12.1416 6.92677 12.2809 7.09004C12.3506 7.1717 12.4043 7.23709 12.4419 7.28374C12.4607 7.30707 12.4754 7.32572 12.4861 7.33938C12.4915 7.34622 12.4958 7.3518 12.4991 7.3561C12.5008 7.35825 12.5022 7.36008 12.5033 7.36159C12.5039 7.36234 12.5044 7.36301 12.5049 7.3636C12.5051 7.36389 12.5054 7.36427 12.5055 7.36442C12.5058 7.36477 12.506 7.36511 11.7106 7.97122C10.9153 8.57732 10.9155 8.57762 10.9157 8.57789C10.9157 8.57796 10.9159 8.57822 10.916 8.57835C10.9162 8.57861 10.9164 8.57879 10.9165 8.57889C10.9166 8.57909 10.9165 8.57898 10.9162 8.57855C10.9155 8.57768 10.9139 8.57556 10.9113 8.57222C10.906 8.56553 10.8969 8.55396 10.8839 8.53781C10.8579 8.5055 10.8164 8.4549 10.7597 8.38841C10.6461 8.25538 10.4717 8.0591 10.2379 7.8187C9.76966 7.33736 9.06632 6.6824 8.13949 6.00465C6.28454 4.64821 3.5566 3.21594 0.0343702 2.87464L0.227262 0.883968ZM11.7106 7.97122C12.4335 7.28017 12.4338 7.2805 12.4341 7.28086C12.4343 7.28102 12.4346 7.28141 12.435 7.28174C12.4356 7.28239 12.4363 7.28317 12.4372 7.28409C12.4389 7.28592 12.4411 7.28826 12.4438 7.29113C12.4492 7.29685 12.4566 7.30464 12.4657 7.31448C12.484 7.33414 12.5097 7.36197 12.5421 7.39777C12.6069 7.46937 12.6987 7.57288 12.8125 7.7067C13.0402 7.97421 13.3568 8.36351 13.7227 8.86158C14.4534 9.85616 15.3873 11.2931 16.202 13.0676C17.8302 16.614 19.0099 21.5772 17.0439 27.0357L15.1622 26.358C16.8932 21.552 15.8767 17.1524 14.3844 13.9021C13.6389 12.2783 12.7815 10.9584 12.111 10.0457C11.7763 9.59018 11.4898 9.23827 11.2895 9.00296C11.1894 8.88537 11.111 8.79708 11.0591 8.73971C11.0332 8.71104 11.0138 8.69011 11.0018 8.67713C10.9957 8.67064 10.9915 8.66614 10.9891 8.66365C10.988 8.66241 10.9873 8.66167 10.987 8.66144C10.9869 8.66132 10.9869 8.66133 10.9871 8.66147C10.9871 8.66154 10.9873 8.66174 10.9874 8.66177C10.9876 8.662 10.9878 8.66226 11.7106 7.97122Z",fill:"#00A09D"})})}var w=n(9478),N=n(56355),I=n(17173),T="".concat(w.Z.PUBLIC_ASSETS,"img/");function A(e){var t=e.toggleHandler,n=e.isOpen,r=(0,m.m)(),s=r.companyId,i=r.settingsData,o=r.setSettingsData,c=(0,I.$G)().t,u=(0,x.bK)({url:"/".concat(s,"/settings/"),method:"post",dynamicValues:!0,cb:{success:function(e,t){},error:function(e){throw new Error(e)}}}).fetchData,d=function(){var e=(0,_.Z)(E().mark((function e(){var t,n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={settings_json:(0,b.Z)((0,b.Z)({},null==i?void 0:i.settings_json),{},{isMobilePromptShown:!0})},n=(0,b.Z)((0,b.Z)({},i),t),e.prev=2,e.next=5,u({values:t});case 5:o(n),l.tO.set("settingsData",JSON.stringify(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Something went wrong while saving settings",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){(0,_.Z)(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||null!=i&&i.settings_json.isMobilePromptShown){e.next=3;break}return e.next=3,d();case 3:case"end":return e.stop()}}),e)})))()}),[]),(0,j.jsx)(j.Fragment,{children:n?(0,j.jsx)(S.Cx,{className:"mobile-prompt-modal",maxWidth:870,noPadding:!0,handleModalOpen:t,open:n,children:(0,j.jsxs)("div",{className:"flex dark:bg-kdark-dark333",children:[(0,j.jsxs)("div",{className:"w-full px-10 pt-14 pb-11 text-center lg:w-7/12 lg:text-left",children:[(0,j.jsx)("h3",{className:"mb-5 text-2xl font-bold leading-10 dark:text-white sm:text-3xl",children:c("work_anywhere")}),(0,j.jsx)("p",{className:"mb-8 text-lg leading-8 text-kgrey sm:mb-20",children:c("work_anywhere_description")}),(0,j.jsxs)("div",{className:"relative  mb-4 flex text-lg text-kgrey",children:[(0,j.jsx)("div",{className:"hidden lg:block",children:(0,j.jsx)(I.cC,{i18nKey:"scan_qr_code",components:{PrimaryText:(0,j.jsx)("span",{className:"block font-medium text-primary-dark"})}})}),(0,j.jsx)("div",{className:"mt-3.5 ml-1 hidden lg:block",children:(0,j.jsx)(k,{})})]}),(0,j.jsxs)("div",{className:"flex w-full items-center justify-center lg:justify-start",children:[(0,j.jsxs)("div",{className:"mr-0 lg:mr-12",children:[(0,j.jsxs)("a",{href:"https://apps.apple.com/us/app/kennekt-business-messenger/id1570637878",target:"blank",className:"flex h-14 w-40 items-center rounded-md bg-primary-dark p-3 text-white no-underline duration-100 ease-linear hover:scale-105",children:[(0,j.jsx)(Z.t8I,{size:"26",color:"white"}),(0,j.jsxs)("div",{className:"ml-3",children:[(0,j.jsx)("div",{className:"text-10px font-medium leading-3",children:"Download on the"}),(0,j.jsx)("div",{className:"text-base font-bold leading-5",children:"App Store"})]})]}),(0,j.jsxs)("a",{href:"https://play.google.com/store/apps/details?id=com.kennekt.businessmobile\n",target:"blank",className:"border-box mt-4 flex h-14 w-40 items-center rounded-md border-1px border-kgrey p-3 no-underline duration-100 ease-linear hover:scale-105",children:[(0,j.jsx)(N.Wfz,{size:"26",color:"#00A09D"}),(0,j.jsxs)("div",{className:"ml-3",children:[(0,j.jsx)("div",{className:"text-10px font-medium leading-3 text-kgrey",children:"Get it on"}),(0,j.jsx)("div",{className:"text-base font-bold leading-5 text-kdark dark:text-white",children:"Google Play"})]})]})]}),(0,j.jsx)("div",{className:"hidden h-32 w-32 lg:inline-block",children:(0,j.jsx)("img",{src:"".concat(T,"/qr-mobile-apps.png")})})]})]}),(0,j.jsx)("div",{className:"hidden w-5/12 overflow-hidden bg-primary-dark lg:inline-block",children:(0,j.jsx)("img",{className:"translate-x-2",src:"".concat(T,"/mobile-prompt.png"),alt:"Mobile img"})})]})}):null})}var D=n(28182);var M,O=function(e){var t,n,r,s,i=e.children;(0,x.XZ)(),t=(0,y.K)(),n=t.removeQueryParams,r=t.removeOneQueryParam,s=(0,y.K)().query.isMediaActive,(0,a.useEffect)((function(){var e=function(e){"Escape"===e.key&&(s?r("isMediaActive"):n())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[s,r,n]),function(){var e=(0,I.$G)().i18n;(0,a.useEffect)((function(){"AR"===e.language?document.documentElement.setAttribute("dir","rtl"):document.documentElement.setAttribute("dir","ltr")}),[e.language])}();var o=(0,m.m)(),l=o.isShowMobilePrompt,c=o.setIsShowMobilePrompt,u=o.settingsData,p=o.isDarkMode,f=(0,d.a)().isAuthentificated,h=(0,a.useCallback)((function(){return c(!1)}),[]);return(0,j.jsxs)("div",{className:(0,D.Z)("wrapper h-full",{"app-mode__dark":p}),children:[(0,j.jsx)(j.Fragment,{children:i}),u&&f&&l&&(0,j.jsx)(A,{toggleHandler:h,isOpen:l})]})},R=n(30168),L=n(29439),U=n(52554),F=n(35741),P=n(27945),B=n(77917),H=n(76188),G=n(763),K=n(64923),V="".concat(w.Z.PUBLIC_ASSETS,"img/");var Y=function(){var e=(0,a.useState)("EN"),t=(0,L.Z)(e,2),n=t[0],r=(t[1],(0,I.$G)("translation",{lng:n}).t),s=(0,x.eC)().showNotification,o=(0,i.UO)().companyUniqId;return(0,K.tZ)(F.Z.One,{id:o,relations:"",primaryKey:function(e){var t;return null===(t=e.form_meta_info)||void 0===t?void 0:t.uuid},entity:"AllForms",name:"Forms-".concat(o),url:"/feedback/".concat(o,"/"),params:{},onError:function(e){},children:function(e){var t,n=e.item;return(0,G.isEmpty)(n)?(0,K.tZ)("h3",{className:"text-center",children:"Incorrect URL or URL has been deleted. Page not found"}):(0,K.tZ)("div",{css:(0,U.iv)(M||(M=(0,R.Z)(["\n\t\t\t\t\t\t\tbackground-image: url(","bg-welcome.jpg);\n\t\t\t\t\t\t"])),V),className:"feedback-page__wrapper min-h-full bg-cover bg-no-repeat",children:(0,K.tZ)(P.Z.Main,{name:"Forms-".concat(o),entity:"AllForms",url:"/feedback/".concat(o,"/"),method:"post",fields:null==n||null===(t=n.fields)||void 0===t?void 0:t.map((function(e){return{required:e.required,name:null==e?void 0:e.name,type:"string",onSubmitKey:""}})),onError:function(e){var t,n,a;s({message:null!==(t=null==e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)&&void 0!==t?t:r("something_went_wrong")}),console.log(e)},onSuccess:function(e,t){s({message:r("feedback_send_success")}),t()},children:function(e){var t,a=e.submitForm,s=e.isSubmitting,i=e.setFieldValue;return(0,K.tZ)("div",{className:"flex-center-x mx-2 items-center sm:mx-0",children:(0,K.tZ)("div",{className:"w-full md:w-auto",children:(0,K.BX)("form",{className:"mt-20 w-full rounded bg-white px-5 py-3.5 shadow-2xl md:w-[28rem]",children:[(0,K.tZ)("h3",{className:"mt-2.5 mb-3.5 font-semibold text-kdark-424242",children:n.title}),null==n||null===(t=n.fields)||void 0===t?void 0:t.sort((function(e,t){return e.order-t.order})).map((function(e){return(0,K.tZ)(H.gN,{inputElementClassNames:"dark:bg-kgrey-light-grey-1 dark:placeholder-kgrey",label:e.name,name:e.name,component:B.Kk,type:"textarea",placeholder:null==e?void 0:e.placeholder,required:e.required,onBlur:function(e){i(e.target.name,e.target.value.trim())}},e.id)})),(0,K.tZ)("div",{className:"feedback-form__button flex justify-end",children:(0,K.tZ)(S.zx,{onClick:a,variant:"contained",className:"h-8 w-fit !bg-primary-dark text-right !font-sans !text-white",children:s?(0,K.tZ)(c.aN,{tiled:!0,size:24}):r("send_message")})})]})})})}})})}})},q=(0,a.lazy)((function(){return n.e(6827).then(n.bind(n,16827))})),Q=(0,a.lazy)((function(){return n.e(707).then(n.bind(n,50707))})),z=(0,a.lazy)((function(){return n.e(9684).then(n.bind(n,19684))})),W=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(3265)]).then(n.bind(n,13265))})),J=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(5604),n.e(4413)]).then(n.bind(n,74413))})),X=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(5656),n.e(3814)]).then(n.bind(n,3814))})),$=(0,a.lazy)((function(){return n.e(51).then(n.bind(n,80051))})),ee=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(7323)]).then(n.bind(n,27323))})),te=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(6639)]).then(n.bind(n,56639))})),ne=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(6309)]).then(n.bind(n,96309))})),ae=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(2667)]).then(n.bind(n,72667))})),re=(0,a.lazy)((function(){return n.e(4596).then(n.bind(n,94596))})),se=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(4196)]).then(n.bind(n,24196))})),ie=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(849)]).then(n.bind(n,50849))})),oe=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(9751)]).then(n.bind(n,29751))})),le=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(7556)]).then(n.bind(n,27556))})),ce=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(1847)]).then(n.bind(n,31847))})),ue=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(5238)]).then(n.bind(n,65238))})),de=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(7226)]).then(n.bind(n,27226))})),me=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(9834)]).then(n.bind(n,89834))})),pe=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(5656),n.e(2222)]).then(n.bind(n,52222))})),fe=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(7057)]).then(n.bind(n,27057))})),he=(0,a.lazy)((function(){return n.e(1962).then(n.bind(n,71962))})),ge=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(9972)]).then(n.bind(n,39972))})),ve=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(4189),n.e(3209)]).then(n.bind(n,53209))})),xe=(0,a.lazy)((function(){return Promise.all([n.e(4189),n.e(8321)]).then(n.bind(n,88321))})),ye=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(4736),n.e(4601),n.e(2217)]).then(n.bind(n,92217))})),be=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(4736),n.e(4601),n.e(3358)]).then(n.bind(n,13358))})),_e=(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(5656),n.e(7494)]).then(n.bind(n,37494))})),Ce=[{path:"/app/set-password/:code",exact:!0,component:le,isAvailableInNoPayment:!1,adminOnlyAccess:!1},{path:"/case-messages",exact:!0,component:J,isAvailableInNoPayment:!1,adminOnlyAccess:!1},{path:"/group-chat",exact:!0,component:X,isAvailableInNoPayment:!1,adminOnlyAccess:!1},{path:"/logout",exact:!0,component:Q,isAvailableInNoPayment:!0,adminOnlyAccess:!1},{path:"/switch-business",component:ee,isAvailableInNoPayment:!0,adminOnlyAccess:!1},{path:"/",exact:!0,component:q,isAvailableInNoPayment:!1,adminOnlyAccess:!1},{path:"/user-profile",exact:!0,component:ae,isAvailableInNoPayment:!0,adminOnlyAccess:!1},{path:"/business-profile",component:fe,isAvailableInNoPayment:!0,adminOnlyAccess:!1},{path:"/preloader",exact:!0,component:re,isAvailableInNoPayment:!1,adminOnlyAccess:!1},{path:"/add-business",exact:!0,component:de,isAvailableInNoPayment:!0,adminOnlyAccess:!1},{path:"/pending-page",exact:!0,component:me,isAvailableInNoPayment:!0,adminOnlyAccess:!1},{path:"/dashboard",exact:!0,component:pe,isAvailableInNoPayment:!1,adminOnlyAccess:!1},{path:"/initial-loader",exact:!0,component:he,isAvailableInNoPayment:!1,adminOnlyAccess:!1},{path:"/app/sts/:code",exact:!0,component:ce,isAvailableInNoPayment:!0,adminOnlyAccess:!1},{path:"/app/transfer/sts/:code",exact:!0,component:ue,isAvailableInNoPayment:!0,adminOnlyAccess:!1},{path:"/sts/:code",exact:!0,component:se,isAvailableInNoPayment:!1,adminOnlyAccess:!1},{path:"/news",component:(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(6557)]).then(n.bind(n,86557))})),isAvailableInNoPayment:!1,adminOnlyAccess:!1},{path:"/clients-management",component:_e,isAvailableInNoPayment:!1,adminOnlyAccess:!1},{path:"/departments/view/:id/:dep?/",component:xe,isAvailableInNoPayment:!1,adminOnlyAccess:!1},{path:"/departments",component:ve,isAvailableInNoPayment:!1,adminOnlyAccess:!1},{path:"/staffs-management",exact:!0,component:ye,isAvailableInNoPayment:!0,adminOnlyAccess:!1},{path:"/staffs-management/view/:id",component:be,isAvailableInNoPayment:!0,adminOnlyAccess:!1},{path:"/csv",component:(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(5656),n.e(6688)]).then(n.bind(n,16688))})),isAvailableInNoPayment:!1,adminOnlyAccess:!1},{path:"/payments",component:(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(6908)]).then(n.bind(n,76908))})),isAvailableInNoPayment:!0,adminOnlyAccess:!0},{path:"/checkout/:invoice?/:isMonthly?/:staffsCount?",component:(0,a.lazy)((function(){return Promise.all([n.e(5656),n.e(3582)]).then(n.bind(n,43582))})),isAvailableInNoPayment:!0,adminOnlyAccess:!0},{path:"/payment-success",component:(0,a.lazy)((function(){return n.e(2936).then(n.bind(n,42936))})),isAvailableInNoPayment:!0,adminOnlyAccess:!1},{path:"/payment-failed",component:(0,a.lazy)((function(){return n.e(8623).then(n.bind(n,88623))})),isAvailableInNoPayment:!0,adminOnlyAccess:!1},{path:"/payment-waiting",component:(0,a.lazy)((function(){return n.e(7465).then(n.bind(n,67465))})),isAvailableInNoPayment:!0,adminOnlyAccess:!1},{path:"/all-cases",component:(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(7021)]).then(n.bind(n,27021))})),isAvailableInNoPayment:!0,adminOnlyAccess:!1},{path:"/support",component:(0,a.lazy)((function(){return n.e(289).then(n.bind(n,90289))})),isAvailableInNoPayment:!0,adminOnlyAccess:!1},{path:"/change-password",component:(0,a.lazy)((function(){return Promise.all([n.e(3207),n.e(4282)]).then(n.bind(n,64282))})),isAvailableInNoPayment:!0,adminOnlyAccess:!1},{path:"/contacts",component:(0,a.lazy)((function(){return n.e(1293).then(n.bind(n,31293))})),isAvailableInNoPayment:!1,adminOnlyAccess:!1},{path:"",exact:!0,component:ie,isAvailableInNoPayment:!1,adminOnlyAccess:!1}];var Ee=function(){var e=(0,d.a)(),t=e.isAuthentificated,n=e.isFetched,r=e.companies,s=(0,m.m)(),o=s.isDarkMode,l=s.companyId,y=s.setIsAppAvailable,b=s.isAppAvailable,_=s.isPermitted,C=(0,x.tv)().history,E=(0,x.Kx)().query,S=null==E?void 0:E.is_registering_new,Z=null==E?void 0:E.username;(0,a.useEffect)((function(){if(l&&r.length){var e=r.find((function(e){var t;return(null==e||null===(t=e.company)||void 0===t?void 0:t.id)===l})),t=null==e?void 0:e.company.comp_subscription;null!=t&&t.is_available?y(!0):t&&!t.is_available&&C.push("/payment-waiting")}}),[r,l,y]);var k=(0,p.Z)({typography:{fontFamily:'"Poppins", cursive'},palette:{type:o?"dark":"light",primary:{main:"#00D0BD"}}});return(0,j.jsx)(O,{children:(0,j.jsx)(f.Z,{theme:k,children:(0,j.jsx)(h.wT,{anchorOrigin:{vertical:"top",horizontal:"right"},className:"snackbar-wrapper",iconVariant:{success:(0,j.jsx)(v.Z,{style:{marginRight:"10px"}})},children:(0,j.jsx)(g.Z,{children:n?(0,j.jsxs)(i.rs,{children:[(0,j.jsx)(i.AW,{path:"/feedback/:companyUniqId",exact:!0,component:Y}),t?(0,j.jsx)(u.Z,{children:(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)(c.aN,{tiled:!0}),children:(0,j.jsx)(i.rs,{children:Ce.filter((function(e){return b?e:e.isAvailableInNoPayment})).filter((function(e){return _?e:!e.adminOnlyAccess})).map((function(e,t){return(0,j.jsx)(i.AW,{path:e.path,component:e.component,exact:e.exact},t)}))})})}):(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)(c.aN,{tiled:!0}),children:(0,j.jsxs)(i.rs,{children:[(0,j.jsx)(i.AW,{path:"/",component:$,exact:!0}),(0,j.jsx)(i.AW,{path:"/initial-loader",component:he,exact:!0}),(0,j.jsx)(i.AW,{path:"/signin",component:z,exact:!0}),(0,j.jsx)(i.AW,{path:"/signup",component:W,exact:!0}),(0,j.jsx)(i.AW,{path:"/request-password",component:te,exact:!0}),(0,j.jsx)(i.AW,{path:"/app/set-password/:code",component:oe,exact:!0}),(0,j.jsx)(i.AW,{path:"/set-password/:code",component:oe,exact:!0}),(0,j.jsx)(i.AW,{path:"/change-password",component:ne,exact:!0}),(0,j.jsx)(i.AW,{path:"/sts/:code",component:se,exact:!0}),(0,j.jsx)(i.AW,{path:"/app/sts/:code",component:S?ge:se,exact:!0}),(0,j.jsx)(i.AW,{path:"/app/transfer/sts/:code",component:se,exact:!0}),(0,j.jsx)(i.l_,{from:"*",to:Z?window.location.href:"/"})]})})]}):(0,j.jsx)(c.aN,{full:!0})})})})})},Se=(n(5861),(0,o.j)());Se.subscribe((function(){l.hi.subscribe(Se)}));var Ze,je,ke;Ze=Ee,r.render((0,j.jsx)(i.F0,{history:o.m,children:(0,j.jsx)(s.zt,{store:Se,children:(0,j.jsx)(m.Z,{children:(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)(c.aN,{tiled:!0}),children:(0,j.jsx)(Ze,{store:Se})})})})}),document.getElementById("root")),l.D_.init(),je="".concat("","/firebase-messaging-sw.js"),ke="".concat("","/offline-sw.js"),"serviceWorker"in navigator&&(navigator.serviceWorker.register(je).then((function(e){return console.log("[SW]: SCOPE: notification",e.scope),e.scope})).catch((function(e){return e})),navigator.serviceWorker.register(ke).then((function(e){return console.log("[SW]: SCOPE: offline",e.scope),e.scope})).catch((function(e){return e})))},16020:function(e,t,n){"use strict";var a=n(88796),r=(0,a.Ru)("LOGIN"),s=(0,a.Ru)("LOGOUT"),i=(0,a.Ru)("GETME");t.Z={Login:r,Logout:s,GetMe:i}},97689:function(e,t,n){"use strict";n.d(t,{a:function(){return p}});var a=n(87818),r=n(50873),s=n(26181),i=n.n(s),o=function(e){return e.auth},l=(0,r.P1)(o,(function(e){return i()(e,"token")})),c=(0,r.P1)(o,(function(e){return i()(e,"isAuthenticated")})),u=(0,r.P1)(o,(function(e){return i()(e,"isFetched")})),d=(0,r.P1)(o,(function(e){return i()(e,"data")})),m=n(31519),p=function(){return{isAuthentificated:(0,a.v9)((function(e){return c(e)})),token:(0,a.v9)((function(e){return l(e)})),isFetched:(0,a.v9)((function(e){return u(e)})),userData:(0,a.v9)((function(e){return d(e)})),company:(0,a.v9)((function(e){return(0,m.tI)(e)})),companies:(0,a.v9)((function(e){return(0,m.LD)(e)}))}}},49935:function(e,t,n){"use strict";var a;function r(e,t){return{type:a.INCREMENT_ENTITY_TOTAL,payload:{entityName:t,entity:e}}}function s(e,t){return{type:a.DECREMENT_ENTITY_TOTAL,payload:{entityName:t,entity:e}}}function i(e,t){return{type:a.RESET_ENTITY_LIST,payload:{entityName:t,entity:e}}}function o(e){return{type:a.LOAD_ALL_ENTITY_REQUEST,payload:e}}function l(e){return{type:a.LOAD_ALL_ENTITY_SUCCESS,payload:e}}function c(e){return{type:a.LOAD_ALL_ENTITY_FAILURE,payload:e}}function u(e){return{type:a.LOAD_ONE_ENTITY_REQUEST,payload:e}}function d(e){return{type:a.LOAD_ONE_ENTITY_SUCCESS,payload:e}}function m(e){return{type:a.LOAD_ONE_ENTITY_FAILURE,payload:e}}function p(e){return{type:a.FORM_ENTITY_REQUEST,payload:e}}function f(e){return{type:a.FORM_ENTITY_SUCCESS,payload:e}}function h(e){return{type:a.FORM_ENTITY_FAILURE,payload:e}}n.d(t,{Ut:function(){return a},jw:function(){return r},KX:function(){return s},z4:function(){return i},am:function(){return o},Qy:function(){return l},mH:function(){return c},Gx:function(){return u},lL:function(){return d},ck:function(){return m},Bi:function(){return p},hU:function(){return f},Tu:function(){return h}}),function(e){e.LOAD_ALL_ENTITY_TRIGGER="LOAD_ALL_ENTITY/TRIGGER",e.LOAD_ALL_ENTITY_REQUEST="LOAD_ALL_ENTITY/REQUEST",e.LOAD_ALL_ENTITY_SUCCESS="LOAD_ALL_ENTITY/SUCCESS",e.LOAD_ALL_ENTITY_FAILURE="LOAD_ALL_ENTITY/FAILURE",e.LOAD_ONE_ENTITY_TRIGGER="LOAD_ONE_ENTITY/TRIGGER",e.LOAD_ONE_ENTITY_REQUEST="LOAD_ONE_ENTITY/REQUEST",e.LOAD_ONE_ENTITY_SUCCESS="LOAD_ONE_ENTITY/SUCCESS",e.LOAD_ONE_ENTITY_FAILURE="LOAD_ONE_ENTITY/FAILURE",e.FORM_ENTITY_TRIGGER="FORM_ENTITY/TRIGGER",e.FORM_ENTITY_REQUEST="FORM_ENTITY/REQUEST",e.FORM_ENTITY_SUCCESS="FORM_ENTITY/SUCCESS",e.FORM_ENTITY_FAILURE="FORM_ENTITY/FAILURE",e.INCREMENT_ENTITY_TOTAL="INCREMENT_ENTITY_TOTAL",e.DECREMENT_ENTITY_TOTAL="DECREMENT_ENTITY_TOTAL",e.RESET_ENTITY_LIST="RESET_ENTITY_LIST"}(a||(a={})),t.ZP={loadAllRequest:o,loadAllSuccess:l,loadAllFailure:c,loadOneRequest:u,loadOneSuccess:d,loadOneFailure:m,formRequest:p,formSuccess:f,formFailure:h,incrementEntityTotal:r,decrementEntityTotal:s,resetEntityList:i}},35741:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var a=n(15671),r=n(43144),s=n(60136),i=n(29388),o=n(72791),l=n(87781),c=n(87818),u=n(18111),d=n.n(u),m=n(49935),p=n(77676),f=function(e){(0,s.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).Load=function(t,n,a,r,s,i,o,l,c,u,d,m,p,f,h,g,v,x,y){var b=r.page,_=void 0===b?1:b,C=r.limit,E=void 0===C?20:C,S=r.sort,Z=void 0===S?"":S,j=r.fields,k=void 0===j?[]:j,w=r.include,N=void 0===w?[]:w,I=r.filter,T=void 0===I?{}:I,A=r.extra,D=void 0===A?{}:A;(0,e.props.LoadAll)({entity:t,name:n,url:a,params:{page:_,limit:E,sort:Z,fields:k,include:N,filter:T,extra:D},dataKey:s,metaKey:i,appendData:o,prependData:l,primaryKey:c,relations:u,infiniteScroll:d,isUniq:m,reverse:p,cb:{success:function(e){f(e)}},replaceIds:h,isCancellable:g,cancelField:v,cursorBased:x,direction:y})},e}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.entity,n=e.name,a=e.url,r=e.params,s=e.dataKey,i=void 0===s?"results":s,o=e.metaKey,l=void 0===o?"_meta":o,c=e.appendData,u=void 0!==c&&c,d=e.prependData,m=void 0!==d&&d,p=e.initialLoad,f=void 0===p||p,h=e.primaryKey,g=void 0===h?"id":h,v=e.relations,x=e.infiniteScroll,y=void 0!==x&&x,b=e.isUniq,_=void 0===b||b,C=e.reverse,E=void 0!==C&&C,S=e.replaceIds,Z=void 0!==S&&S,j=e.isCancellable,k=void 0!==j&&j,w=e.cancelField,N=void 0===w?"":w,I=e.onInit,T=void 0===I?function(){}:I,A=e.cursorBased,D=void 0!==A&&A,M=e.direction;f&&this.Load(t,n,a,r,i,l||"",u,m,g,v||"",y,_,E,T,Z,k,N,D,M)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.entity,a=t.name,r=t.url,s=t.params,i=t.dataKey,o=void 0===i?"results":i,l=t.metaKey,c=void 0===l?"_meta":l,u=t.appendData,m=void 0!==u&&u,p=t.prependData,f=void 0!==p&&p,h=t.primaryKey,g=void 0===h?"id":h,v=t.relations,x=t.infiniteScroll,y=void 0!==x&&x,b=t.isUniq,_=void 0===b||b,C=t.reverse,E=void 0!==C&&C,S=t.onInit,Z=void 0===S?function(){}:S,j=t.replaceIds,k=void 0!==j&&j,w=t.isCancellable,N=t.cancelField,I=void 0===N?"":N,T=t.cursorBased,A=void 0!==T&&T,D=t.direction,M=void 0===D?"":D;d()(r,e.url)&&d()(s,e.params)||this.Load(n,a,r,s,o,c||"",m,f,g,v||"",y,_,E,Z,k,w,I,A,M)}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.isFetched,a=e.meta;return(0,e.children)({items:t,meta:a,isFetched:n})}}]),n}(o.Component);f.defaultProps={isFetched:!0,dataKey:"results",metaKey:"_meta",appendData:!1,prependData:!1,initialLoad:!0,primaryKey:"id",infiniteScroll:!1,isUniq:!0,reverse:!1,replaceIds:!1,isCancellable:!1,cb:{success:function(){}},cursorBased:!1,direction:""};var h=(0,c.$j)((function(){var e=p.Z.getAll();return function(t,n){var a=e(t,n);return{items:a.items,isFetched:a.isFetched,meta:a.meta}}}),(function(e){return(0,l.DE)({LoadAll:m.am},e)}))(f),g=function(e){(0,s.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).Load=function(t,n,a,r,s,i,o,l){var c=s.fields,u=void 0===c?[]:c,d=s.include,m=void 0===d?[]:d,p=s.extra,f=void 0===p?{}:p;(0,e.props.LoadOne)({id:t,entity:n,name:a,url:r,params:{fields:u,include:m,extra:f},primaryKey:i,relations:o,cb:{error:function(e){l(e)}}})},e}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,n=e.entity,a=e.name,r=e.url,s=e.params,i=e.initialLoad,o=void 0===i||i,l=e.primaryKey,c=void 0===l?"id":l,u=e.relations,d=e.onError,m=void 0===d?function(){}:d;o&&this.Load(t,n,a,r,s,c,u,m)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.id,a=t.entity,r=t.name,s=t.url,i=t.params,o=t.primaryKey,l=void 0===o?"id":o,c=t.relations,u=t.onError,m=void 0===u?function(){}:u;d()(n,e.id)&&d()(s,e.url)&&d()(i,e.params)||this.Load(n,a,r,s,i,l,c,m)}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.isFetched;return(0,e.children)({item:t,isFetched:n})}}]),n}(o.Component);g.defaultProps={initialLoad:!0,primaryKey:"id"};var v={All:h,One:(0,c.$j)((function(){var e=p.Z.getOne();return function(t,n){var a=e(t,n);return{item:a.item,isFetched:a.isFetched}}}),(function(e){return(0,l.DE)({LoadOne:m.Gx},e)}))(g)}},27945:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var a=n(4942),r=n(1413),s=(n(72791),n(87818)),i=n(87781),o=n(76188),l=n(81724),c=n(26181),u=n.n(c),d=n(93629),m=n.n(d),p=n(66364),f=n.n(p),h=n(90018),g=n(49935),v=n(5861),x=n(80184),y=(0,o.j0)({enableReinitialize:!0,validationSchema:function(e){var t=e.fields;if(!m()(t))return l.Ry().shape({});var n={};return t.forEach((function(e){var t,a,r,s,i;if(null==e||null===(t=e.customValidation)||void 0===t||!t.call(e,e.value))switch(e.type){case"string":r=l.Z_().typeError(v.Z.t("must_be_string"));break;case"email":r=l.Z_().email(v.Z.t("must_be_valid_email"));break;case"object":r=l.Ry();break;case"number":r=l.Rx().typeError(v.Z.t("must_be_number"));break;case"array":r=l.IX();break;case"boolean":r=l.O7();break;case"date":r=l.hT();break;default:r=l.Z_()}"string"==typeof e.value&&"string"===e.type&&(r=null===(s=r)||void 0===s?void 0:s.trim(v.Z.t("field_cannot_blank")).strict());("string"==typeof e.value&&null!=e&&null!==(a=e.customValidation)&&void 0!==a&&a.call(e,e.value)&&(r=l.Z_()),e.required)&&(r=null===(i=r)||void 0===i?void 0:i.required(v.Z.t("required")));e.min&&(r=l.Rx().min(e.min,v.Z.t("minimum_character_validation",{minimum:null==e?void 0:e.min}))),e.max&&(r=l.Rx().max(e.max,v.Z.t("maximum_character_validation",{maximum:null==e?void 0:e.min}))),"website"===e.type&&(r=l.Z_().matches(/^(?:(ftp|http|https):\/\/)?(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,v.Z.t("enter_correct_url")).typeError(v.Z.t("please_enter_website"))),r=r.nullable(),n[e.name]=r})),l.Ry().shape(n)},mapPropsToValues:function(e){var t=e.fields;return m()(t)?t.reduce((function(e,t){return(0,r.Z)((0,r.Z)({},e),{},(0,a.Z)({},t.name,u()(t,"value","")))}),{}):{}},handleSubmit:function(e,t){var n=t.props,a=(t.setFieldError,t.setSubmitting),s=t.resetForm,i=n.id,o=n.entity,l=n.name,c=n.url,u=n.params,d=void 0===u?{}:u,m=n.method,p=n.primaryKey,g=void 0===p?"id":p,v=n.fields,x=n.appendData,y=void 0!==x&&x,b=n.prependData,_=void 0!==b&&b,C=n.updateData,E=void 0!==C&&C,S=n.deleteData,Z=void 0!==S&&S,j=n.normalizeData,k=void 0===j?"":j,w=n.relations,N=void 0===w?"":w,I=n.sendAsFormData,T=void 0===I||I,A=n.onSuccess,D=void 0===A?function(){}:A,M=n.onError,O=void 0===M?function(){}:M,R=n.FormAction;e=(0,r.Z)({},e),v.forEach((function(t){t.hasOwnProperty("onSubmitValue")&&"function"==typeof t.onSubmitValue&&(t.hasOwnProperty("onSubmitKey")&&!f()(e[t.onSubmitKey])?(e[t.onSubmitKey]=t.onSubmitValue(e[t.name],e),delete e[t.name]):e[t.name]=t.onSubmitValue(e[t.name],e)),t.hasOwnProperty("disabled")&&delete e[t.name]})),T&&(e=(0,h.serialize)(e)),R({id:i,entity:o,name:l,url:c,params:d,method:m,primaryKey:g,values:e,appendData:y,relations:N,prependData:_,updateData:E,deleteData:Z,normalizeData:k,cb:{success:function(e,t){D(e,s,t)},error:function(e){O(e,s)},finally:function(){a(!1)}}})}})((function(e){var t=e.children,n=e.handleSubmit,a=e.submitForm,r=e.values,s=e.isSubmitting,i=e.setFieldValue,l=e.setFieldError,c=e.errors,u=e.setFieldTouched,d=e.touched,m=e.resetForm;return(0,x.jsx)(o.l0,{children:t({handleSubmit:n,submitForm:a,values:r,isSubmitting:s,setFieldValue:i,setFieldError:l,setFieldTouched:u,errors:c,touched:d,resetForm:m})})})),b={Main:(0,s.$j)(null,(function(e){return(0,i.DE)({FormAction:g.Bi},e)}))(y)}},80180:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var a=n(87818),r=n(32380),s=n(49935),i=r.Z.entity.formRequest;function o(e){var t=e.method,n=e.url,r=e.entity,o=e.name,l=e.params,c=void 0===l?{}:l,u=e.deleteData,d=void 0!==u&&u,m=e.id,p=e.cb,f=(e.primaryKey,e.values),h=void 0===f?{}:f,g=e.relations,v=void 0===g?"":g,x=e.normalizeData,y=(0,a.I0)();return{handleRequest:function(){y(i({entity:r,name:o,method:t,url:n,deleteData:d,id:m,cb:{success:(null==p?void 0:p.success)||function(){},error:(null==p?void 0:p.error)||function(){},finally:(null==p?void 0:p.finally)||function(){}},params:c,primaryKey:"id",values:h,relations:v,normalizeData:x}))},handleLocalDelete:function(e,t,n){var a=e||m,i=t||r,l=n||o;a&&i&&l&&y((0,s.hU)({id:a,entity:i,name:l,appendData:!1,prependData:!1,updateData:!1,deleteData:d}))}}}},14312:function(e,t,n){"use strict";var a=n(75456),r=n(66364),s=n.n(r);t.Z=function(e,t,n){var r=new a.fK.Entity(e,void 0,{idAttribute:t});return s()(n)||r.define(n),r}},77676:function(e,t,n){"use strict";var a=n(1413),r=n(4942),s=n(50873),i=n(75456),o=n(26181),l=n.n(o),c=n(14312),u=function(e){return e.entities},d=function(e){return e.entity},m=(0,s.P1)(d,(function(e,t){return t}),(function(e,t){var n=e.statuses;return l()(n,"AllStatuses-".concat(t,".ids"))}));t.Z={getAll:function(){return(0,s.P1)(u,(function(e,t){return t.entity}),(function(e,t){return l()(e.entity,"".concat(t.entity,".").concat(t.name),[])}),(function(e,t){return t.primaryKey}),(function(e,t){return t.relations}),(function(e,t,n,s,o){var u,d,m;"ids"in n&&(u=n.ids),"isFetched"in n&&(d=n.isFetched),"meta"in n&&(m=n.meta);var p=(0,i.cY)((0,r.Z)({},t,u),(0,r.Z)({},t,[(0,c.Z)(t,s,o)]),(0,a.Z)((0,a.Z)({},e),{},(0,r.Z)({},t,l()(e,t,{}))));return{items:l()(p,t,[]),isFetched:d,meta:m}}))},getOne:function(){return(0,s.P1)(u,(function(e,t){return t.id}),(function(e,t){return t.entity}),(function(e,t){return l()(e.entity,"".concat(t.entity,".").concat(t.name,"One"),{})}),(function(e,t){return t.primaryKey}),(function(e,t){return t.relations}),(function(e,t,n,s,o,u){var d;"isFetched"in s&&(d=s.isFetched);var m=(0,i.cY)((0,r.Z)({},n,t),(0,r.Z)({},n,(0,c.Z)(n,o,u)),(0,a.Z)((0,a.Z)({},e),{},(0,r.Z)({},n,l()(e,n,{}))));return{isFetched:d,item:l()(m,n,{})}}))},getStatusIds:m,getEntityObject:function(){return(0,s.P1)(d,(function(e){return e}))}}},17765:function(e,t,n){"use strict";n.d(t,{V:function(){return s}});var a=n(43144),r=n(15671),s=(0,a.Z)((function e(){(0,r.Z)(this,e),this.loadUserCompaniesRequest=function(){return{type:e.LOAD_USER_COMPANIES_REQUEST}},this.loadUserCompaniesSuccess=function(t){return{type:e.LOAD_USER_COMPANIES_SUCCESS,payload:t}},this.loadUserCompaniesFail=function(t){return{type:e.LOAD_USER_COMPANIES_FAIL,payload:t}},this.setUserCompany=function(t){return{type:e.SET_USER_COMPANY,payload:t}},this.setUserFCM=function(t){return{type:e.SET_USER_FCM,payload:t}},this.setSelectedBusiness=function(t){return{type:e.SET_SELECTED_BUSINESS,payload:t}}}));s.LOAD_USER_COMPANIES_REQUEST="LOAD_USER_COMPANIES/REQUEST",s.LOAD_USER_COMPANIES_SUCCESS="LOAD_USER_COMPANIES/SUCCESS",s.LOAD_USER_COMPANIES_FAIL="LOAD_USER_COMPANIES/FAIL",s.SET_USER_COMPANY="SET_USER_COMPANY",s.SET_USER_FCM="SET_USER_FCM",s.SET_SELECTED_BUSINESS="SET_SELECTED_BUSINESS";var i=new s,o=i.loadUserCompaniesRequest,l=i.loadUserCompaniesSuccess,c=i.loadUserCompaniesFail,u=i.setUserCompany,d=i.setUserFCM,m=i.setSelectedBusiness;t.Z={loadUserCompaniesRequest:o,loadUserCompaniesSuccess:l,loadUserCompaniesFail:c,setUserCompany:u,setUserFCM:d,setSelectedBusiness:m}},31519:function(e,t,n){"use strict";n.d(t,{tI:function(){return s},lk:function(){return i},KT:function(){return o},LD:function(){return l}});var a=n(50873),r=function(e){return e.user},s=(0,a.P1)(r,(function(e){return e.company})),i=(0,a.P1)(r,(function(e){if(e.company)return"ACTIVE"===e.company.company.status?e.company.company.id:void 0})),o=(0,a.P1)(r,(function(e){return e.fcm})),l=((0,a.P1)(r,(function(e){return e.isFetchedUser})),(0,a.P1)(r,(function(e){return e.isFetchedBusiness})),(0,a.P1)(r,(function(e){return e.userCompanies})));(0,a.P1)(r,(function(e){return e.businessCompanies})),(0,a.P1)(r,(function(e){return e.selectedBusiness})),(0,a.P1)(r,(function(e){var t;return null===(t=e.selectedBusiness)||void 0===t?void 0:t.id}))},33040:function(e,t,n){"use strict";function a(e){var t={},n=function(e,n){var r;return void 0===t[e]&&(t[e]=[]),null===(r=t[e])||void 0===r||r.push(n),function(){a(e,n)}},a=function(e,n){var a,r,s,i=null!==(a=null===(r=t[e])||void 0===r?void 0:r.indexOf(n))&&void 0!==a?a:-1;null===(s=t[e])||void 0===s||s.splice(i>>>0,1)};return{on:n,off:a,once:function(e,t){n(e,(function n(r){t(r),a(e,n)}))},emit:function(n,a){var r;null===(r=t[n])||void 0===r||r.forEach((function(t){try{t(a)}catch(t){null==e||e.onError(t)}}))}}}n.d(t,{U:function(){return a}})},86776:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var a=n(28182),r=(n(72791),n(7692)),s=n(90218),i=n(80184);function o(e){var t=e.query,n=e.handleSearch,o=e.placeholder,l=(0,s.K)().isRTL;return(0,i.jsx)("div",{className:"flex justify-end",children:(0,i.jsxs)("div",{className:"relative inline-block",children:[(0,i.jsx)("div",{className:(0,a.Z)("absolute top-1/2 -translate-y-2/4 text-2xl text-[#A5A7B2]",{"right-1":l,"left-1":!l}),children:(0,i.jsx)(r.Goc,{})}),(0,i.jsx)("input",{value:t,onChange:n,type:"search",className:(0,a.Z)("w-[200px] rounded-2xl py-2 pr-4 focus:outline-none focus:ring-2 focus:ring-primary-300 dark:bg-kdark dark:text-white dark:focus:ring-primary",{"pl-8":!l,"pr-8":l}),placeholder:o||"Search"})]})})}},92017:function(e,t,n){"use strict";n.d(t,{y:function(){return v}});var a=n(1413),r=n(15861),s=n(29439),i=n(64687),o=n.n(i),l=n(72791),c=n(87818),u=n(80266),d=n(31519),m=n(32380),p=n(16178),f=n(17765),h=n(17173),g=m.Z.user.setUserCompany;function v(){var e,t,n=(0,c.v9)((function(e){return(0,d.tI)(e)})),i=(0,l.useState)(null!=n&&null!==(e=n.company)&&void 0!==e&&e.id?null==n||null===(t=n.company)||void 0===t?void 0:t.id:null),m=(0,s.Z)(i,2),v=m[0],x=m[1],y=(0,p.Zp)().reloadEntityAll,b=(0,l.useState)(null),_=(0,s.Z)(b,2),C=_[0],E=_[1],S=(0,p.Kx)(),Z=S.query,j=S.removeQueryParams,k=(0,p.eC)().showNotification,w=(0,p.gz)().fetchCaseFilter,N=(0,p.tv)(),I=N.history,T=N.location,A=(0,h.$G)().t,D=(0,c.I0)();function M(){y({url:"/user/companies/",entity:"userCompanies",name:"AllUserCompanies",params:{page:1,limit:10}})}function O(){Z.ordering?j():M()}var R,L=(0,p.bK)({url:"",dynamicUrl:!0,method:"post",cb:{success:function(e,t){O()},error:function(e,t){(0,s.Z)(t,1)[0]}}}).fetchData,U=(0,p.bK)({url:"",dynamicUrl:!0,method:"delete",cb:{success:function(e,t){O()},error:function(e,t){(0,s.Z)(t,1)[0]}}}).fetchData,F=(0,p.bK)({url:"",dynamicUrl:!0,cb:{success:(R=(0,r.Z)(o().mark((function e(t,n){var a,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,s.Z)(n,1),i=r[0],e.next=3,B(i.selectedCompany);case 3:null!==(a=i.selectedCompany.company.comp_subscription)&&void 0!==a&&a.is_available||window.location.reload();case 4:case"end":return e.stop()}}),e)}))),function(e,t){return R.apply(this,arguments)}),error:function(e,t){(0,s.Z)(t,1)[0]}}}),P=F.fetchData,B=function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(f.Z.loadUserCompaniesRequest()),n=(0,a.Z)((0,a.Z)({},t),{},{is_selected:!0}),D(g(n)),u.tO.set("company",JSON.stringify(n)),e.next=6,w({url:"/".concat(t.company.id,"/case-filters/")});case 6:T.pathname.includes("preloader")||setTimeout((function(){I.push("/case-messages")}),0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){n&&x(n.company.id)}),[n]);var H=function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.company.id,x(n),e.next=4,P({url:"/user/set-selected-company/".concat(n,"/"),selectedCompany:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{tempCompanyId:v,setTempCompanyId:x,handleChangeCompany:H,pinUnpinHandler:function(e){var t=e.pin_time,n=e.company.id,a=e.id;t?function(e,t){U({url:"/user/companies/".concat(e,"/pin/").concat(t,"/")})}(a,n):function(e,t){L({url:"/user/companies/".concat(e,"/pin/").concat(t,"/")})}(a,n)},disconnectHandler:function(e){var t=e.item,n=e.isOwner,a=v===t.company.id;n||!a?(a||n||E(t),n&&k({message:A("cannot_disconnect_from_own_business"),variant:"error"})):k({message:A("cannot_disconnect_from_selected_business"),variant:"error"})},openExitModal:C,setOpenExitModal:E,loadAllBusiness:M,loadUserCompaniesRequest:function(){D(f.Z.loadUserCompaniesRequest())}}}},49078:function(e,t,n){"use strict";n.d(t,{j:function(){return E},y:function(){return v}});var a=n(4942),r=n(1413),s=n(29439),i=n(72791),o=n(16178),l=n(97689),c=n(66364),u=n.n(c),d=n(97892),m=n.n(d),p=n(40084),f=n(7993),h=n(9478).Z.GMAP_API_KEY,g=["places"];function v(){return{isLoaded:(0,f.Ji)({id:"google-map-script",googleMapsApiKey:h,libraries:g,language:"en"}).isLoaded}}var x=n(87818),y=n(17765),b=n(80266),_=n(92017),C=n(17173);function E(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,l.a)().company,n=(0,_.y)().loadAllBusiness,c=(0,p.m)().companyId,d=(0,o.eC)().showNotification,f=(0,x.I0)(),h=(0,C.$G)().t,g=(0,o.bK)({url:"/".concat(c,"/my/company/"),method:"patch",dynamicValues:!0,cb:{success:function(e,a){var i=(0,s.Z)(a,1)[0],o=null==i?void 0:i.field,l=null==o?void 0:o.includes("logo");if(e&&t){var c,u=(0,r.Z)((0,r.Z)({},t),{},{company:(0,r.Z)((0,r.Z)({},e),{},{owner:(null==t||null===(c=t.company)||void 0===c?void 0:c.owner)||{}})});b.tO.set("company",JSON.stringify(u)),f(y.Z.setUserCompany(u)),n(),d({message:"The business ".concat(l?"logo":"icon"," deleted successfully!")})}},error:function(){d({message:h("something_went_wrong"),variant:"error"})}}}),E=g.fetchData,S=g.loading,Z=(0,i.useState)({progress:null,field:null}),j=(0,s.Z)(Z,2),k=j[0],w=j[1],N=(0,i.useState)(!1),I=(0,s.Z)(N,2),T=I[0],A=I[1],D=(0,i.useState)({twitter_url:!1,facebook_url:!1,website:!1}),M=(0,s.Z)(D,2),O=M[0],R=M[1],L=(0,i.useState)({}),U=(0,s.Z)(L,2),F=U[0],P=U[1],B=(0,i.useState)(null),H=(0,s.Z)(B,2),G=H[0],K=H[1],V=v().isLoaded,Y=(0,o.Dc)(V),q=Y.searchInputRef,Q=Y.placeAddress,z=u()(Q)?null!=t&&t.company.lat?null==t?void 0:t.company.lat:-3.745:Q.lat,W=u()(Q)?null!=t&&t.company.lng?null==t?void 0:t.company.lng:-38.523:Q.lng,J=(0,i.useState)(null),X=(0,s.Z)(J,2),$=X[0],ee=X[1],te=(0,i.useCallback)((function(e){var t=new window.google.maps.LatLngBounds;e.fitBounds(t),ee(e)}),[V]),ne=(0,i.useCallback)((function(e){var n,r,s,i,o,l,c,u;E({values:(0,a.Z)({country:null!==(n=null==t||null===(r=t.company)||void 0===r||null===(s=r.country)||void 0===s?void 0:s.name)&&void 0!==n?n:null==t||null===(i=t.company)||void 0===i?void 0:i.country,state:null!==(o=null==t||null===(l=t.company)||void 0===l||null===(c=l.state)||void 0===c?void 0:c.name)&&void 0!==o?o:null==t||null===(u=t.company)||void 0===u?void 0:u.state},e,null),field:e})}),[t,F]),ae=(0,i.useCallback)((function(e){ee(null)}),[]),re=(0,i.useCallback)((function(e){K({lat:e.latLng.lat(),lng:e.latLng.lng()})}),[]);(0,i.useEffect)((function(){null!=t&&t.company&&("icon"in(null==t?void 0:t.company)&&P((function(e){return(0,r.Z)((0,r.Z)({},e),{},{icon:t.company.icon})})),"icon_dark"in(null==t?void 0:t.company)&&P((function(e){return(0,r.Z)((0,r.Z)({},e),{},{icon_dark:t.company.icon_dark})})),"logo"in(null==t?void 0:t.company)&&P((function(e){return(0,r.Z)((0,r.Z)({},e),{},{logo:t.company.logo})})),"logo_dark"in(null==t?void 0:t.company)&&P((function(e){return(0,r.Z)((0,r.Z)({},e),{},{logo_dark:t.company.logo_dark})})))}),[t]),(0,i.useEffect)((function(){t&&t.company.address&&u()(Q)&&e&&q.current&&(q.current.value=t.company.address)}),[t]);var se=m()(null==t?void 0:t.company.created_date).format("MMMM Do YYYY, h:mm:ss a");return{cancelSending:T,setCancelSending:A,socialErrors:O,setSocialErrors:R,uploadMeta:k,setUploadMeta:w,files:F,setFiles:P,selected:G,setSelected:K,searchInputRef:q,placeAddress:Q,calcedLat:z,calcedLng:W,onLoad:te,onUnmount:ae,onMarkerDrag:re,date:se,socialUrlHandler:function(e,t){var n,s=null===(n=e.target)||void 0===n?void 0:n.value;/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi.test(s)||!s?R((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,a.Z)({},t,!1))})):R((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,a.Z)({},t,!0))}))},companyId:c,isLoaded:V,map:$,deleteBusinessProfileAvatar:ne,isDeleteBusinessAvatarRequestLoading:S}}},26827:function(e,t,n){"use strict";n.d(t,{s:function(){return v}});n(72791);var a=n(28182),r=n(92112),s=n(53148),i=n(1413),o=n(93433),l=n(16178),c=n(40084),u=n(66128),d=n(28175),m=n(17173),p=n(80184);function f(e){var t=e.entityId,n=(0,m.$G)().t,r=(0,c.m)().companyId,s=(0,l.bK)({url:"/".concat(r,"/cases/as_business/").concat(t,"/assigned_users/"),initialLoad:!0}),i=s.response,o=s.loading;return(0,p.jsxs)("div",{className:"assignee-tp relative border-b border-kgrey-border-solid font-poppins font-medium",children:[(0,p.jsx)("div",{className:"assignee-tp__header border-b border-kgrey-border-solid py-4 px-5",children:n("assigned_users")}),(0,p.jsx)("div",{className:"assignee-tp__content max-h-[210px] overflow-y-auto px-5 pt-4 pb-2",children:o?(0,p.jsx)(h,{}):(0,p.jsx)(p.Fragment,{children:(Array.isArray(i)?i:[]).map((function(e){var t,n,r;return(0,p.jsxs)("div",{className:"assignee-tp__item flex-center-y mb-2",children:[(0,p.jsx)("div",{className:(0,a.Z)("assignee-tp__img h-9 w-9 overflow-hidden rounded-full",{"flex-centered bg-kgrey font-semibold text-white":!(null!=e&&e.user?null==e?void 0:e.user.avatar:null==e?void 0:e.avatar)}),children:null!=e&&null!==(t=e.user)&&void 0!==t&&t.avatar||null!=e&&e.avatar?(0,p.jsx)("img",{src:null!=e&&e.user?null==e?void 0:e.user.avatar.thumbnail_150:null==e||null===(n=e.avatar)||void 0===n?void 0:n.thumbnail_150,alt:""}):(0,p.jsx)("span",{children:null!=e&&e.user?null==e||null===(r=e.user)||void 0===r?void 0:r.first_name[0]:null==e?void 0:e.first_name[0]})}),(0,p.jsx)("div",{className:"assignee-tp__name ml-2",children:"".concat(null!=e&&e.user?e.user.first_name:e.first_name," ").concat(null!=e&&e.user?e.user.last_name:e.last_name)})]},null!=e&&e.user?e.user.id:e.id)}))})})]})}function h(){return(0,p.jsx)(p.Fragment,{children:(0,o.Z)(Array(4)).map((function(e,t){return(0,p.jsx)("div",{className:"mb-2",children:(0,p.jsxs)(d.ZP,{speed:2,width:215,height:36,viewBox:"0 0 215 36",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[(0,p.jsx)("rect",{x:"319",y:"265",rx:"0",ry:"0",width:"1",height:"1"}),(0,p.jsx)("circle",{cx:"19",cy:"18",r:"17"}),(0,p.jsx)("rect",{x:"46",y:"10",rx:"3",ry:"3",width:"51",height:"12"}),(0,p.jsx)("rect",{x:"107",y:"10",rx:"3",ry:"3",width:"121",height:"12"})]})},t)}))})}function g(e){return(0,p.jsx)(u.SV,{isCompact:!0,children:(0,p.jsx)(f,(0,i.Z)({},e))})}function v(e){var t=e.assigneeIds,n=e.isCurrentUserAssigned,i=e.openAssignee,o=e.anchorElAssignee,l=e.handleCloseAssignee,c=e.handleClickAssignee,u=e.caseId,d=e.className,m=void 0===d?"":d;return(0,p.jsx)(p.Fragment,{children:null!=t&&t.length?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("button",{type:"button",className:(0,a.Z)("ml-1  cursor-pointer transition hover:text-primary",{"text-primary":n,"text-[#A5A7B2]":!n},m),onClick:c,children:(0,p.jsx)(r.os,{})}),i?(0,p.jsx)(s.J2,{id:i?"assigned users popover":void 0,open:i,anchorEl:o,onClose:l,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,p.jsx)(g,{entityId:u})}):null]}):null})}},69851:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});n(72791);var a=n(80184);function r(e){var t=e.field,n=e.value;return(0,a.jsxs)("div",{className:"flex w-full items-center justify-between border-b py-1 text-xs",children:[(0,a.jsx)("div",{className:"w-2/4 italic text-kgrey-dark-3",children:t}),(0,a.jsx)("div",{className:"w-2/4 font-medium",children:n})]})}},98144:function(e,t,n){"use strict";n.d(t,{y:function(){return P}});var a=n(1413),r=n(72791),s=n(28182),i=n(53148),o=n(26e3),l=n(38145),c=n(51859),u=n(80266),d=n(92112),m=n(38596),p=n(6330),f=n(26955),h=n(16178),g=n(92005),v=n(40084),x=n(66128),y=n(84200),b=n(41578),_=n(7692),C=n(60978),E=n(15861),S=n(64687),Z=n.n(S),j=n(32169),k=n(70629),w=n(5871),N=n(17173),I=n(80184);function T(e){var t=e.anchorEl,n=e.handleCloseMenu,a=e.statusId,r=e.caseId,s=(0,w.b)(r,a),i=s.handleStatusChange,o=s.statuses,l=s.handleMobileStatusChange,u=(0,N.$G)().t,d=(0,h.Kx)().query;return(0,I.jsx)(I.Fragment,{children:k.tq?(0,I.jsx)(c.Z,{onClick:function(e){e.stopPropagation(),l(),n()},children:u("change_status")}):(0,I.jsx)(j.Z,{label:u("change_status"),parentMenuOpen:Boolean(t),onClick:function(e){e.stopPropagation(),n()},children:(0,I.jsx)("div",{className:"relative z-30 flex max-h-96 flex-col overflow-y-auto",children:o.items&&o.items.map((function(e){return(0,I.jsx)(c.Z,{disabled:a===e.id,className:"flex-shrink-0 dark:text-white",onClick:(0,E.Z)(Z().mark((function t(){return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(),t.next=3,i(e,"status"in d);case 3:case"end":return t.stop()}}),t)}))),children:e.title},e.id)}))})})})}var A=n(97689),D=n(26827),M=n(88233),O=n(546),R=n(80180),L=n(47267),U=(0,m.Z)((function(){return(0,p.Z)({root:{width:"36px",height:"36px"}})}));function F(e){var t,n,m,p,E,S=e.hasUnread,Z=e.department,j=e.sub_department,k=e.caseTitle,w=e.last_message_type,F=e.last_message_text,P=e.last_message_author,B=e.case_number,H=e.last_message_time,G=e.caseId,K=e.pin_time,V=e.statusId,Y=e.searchedMessageId,q=void 0===Y?null:Y,Q=e.priority,z=e.draftMessage,W=e.assigneeIds,J=e.isDragging,X=e.isRecentCase,$=void 0!==X&&X,ee=e.toggleCaseDetailsOpen,te=void 0===ee?function(){}:ee,ne=e.relatedTo,ae=e.recurringId,re=e.hasLinkedCase,se=e.lastReadMessage,ie=void 0===se?null:se,oe=U(),le=(0,N.$G)().t,ce=(0,f.f)(K,G,!1,V,q),ue=ce.open,de=ce.handleClick,me=ce.anchorEl,pe=ce.handleMenuItemClick,fe=ce.handleCloseMenu,he=ce.openAssignee,ge=ce.handleClickAssignee,ve=ce.handleCloseAssignee,xe=ce.anchorElAssignee,ye=ce.handleChangeCasePriority,be=(0,h.dF)(),_e=be.open,Ce=be.modalHandler,Ee=(0,A.a)().userData,Se=(0,h.tv)(),Ze=Se.history,je=Se.location,ke=(0,h.Kx)(),we=ke.changeUrlParams,Ne=ke.query,Ie=ke.removeMultipleParams,Te=(0,h.rs)(),Ae=Te.hasUnreadFilter,De=Te.selectedFilterTemplate,Me=Te.andFilterType,Oe=null!=Ne&&Ne.case?parseInt(null==Ne?void 0:Ne.case):null,Re="true"===(null==Ne?void 0:Ne.reAssign),Le=(0,v.m)(),Ue=Le.setChatUuid,Fe=Le.setActiveDraft,Pe=Le.unreadMessagesCount,Be=Le.caseType,He=Le.chatsMentionList,Ge=Le.scheduledMessageIds,Ke=null==He||null===(t=He[G])||void 0===t?void 0:t.length,Ve=null==Ge||null===(n=Ge[G])||void 0===n?void 0:n.length,Ye="AllBusinessCases-".concat(V,"-").concat(Be,"-").concat(De?De.id:"normal"),qe=(0,R.v)({deleteData:!0,method:"delete",url:"",entity:"cases",name:Ye,cb:{success:function(){},error:function(){},finally:function(){}}}).handleLocalDelete,Qe=Ne&&(Ne.searchedMessageId?Number(Ne.searchedMessageId)===q:Number(Ne.case)===G),ze=null==W?void 0:W.includes(Ee.id),We=(0,r.useCallback)((function(){(je.pathname.includes("/case-messages")||Ze.push("/case-messages"),Oe)&&(!(null!=Pe&&Pe[Oe])&&Ae&&Me&&qe(Oe,"cases",Ye));we((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({status:V,case:G},(0,a.Z)({},Ne.reloadCases?{reloadStatusId:V}:{})),(0,a.Z)({},Ne.reloadStatusId?{reloadStatusId:V}:{})),(0,a.Z)({},q?{searchedMessageId:q}:{})),(0,a.Z)({},ie&&S&&!q?{unread:ie,hasUnreadMessage:!0,lastReadMessage:ie}:{})),!0),Ue((0,g.x0)()),Fe(z)}),[V,G,q,ie,S,z,we,Fe,Pe,Oe]);return(0,I.jsxs)("div",{className:(0,s.Z)("relative flex h-full w-full rounded-xl pl-5 pt-3 pr-4  pb-4 font-poppins",{"bg-primary-300 dark:bg-primary-300":Qe},{"bg-kgrey-bg dark:bg-kdark-lighter":!Qe},{"bg-primary-200":J}),children:[(0,I.jsxs)("div",{className:(0,s.Z)("group w-9/12 cursor-pointer pr-2 transition  hover:opacity-50",{"pointer-events-none":Re}),onClick:We,children:[(0,I.jsxs)("div",{className:"mb-7 flex gap-x-2",children:["NORMAL"!==Q?(0,I.jsx)(L.W,{priority:Q}):null,Ve?(0,I.jsx)(x.Pj,{}):null]}),(0,I.jsxs)("div",{className:"case-info mb-2.5 flex items-start",children:[(0,I.jsx)("div",{className:"case-info__img h-9 w-9",children:(0,I.jsx)(i.qE,{src:(0,y.ug)({department:Z,sub_department:j}),letter:j?null==j||null===(m=j.name)||void 0===m?void 0:m[0].toUpperCase():null==Z||null===(p=Z.name)||void 0===p||null===(E=p[0])||void 0===E?void 0:E.toUpperCase(),alt:null==j?void 0:j.name,classes:{root:oe.root}})}),(0,I.jsxs)("div",{className:"mx-2.5 overflow-hidden ",children:[(0,I.jsx)("div",{className:"case-title mb-2 truncate font-semibold transition-colors dark:text-white",title:k,children:k}),(0,I.jsx)("div",{className:"case-dep mb-1.5 truncate text-xs leading-normal text-kgrey-menuText",children:null==Z?void 0:Z.name}),(0,I.jsx)("div",{className:"case-subdep truncate text-xs leading-none text-kgrey",children:null==j?void 0:j.name})]})]}),(0,I.jsx)("div",{className:"case-msg-row",children:P?(0,I.jsx)(o.cm,{last_message_type:w,last_message_text:F,last_message_author:P,draftMessage:z}):null})]}),(0,I.jsxs)("div",{className:"flex w-3/12 flex-col",children:[(0,I.jsxs)("div",{className:"top-numbers mb-3 flex items-start justify-between",children:[(0,I.jsx)("div",{className:"case-number text-sm font-semibold leading-none text-kdark-text transition-colors dark:text-white",children:"#".concat(B)}),$||Re?null:(0,I.jsx)("div",{className:"more-btn -mt-2 -mr-3 w-4 cursor-pointer py-2 px-5 text-right text-kgrey-menuText transition-colors hover:text-primary dark:text-white dark:hover:text-primary",onClick:de,children:(0,I.jsx)(l.i,{className:"inline"})}),ue?(0,I.jsxs)(i.v2,{id:"long-menu",anchorEl:me,keepMounted:!0,open:ue,onClose:fe,children:[(0,I.jsx)(c.Z,{onClick:function(){fe(),te(G)},children:le("case_details")}),(0,I.jsx)(c.Z,{onClick:function(){ye(G,V),Ce()},children:le("change_priority")}),(0,I.jsx)(T,{anchorEl:me,handleCloseMenu:fe,statusId:V,caseId:G}),(0,I.jsx)(c.Z,{onClick:function(){fe(),pe(K?"unpin":"pin")},children:le(K?"unpin_case":"pin_case")}),(0,I.jsx)(c.Z,{onClick:function(){fe(),pe("manager")},children:le("request_update")}),(0,I.jsx)(i.Cx,{open:_e,handleModalOpen:Ce,children:(0,I.jsx)(M.K,{onSuccess:function(){Ce(),fe(),Ie(["caseId","statusId","fromCaseItem"])}})})]}):null]}),(0,I.jsx)("div",{className:"date text-sm text-kgrey",children:u.XV.toLastTime(H)}),!(null==W||!W.length)&&(0,I.jsx)("div",{className:"flex-center-y mt-auto justify-end leading-none text-kgrey-menuText",children:(0,I.jsx)(D.s,{caseId:G,anchorElAssignee:xe,assigneeIds:W,handleClickAssignee:ge,handleCloseAssignee:ve,openAssignee:he,isCurrentUserAssigned:ze})}),[K,ne,ae,re,S,Ke].filter(Boolean).length?(0,I.jsxs)("div",{className:"feature-buttons mt-auto flex items-center justify-end leading-none text-kgrey-menuText",children:[K?(0,I.jsx)("div",{className:"px-1",children:(0,I.jsx)(d.Dg,{className:"text-kgrey-menuText"})}):null,ne?(0,I.jsx)("div",{className:"px-1",children:(0,I.jsx)(b.muo,{})}):null,ae?(0,I.jsx)("div",{className:"px-1",children:(0,I.jsx)(_.R1q,{})}):null,re?(0,I.jsx)("div",{className:"px-1",children:(0,I.jsx)(_.Wlb,{})}):null,S?(0,I.jsx)("div",{className:(0,s.Z)("ml-2 h-6 w-6 flex-shrink-0 rounded-full bg-primary text-center text-sm font-semibold leading-6 text-white",{"w-fit px-1":S>=O.p}),children:S}):null,Ke?(0,I.jsx)("div",{className:" px-1 text-lg text-primary",children:(0,I.jsx)(C.Hlc,{})}):null]}):null]})]})}function P(e){return(0,I.jsx)(x.SV,{isCompact:!0,children:(0,I.jsx)(F,(0,a.Z)({},e))})}},47267:function(e,t,n){"use strict";n.d(t,{W:function(){return s}});var a=n(28182),r=(n(72791),n(80184));function s(e){var t=e.priority;return(0,r.jsx)("div",{className:(0,a.Z)("priority h-2 w-16 rounded-md",{"bg-priority-high":"HIGH"===t,"bg-priority-low":"LOW"===t,"bg-priority-critical":"CRITICAL"===t})})}},78192:function(e,t,n){"use strict";n.d(t,{g:function(){return o}});var a=n(72791),r=n(28182),s=n(17173),i=n(80184),o=a.forwardRef((function(e,t){var n=e.allProps,a=n.data_fields,o=n.setState,l=n.handleCaseInputChange,c=n.setFieldValue,u=n.data_fields_names,d=n.titleRef,m=(0,s.$G)().t;return(0,i.jsxs)("div",{className:"case-form__data-fields mb-15",children:[(0,i.jsx)("div",{className:"ml-6 mb-2 block text-xs font-light text-kgrey-welcome",children:(0,i.jsx)("span",{children:m("department_data_fields")})}),a.map((function(e){var t=e.isRequired&&0===u[e.fieldName].length;return(0,i.jsxs)("div",{className:(0,r.Z)("mb-4"),children:[(0,i.jsx)("div",{className:"relative",children:(0,i.jsx)("input",{required:e.isRequired,name:e.fieldName,type:"text",className:(0,r.Z)("w-full rounded-lg border border-kgrey-inputBd px-6 py-3.5 text-xs !text-15px font-light text-kdark-424653 placeholder-current placeholder-kgrey-welcome outline-none transition focus:border-primary focus:shadow-lg dark:bg-kdark dark:text-white",t&&"border-red-500"),placeholder:"".concat(e.dataName," ").concat(e.isRequired?"":"(Optional)"),value:u[e.fieldName],onChange:function(e){l({event:e,setState:o}),c("title",d.current)}})}),t?(0,i.jsx)("span",{className:"text-xs text-red-500",children:m("required")}):null]},e.id)}))]})}))},88233:function(e,t,n){"use strict";n.d(t,{K:function(){return x}});var a=n(1413),r=n(29439),s=n(72791),i=n(40084),o=n(16178),l=n(27945),c=n(80266),u=n(66128),d=n(35741),m=n(6584),p=n(66828),f=n(53148),h=n(17173),g=n(80184);function v(e){var t=e.onSuccess,n=(0,s.useState)(null),a=(0,r.Z)(n,2),v=a[0],x=a[1],y=(0,h.$G)().t,b=(0,i.m)(),_=b.companyId,C=b.caseType,E=b.searchQuery,S=b.isStaff,Z=(0,o.Kx)().query,j=Number(null==Z?void 0:Z.statusId)||Number(null==Z?void 0:Z.status),k=Number(null==Z?void 0:Z.caseId)||Number(null==Z?void 0:Z.case),w=(0,o.QY)({entity:"cases",entityId:k,entityName:"CaseChat-".concat(k)});(0,s.useEffect)((function(){var e,t,n=null===(e=w.item)||void 0===e?void 0:e.priority;x({name:"".concat(n[0]).concat(n.slice(1).toLowerCase()),code:null===(t=w.item)||void 0===t?void 0:t.priority})}),[]);var N=(0,m.A)({statusId:Number(null==Z?void 0:Z.status)}).selectedFilterTemplate,I=(0,c.w5)({statusId:j,caseType:C,searchQuery:E,selectedFilterTemplate:N}),T=function(e){var t=e.target.value,n={name:t,code:t.toUpperCase()};x(n)};return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(d.Z.All,{entity:"priorities",name:"AllPriorities-".concat(_),url:"/".concat(_,"/cases/as_business/priorities/"),dataKey:function(e){return e.choices},primaryKey:"code",params:{limit:10,page:1},children:function(e){var n=e.items,a=e.isFetched,r=n;return(0,g.jsx)(l.Z.Main,{entity:"cases",name:I,url:"/".concat(_,"/cases/as_business/").concat(k,"/"),id:k,method:"patch",updateData:!0,normalizeData:function(e){return e},sendAsFormData:!1,params:{extra:{client_company:S?_:null}},fields:[{name:"priority",value:v,onSubmitKey:"",onSubmitValue:function(e,t){return e.code},type:"object"}],onSuccess:function(e){t()},onError:function(e){return console.log("priority change error",e)},children:function(e){var n=e.isSubmitting;return(0,g.jsxs)("div",{children:[(0,g.jsx)("h1",{className:"mb-4 text-2xl font-bold",children:y("change_priority")}),(0,g.jsx)(p.Z,{component:"fieldset",children:v?(0,g.jsx)(f.Ee,{"aria-label":"priority",name:"priority",value:null==v?void 0:v.code,onChange:T,children:(0,g.jsx)(g.Fragment,{children:null==r?void 0:r.map((function(e){return(0,g.jsx)("div",{className:"-mb-3",children:(0,g.jsx)(f.D8,{value:e.code,control:(0,g.jsx)(f.Y8,{color:"primary"}),label:e.name},e.code)},e.code)}))})}):null}),!a&&(0,g.jsx)(u.aN,{tiled:!0,withOverlay:!0}),(0,g.jsxs)("div",{className:"mt-8 flex justify-end",children:[n&&(0,g.jsx)(u.aN,{tiled:!0,withOverlay:!0}),(0,g.jsx)(u.zx,{onClickHandler:t,className:"mr-5",type:"button",children:y("cancel")}),(0,g.jsx)(u.zx,{disabled:!v||n,type:"submit",variant:"contained",className:"ml-4 hover:!text-primary",children:y("save")})]})]})}})}})})}function x(e){return(0,g.jsx)(u.SV,{children:(0,g.jsx)(v,(0,a.Z)({},e))})}},25262:function(e,t,n){"use strict";n.d(t,{UE:function(){return L},_S:function(){return ne},bI:function(){return oe},OY:function(){return I},c$:function(){return $},IY:function(){return M},HX:function(){return u},j8:function(){return A},Sn:function(){return w},cw:function(){return H},ut:function(){return J},Gf:function(){return W},N:function(){return z},Ir:function(){return N},mz:function(){return le}});var a=n(1413),r=n(72791),s=n(28182),i=n(53148),o=n(66128),l=n(80184),c=function(e){var t=e.fieldName,n=e.children,a=e.align,r=void 0===a?"center":a,o=e.classNames,c=void 0===o?"":o;return(0,l.jsxs)("div",{className:(0,s.Z)("case-details__row mb-2 flex",{"items-center":"center"===r},c),children:[(0,l.jsx)("div",{className:"mr-4  w-[100px] flex-shrink-0 text-xs font-semibold lg:w-[150px] lg:text-base",children:t}),(0,l.jsx)("div",{className:(0,s.Z)("flex-grow  text-xs lg:text-base",{"max-h-72 overflow-y-auto whitespace-pre-wrap break-words":"string"==typeof n}),children:n||(0,l.jsx)(i.Od,{})})]})};function u(e){return(0,l.jsx)(o.SV,{isCompact:!0,children:(0,l.jsx)(c,(0,a.Z)((0,a.Z)({},e),{},{children:e.children}))})}var d=n(4942),m=n(15861),p=n(29439),f=n(64687),h=n.n(f),g=n(40084),v=n(16178),x=n(26181),y=n.n(x),b=n(66364),_=n.n(b),C=n(37099),E=n(80266),S=n(70629),Z=n(9478),j=n(76188),k=n(17173);function w(e){var t,n=e.setState,s=e.department,o=e.sub_department,c=e.depHierarchy,f=e.setFieldValue,x=e.subDepsForHierarchy,b=e.consistedSubDeps,w=e.values,N=e.recurringId,I=e.setMembers,T=e.setAssignedUsers,A=e.caseId,D=e.setAssignRequired,M=(0,r.useState)(!0),O=(0,p.Z)(M,2),R=O[0],L=O[1],U=(0,g.m)(),F=U.companyId,P=U.caseType,B=(0,v.eC)().showNotification,H=(0,k.$G)().t,G=(0,v.bK)({url:"/".concat(F,"/departments/").concat(y()(s,"id"),"/sub_departments/"),cb:{success:function(e){null!=e&&e.results.length&&n((function(e){return(0,a.Z)((0,a.Z)({},e),{},{depHierarchy:{id:s.id,name:s.name,sub_department:{id:s.id,name:"Please Select Sub Departments"}}})})),L(!1)},error:function(e,t){console.log("department load error",{response:e.response,department:s}),L(!1)}}}).fetchData,K=(0,v.bK)({url:"/".concat(F,"/departments/").concat(y()(o,"id"),"/hierarchy/"),cb:{success:function(e){n((function(t){return(0,a.Z)((0,a.Z)({},t),{},{depHierarchy:e})})),L(!1)},error:(t=(0,m.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("hierarchy error",{response:t.response,department:s});case 1:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}}),V=K.fetchData;(0,r.useEffect)((function(){D(o?null==o?void 0:o.assign_required:null==s?void 0:s.assign_required),(0,m.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=5;break}return e.next=3,V();case 3:e.next=7;break;case 5:return e.next=7,G();case 7:case"end":return e.stop()}}),e)})))()}),[]),(0,r.useEffect)((function(){return function(){L(!0)}}),[]),(0,r.useEffect)((function(){!_()(c)&&n&&Y(c)}),[c,n]);var Y=function e(t){function r(e,n){var r=Object.keys(e.subDepsForHierarchy).filter((function(e){return Number(e)<Number(t[n].id)}));return _()(t[n])?_()(t[n])?(0,a.Z)((0,a.Z)({},e.subDepsForHierarchy),{},{1e4:{id:1,name:"Please Select Sub Departments",department:Object.keys(e.subDepsForHierarchy).length>0?{id:Number(r[r.length-1])}:{id:t.id}}}):void 0:(0,a.Z)((0,a.Z)({},e.subDepsForHierarchy),{},(0,d.Z)({},t[n].id,(0,a.Z)((0,a.Z)({},t[n]),{},{department:Object.keys(e.subDepsForHierarchy).length>0?{id:Number(r[r.length-1])}:{id:t.id}})))}Object.keys(t).forEach((function(s){"sub_department"===s&&null!==t[s]&&n((function(e){return(0,a.Z)((0,a.Z)({},e),{},{subDepsForHierarchy:r(e,s),consistedSubDeps:r(e,s)})})),"object"==typeof t[s]&&null!==t[s]&&e(t[s])}))},q=(0,v.bK)({url:"",dynamicValues:!0,dynamicUrl:!0,method:"post",cb:{success:function(e,t){I(e)},error:function(e,t){var n=(0,p.Z)(t,1)[0];B({message:e.code,variant:"error"}),I(n.previousMembersSet)}}}).fetchData,Q=function(e){q({url:"/".concat(F,"/cases/as_business/").concat(A,"/case_access_list/"),values:{department:{id:e}}})};return(0,l.jsxs)("div",{className:"react-select-dropdown",children:[R?(0,l.jsx)(i.Od,{}):(0,l.jsx)(u,{fieldName:H("department"),children:(0,l.jsx)(j.gN,{component:C.Z,customStylesProps:E.gb,name:"department",placeholder:H("select_department"),optionLabel:"name",optionValue:"id",isSearchable:!S.tq,isDisabled:N,isCached:!0,openMenuOnFocus:!0,loadOptionsKey:"results",loadOptionsUrl:"/".concat(F,"/departments_compact/"),loadOptionsParams:function(e){return{extra:{search:e,is_staff:P===Z.Z.STAFF?"true":"false",ordering:"name"}}},onChange:function(e){f("sub_department",void 0),function(e,t){if(e){var r=e.assign_required,s=e.default_assignees;e.sub_departments_count>0?n((function(t){return(0,a.Z)((0,a.Z)({},t),{},{subDepsForHierarchy:{},depHierarchy:{id:e.id,name:e.name,sub_department:{id:1,name:"Please Select Sub Departments",department:{id:e.id}}},clearDepartment:!1})})):(n((function(e){return(0,a.Z)((0,a.Z)({},e),{},{depHierarchy:{},subDepsForHierarchy:{}})})),setTimeout((function(){t("department",e)}),0)),r&&s.length?T(s):T([]),D(r)}else n((function(e){return(0,a.Z)((0,a.Z)({},e),{},{depHierarchy:{},subDepsForHierarchy:{},clearDepartment:!0})}))}(e,f),null!=e&&e.id&&Q(null==e?void 0:e.id)}})}),R?(0,l.jsx)(i.Od,{}):(0,l.jsx)(l.Fragment,{children:Object.keys(x).map((function(e,t){return(0,l.jsx)(u,{fieldName:H("sub_department"),children:(0,l.jsx)(j.gN,{component:C.Z,customStylesProps:E.gb,name:"dep_hierarchy[".concat(e,"]"),isDisabled:N,placeholder:H("select_sub_department"),optionLabel:"name",optionValue:"id",isSearchable:!S.tq,isClearable:!0,loadOptionsKey:"results",loadOptionsUrl:"/".concat(F,"/departments/").concat(y()(b,"".concat(e,".department.id"),0)||Object.keys(w.dep_hierarchy)[Object.keys(w.dep_hierarchy).length-2]||y()(w,"department.id"),"/sub_departments/"),loadOptionsParams:function(e){return{extra:{search:e,ordering:"name"}}},onChange:function(r){!function(e,t){if(e){for(var r in x)Number(r)===Number(t)&&(0===e.sub_departments.length?function(){var r=(0,a.Z)({},x);Object.keys(r).forEach((function(e){Number(e)>Number(t)&&delete r[e]})),delete r[t],n((function(t){return(0,a.Z)((0,a.Z)({},t),{},{subDepsForHierarchy:(0,a.Z)((0,a.Z)({},r),{},(0,d.Z)({},e.id,e)),consistedSubDeps:(0,a.Z)((0,a.Z)({},r),{},(0,d.Z)({},e.id,e))})}))}():function(){var r=(0,a.Z)({},x);Object.keys(r).forEach((function(e){Number(e)>Number(t)&&delete r[e]})),delete r[t],n((function(t){var n,s;return(0,a.Z)((0,a.Z)({},t),{},{subDepsForHierarchy:(0,a.Z)((0,a.Z)({},r),{},(n={},(0,d.Z)(n,e.id,e),(0,d.Z)(n,y()(e,"sub_departments[0].id"),null),n)),consistedSubDeps:(0,a.Z)((0,a.Z)({},r),{},(s={},(0,d.Z)(s,e.id,e),(0,d.Z)(s,y()(e,"sub_departments[0].id"),null),s))})}))}());D(null==e?void 0:e.assign_required)}else!function(){var e,r=(0,a.Z)({},x),s=Object.keys(r);for(var i in x)(Number(i)===Number(t)||Number(i)>Number(t))&&Object.keys(r).forEach((function(e){Number(e)>Number(t)&&delete r[e]}));n((function(e){return(0,a.Z)((0,a.Z)({},e),{},{subDepsForHierarchy:(0,a.Z)((0,a.Z)({},r),{},(0,d.Z)({},t,null))})})),D(null===(e=r[s[0]])||void 0===e?void 0:e.assign_required)}()}(r,e);var s=function(e,t){var n;if(e)n=e.id;else{var a=Object.keys(x)[t-1],r=y()(x,"".concat(a),null);n=r?r.id:c.id}return n}(r,t);Q(s)}})},e)}))})]})}function N(){var e=(0,g.m)(),t=e.companyId,n=e.caseType,a=(0,k.$G)().t;return(0,l.jsx)(j.gN,{component:C.Z,customStylesProps:E.gb,name:"status",optionLabel:"title",optionValue:"id",isSearchable:!0,isCached:!0,placeholder:a("select_status"),reverse:!0,loadOptionsUrl:"/".concat(t,"/my/company/case_statuses/"),loadOptionsParams:function(e){return{extra:{search:e,is_staff:n===Z.Z.STAFF?"true":""}}},loadOptionsKey:""})}function I(e){var t=e.recurringId,n=(0,g.m)().companyId,a=(0,k.$G)().t;return(0,l.jsx)(j.gN,{component:C.Z,customStylesProps:E.gb,name:"priority",placeholder:a("select_priority"),optionLabel:"name",optionValue:"code",isSearchable:!0,isCached:!0,isDisabled:t,loadOptionsUrl:"/".concat(n,"/cases/as_business/priorities/"),loadOptionsParams:function(e){return{extra:{search:e}}},loadOptionsKey:"choices"})}var T=n(69851);function A(e){var t=e.dataFields,n=(0,r.useState)(!1),a=(0,p.Z)(n,2),s=a[0],i=a[1],c=(0,k.$G)().t;return(0,l.jsx)(l.Fragment,{children:t?(0,l.jsx)("div",{className:"my-4 w-full",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.Ik,{color:s?"primary":"default",className:"mb-4",onClick:function(){return i((function(e){return!e}))},children:c("show_data_fields")}),s?Array.isArray(t)?t.map((function(e){var t=(0,p.Z)(e,2),n=t[0],a=t[1];return(0,l.jsx)(T.g,{field:n,value:a},n)})):Object.keys(t).map((function(e){return(0,l.jsx)(T.g,{field:e,value:t[e]},e)})):null]})}):(0,l.jsx)("p",{children:c("no_data_fields")})})}var D=n(93433);function M(e){var t=e.staffAccessList,n=e.members,s=e.setMembers,i=e.setFieldValue,c=(0,g.m)(),u=c.companyId,d=c.isManager,m=(c.isAdmin,c.role),p=(0,r.useMemo)((function(){return t.some((function(e){var t;return"admin"===e.role||"admin"===(null===(t=e.roles)||void 0===t?void 0:t[0])}))}),[m,t]),f=(0,k.$G)().t;(0,r.useEffect)((function(){null!==n&&i("access_list",n)}),[n]);return(0,l.jsxs)("div",{className:"w-[336px]",children:[(0,l.jsx)(j.gN,{component:o.qb,customStylesProps:(0,a.Z)((0,a.Z)({},E.gb),{},{multiValueRemove:function(e,t){var n=null==t?void 0:t.data,r=n.role,s=n.roles,i=s?s[0]:r,o="admin"===i,l=o||d&&o||"member"===m&&("manager"===i||o);return(0,a.Z)((0,a.Z)({},e),{},{pointerEvents:l?"none":"auto"})}}),name:"staff",placeholder:f("select_staff",{calculatedStaffAccessType:""}),optionValue:function(e){var t;return null!=e&&e.user?null==e||null===(t=e.user)||void 0===t?void 0:t.id:null==e?void 0:e.id},optionLabel:function(e){return null!=e&&e.user?"".concat(y()(e,"user.first_name")," ").concat(y()(e,"user.last_name")):"".concat(y()(e,"first_name")," ").concat(y()(e,"last_name"))},loadOptionsUrl:"/".concat(u,"/members/"),loadOptionsParams:function(e){return{limit:50,extra:{search:e}}},loadOptionsKey:"results",isSearchable:!0,alwaysRefetch:!0,customStyles:"KntTwilioStyle",loadOptionsOnMenuOpen:!0,isMulti:!0,value:t,closeMenuOnSelect:!1,filterOption:function(e){var n;return!t.reduce((function(e,t){return[].concat((0,D.Z)(e),[null!=t&&t.user?null==t?void 0:t.user.id:null==t?void 0:t.id])}),[]).includes(null==e||null===(n=e.data)||void 0===n?void 0:n.user.id)},onChange:function(e){s(e)},isClearable:!p}),(0,l.jsx)("div",{children:null!=t&&t.length?null:(0,l.jsx)("div",{className:"mt-1 text-xs text-red-500",children:f("staff_access_empty_validation")})})]})}var O=n(86375),R=n(84200);function L(e){var t=e.caseId,n=e.setFieldValue,a=e.staffAccessList,r=e.department,s=e.subDepartments,c=e.setAssignedUsers,u=e.assignedUsers,d=e.assignRequired,m=e.caseAssigneeList,p=(0,g.m)().companyId,f=(0,k.$G)().t,h=(0,O.OH)({caseId:t,staffAccessList:a,setFieldValue:n,setAssignedUsers:c,assignedUsers:u,caseAssigneeList:m}),v=h.assigneeTypeValue,x=h.handleAssigneeTypeChange,b=h.handleAssignedMember;return(0,l.jsxs)("div",{className:"w-[336px]",children:[(0,l.jsx)("div",{children:(0,l.jsxs)(i.Ee,{"aria-label":"assignee-user",name:"assignee-type",value:v,onChange:x,className:"!flex-row",children:[(0,l.jsx)(i.D8,{value:"all",control:(0,l.jsx)(i.Y8,{color:"primary"}),label:f("all")}),(0,l.jsx)(i.D8,{value:"department",control:(0,l.jsx)(i.Y8,{color:"primary"}),label:f("department_members")})]})}),(0,l.jsx)(o.qb,{customStylesProps:E.gb,name:"assignee",placeholder:f("select_user_to_assign"),optionValue:function(e){var t;return null!=e&&e.user?null==e||null===(t=e.user)||void 0===t?void 0:t.id:e.id},optionLabel:function(e){return null!=e&&e.user?"".concat(y()(e,"user.first_name")," ").concat(y()(e,"user.last_name")):"".concat(y()(e,"first_name")," ").concat(y()(e,"last_name"))},loadOptionsUrl:"all"===v?"/".concat(p,"/members/"):r&&s&&"/".concat(p,"/departments/").concat((0,R.mf)(r,s),"/users/"),loadOptionsParams:function(e){return{limit:50,extra:{search:e}}},loadOptionsKey:"results",isSearchable:!0,isClearable:!0,isDisabled:!r&&"department"===v,alwaysRefetch:!0,customStyles:"KntTwilioStyle",loadOptionsOnMenuOpen:!0,isMulti:!0,value:m,filterOption:function(e){var t,n;return!m.length||!(null!=m&&m.reduce((function(e,t){var n;return[].concat((0,D.Z)(e),[null!=t&&t.user?null==t||null===(n=t.user)||void 0===n?void 0:n.id:null==t?void 0:t.id])}),[]).includes(null==e||null===(t=e.data)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.id))},onChange:function(e){b(e)}}),null!=m&&m.length||!d?null:(0,l.jsx)("div",{className:"mt-1 text-xs text-red-500",children:f("assignee_required_validation")})]})}var U=n(77917),F=n(97892),P=n.n(F),B=n(86053);function H(e){var t=e.state,n=e.setState,s=e.dueDateValue,o=e.setFieldTouched,c=e.recurringId,u=e.setFieldValue,d=(0,g.m)(),m=d.caseType,p=d.companyId,f=(0,k.$G)().t,h=(0,v.h9)({due_date_toggle:!1}),x=h.checked,y=h.handleChange,b=h.setChecked;return(0,r.useEffect)((function(){s&&(b((function(e){return(0,a.Z)((0,a.Z)({},e),{},{due_date_toggle:!0})})),n((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isDateTimeSet:Boolean(s)})})))}),[s]),(0,r.useEffect)((function(){if(x.due_date_toggle){var e=P()().hour(8).minute(0).second(0).add(1,"days").format();u("due_date",e),n((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isDateTimeSet:!0})}))}else u("due_date",null),n((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isDateTimeSet:!1})}))}),[x.due_date_toggle]),(0,l.jsxs)("div",{children:[(0,l.jsx)(i.D8,{control:(0,l.jsx)(B.k,{checked:x.due_date_toggle,onChange:y,name:"due_date_toggle",size:"medium",classes:{root:"!ml-3.5"}}),label:""}),x.due_date_toggle?(0,l.jsxs)("div",{className:"my-3 flex",children:[(0,l.jsx)("div",{className:"flex-grow ".concat(t.isDateTimeSet?"date-set":"date-unset"),children:(0,l.jsx)(j.gN,{component:U.mO,name:"due_date",inputVariant:"outlined",size:"small",fullWidth:!0,disabled:c,dateValue:s,emptyLabel:"".concat(P()().hour(8).minute(0).second(0).add(1,"days").format("ddd, MMM DD, YYYY, h:mm:ss a")," (").concat(f("optional_hint"),")"),isDateTimeSet:t.isDateTimeSet,onChange:function(){n((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isDateTimeSet:!0})})),o("complete_status")}})}),t.isDateTimeSet&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"mx-1.5 min-w-[150px]",children:(0,l.jsx)(j.gN,{component:C.Z,customStylesProps:E.gb,name:"complete_status",optionLabel:"title",optionValue:"id",isSearchable:!0,isCached:!0,isDisabled:c,placeholder:f("to_status_hint"),reverse:!0,loadOptionsUrl:"/".concat(p,"/my/company/case_statuses/"),loadOptionsParams:function(e){return{extra:{search:e,is_staff:m===Z.Z.STAFF?"true":""}}},loadOptionsKey:""})})})]}):null]})}var G=n(21658),K=n(28829),V=n(60762),Y=n(19053),q=n(90218),Q=[{name:"Active",code:"ACTIVE"},{name:"On Hold",code:"ON_HOLD"},{name:"End",code:"ENDED"}];function z(e){var t=e.recurringId,n=e.state,o=e.setState,c=(0,r.useState)(new Date),f=(0,p.Z)(c,2),x=f[0],y=f[1],b=(0,k.$G)().t,_=(0,q.K)().isRTL,C=(0,g.m)().companyId,S=(0,v.eC)().showNotification,Z=new Date,j=Z.getDay(),w=Z.getDate(),N=b((0,Y.u)(G.Pu[j])),I=(0,G.qC)(P()(new Date("".concat(Z.getFullYear(),"-").concat(Z.getMonth()+1,"-").concat(w)))),T=n.recurringStatus,A=n.recurringText,D=n.recurring,M=n.showCustomRecurring,O=n.recurOption,R=n.recurringOptions,L=n.dropdownPresetOptions,U=n.updateLoading,F="".concat(b(G.er[I.weekOrder-1])," ").concat(b((0,Y.u)(I.day))),B=function(e){return o((function(t){return(0,a.Z)((0,a.Z)({},t),{},{recurring:e})}))},H=function(e,t){return o((function(n){return(0,a.Z)((0,a.Z)({},n),{},(0,d.Z)({},e,t))}))};(0,r.useEffect)((function(){(0,G.Er)({moment:P(),selectedTime:x,setRecurOption:B,recurOption:O,currentWeekday:N,currentDayObj:I,ON_WEEK_DAY:F,handler:o})}),[O,x]),(0,r.useEffect)((function(){if(D&&A){var e=(0,G.Ly)(new Date("December 17, 1995 ".concat(null==D?void 0:D.on_time)));(0,G.wj)({handler:o,moment:P(),currentWeekday:N,ON_WEEK_DAY:F,editMode:!0,customValue:{name:"".concat(A," at ").concat(P()(e.toLocaleString()).format("HH:mm a")),value:"CUSTOM_VALUE"},translate:b})}}),[A,D,b]),(0,r.useEffect)((function(){t&&(0,m.Z)(h().mark((function e(){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.hi.request.get((0,E.kB)("/".concat(C,"/cases/recurring/").concat(t,"/"),{}));case 3:n=e.sent,r=n.data,o((function(e){return(0,a.Z)((0,a.Z)({},e),{},{recurring:r,recurringStatus:r.recurring_status,recurringText:r.recurring_text})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]);var z=function(e,t){var n=e.target,r=n.name,s=n.value;t((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,d.Z)({},r,s))}))},W=function(){var e=(0,m.Z)(h().mark((function e(a){var r,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.recurringStatus,z(a,o),s=a.target.value,e.prev=3,e.next=6,E.hi.request.patch((0,E.kB)("/".concat(C,"/cases/recurring/").concat(t,"/change_status/"),{}),{status:s});case 6:H("recurringStatus",s),S({message:b("recurring_status_changed_success"),variant:"success"}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),H("recurringStatus",r),S({message:b("something_went_wrong"),variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=(0,m.Z)(h().mark((function e(n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o((function(e){return(0,a.Z)((0,a.Z)({},e),{},{updateLoading:!0})})),e.prev=1,e.next=4,E.hi.request.put((0,E.kB)("/".concat(C,"/cases/recurring/").concat(t,"/"),{}),n);case 4:o((function(e){return(0,a.Z)((0,a.Z)({},e),{},{recurring:n,recurringText:n.recurring_text,showCustomRecurring:!1})})),S({message:b("update_success"),variant:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),S({message:b("something_went_wrong"),variant:"error"});case 11:return e.prev=11,o((function(e){return(0,a.Z)((0,a.Z)({},e),{},{updateLoading:!1})})),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){H("showCustomRecurring",!1),H("recurOption","CUSTOM_VALUE")},$=L.includes(O);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u,{fieldName:b("case_recurring_options"),classNames:(0,s.Z)({"bg-kgrey-inputBg dark:bg-inherit py-4 rounded-lg":$}),align:"top",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:(0,s.Z)("mb-4 flex-1 overflow-hidden",{"w-[335px]":!$,"pl-2":_,"pr-2":!_}),children:(0,l.jsx)(i.nv,{select:!0,fullWidth:!0,value:O,name:"recurOption",onChange:function(e){return z(e,o)},size:"small",variant:"outlined",className:"cc-recurring-timepicker",children:R.map((function(e){return(0,l.jsx)(i.sN,{value:e.value,children:O===e.value&&"CUSTOM_VALUE"!==O?e.text:e.name},e.value)}))})}),$&&(0,l.jsx)("div",{className:"mb-5 w-[30%]",children:(0,l.jsx)(K.j,{variant:"inline",value:x,onChange:y,inputVariant:"outlined",size:"small",autoOk:!0,fullWidth:!0,className:"cc-recurring-timepicker"})})]}),$&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(i.zx,{variant:"contained",disabled:U,color:"primary",onClick:function(){return J(D)},children:b("update_recurring_options")})})]})}),(0,l.jsx)(u,{fieldName:b("case_recurring_status"),align:"top",children:(0,l.jsx)(i.nv,{select:!0,size:"small",value:T,name:"recurringStatus",onChange:W,variant:"outlined",children:Q.map((function(e){return(0,l.jsx)(i.sN,{value:e.code,children:e.name},e.code)}))})}),(0,l.jsx)(i.Cx,{handleModalOpen:X,open:M,maxWidth:315,minWidth:315,children:(0,l.jsx)(V.t,{recurring:D,currentDay:j,currentMonthDate:w,currentDayObj:I,onCloseRecurrDialog:X,stateHandler:o,recurringOptions:R,selectedTime:x,ON_WEEK_DAY:F,editMode:!0})})]})}function W(e){var t=e.rate;return(0,l.jsx)(l.Fragment,{children:null!==t&&Number(t)>0&&(0,l.jsx)(u,{fieldName:"Rating",children:(0,l.jsx)(i.iG,{name:"simple-controlled",value:Number(t)})})})}function J(){var e=(0,k.$G)().t;return(0,l.jsx)(u,{fieldName:e("notes"),align:"top",children:(0,l.jsx)(j.gN,{name:"note",component:U.Mg,placeholder:e("case_notes"),type:"textarea",inputElementClassNames:"border-kgrey-inputBd bg-transparent"})})}var X=n(97689);function $(e){var t=e.relatedTo,n=e.caseCreatorId,a=e.closeCaseDetailModal,r=(0,X.a)().userData,s=(0,g.m)(),i=s.caseType,o=s.isAdmin;return(0,l.jsx)(l.Fragment,{children:i===Z.Z.STAFF&&t&&(n===r.is||o)&&(0,l.jsx)(ee,{relatedTo:t,closeCaseDetailModal:a})})}function ee(e){var t=e.relatedTo,n=e.closeCaseDetailModal,a=(0,g.m)().setCaseType,s=(0,r.useState)(!1),c=(0,p.Z)(s,2),d=c[0],m=c[1],f=(0,v.Kx)().changeUrlParams,h=function(){return m((function(e){return!e}))};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u,{fieldName:"Related Client Case",children:(0,l.jsx)("div",{children:(0,l.jsx)(i.Af,{label:t.case_number,onClick:h,variant:"outlined",color:"primary"})})}),(0,l.jsx)(o.sm,{featureHandler:function(){h(),n(),a(Z.Z.CLIENT),f({status:t.status_id,case:t.id})},isOpen:Boolean(d),toggleHandler:h,title:"Are you sure to open the related case?"})]})}var te=n(35741);function ne(e){var t=e.caseId,n=e.closeCaseDetailModal,a=e.caseTitle,r=(0,g.m)(),s=r.caseType,o=r.companyId;return(0,l.jsx)(l.Fragment,{children:s===Z.Z.CLIENT&&(0,l.jsx)(te.Z.All,{entity:"related",name:"Related-".concat(t),url:"/".concat(o,"/cases/as_business/").concat(t,"/related/"),params:{},dataKey:function(e){return e},primaryKey:"id",children:function(e){var r=e.items,s=e.isFetched;return(0,l.jsx)(l.Fragment,{children:s?(0,l.jsx)(ae,{relatedCases:r,closeCaseDetailModal:n,caseTitle:a,caseId:t}):(0,l.jsx)(i.Od,{})})}})})}function ae(e){var t=e.relatedCases,n=e.closeCaseDetailModal,a=e.caseTitle,s=e.caseId,c=(0,X.a)().userData,d=(0,g.m)(),m=d.setCaseType,f=d.showCaseCreatePopup,h=d.isAdmin,x=(0,v.Kx)().changeUrlParams,b=(0,r.useState)(null),_=(0,p.Z)(b,2),C=_[0],E=_[1],S=function(){return E(null)},j=!t.reduce((function(e,t){var n;return[].concat((0,D.Z)(e),[null==t||null===(n=t.reassigned_by)||void 0===n?void 0:n.id])}),[]).includes(c.id),k=t.filter((function(e){return y()(e,"reassigned_by.id")===c.is||h}));return(0,l.jsxs)(l.Fragment,{children:[j&&(0,l.jsx)(u,{fieldName:"Copy to a new staff case:",children:(0,l.jsx)(o.zx,{onClickHandler:function(){n(),m(Z.Z.STAFF),f(),x({copyToStaff:"true",caseTitle:a,caseId:s})},children:"Create"})}),k.length?(0,l.jsx)(u,{fieldName:"Related Staff Case(s)",children:k.map((function(e){return(0,l.jsx)(i.Af,{label:e.case_number,onClick:function(){return E(e)},variant:"outlined",color:"primary",className:"!mr-2"},e.case_number)}))}):null,(0,l.jsx)(o.sm,{featureHandler:function(){return e=C,S(),n(),m(Z.Z.STAFF),void x({status:e.status_id,case:e.id});var e},isOpen:Boolean(C),toggleHandler:S,title:"Are You Sure To Open Related Staff Case?"})]})}var re=n(27945);function se(e){var t=e.caseId,n=e.modalHandler,a=(0,g.m)(),r=a.isStaff,s=a.companyId,c=(0,v.eC)().showNotification,u=(0,v.Zp)().reloadEntityAll,d=(0,k.$G)().t;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(re.Z.Main,{entity:"linked-cases",name:"AllLinkedCases-".concat(t),url:"/".concat(s,"/cases/as_business/").concat(t,"/from_to/"),method:"post",primaryKey:"id",sendAsFormData:!1,normalizeData:function(e){return e},prependData:!0,fields:[{name:"to_case",required:!0,onSubmitValue:function(e){return{id:e.id}},onSubmitKey:"",type:"object"},{name:"status",onSubmitValue:function(e){return e.id},onSubmitKey:"",type:"object"}],onSuccess:function(e,a){setTimeout((function(){return n()}),0),u({entity:"linked-cases",name:"AllLinkedCases-".concat(t),url:"/".concat(s,"/cases/as_business/").concat(t,"/from_to/"),params:{page:1,limit:50,extra:{from_case:t}}})},onError:function(e,t){c({message:"Request failed with status code 400"===e.message?d("case_already_linked_error"):d("something_went_wrong"),variant:"error"})},children:function(e){var t=e.values,a=e.isSubmitting;return(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"mb-6 text-lg font-bold",children:d("create_linked_case")}),(0,l.jsx)("div",{className:"react-select-dropdown mb-4",children:(0,l.jsx)(j.gN,{component:C.Z,customStylesProps:E.gb,name:"status",optionLabel:"title",optionValue:"id",isSearchable:!0,isCached:!0,placeholder:d("select_status"),reverse:!0,loadOptionsUrl:"/".concat(s,"/my/company/case_statuses/"),loadOptionsParams:function(e){return{extra:{search:e,is_staff:r?"false":"true"}}},loadOptionsKey:""})}),t.status&&(0,l.jsx)("div",{className:"react-select-dropdown",children:(0,l.jsx)(j.gN,{component:C.Z,customStylesProps:E.gb,name:"to_case",placeholder:d("select_case"),optionLabel:function(e){return"".concat(e.case_number," - ").concat(e.title)},optionValue:"id",isSearchable:!0,isClearable:!0,loadOptionsKey:"results",loadOptionsUrl:"/".concat(s,"/cases/as_business/"),loadOptionsParams:function(e){return{limit:50,extra:{status:y()(t,"status.id"),search:e,client_company:r?"":s}}}})}),(0,l.jsxs)("div",{className:"mt-4 flex items-center justify-end",children:[(0,l.jsx)(i.zx,{variant:"outlined",type:"button",onClick:n,children:d("cancel")}),(0,l.jsx)(i.zx,{variant:"contained",type:"submit",className:"!ml-4",color:"primary",disabled:!t.status||!t.to_case||a,children:d("add")})]}),a&&(0,l.jsx)(o.aN,{tiled:!0})]})}})})}var ie=n(80180);function oe(e){var t=e.caseId,n=e.closeCaseDetailModal,a=e.recurringId,s=(0,g.m)(),c=s.isStaff,d=s.companyId,m=s.setCaseType,f=(0,v.dF)(),h=f.WhiteModal,x=f.open,b=f.modalHandler,_=(0,v.Kx)().changeUrlParams,C=(0,v.eC)().showNotification,E=(0,k.$G)().t,S=(0,r.useState)(null),j=(0,p.Z)(S,2),w=j[0],N=j[1],I=(0,r.useState)(),T=(0,p.Z)(I,2),A=T[0],D=T[1],M=(0,r.useState)(!1),O=(0,p.Z)(M,2),R=O[0],L=O[1],U=function(){return D(null)},F=(0,ie.v)({entity:"linked-cases",name:"AllLinkedCases-".concat(t),method:"delete",url:"/".concat(d,"/cases/as_business/").concat(t,"/from_to/").concat(null==w?void 0:w.id,"/"),deleteData:!0,id:null==w?void 0:w.id,cb:{success:function(e){L(!1),N(null),C({message:"Case has been unlinked!",variant:"success"})},error:function(e){L(!1)},finally:function(){}}}).handleRequest;return(0,l.jsx)(u,{fieldName:E(c?"link_existing_client":"link_existing_staff"),align:"top",children:(0,l.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,l.jsx)(i.zx,{color:"primary",variant:"contained",onClick:b,className:"!mr-4 !mb-2 !text-white",disabled:!!a,children:E("add_link")}),(0,l.jsx)(h,{handleModalOpen:b,open:x,maxWidth:446,children:(0,l.jsx)(se,{caseId:t,modalHandler:b})}),(0,l.jsx)(te.Z.All,{entity:"linked-cases",name:"AllLinkedCases-".concat(t),url:"/".concat(d,"/cases/as_business/").concat(t,"/from_to/"),params:{page:1,limit:50,extra:{from_case:t}},children:function(e){var t=e.items,n=e.isFetched;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"-my-2",children:t.map((function(e,t){return(0,l.jsx)(i.Af,{label:"#".concat(y()(e,"case_number")),onDelete:function(){N(e)},variant:"outlined",color:"primary",onClick:function(){D(e)},className:"!my-2 !mr-2"},e.id)}))}),!n&&(0,l.jsx)(i.Od,{})]})}}),(0,l.jsx)(o.sm,{featureHandler:function(){L(!0),F()},isOpen:Boolean(w),toggleHandler:function(){return N(null)},title:"Are you sure to unlink this case?",hasLoader:!0,isLoading:R}),(0,l.jsx)(o.sm,{featureHandler:function(){return e=A,U(),n(),m(c?Z.Z.CLIENT:Z.Z.STAFF),void _({status:e.status_id,case:e.entity_id});var e},isOpen:Boolean(A),toggleHandler:U,title:"Are you sure to open the linked case?"})]})})}function le(e){var t=e.dataFields,n=(0,k.$G)().t;return Array.isArray(t)?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-5 pl-4 text-2xl font-bold dark:text-white",children:n("case_chat_data_fields")}),(0,l.jsx)(i.iA,{children:(0,l.jsx)(i.RM,{children:t.map((function(e){var t=(0,p.Z)(e,2),n=t[0],a=t[1];return(0,l.jsxs)(i.SC,{children:[(0,l.jsx)(i.pj,{children:(0,l.jsx)("strong",{children:n})}),(0,l.jsx)(i.pj,{children:a})]},n)}))})})]}):(0,l.jsx)("h1",{children:"Sorry. Wrong Format."})}},15690:function(e,t,n){"use strict";n.d(t,{z:function(){return T}});var a=n(1413),r=n(72791),s=n(42124),i=n(13925),o=n(35741),l=n(27945),c=n(40084),u=n(15861),d=n(29439),m=n(64687),p=n.n(m),f=n(9478),h=n(80266),g=n(16178);var v=n(25262),x=n(26181),y=n.n(x),b=n(66128),_=n(66364),C=n.n(_);var E=n(53148),S=n(70629),Z=n(97892),j=n.n(Z),k=n(17173),w=n(80184),N=n(83027);function I(e){var t=e.caseId,n=e.closeCaseDetailModal,m=(0,c.m)(),x=m.companyId,_=m.caseType,Z=function(e){var t=e.caseId,n=e.closeCaseDetailModal,a=(0,c.m)(),s=a.caseType,i=a.companyId,o=(0,r.useState)(null),l=(0,d.Z)(o,2),m=l[0],v=l[1],x=(0,g.eC)().showNotification,y=(0,r.useState)(!1),b=(0,d.Z)(y,2),_=b[0],C=b[1],E=(0,r.useState)(null),S=(0,d.Z)(E,2),Z=S[0],j=S[1],k="/".concat(i,"/cases/as_business/").concat(t,"/members/"),w=(0,r.useState)(!1),N=(0,d.Z)(w,2),I=N[0],T=N[1],A=(0,r.useState)({isDateTimeSet:!1,sub_dep:{},depHierarchy:{},subDepsForHierarchy:{},consistedSubDeps:{},clearDepartment:!1,recurring:null,recurringStatus:"",recurringText:"",recurringOptions:[],recurOption:"CUSTOM_VALUE",dropdownPresetOptions:["DAILY","WEEKLY_ON_WEEKDAY","MONTHLY_ON_WEEKDAY","ANNUALLY_ON_DATE","EVERY_WEEKDAY"],showCustomRecurring:!1,updateLoading:!1,isCaseDataFieldsOpen:!1}),D=(0,d.Z)(A,2),M=D[0],O=D[1],R={extra:{}};s===f.Z.STAFF&&(R.extra={client_company:i});var L=(0,g.bK)({url:"/".concat(i,"/cases/as_business/").concat(t,"/actions_on_assignees/"),values:{assignee_ids:null!=Z&&Z.length?null==Z?void 0:Z.map((function(e){var t;return null!=e&&e.user?null==e||null===(t=e.user)||void 0===t?void 0:t.id:null==e?void 0:e.id})):[]},method:"put",cb:{success:function(e,t){C(!1),n()},error:function(e,t){var n,a;C(!1),x({message:null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message,variant:"error"})}}}).fetchData,U=(0,g.bK)({url:"/".concat(i,"/cases/as_business/").concat(t,"/actions_on_access_list/"),values:{access_list:null!=m&&m.length?null==m?void 0:m.map((function(e){var t;return null!=e&&e.user?null==e||null===(t=e.user)||void 0===t?void 0:t.id:null==e?void 0:e.id})):[]},method:"put",cb:{success:function(e,t){L()},error:function(e,t){var n,a;C(!1),x({message:null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail,variant:"error"})}}}).fetchData;return{params:R,state:M,setState:O,getCaseAccessMembers:(0,r.useCallback)((0,u.Z)(p().mark((function e(){var t,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.hi.request.get((0,h.kB)("".concat(k,"?page_size=30"),{}));case 2:t=e.sent,n=t.data,v(n);case 5:case"end":return e.stop()}}),e)}))),[k]),members:m,assignedUsers:Z,setAssignedUsers:j,setAssignRequired:T,assignRequired:I,setMembers:v,caseAssignListChangeRequest:L,caseAccessListChangeRequest:U,setLoading:C,loading:_}}({caseId:t,closeCaseDetailModal:n}),N=Z.params,I=Z.state,T=Z.setState,A=Z.getCaseAccessMembers,D=Z.members,M=Z.assignedUsers,O=Z.setAssignedUsers,R=Z.setMembers,L=(Z.caseAccessListChangeRequest,Z.loading),U=Z.setLoading,F=Z.setAssignRequired,P=Z.assignRequired,B=(0,k.$G)().t,H=(0,g.r1)().updateEntities,G=(0,g.eC)().showNotification,K=I.clearDepartment,V=I.depHierarchy,Y=I.subDepsForHierarchy,q=I.consistedSubDeps;return(0,w.jsx)(w.Fragment,{children:t?(0,w.jsx)(s.M,{utils:i.Z,children:(0,w.jsx)("div",{className:"font-poppins",children:(0,w.jsx)(o.Z.One,{id:String(t),relations:"",entity:"case-detail",name:"CaseDetail-".concat(t),primaryKey:function(){return String(t)},url:"/v2/".concat(x,"/cases/").concat(t,"/"),params:{extra:(0,a.Z)((0,a.Z)({},null==N?void 0:N.extra),{},{assignees:"true",members:"true"})},children:function(e){var r,s,i,o=e.item,c=e.isFetched,u=(0,a.Z)({},o),d=null!==(r=null==u?void 0:u.case)&&void 0!==r?r:{},m=null!==(s=null==u?void 0:u.members)&&void 0!==s?s:[],p=null!==(i=null==u?void 0:u.assignees)&&void 0!==i?i:[],g=d.title,Z=d.case_number,k=y()(d,"client_company.name"),N="".concat(y()(d,"client_user.first_name","")," ").concat(y()(d,"client_user.last_name","")),Q="".concat(y()(d,"created_by.first_name","")," ").concat(y()(d,"created_by.last_name","")),z=h.XV.toLastTime(y()(d,"created_date"),!0,!1),W=null==d?void 0:d.department,J=null==d?void 0:d.sub_department,X=null==d?void 0:d.status,$=null==d?void 0:d.complete_status,ee=null==d?void 0:d.due_date,te=d.priority,ne={name:(0,h.fm)(te?null==te?void 0:te.toLowerCase():""),code:te},ae=d.recurring_id,re=null==d?void 0:d.rate,se=y()(d,"created_by.id"),ie=d.related_to;return(0,w.jsx)(l.Z.Main,{id:t,entity:"cases",name:"Case-".concat(t),url:"/".concat(x,"/cases/as_business/").concat(t,"/case_detail/"),method:"patch",primaryKey:"id",sendAsFormData:!1,normalizeData:function(e){return e},updateData:!0,fields:[{name:"department",value:C()(V)?K?null:W:V,onSubmitValue:function(e,t){return function(e){var t=[];if("10000"in e.dep_hierarchy){var n=(0,a.Z)({},e.dep_hierarchy);delete n[1e4],t=n}else t=Object.keys(e.dep_hierarchy);return t.length>=2?y()(e,"dep_hierarchy.".concat(t[t.length-1]))?{id:t[t.length-2]}:t[t.length-3]?{id:t[t.length-3]}:{id:y()(e,"department.id")}:{id:y()(e,"department.id")}}(t)},onSubmitKey:"",required:!0,type:"object"},{name:"sub_department",onSubmitValue:function(e,t){var n=function(e){var t=[];if("10000"in e.dep_hierarchy){var n=(0,a.Z)({},e.dep_hierarchy);delete n[1e4],t=n;var r=Object.keys(n);if(!C()(n)&&1===r.length)return{id:r[0]}}else t=Object.keys(e.dep_hierarchy).filter((function(t){return e.dep_hierarchy[t]}));return t.length>0?y()(e,"dep_hierarchy.".concat(t[t.length-1]))||1===t.length?{id:t[t.length-1]}:{id:t[t.length-2]}:{}}(t);return"1"===n.id?{}:n},value:J||{},required:_===f.Z.CLIENT&&!C()(Y),onSubmitKey:"",type:"object"},{name:"dep_hierarchy",value:Y,onSubmitValue:function(){return null},onSubmitKey:"",type:"object"},{name:"status",value:X,onSubmitValue:function(e){return y()(e,"id")},onSubmitKey:"",type:"object"},{name:"priority",value:ne,onSubmitValue:function(e){return y()(e,"code")},onSubmitKey:"",type:"object"},{name:"due_date",onSubmitValue:function(e){return I.isDateTimeSet?j()(e).utc().format():null},value:ee,onSubmitKey:""},{name:"complete_status",onSubmitValue:function(e){return I.isDateTimeSet?y()(e,"id"):null},required:I.isDateTimeSet,value:$,onSubmitKey:"",type:"object"},{name:"note",value:y()(d,"note"),onSubmitKey:""},{name:"access_list",value:m,onSubmitValue:function(e){return null!=e&&e.length?null==e?void 0:e.map((function(e){var t;return null!=e&&e.user?null==e||null===(t=e.user)||void 0===t?void 0:t.id:null==e?void 0:e.id})):[]},onSubmitKey:"",required:!0,type:"array"},{name:"assignee_ids",value:p,onSubmitValue:function(e){return null!=e&&e.length?null==e?void 0:e.map((function(e){var t;return null!=e&&e.user?null==e||null===(t=e.user)||void 0===t?void 0:t.id:null==e?void 0:e.id})):[]},onSubmitKey:"",required:!0,type:"array"}],onSuccess:function(e,a){H({entity:"case-detail",entityId:t,updatingData:{case:e}}),U(!1),n(),a(),G({message:B("update_success"),variant:"success"})},onError:function(e,t){G({message:B("something_went_wrong"),variant:"error"}),t()},children:function(e){var a,r,s=e.values,i=e.isSubmitting,o=e.setFieldValue,l=e.setFieldTouched;e.errors;return(0,w.jsxs)("div",{className:"case-details react-select-dropdown",children:[(0,w.jsx)("h3",{className:"mb-2 text-xl font-bold",children:B("case_details")}),(0,w.jsx)(v.HX,{fieldName:B("case_title"),children:g}),(0,w.jsx)(v.HX,{fieldName:B("case_number"),children:Z}),(0,w.jsx)(v.HX,{fieldName:B("client"),children:k}),(0,w.jsx)(v.HX,{fieldName:B("report_by"),children:N}),(0,w.jsx)(v.HX,{fieldName:B("added_by"),children:Q}),(0,w.jsx)(v.HX,{fieldName:B("created_day"),children:z}),c?(0,w.jsx)(v.Sn,{setState:T,department:W,sub_department:J,depHierarchy:I.depHierarchy,setFieldValue:o,subDepsForHierarchy:Y,consistedSubDeps:q,values:s,recurringId:ae,setMembers:R,setAssignedUsers:O,caseId:t,setAssignRequired:F}):(0,w.jsx)(E.Od,{}),(0,w.jsx)(v.HX,{fieldName:B("status"),children:(0,w.jsx)(v.Ir,{})}),(0,w.jsx)(v.HX,{fieldName:B("priority"),children:(0,w.jsx)(v.OY,{recurringId:ae})}),S.tq?(0,w.jsx)(v.HX,{fieldName:B("case_chat_data_fields"),align:"top",children:(0,w.jsx)(v.j8,{dataFields:d.data_field})}):null,(0,w.jsx)(v.HX,{fieldName:B("staff_access"),align:"top",children:(0,w.jsx)(v.IY,{setFieldValue:o,staffAccessList:s.access_list,members:D,setMembers:R,caseId:t})}),(0,w.jsx)(v.HX,{fieldName:B("assignee_members"),align:"top",children:(0,w.jsx)(v.UE,{caseAssigneeList:s.assignee_ids,caseId:t,staffAccessList:s.access_list,setFieldValue:o,getCaseAccessMembers:A,setAssignedUsers:O,assignedUsers:M,department:s.department,subDepartments:null==s?void 0:s.dep_hierarchy,assignRequired:P})}),(0,w.jsx)(v.HX,{fieldName:B("expected_time_of_completion"),align:"top",children:(0,w.jsx)(v.cw,{state:I,setState:T,setFieldValue:o,dueDateValue:null==s?void 0:s.due_date,setFieldTouched:l,recurringId:ae})}),ae?(0,w.jsx)(v.N,{recurringId:ae,state:I,setState:T}):null,(0,w.jsx)(v.Gf,{rate:re}),(0,w.jsx)(v.ut,{}),(0,w.jsx)(v.c$,{caseCreatorId:se,relatedTo:ie,closeCaseDetailModal:n}),(0,w.jsx)(v._S,{caseId:t,closeCaseDetailModal:n,caseTitle:g}),(0,w.jsx)(v.bI,{caseId:t,closeCaseDetailModal:n,recurringId:ae}),(0,w.jsxs)("div",{className:"btn-row mt-6 flex justify-end",children:[(0,w.jsx)(b.zx,{type:"button",onClickHandler:n,children:B("cancel")}),(0,w.jsx)(b.zx,{disabled:P&&!(null!=s&&null!==(a=s.assignee_ids)&&void 0!==a&&a.length)||!(null!=s&&null!==(r=s.access_list)&&void 0!==r&&r.length),type:"submit",className:"ml-4 hover:!text-primary",variant:"contained",children:B("update")})]}),(i||L)&&(0,w.jsx)(b.aN,{tiled:!0,withOverlay:!0})]})}})}})})}):null})}function T(e){return(0,w.jsx)(b.SV,{children:(0,w.jsx)(I,(0,a.Z)({},e))})}j().extend(N)},52033:function(e,t,n){"use strict";n.d(t,{P:function(){return g}});var a=n(1413),r=n(29439),s=n(72791),i=n(76188),o=n(37099),l=n(26181),c=n.n(l),u=n(84200),d=n(80266),m=n(40084),p=n(9478),f=n(17173),h=n(80184),g=s.forwardRef((function(e,t){var n,l=e.subdep,g=e.companyId,v=e.values,x=e.setFieldValue,y=e.setFormState,b=e.titleRef,_=e.subDepIdsRef,C=e.setAssigneeTypeValue,E=void 0===C?function(){}:C,S=e.isDisabled,Z=e.label,j=void 0===Z?null:Z,k=e.labelClasses,w=void 0===k?"":k,N=s.useRef(null),I=(0,s.useState)(!1),T=(0,r.Z)(I,2),A=T[0],D=T[1],M=(0,f.$G)().t;(0,s.useEffect)((function(){var e;null==N||null===(e=N.current)||void 0===e||e.focus()}),[l]);var O=!(null!=_&&_.current.includes(+l)),R=(0,m.m)().caseType,L=p.Z.CLIENT===R;(0,s.useEffect)((function(){A&&D(!1)}),[A]);var U=1===Object.keys(null==v?void 0:v.sub_department).length&&Object.keys(null==v?void 0:v.sub_department)[0],F=(null==v?void 0:v.department)&&("1"in(null==v?void 0:v.sub_department)||!(null!=v&&v.sub_department)||!!U&&!(null!=v&&null!==(n=v.sub_department)&&void 0!==n&&n[+U]))&&L;return(0,h.jsxs)("div",{className:"react-select-dropdown mb-4",children:[!A&&(0,h.jsx)(i.gN,{component:o.Z,customStylesProps:d.gb,name:"sub_department[".concat(l,"]"),label:j,labelClasses:w,placeholder:M("select_sub_department"),optionLabel:"name",optionValue:"id",isSearchable:!0,isClearable:!0,isCached:!0,isDisabled:S,reFocusAfterChange:!0,openMenuOnFocus:O,innerRef:N,loadOptionsKey:"results",loadOptionsUrl:"/".concat(g,"/departments/").concat(c()(v,"sub_department[".concat(l,"].department.id"),0)||Object.keys(v.sub_department)[Object.keys(v.sub_department).length-2]||c()(v,"department.id"),"/sub_departments/"),loadOptionsParams:function(e){return{extra:{search:e,ordering:"name"}}},onChange:function(e){var t,n,r,s;void 0!==b&&x("title",b.current),(0,u.jK)({values:v,subdep:l,option:e,setFieldValue:x}),null==y||y((function(t){return(0,a.Z)((0,a.Z)({},t),{},{subDepOnChangeState:e,isSubDepChanged:!0})})),setTimeout((function(){null==y||y((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isSubDepChanged:!1})}))}),200),null!==(t=_.current)&&void 0!==t&&null!==(n=t.includes)&&void 0!==n&&n.call(t,null==e?void 0:e.id)||null===(r=_.current)||void 0===r||null===(s=r.push)||void 0===s||s.call(r,null==e?void 0:e.id),E("all")},onMenuClose:function(){"1"===l&&D(!0)}}),F&&(0,h.jsx)("span",{className:"text-xs text-red-500",children:M("required_hint")})]})}))},12082:function(e,t,n){"use strict";n.d(t,{ti:function(){return F},ax:function(){return D},AN:function(){return U},DH:function(){return C},KL:function(){return A},zS:function(){return o},hf:function(){return Z},lR:function(){return H},wT:function(){return P},GY:function(){return M},yK:function(){return u}});var a=n(72791),r=n(66128),s=n(17173),i=n(80184);function o(e){var t=e.resetForm,n=(0,s.$G)().t;return(0,i.jsx)(r.ph,{resetForm:t,title:n("create_case")})}var l=n(77917),c=n(76188);function u(e){var t=e.titleRef,n=(0,a.useRef)(null),r=(0,s.$G)().t;return(0,a.useEffect)((function(){var e;null===(e=n.current)||void 0===e||e.focus()}),[]),(0,i.jsx)(c.gN,{labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"title",innerRef:function(e){return n.current=e},component:l.Kk,type:"textarea",inputElementClassNames:"!text-15px font-light text-kdark-424653 dark:text-white",placeholder:r("enter_case_title"),required:!0,onChangeHandler:function(e){t.current=e.target.value}})}var d=n(29439),m=n(37099),p=n(80266),f=n(84200),h=n(26181),g=n.n(h),v=n(52033),x=n(78192),y=n(40084),b=n(70629),_=n(9478);function C(e){var t=e.setFieldValue,n=e.titleRef,r=e.setState,o=e.data_fields_errors,l=e.data_fields_names,u=e.departmentRef,h=(e.state,e.setFormState),C=e.values,E=e.data_fields,S=e.subDepIdsRef,Z=e.setAssigneeTypeValue,j=(0,y.m)(),k=j.companyId,w=j.caseType,N=(0,s.$G)().t,I=(0,a.useState)(!1),T=(0,d.Z)(I,2),A=T[0],D=T[1],M=(0,a.useRef)(w);return(0,a.useEffect)((function(){w!==M.current&&(D(!0),M.current=w)}),[w]),(0,a.useEffect)((function(){A&&D(!1)}),[A]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"react-select-dropdown mb-4",children:!A&&(0,i.jsx)(c.gN,{component:m.Z,customStylesProps:p.gb,name:"department",placeholder:N("select_department"),optionLabel:"name",optionValue:"id",isSearchable:!b.tq,isClearable:!0,isCached:!0,openMenuOnFocus:!0,loadOptionsKey:"results",loadOptionsUrl:"/".concat(k,"/departments/"),loadOptionsParams:function(e){return{extra:{search:e,is_staff:w===_.Z.STAFF?"true":"false",ordering:"name"}}},onChange:function(e){(0,f.RF)({option:e,setFieldValue:t,titleRef:n,setState:r,data_fields_errors:o,data_fields_names:l}),(0,f.W1)({departmentRef:u,option:e,setFieldValue:t}),Z("all")}})}),g()(C,"department")&&g()(C,"department.sub_departments_count")>0&&(0,i.jsx)(i.Fragment,{children:Object.keys(C.sub_department).map((function(e){return(0,i.jsx)(v.P,{subdep:e,companyId:k,values:C,setFieldValue:t,setFormState:h,titleRef:n,subDepIdsRef:S,setAssigneeTypeValue:Z},e)}))}),E.length>0&&(0,i.jsx)(x.g,{allProps:{data_fields:E,setState:r,handleCaseInputChange:f.I$,setFieldValue:t,data_fields_names:l,titleRef:n}})]})}var E=n(90218),S=n(28182);function Z(e){var t=e.isDisabled,n=void 0!==t&&t,a=(0,y.m)().companyId,r=(0,s.$G)().t,o=(0,E.K)().isRTL;return(0,i.jsxs)("div",{className:"react-select-dropdown mb-4 flex items-center",children:[(0,i.jsx)("label",{className:(0,S.Z)("mb-2 block text-xs font-light text-kgrey-welcome",{"mr-4":!o,"ml-4":o}),children:(0,i.jsx)("span",{children:r("priority_hint")})}),(0,i.jsx)(c.gN,{className:"w-full",component:m.Z,customStylesProps:p.gb,name:"priority",placeholder:r("select_priority"),optionLabel:"name",optionValue:"code",isSearchable:!0,isCached:!0,maxMenuHeight:150,isDisabled:n,loadOptionsUrl:"/".concat(a,"/cases/as_business/priorities/"),loadOptionsParams:function(e){return{extra:{search:e}}},loadOptionsKey:"choices"})]})}var j=n(1413),k=n(16178),w=n(53148),N=n(86053),I=n(97892),T=n.n(I);function A(e){var t=e.state,n=e.setState,r=e.setFieldValue,o=e.values,u=(0,y.m)(),d=u.companyId,f=u.caseType,h=u.isDarkMode,g=(0,k.h9)({due_date_toggle:!1}),v=g.checked,x=g.handleChange,b=(0,s.$G)().t;return(0,a.useEffect)((function(){if(v.due_date_toggle){var e=T()().hour(8).minute(0).second(0).add(1,"days").format();r("due_date",e),n((function(e){return(0,j.Z)((0,j.Z)({},e),{},{isDateTimeSet:!0})}))}else r("due_date",null),n((function(e){return(0,j.Z)((0,j.Z)({},e),{},{isDateTimeSet:!1})}))}),[v.due_date_toggle]),(0,i.jsxs)("div",{className:"react-select-dropdown mb-4",children:[(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsx)(w.D8,{control:(0,i.jsx)(N.k,{checked:v.due_date_toggle,onChange:x,name:"due_date_toggle"}),label:b("expected_time_of_completion")})}),v.due_date_toggle&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"my-4 flex",children:[(0,i.jsx)("div",{className:"flex-grow ".concat(t.isDateTimeSet?"date-set":"date-unset"),children:(0,i.jsx)(c.gN,{component:l.mO,name:"due_date",inputVariant:"outlined",size:"small",dateValue:null==o?void 0:o.due_date,fullWidth:!0,emptyLabel:T()().hour(8).minute(0).add(1,"days").format("ddd, MMM DD, YYYY, h:mm:ss a"),isDateTimeSet:t.isDateTimeSet,onChange:function(){n((function(e){return(0,j.Z)((0,j.Z)({},e),{},{isDateTimeSet:!0})}))}})}),t.isDateTimeSet&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:(0,S.Z)("mx-1.5 min-w-[150px]"),children:(0,i.jsx)(c.gN,{component:m.Z,customStylesProps:(0,j.Z)((0,j.Z)({},p.gb),{},{menu:function(e){return(0,j.Z)((0,j.Z)({},e),{},{background:h?"#424242":"hsl(0, 0%, 100%)"})},singleValue:function(e){return(0,j.Z)((0,j.Z)({},e),{},{color:h?"#fff":"#424653"})},control:function(e){return(0,j.Z)((0,j.Z)({},e),{},{background:h?"#424242":"hsl(0, 0%, 100%)"})}}),name:"complete_status",optionLabel:"title",optionValue:"id",isSearchable:!0,isCached:!0,placeholder:b("to_status_hint"),reverse:!0,loadOptionsUrl:"/".concat(d,"/my/company/case_statuses/"),loadOptionsParams:function(e){return{extra:{search:e,is_staff:f===_.Z.STAFF?"true":""}}},loadOptionsKey:""})})})]})})]})}function D(e){var t,n=e.isSubmitting,a=e.values,r=e.isThereDataFieldsError,o=e.memberingType,l=e.membersShow,c=e.scrollToRequiredElement,u=e.handleCancelClick,d=(0,y.m)().caseType,m=(0,s.$G)().t,p=d===_.Z.CLIENT&&a.sub_department&&"1"in g()(a,"sub_department",{}),f="Custom"===o&&(0===(null==a||null===(t=a.exception_member_list)||void 0===t?void 0:t.length)||null===(null==a?void 0:a.exception_member_list))&&l,h=n||p||r||f;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:"mr-5 rounded-lg border border-kgrey  px-5 py-2 text-kgrey transition hover:border-primary hover:text-primary focus:ring focus:ring-primary",onClick:u,type:"button",children:m("cancel")}),(0,i.jsx)("button",{className:"rounded-lg bg-primary-dark px-5 py-2 text-white border border-transparent hover:border-primary-dark transition-colors hover:bg-white hover:text-primary-dark focus:ring focus:ring-primary disabled:pointer-events-none disabled:opacity-50 dark:text-white dark:hover:bg-primary-300 dark:focus:ring-primary-300",type:"submit",onClick:c,disabled:h,children:m("create_case")})]})}function M(){var e=(0,y.m)(),t=e.caseType,n=e.setCaseType,a=(0,s.$G)().t;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"switch-toggle-custom switch-ios mb-4 font-poppins",children:[(0,i.jsx)("input",{id:"client",name:"casetype",type:"radio",defaultChecked:t===_.Z.CLIENT,tabIndex:-1}),(0,i.jsx)("label",{htmlFor:"client",onClick:function(){return n(_.Z.CLIENT)},children:a("client")}),(0,i.jsx)("input",{id:"Staff",name:"casetype",type:"radio",defaultChecked:t===_.Z.STAFF,tabIndex:-1}),(0,i.jsx)("label",{htmlFor:"Staff",onClick:function(){return n(_.Z.STAFF)},children:a("staff")}),(0,i.jsx)("a",{})]})})}var O=n(66364),R=n.n(O),L=a.forwardRef((function(e,t){var n,s,o=e.companyId,l=e.setFieldValue,u=e.titleRef,f=e.setState,h=e.state,v=e.values,x=(0,a.useState)(!1),y=(0,d.Z)(x,2),_=y[0],C=y[1],E=(0,a.useRef)(null===(n=v.client_company)||void 0===n?void 0:n.id);return(0,a.useEffect)((function(){var e;(null===(e=v.client_company)||void 0===e?void 0:e.id)!==E.current&&(C(!0),E.current=h.type)}),[null===(s=v.client_company)||void 0===s?void 0:s.id]),(0,a.useEffect)((function(){_&&C(!1)}),[_]),(0,i.jsx)(i.Fragment,{children:!_&&(0,i.jsxs)("div",{className:"react-select-dropdown mb-4",children:[(0,i.jsxs)("label",{className:"ml-6 mb-2 block text-xs font-light text-kgrey-welcome",children:[(0,i.jsx)("span",{children:"Client User Name"}),(0,i.jsx)(r.jH,{})]}),(0,i.jsx)(c.gN,{component:m.Z,customStylesProps:p.gb,name:"client_user",placeholder:"Client User Name Here",optionLabel:function(e){return"".concat(null==e?void 0:e.first_name," ").concat(null==e?void 0:e.last_name)},optionValue:"id",isSearchable:!b.tq,isClearable:!0,isCached:!0,autoComplete:"off",loadOptionsKey:"results",loadOptionsUrl:"/".concat(o,"/client_companies/").concat(g()(v,"client_company.id"),"/employee/"),loadOptionsParams:function(e){return{extra:{search:e}}},onChange:function(){l("title",u.current),f((function(e){return(0,j.Z)((0,j.Z)({},e),{},{client_user:{}})}))}})]})})}));function U(e){var t=e.values,n=e.client_company,a=e.setState,r=e.setFieldValue,o=e.state,l=e.titleRef,u=(0,y.m)(),d=u.caseType,f=u.companyId,h=(0,s.$G)().t;return(0,i.jsx)(i.Fragment,{children:d===_.Z.CLIENT&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"react-select-dropdown mb-4",children:(0,i.jsx)(c.gN,{component:m.Z,customStylesProps:p.gb,name:"client_company",placeholder:h("client_business_name_placeholder"),optionLabel:function(e){return e.is_individual&&e.owner?"".concat(null==e?void 0:e.owner.first_name," ").concat(null==e?void 0:e.owner.last_name," (").concat(e.name,")"):e.name},optionValue:"id",isSearchable:!b.tq,isClearable:!0,isCached:!0,loadOptionsKey:"results",loadOptionsUrl:"/".concat(f,"/client_companies/"),loadOptionsParams:function(e){return{extra:{search:e}}},onChange:function(e){!g()(t,"client_company")||!g()(t,"client_user")||n&&e&&n.id===e.id||(a((function(e){return(0,j.Z)((0,j.Z)({},e),{},{client_user:{}})})),r("client_user",null)),null===e?r("client_user",null):(a((function(t){return(0,j.Z)((0,j.Z)({},t),{},{selected_client_company:e})})),a((function(t){return(0,j.Z)((0,j.Z)({},t),{},{client_company:e})})),R()(o.client_user)||r("client_user",o.client_user)),setTimeout((function(){r("title",l.current)}),0)}})}),g()(t,"client_company")&&(0,i.jsx)(L,{companyId:f,setFieldValue:r,titleRef:l,setState:a,state:o,values:t})]})})}function F(e){var t=e.values,n=e.assigneeTypeValue,r=(e.setAssigneeTypeValue,(0,a.useState)(!1)),o=(0,d.Z)(r,2),l=o[0],u=o[1],h=(0,s.$G)().t,v=(0,E.K)().isRTL,x=(0,y.m)().companyId,b=((0,k.eC)().showNotification,(0,a.useRef)("all"));return(0,a.useEffect)((function(){n!==b.current&&(u(!0),b.current=n)}),[n,t]),(0,a.useEffect)((function(){l&&u(!1)}),[l]),(0,i.jsxs)("div",{className:"react-select-dropdown mb-4 flex items-center",children:[(0,i.jsx)("label",{className:(0,S.Z)("mb-2 block text-xs font-light text-kgrey-welcome",{"mr-4":!v,"ml-4":v}),children:(0,i.jsx)("span",{children:h("assign")})}),(0,i.jsx)("div",{className:"w-full",children:!l&&(0,i.jsx)(c.gN,{className:"w-full",component:m.Z,customStylesProps:p.gb,name:"assignee_ids",placeholder:h("select_user_to_assign"),optionLabel:function(e){return"".concat(g()(e,"user.first_name","")," ").concat(g()(e,"user.last_name",""))},optionValue:"id",loadOptionsUrl:"all"===n?"/".concat(x,"/members/"):"/".concat(x,"/departments/").concat((0,f.mf)(t.department,t.sub_department),"/users/"),loadOptionsParams:function(e){return{extra:{search:e}}},isSearchable:!0,maxMenuHeight:220,isClearable:!0,isMulti:!0,loadOptionsKey:"results",isCached:!0,onChange:function(e){}})})]})}function P(e){e.state;var t=e.setState,n=(0,y.m)(),r=n.caseType,o=n.companyId,l=(0,s.$G)().t,u=(0,E.K)().isRTL,f=(0,a.useState)(!1),h=(0,d.Z)(f,2),g=h[0],v=h[1],x=(0,a.useRef)(r);return(0,a.useEffect)((function(){r!==x.current&&(v(!0),x.current=r)}),[r]),(0,a.useEffect)((function(){g&&v(!1)}),[g]),(0,i.jsxs)("div",{className:"react-select-dropdown mb-4 flex  items-center",children:[(0,i.jsx)("label",{className:(0,S.Z)("mb-2 block text-xs font-light text-kgrey-welcome",{"mr-4":!u,"ml-4":u}),children:(0,i.jsx)("span",{children:l("status_hint")})}),!g&&(0,i.jsx)(c.gN,{className:"w-full",component:m.Z,customStylesProps:p.gb,name:"status",optionLabel:"title",optionValue:"id",isSearchable:!0,isCached:!0,maxMenuHeight:200,placeholder:l("select_status"),reverse:!0,loadOptionsUrl:"/".concat(o,"/my/company/case_statuses/"),onChange:function(e){t((function(t){return(0,j.Z)((0,j.Z)({},t),{},{status:e})}))},loadOptionsParams:function(e){return{extra:{search:e,is_staff:r===_.Z.STAFF?"true":""}}},loadOptionsKey:""})]})}var B=[{title:"Extra"},{title:"Custom"}];function H(e){var t=e.state,n=e.setState,o=e.setFieldValue,l=e.setFormState,u=(0,k.h9)({staff_access_toggle:!1}),d=u.checked,f=u.handleChange,h=(0,y.m)().companyId,v=(0,s.$G)().t,x=t.memberingType;(0,a.useEffect)((function(){l((function(e){return(0,j.Z)((0,j.Z)({},e),{},{membersShow:d.staff_access_toggle})}))}),[d.staff_access_toggle]);var b="Extra"===x?"(".concat(v("optional_hint"),")"):"";return(0,i.jsxs)("div",{className:"react-select-dropdown mb-4",children:[(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsx)(w.D8,{control:(0,i.jsx)(N.k,{checked:d.staff_access_toggle,onChange:f,name:"staff_access_toggle"}),label:v("modify_staff_access_list")})}),d.staff_access_toggle&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"my-3.5 -mr-4 flex",children:B.map((function(e){return(0,i.jsx)("button",{className:(0,S.Z)("mr-4 w-1/2 rounded-10 py-1 text-base ring-primary transition focus:ring",{"bg-primary-200":e.title===x,"bg-kgrey-filter-bg dark:bg-kdark":e.title!==x}),type:"button",onClick:function(){return t=e.title,o("member_list",[]),o("exception_member_list",[]),void n((function(e){return(0,j.Z)((0,j.Z)({},e),{},{memberingType:t})}));var t},children:v(e.title.toLowerCase())},e.title)}))}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"ml-6 mb-2 block text-xs font-light text-kgrey-welcome",children:[(0,i.jsx)("span",{children:v("staff_access")}),"Custom"===x&&(0,i.jsx)(r.jH,{})]}),(0,i.jsx)(c.gN,{component:m.Z,customStylesProps:p.gb,name:"".concat("Extra"===x?"member_list":"exception_member_list"),placeholder:v("select_staff",{calculatedStaffAccessType:b}),optionLabel:function(e){return"".concat(g()(e,"user.first_name","")," ").concat(g()(e,"user.last_name",""))},optionValue:"id",isSearchable:!0,isClearable:!0,isMulti:!0,isCached:!0,loadOptionsKey:"results",loadOptionsUrl:"/".concat(h,"/members/"),loadOptionsParams:function(e){return{extra:{search:e}}}})]})]})]})}},60762:function(e,t,n){"use strict";n.d(t,{t:function(){return E}});var a=n(4942),r=n(1413),s=n(29439),i=n(72791),o=n(97892),l=n.n(o),c=n(21658),u=n(28829),d=n(12692),m=n(93188),p=n(51859),f=n(26513),h=n(28912),g=n(92475),v=n(94135),x=n(66828),y=n(17173),b=n(19053),_=n(80184);function C(e){var t=e.selectedTime,n=e.handleInput,a=e.repeat_every,s=e.repeat_type,i=e.repeat_types,o=e.weekDays,l=e.recurrState,c=e.handleWeekdayClick,C=e.month_repeat_type,E=e.monthItems,S=e.selectedDate,Z=e.handleDateChange,j=e.occurrences,k=e.onCloseRecurrDialog,w=e.handleRecurrSubmit,N=e.end_type,I=e.setSelectedTime,T=void 0===I?function(){}:I,A=e.editMode,D=void 0!==A&&A,M=e.setFormState,O=void 0===M?function(){}:M,R=(0,y.$G)(),L=R.t,U=R.i18n;return(0,_.jsxs)("div",{className:"case-form recurr-options",children:[D&&(0,_.jsxs)("div",{className:"case-form__input-row mb-5",children:[(0,_.jsx)("div",{className:"text-dm mb-1.5 mb-2.5 mr-2.5  text-kgrey",children:L("time")}),(0,_.jsx)("div",{className:"case-form__input-wrapper",children:(0,_.jsx)(u.j,{variant:"inline",value:t,onChange:T,inputVariant:"outlined",size:"small",autoOk:!0})})]}),(0,_.jsxs)("div",{className:"case-form__input-row  mb-5",children:[(0,_.jsx)("div",{className:"text-dm mb-1.5 mb-2.5 text-kgrey ",children:L("repeat_every")}),(0,_.jsxs)("div",{className:"case-form__input-wrapper flex items-center",children:[(0,_.jsx)("div",{className:"recurr-options__rep-input-wr mr-2.5",children:(0,_.jsx)(m.Z,{variant:"outlined",fullWidth:!0,autoComplete:"off",name:"repeat_every",size:"small",type:"number",onChange:n,value:a>0?a:1})}),(0,_.jsx)("div",{className:"recurr-options__rep-select-wr",children:(0,_.jsx)(m.Z,{select:!0,size:"small",value:s,name:"repeat_type",onChange:n,variant:"outlined",children:i.map((function(e){return(0,_.jsx)(p.Z,{value:e.code,children:a>1&&"EN"===U.language?"".concat(e.name,"s"):L((0,b.u)(e.name))},e.code)}))})})]})]}),("WEEK"===s||"MONTH"===s)&&(0,_.jsxs)("div",{className:"case-form__input-row mb-5",children:["WEEK"===s&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:"text-dm mb-1.5 text-kgrey ",children:L("repeat_on")}),(0,_.jsx)("div",{className:"case-form__input-wrapper",children:(0,_.jsx)("div",{className:"recurr-options flex items-center",children:o.map((function(e){return(0,_.jsx)("div",{className:"recurr-options__day ".concat(l[e.value]?"active":""),onClick:function(){return c(e)},children:e.name},e.value)}))})})]}),"MONTH"===s&&(0,_.jsx)("div",{className:"case-form__input-row mb-5",children:(0,_.jsx)("div",{className:"case-form__input-wrapper",children:(0,_.jsx)("div",{className:"recurr-options flex items-center",children:(0,_.jsx)("div",{className:"recurr-options__month-wr",children:(0,_.jsx)(m.Z,{SelectProps:{classes:{root:"!whitespace-normal"}},select:!0,value:C,name:"month_repeat_type",onChange:n,size:"small",variant:"outlined",children:E.map((function(e){return(0,_.jsx)(p.Z,{value:e.value,children:e.text},e.value)}))})})})})})]}),(0,_.jsxs)("div",{className:"case-form__input-row mb-5",children:[(0,_.jsx)("div",{className:"text-dm mb-1.5 text-kgrey ",children:L("ends")}),(0,_.jsx)("div",{className:"case-form__input-wrapper",children:(0,_.jsx)("div",{className:"recurr-options",children:(0,_.jsx)(x.Z,{component:"fieldset",children:(0,_.jsxs)(g.Z,{"aria-label":"gender",name:"end_type",value:N,onChange:n,children:[(0,_.jsx)("div",{className:"recurr-options__radio mb-2.5",children:(0,_.jsx)(v.Z,{value:"NEVER",control:(0,_.jsx)(h.Z,{color:"primary"}),label:L("never")})}),(0,_.jsxs)("div",{className:"recurr-options__radio mb-2.5 flex items-center",children:[(0,_.jsx)("div",{className:"recurr-options__form-radio",children:(0,_.jsx)(v.Z,{value:"DATETIME",control:(0,_.jsx)(h.Z,{color:"primary"}),label:L("date")})}),(0,_.jsx)("div",{className:"recurr-options__form-field",children:(0,_.jsx)(d.M,{disableToolbar:!0,variant:"inline",value:S,onChange:Z,format:"MMM DD, YYYY",disabled:"DATETIME"!==N,inputVariant:"outlined",size:"small",autoOk:!0})})]}),(0,_.jsxs)("div",{className:"recurr-options__radio mb-2.5 flex items-center",children:[(0,_.jsx)("div",{className:"recurr-options__form-radio",children:(0,_.jsx)(v.Z,{value:"OCCURRENCES",control:(0,_.jsx)(h.Z,{color:"primary"}),label:L("after")})}),(0,_.jsxs)("div",{className:"recurr-options__form-field recurr-options__form-field_occur flex items-center dark:bg-transparent",children:[(0,_.jsx)("div",{className:"recurr-options__occ-input",children:(0,_.jsx)(m.Z,{size:"small",autoComplete:"off",name:"occurrences",type:"number",onChange:n,value:j>0?j:1})}),(0,_.jsx)("div",{className:"recurr-options__occ-text",children:"".concat(L(j>1?"occurrences":"occurrence"))})]})]})]})})})})]}),(0,_.jsxs)("div",{className:"case-form__submit-row flex items-center justify-end",children:[(0,_.jsx)(f.Z,{variant:"contained",className:"!mr-4",onClick:function(){!D&&O((function(e){return(0,r.Z)((0,r.Z)({},e),{},{recurOption:"DAILY"})})),k()},children:L("cancel")}),(0,_.jsx)(f.Z,{className:"ml-20",variant:"contained",color:"primary",type:"button",onClick:w,children:L("done")})]})]})}function E(e){var t,n=e.currentDay,o=e.currentMonthDate,u=e.currentDayObj,d=e.onCloseRecurrDialog,m=e.stateHandler,p=e.recurringOptions,f=e.selectedTime,h=e.ON_WEEK_DAY,g=e.editMode,v=void 0!==g&&g,x=e.recurring,b=void 0===x?{}:x,E=e.updateRecurringModal,S=void 0===E?function(){}:E,Z=(0,y.$G)().t,j="day ".concat(o),k=v?{repeat_every:b.repeat_every||1,repeat_type:b.repeat_type||"DAY",monday:b.monday||!1,tuesday:b.tuesday||!1,wednesday:b.wednesday||!1,thursday:b.thursday||!1,friday:b.friday||!1,saturday:b.saturday||!1,sunday:b.sunday||!1,end_type:b.end_type||"NEVER",month_repeat_type:b.month_repeat_type||"ON_DATE",month_repeat_val:b.month_repeat_val||0,occurrences:b.occurrences||1,end_date:b.end_date||"",month_repeat_type_text:b.month_repeat_type_text||""}:{repeat_every:1,repeat_type:"DAY",monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1,recurring_text:"generate text according to options",end_type:"NEVER",month_repeat_type:"ON_DATE",month_repeat_val:0,occurrences:1,end_date:"",month_repeat_type_text:""},w=(0,i.useState)(k),N=(0,s.Z)(w,2),I=N[0],T=N[1];t=v&&b.end_date?new Date(b.end_date):new Date;var A=(0,c.Ly)(new Date("December 17, 1995 ".concat(null==b?void 0:b.on_time))),D=(0,i.useState)(t),M=(0,s.Z)(D,2),O=M[0],R=M[1],L=(0,i.useState)(b.on_time?new Date(A):new Date),U=(0,s.Z)(L,2),F=U[0],P=U[1],B=(0,i.useState)([{text:"Monthly on day 29",value:"ON_DATE"},{text:"Monthly on the last Tuesday",value:"ON_WEEK_DAY"}]),H=(0,s.Z)(B,2),G=H[0],K=H[1];(0,i.useEffect)((function(){T((function(e){return(0,r.Z)((0,r.Z)({},e),{},{end_date:l()(O).format()})}))}),[O]);var V=function(e){R(e)},Y=I.repeat_every,q=I.repeat_type,Q=I.month_repeat_type,z=I.month_repeat_val,W=I.end_type,J=I.occurrences,X=I.end_date,$=I.monday,ee=I.tuesday,te=I.wednesday,ne=I.thursday,ae=I.friday,re=I.saturday,se=I.sunday;(0,i.useEffect)((function(){var e,t=c.an[n>0?n-1:6];e=!(!v||!(t in b))&&b[t],T((function(n){return(0,r.Z)((0,r.Z)({},n),{},(0,a.Z)({},t,!v||e))})),K([{text:Z("monthly_on_the_date",{date:j}),value:"ON_DATE"},{text:Z("monthly_on_the_date",{date:h}),value:"ON_WEEK_DAY"}])}),[]),(0,i.useEffect)((function(){"ON_WEEK_DAY"===Q&&T((function(e){return(0,r.Z)((0,r.Z)({},e),{},{month_repeat_val:u.weekOrder})}))}),[Q]),(0,i.useEffect)((function(){var e;e=v&&b.end_date?new Date(b.end_date):new Date(Date.now()+63072e6),"YEAR"===q&&V(e)}),[q]);var ie=function(e){e.preventDefault();var t=(0,c.Sg)({repeat_every:Y,moment:l(),end_type:W,end_date:X,selectedTime:v?F:f,repeat_type:q,occurrences:J,monday:$,tuesday:ee,wednesday:te,thursday:ne,friday:ae,saturday:re,sunday:se,month_repeat_type:Q,ON_DATE:j,ON_WEEK_DAY:h,month_repeat_val:z,currentDay:n,days:c.an,translate:Z});m((function(e){return(0,r.Z)((0,r.Z)({},e),{},{recurring:t,recurringOptions:(0,c.e4)(p,t),recurOption:"CUSTOM_VALUE",customRecurOption:{name:t.recurring_text,value:"CUSTOM_VALUE"},recurringText:t.recurringText})})),v?S(t):d()};return(0,_.jsx)("form",{onSubmit:ie,children:(0,_.jsx)(C,{selectedTime:v?F:f,setSelectedTime:P,handleInput:function(e){var t=e.target,n=t.name,s=t.value;T((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,a.Z)({},n,s))}))},repeat_every:Y,repeat_type:q,repeat_types:c.p4,weekDays:c.c1,recurrState:I,handleWeekdayClick:function(e){T((function(t){return(0,r.Z)((0,r.Z)({},t),{},(0,a.Z)({},e.value,!I[e.value]))}))},month_repeat_type:Q,monthItems:G,selectedDate:O,handleDateChange:V,occurrences:J,onCloseRecurrDialog:d,handleRecurrSubmit:ie,editMode:v,end_type:W,setFormState:m})})}},21658:function(e,t,n){"use strict";n.d(t,{p4:function(){return o},c1:function(){return l},Pu:function(){return c},er:function(){return u},an:function(){return d},qC:function(){return m},Sg:function(){return f},e4:function(){return h},Er:function(){return g},wj:function(){return v},Ly:function(){return x}});var a=n(93433),r=n(4942),s=n(1413),i=n(21105),o=[{name:"Day",code:"DAY"},{name:"Week",code:"WEEK"},{name:"Month",code:"MONTH"},{name:"Year",code:"YEAR"}],l=[{name:"M",value:"monday"},{name:"T",value:"tuesday"},{name:"W",value:"wednesday"},{name:"T",value:"thursday"},{name:"F",value:"friday"},{name:"S",value:"saturday"},{name:"S",value:"sunday"}],c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["first","second","third","last"],d=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];function m(e){return{day:c[e.day()],weekOrder:Math.ceil(e.date()/7)<=4?Math.ceil(e.date()/7):4}}function p(e){var t=e.baseText,n=e.end_date,a=e.end_type,r=e.moment,s=e.occurrences;return"NEVER"===a?"".concat(t,". \n ").concat((0,i.t)("never_ends")):"DATETIME"===a?"".concat(t," until ").concat(r(n).format("ddd, MMM DD, YYYY")):"".concat(t," ").concat(s," ").concat(s>1?"times":"time")}var f=function(e){var t=e.repeat_every,n=e.moment,a=e.end_type,i=e.end_date,o=e.selectedTime,l=e.repeat_type,c=e.occurrences,u=e.monday,d=e.tuesday,m=e.wednesday,f=e.thursday,h=e.friday,g=e.saturday,v=e.sunday,x=e.month_repeat_type,y=e.ON_DATE,b=e.ON_WEEK_DAY,_=e.month_repeat_val,C=e.currentDay,E=e.days,S=e.translate,Z=Number(t),j={end_date:"DATETIME"===a?i:null,on_time:n.utc(o).format("HH:mm"),repeat_type:l,end_type:a,repeat_every:Z,occurrences:"OCCURRENCES"===a?Number(c):0},k=""+(u?"".concat(S("monday"),", "):"")+(d?"".concat(S("tuesday"),", "):"")+(m?"".concat(S("wednesday"),", "):"")+(f?"".concat(S("thursday"),", "):"")+(h?"".concat(S("friday"),", "):"")+(g?"".concat(S("saturday"),", "):"")+(v?"".concat(S("sunday"),", "):""),w=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(",");return e.pop(),e.length>1?e.join(","):e[0]};switch(l){case"DAY":var N=Z>1?S("every_days",{count:Z}):S("daily");j=(0,s.Z)((0,s.Z)({},j),{},{recurring_text:p({baseText:N,end_date:i,end_type:a,moment:n,occurrences:c})});break;case"WEEK":var I=Z>1?S("repeat_every_weeks_on_date",{every:Z,weekdayText:"ON_DATE"===x?w(k):""}):S("weekly_on_weekday",{day:w(k)});j=(0,s.Z)((0,s.Z)({},j),{},{recurring_text:p({baseText:I,end_date:i,end_type:a,moment:n,occurrences:c}),monday:u,tuesday:d,wednesday:m,thursday:f,friday:h,saturday:g,sunday:v});break;case"MONTH":var T="ON_WEEK_DAY"===x,A="ON_DATE"===x?y:b,D=Z>1?S("every_month_on_date",{every:Z,monthDayOption:A}):S("monthly_on_day",{day:A});j=(0,s.Z)((0,s.Z)({},j),{},(0,r.Z)({month_repeat_type:x,month_repeat_val:T?_:null,on_date:T?null:n().format("YYYY-MM-DD"),recurring_text:p({baseText:D,end_date:i,end_type:a,moment:n,occurrences:c})},E[C-1],T));break;case"YEAR":var M="on ".concat(n().format("MMMM D")),O=Z>1?S("repeat_every_year",{every:Z,yearDayOption:M}):S("annually",{date:M});j=(0,s.Z)((0,s.Z)({},j),{},{recurring_text:p({baseText:O,end_date:i,end_type:a,moment:n,occurrences:c}),on_date:n().format("YYYY-MM-DD")});break;default:return null}return j},h=function(e,t){var n;return"CUSTOM_VALUE"===e[e.length-2].value?(n=(0,a.Z)(e)).splice(-2,1):n=(0,a.Z)(e),n.splice(-1,0,{name:t.recurring_text,value:"CUSTOM_VALUE"}),n},g=function(e){var t=e.moment,n=e.selectedTime,a=e.setRecurOption,i=e.recurOption,o=e.currentWeekday,l=e.currentDayObj,c=e.ON_WEEK_DAY,u=e.handler,d={end_date:null,end_type:"NEVER",occurrences:null,repeat_every:1,on_time:t.utc(n).format("HH:mm")};"DAILY"===i&&a((0,s.Z)((0,s.Z)({},d),{},{recurring_text:"Kundalik",repeat_type:"DAY"})),"WEEKLY_ON_WEEKDAY"===i&&a((0,s.Z)((0,s.Z)({},d),{},(0,r.Z)({recurring_text:"Repeat every Week on ".concat(o),repeat_type:"WEEK"},o.toLowerCase(),!0))),"MONTHLY_ON_WEEKDAY"===i&&a((0,s.Z)((0,s.Z)({},d),{},(0,r.Z)({month_repeat_type:"ON_WEEK_DAY",month_repeat_val:l.weekOrder,recurring_text:"Repeat every Month on ".concat(c),repeat_type:"MONTH"},o.toLowerCase(),!0))),"ANNUALLY_ON_DATE"===i&&a((0,s.Z)((0,s.Z)({},d),{},{recurring_text:"Repeat every Year on ".concat(t().format("MMMM D")),repeat_type:"YEAR",on_date:t().format("YYYY-MM-DD")})),"EVERY_WEEKDAY"===i&&a((0,s.Z)((0,s.Z)({},d),{},{friday:!0,monday:!0,thursday:!0,tuesday:!0,wednesday:!0,recurring_text:"Repeat every Week on Monday, Tuesday, Wednesday, Thursday, Friday",repeat_type:"WEEK"})),"CUSTOM"===i&&u((function(e){return(0,s.Z)((0,s.Z)({},e),{},{showCustomRecurring:!0})}))},v=function(e){var t=e.handler,n=e.moment,a=e.currentWeekday,r=e.ON_WEEK_DAY,i=e.editMode,o=void 0!==i&&i,l=e.customValue,c=void 0===l?{}:l,u=e.translate,d=[{name:u("daily"),value:"DAILY",text:"".concat(u("daily"),". \n ").concat(u("never_ends"))},{name:u("weekly_on_weekday",{day:a}),value:"WEEKLY_ON_WEEKDAY",text:"".concat(u("weekly_on_weekday",{day:a}),". \n ").concat(u("never_ends"))},{name:u("monthly_on_weekday",{day:r}),value:"MONTHLY_ON_WEEKDAY",text:"".concat(u("monthly_on_weekday",{day:r}),". \n ").concat(u("never_ends"))},{name:u("annually_on_date",{date:n().format("MMMM D")}),value:"ANNUALLY_ON_DATE",text:"".concat(u("annually_on_date",{date:n().format("MMMM D")}),". \n ").concat(u("never_ends"))},{name:u("every_weekday"),value:"EVERY_WEEKDAY",text:"".concat(u("every_weekday"),". \n ").concat(u("never_ends"))},{name:u("custom"),value:"CUSTOM"}];o&&d.splice(-1,0,c),t((function(e){return(0,s.Z)((0,s.Z)({},e),{},{recurringOptions:d})}))};function x(e){var t=new Date(e.getTime()+60*e.getTimezoneOffset()*1e3),n=e.getTimezoneOffset()/60,a=e.getHours();return t.setHours(a-n),t}},546:function(e,t,n){"use strict";n.d(t,{p:function(){return a},A:function(){return r}});var a=100,r=50},62625:function(e,t,n){"use strict";n.d(t,{hS:function(){return a},sb:function(){return r},nv:function(){return s}});var a={isNew:!0,filter_json:{query:{}},fields_json:[],is_selected:!1,title:"",is_staff:null,is_default:!1,filter_type:{value:"and",label:"And"}},r=[{type:"date",name:"due_date",title:"Case Created Date"},{type:"static",name:"unread",title:"Unread"},{type:"static",name:"unresponded",title:"Unresponded"},{type:"static",name:"expired",title:"OverDue"},{type:"static",name:"pinned",title:"Pinned"},{type:"select",name:"status",title:"Status"},{type:"select",name:"priority",title:"Priority"},{type:"select",name:"department",title:"Department"},{type:"select",name:"client_type",title:"Client type"},{type:"select",name:"client_company",title:"Client list"},{type:"select",name:"member",title:"Staff access"},{type:"select",name:"assignees",title:"Assigned To"},{type:"select",name:"assigned_by",title:"Assigned By"},{type:"static",name:"tagged",title:"Tagged"},{type:"static",name:"scheduled",title:"Scheduled"}],s=[{label:"And",value:"and"},{label:"Or",value:"or"}]},84200:function(e,t,n){"use strict";n.d(t,{I$:function(){return d},fI:function(){return m},B2:function(){return p},Z1:function(){return f},RF:function(){return h},oJ:function(){return g},W1:function(){return v},jK:function(){return x},ug:function(){return y},mf:function(){return b},LZ:function(){return _},cP:function(){return C},gc:function(){return E},$3:function(){return S},rX:function(){return Z}});var a=n(93433),r=n(4942),s=n(1413),i=n(26181),o=n.n(i),l=n(66364),c=n.n(l),u=n(80266),d=function(e){var t=e.event,n=e.setState,a=t.target,i=a.value,o=a.name,l=null==a?void 0:a.required;n((function(e){return(0,s.Z)((0,s.Z)({},e),{},{data_fields_names:(0,s.Z)((0,s.Z)({},e.data_fields_names),{},(0,r.Z)({},o,i)),data_fields_names_persisted:(0,s.Z)((0,s.Z)({},e.data_fields_names_persisted),{},(0,r.Z)({},o,i)),data_fields_errors:(0,s.Z)((0,s.Z)({},e.data_fields_errors),l?(0,r.Z)({},o,i.length<=0):{})})}))};function m(e){var t=Object.keys(e.sub_department);return t.length>1?o()(e,"sub_department.".concat(t[t.length-1]))?{id:Number(t[t.length-2])}:2===t.length?{id:o()(e,"department.id")}:{id:Number(t[t.length-3])}:{id:o()(e,"department.id")}}function p(e){var t=e.values,n=e.departmentRef,a=Object.keys(t.sub_department),r=o()(n.current,"sub_departments_count");return a.length>0&&r>0?o()(t,"sub_department.".concat(a[a.length-1]))&&1!==Number(a[a.length-1])?{id:Number(a[a.length-1])}:1===Number(a[a.length-1])?{}:{id:Number(a[a.length-2])}:{}}var f=function(e){var t=e.data_fields,n=e.data_fields_names;return t.length>0?Object.keys(n).reduce((function(e,t){var r=t.split("_").join(" "),s=r.charAt(0).toUpperCase()+r.slice(1);return n[t].length>0?[].concat((0,a.Z)(e),[[s,n[t]]]):(0,a.Z)(e)}),[]):null},h=function(e){var t=e.option,n=e.setFieldValue,i=e.titleRef,l=e.setState,c=e.data_fields_errors,u=e.data_fields_names,d=o()(t,"data_field");n("title",i.current),l(d?function(e){return(0,s.Z)((0,s.Z)({},e),{},{department:t,data_fields:(0,a.Z)(d),data_fields_names:d.reduce((function(e,t){return(0,s.Z)((0,s.Z)({},e),{},(0,r.Z)({},t.fieldName,""))}),u),data_fields_errors:d.reduce((function(e,t){return t.isRequired?(0,s.Z)((0,s.Z)({},e),{},(0,r.Z)({},t.fieldName,!0)):(0,s.Z)({},e)}),c)})}:function(e){return(0,s.Z)((0,s.Z)({},e),{},{department:t,data_fields:[],data_fields_names:{},data_fields_errors:{}})}),setTimeout((function(){n("department",t)}),0)},g=function(e){var t=e.values,n=e.setState,i=e.data_fields_names_persisted,l=o()(t,"department.data_field")||[],c=(Object.keys(null==t?void 0:t.sub_department)||[]).map((function(e){var n;return(null==t?void 0:t.sub_department[e])&&(null==t||null===(n=t.sub_department[e])||void 0===n?void 0:n.data_field)})).filter((function(e){return e})).reduce((function(e,t){return[].concat((0,a.Z)(e),(0,a.Z)(t))}),[]),u=[].concat((0,a.Z)(l),(0,a.Z)(c));n((function(e){return(0,s.Z)((0,s.Z)({},e),{},{data_fields:u,data_fields_names:u.reduce((function(e,t){return(0,s.Z)((0,s.Z)({},e),{},(0,r.Z)({},t.fieldName,t.fieldName in i?i[t.fieldName]:""))}),{}),data_fields_errors:u.reduce((function(e,t){var n;return t.isRequired?(0,s.Z)((0,s.Z)({},e),{},(0,r.Z)({},t.fieldName,(null==i||null===(n=i[t.fieldName])||void 0===n?void 0:n.length)<=0)):(0,s.Z)({},e)}),{})})}))},v=function(e){var t=e.departmentRef,n=e.option,a=e.setFieldValue;t.current=n,n&&n.sub_departments.length>0?a("sub_department",{1:{id:1,name:"Select Sub Department Name",department:{id:n.id}}}):a("sub_department",{})},x=function(e){var t=e.values,n=e.subdep,a=e.option,i=e.setFieldValue;if(a)for(var l in t.sub_department)Number(l)===Number(n)&&(0===a.sub_departments.length?function(){var e=(0,s.Z)({},t.sub_department);Object.keys(e).forEach((function(t){Number(t)>Number(n)&&delete e[t]})),delete e[n],i("sub_department",(0,s.Z)((0,s.Z)({},e),{},(0,r.Z)({},a.id,a)))}():function(){var e,l=(0,s.Z)({},t.sub_department);Object.keys(l).forEach((function(e){Number(e)>Number(n)&&delete l[e]})),delete l[n],i("sub_department",(0,s.Z)((0,s.Z)({},l),{},(e={},(0,r.Z)(e,a.id,a),(0,r.Z)(e,o()(a,"sub_departments[0].id"),null),e)))}());else for(var c in t.sub_department)(Number(c)===Number(n)||Number(c)>Number(n))&&function(){var e=(0,s.Z)({},t.sub_department);Object.keys(e).forEach((function(t){Number(t)>Number(n)&&delete e[Number(t)]})),i("sub_department",(0,s.Z)((0,s.Z)({},e),{},(0,r.Z)({},n,null)))}()},y=function(e){var t,n,a,r,s=e.department,i=e.sub_department;return null!=i&&i.icon&&"object"==typeof(null==i?void 0:i.icon)?(null===(t=i.icon)||void 0===t?void 0:t.thumbnail_150)||(null===(n=i.icon)||void 0===n?void 0:n.thumbnail):"string"==typeof(null==i?void 0:i.icon)?i.icon:null!=s&&s.icon&&"object"==typeof(null==s?void 0:s.icon)?(null===(a=s.icon)||void 0===a?void 0:a.thumbnail_150)||(null===(r=s.icon)||void 0===r?void 0:r.thumbnail):"string"==typeof(null==s?void 0:s.icon)?s.icon:void 0},b=function(e,t){var n=Object.keys(t);return c()(t)||"1"===n[0]||null===t[n[0]]?null==e?void 0:e.id:Object.keys(t).map((function(e){return+e})).filter((function(e){return t[e]})).sort((function(e,t){return t-e}))[0]},_=function(e,t,n){var r=t.assignee_ids;return e||"custom"!==n.toLowerCase()?null!=r&&r.length&&!e?r:null!=r&&r.length&&e.length?(0,a.Z)(new Set([].concat((0,a.Z)(e.map((function(e){return e.user.id}))),(0,a.Z)(r)))):"extra"===n.toLowerCase()&&e&&e.length>0?e.reduce((function(e,t){return[].concat((0,a.Z)(e),[o()(t,"user.id")])}),[]):[]:[]},C=function(e,t,n,r){function s(e){return e.reduce((function(e,t){return[].concat((0,a.Z)(e),[o()(t,"user.id")])}),n!==t.client_user?[o()(t,"client_user")]:[])}var i=t.assignee_ids;if(null!=i&&i.length&&e){var l=s(e);return(0,a.Z)(new Set([].concat((0,a.Z)(l),(0,a.Z)(i))))}return"custom"===r.toLowerCase()&&e&&e.length>0?s(e):[]};function E(){for(var e,t=document.getElementsByTagName("span"),n=0;n<t.length;n++)if("Required"===t[n].textContent){e=t[n];break}e&&e.scrollIntoView({block:"start"})}function S(e){var t=document.querySelector(".status-".concat(e));return t&&t.scrollIntoView({block:"start",inline:"start",behavior:"smooth"}),t}function Z(e){var t=e.caseType,n=e.searchQuery,a=e.selectedFilterTemplate,r=e.statuses,s=e.cases;return(n.length||a)&&r.some((function(e){var r,i,o=(0,u.w5)({statusId:e.id,caseType:t,searchQuery:n,selectedFilterTemplate:a});return null==s||null===(r=s[o])||void 0===r||null===(i=r.ids)||void 0===i?void 0:i.length}))}},86375:function(e,t,n){"use strict";n.d(t,{Un:function(){return z},OH:function(){return L},zN:function(){return O},GH:function(){return U},Zo:function(){return M},tz:function(){return I},lP:function(){return Q},Z9:function(){return w},jg:function(){return V},KT:function(){return R},X9:function(){return B}});n(91796);var a=n(1413),r=n(29439),s=n(93433),i=n(72791),o=n(40084),l=n(87818),c=n(97892),u=n.n(c),d=n(93629),m=n.n(d),p=n(26181),f=n.n(p),h=n(80266),g=n(4245),v=n(32380),x=n(9478),y=n(16178),b=n(64880),_=n(99362),C=n(66364),E=n.n(C),S=n(17173),Z=v.Z.entity.formRequest;function j(e){e("start_date",""),e("end_date","")}function k(e){return u()(e).toISOString()}function w(e){var t,n,c,d,p,v,C,w,N,I,T=(0,o.m)(),A=T.companyId,D=T.caseType,M=T.selectedCaseFilter,O=T.activeFilterTemplate,R=T.setActiveFilterTemplate,L=(0,y.r1)().updateEntities,U=(0,l.I0)(),F=(0,b.k6)(),P=(0,_.H)().onFilterTemplateClick,B=M[D],H=(0,S.$G)().t,G=(0,y.eC)().showNotification,K={start_date:void 0,end_date:void 0,filter_status:void 0,department:void 0,sub_department:void 0,priority:void 0,client_type:null,client_company:null,client_user:null,unread:null,unresponded:null,rate:null,is_individual:null,member:null,assignees:null,assigned_by:null,title:null,filter_type:null},V={flatSubdepartments:{departments:null!=B&&null!==(t=B.filter_json.query_web)&&void 0!==t&&t.department?null==B||null===(n=B.filter_json.query_web)||void 0===n||null===(c=n.department)||void 0===c||null===(d=c.split(","))||void 0===d?void 0:d.reduce((function(e,t){return[].concat((0,s.Z)(e),[+t])}),[]):[],sub_departments:null!=B&&null!==(p=B.filter_json.query_web)&&void 0!==p&&p.sub_department?null==B||null===(v=B.filter_json.query_web)||void 0===v||null===(C=v.sub_department)||void 0===C||null===(w=C.split(","))||void 0===w?void 0:w.reduce((function(e,t){return[].concat((0,s.Z)(e),[+t])}),[]):[]},dateRange:""},Y=new Date,q=function(e){var t=new Date(e);return t.setMonth(e.getMonth()-1),t}(Y),Q={startDate:q,endDate:new Date,key:"selection"},z=(0,i.useState)(V),W=(0,r.Z)(z,2),J=W[0],X=W[1],$=(0,i.useState)(!1),ee=(0,r.Z)($,2),te=ee[0],ne=ee[1],ae=(0,i.useState)([Q]),re=(0,r.Z)(ae,2),se=re[0],ie=re[1],oe=E()(null==O?void 0:O.fields_json)?[]:null==O?void 0:O.fields_json,le=null==oe?void 0:oe.find((function(e){return"status"===e.name}));(0,i.useEffect)((function(){var e=u()(se[0].startDate).format("MMM D YY"),t=u()(se[0].endDate).format("MMM D YY");se[0].endDate&&X((function(n){return(0,a.Z)((0,a.Z)({},n),{},{dateRange:"".concat(e," - ").concat(t)})})),se[0].endDate||X((function(e){return(0,a.Z)((0,a.Z)({},e),{},{dateRange:""})}))}),[se]),(0,i.useEffect)((function(){var e,t,n,a,r={startDate:O&&null!=O&&null!==(e=O.filter_json)&&void 0!==e&&e.start_date?new Date(null==O||null===(t=O.filter_json)||void 0===t?void 0:t.start_date):q,endDate:O&&null!=O&&null!==(n=O.filter_json)&&void 0!==n&&n.end_date?new Date(null==O||null===(a=O.filter_json)||void 0===a?void 0:a.end_date):Y,key:"selection"};ie([r])}),[O]);var ce=function(e,t){X((function(n){return(0,a.Z)((0,a.Z)({},n),{},{flatSubdepartments:{departments:e,sub_departments:(0,s.Z)(new Set(t))}})}))},ue=function(e,t){var n=e.reduce((function(e,t){return[].concat((0,s.Z)(e),[[t.hierarchy[t.hierarchy.length-2].id,t.hierarchy[t.hierarchy.length-1].id]])}),[]).reduce((function(e,t){var n=(0,r.Z)(t,2),i=n[0],o=n[1];return(0,a.Z)((0,a.Z)({},e),{},{departments:[].concat((0,s.Z)(e.departments),[i]),sub_departments:[].concat((0,s.Z)(e.sub_departments),[o])})}),{departments:[],sub_departments:[]}),i=e.reduce((function(e,t){return[].concat((0,s.Z)(e),[t.hierarchy[0].id])}),[]),o=t.reduce((function(e,t){return[].concat((0,s.Z)(e),[t.id])}),[]),l=n.sub_departments.filter((function(e){return!n.departments.includes(e)})),c=(0,s.Z)(new Set(o)).filter((function(e){return!i.includes(e)}));return ce(c,l),{departments:c,subDepartments:l}};(0,i.useEffect)((function(){if(B){var e=null==B?void 0:B.filter_json,t=e.sub_department,n=e.department;m()(n)&&n.length>0&&(null!=B&&B.filter_json.sub_department&&ue(t,n),n&&!t&&ce(n.map((function(e){return e.id})),[]))}}),[B]);var de={start_date:f()(O,"filter_json.start_date",null),end_date:f()(O,"filter_json.end_date",null),filter_status:f()(O,"filter_json.filter_status",null),priority:f()(O,"filter_json.priority",null),department:f()(O,"filter_json.department",null),sub_department:f()(O,"filter_json.sub_department",null),client_type:f()(O,"filter_json.client_type",null),client_company:f()(O,"filter_json.client_company",null),client_user:f()(O,"filter_json.client_user",null),unread:f()(O,"filter_json.unread",null),unresponded:f()(O,"filter_json.unresponded",null),pinned:f()(O,"filter_json.pinned",null),expired:f()(O,"filter_json.expired",null),rate:f()(O,"filter_json.rate",null),member:f()(O,"filter_json.member",null),assignees:f()(O,"filter_json.assignees",null),assigned_by:f()(O,"filter_json.assigned_by",null),tagged:f()(O,"filter_json.tagged",null),scheduled:f()(O,"filter_json.scheduled",null),title:null!==(N=null==O?void 0:O.title)&&void 0!==N?N:"",filter_type:null!==(I=null==O?void 0:O.filter_type)&&void 0!==I?I:{label:"And",value:"and"}};return{onSubmit:function(t,n,r){var i,o,l,c,d,p,v,y,b,_=n.setSubmitting,C={client_company:f()(t,"client_company.id",""),department:null!=t&&null!==(i=t.department)&&void 0!==i&&i.length?ue(t.sub_department||[],t.department||[]).departments:[],sub_department:null!=t&&t.sub_department?ue(t.sub_department||[],t.department||[]).subDepartments:[],member:m()(f()(t,"member",[]))?f()(t,"member",[]).reduce((function(e,t){return[].concat((0,s.Z)(e),[f()(t,"user.id")])}),[]):"",assignees:m()(f()(t,"assignees",[]))?f()(t,"assignees",[]).reduce((function(e,t){return[].concat((0,s.Z)(e),[f()(t,"user.id")])}),[]):"",assigned_by:m()(f()(t,"assigned_by",[]))?f()(t,"assigned_by",[]).reduce((function(e,t){return[].concat((0,s.Z)(e),[f()(t,"user.id")])}),[]):"",start_date:f()(t,"start_date")?""+u()(f()(t,"start_date")).startOf("day").toISOString():"",end_date:f()(t,"end_date")?""+u()(f()(t,"end_date")).endOf("day").toISOString():"",is_individual:f()(t,"client_type.value"),priority:m()(f()(t,"priority",[]))?f()(t,"priority",[]).reduce((function(e,t){return[].concat((0,s.Z)(e),[t.code])}),[]):"",rate:f()(t,"rate.value",""),filter_status:m()(f()(t,"filter_status",[]))?f()(t,"filter_status",[]).reduce((function(e,t){return[].concat((0,s.Z)(e),[t.id])}),[]):"",unread:""+(null!==(o=f()(t,"unread"))&&void 0!==o?o:""),pinned:""+(null!==(l=f()(t,"pinned"))&&void 0!==l?l:""),expired:""+(null!==(c=f()(t,"expired"))&&void 0!==c?c:""),unresponded:""+(null!==(d=f()(t,"unresponded"))&&void 0!==d?d:""),search:""+f()(t,"search",""),client_user:f()(t,"client_user.id",""),filter_type:f()(t,"filter_type.value"),tagged:String(null!==(p=f()(t,"tagged"))&&void 0!==p?p:""),scheduled:String(null!==(v=f()(t,"scheduled",""))&&void 0!==v?v:"")},E=(0,h.kB)("",{extra:(0,a.Z)((0,a.Z)({},C),{},{rate:"all"===C.rate?"":C.rate},(0,a.Z)({},"or"===t.filter_type.value&&le?{status_filter_with_or:"true"}:{}))}),S=g.parse(E);Object.keys(S).forEach((function(e){return(""===S[e]||"false"===S[e])&&delete S[e]}));var j=(0,a.Z)((0,a.Z)({},t),{},{sub_department:null!=t&&null!==(y=t.sub_department)&&void 0!==y&&y.length?null==t?void 0:t.sub_department:null});delete j.title,delete j.filter_type;var k={fields_json:null==O?void 0:O.fields_json,is_selected:null==O?void 0:O.is_selected,title:t.title,is_default:!1,filter_type:1===(null==O||null===(b=O.fields_json)||void 0===b?void 0:b.length)?{label:"And",value:"and"}:t.filter_type,filter_json:(0,a.Z)((0,a.Z)({},j),{},{query_web:S}),is_staff:D===x.Z.STAFF},w="case-filters",N="AllCaseFilters-".concat(A,"-").concat(D);null!=O&&O.isNew?U(Z({entity:w,name:N,url:"/".concat(A,"/case-filters/"),method:"post",params:{},appendData:!0,values:k,normalizeData:function(e){return e},cb:{success:function(t){r&&(P(t),e()),r||R(t)},error:function(e){var t,n,a;G({message:null!==(t=null==e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)&&void 0!==t?t:H("something_went_wrong"),variant:"error"}),console.log("error",e)},finally:function(){_(!1)}}})):U(Z({id:null==O?void 0:O.id,entity:w,name:N,url:"/".concat(A,"/case-filters/").concat(null==O?void 0:O.id,"/"),method:"put",params:{},updateData:!0,values:k,normalizeData:function(e){return e},cb:{success:function(t){try{L({entity:w,entityId:null==O?void 0:O.id,updatingData:{fields_json:t.fields_json,filter_json:(0,a.Z)((0,a.Z)({},t.filter_json),{},{query_web:t.filter_json.query_web})}})}catch(e){console.log("cannot update state",e)}(r||t.is_selected)&&(P(t),e()),r||R(t)},error:function(e){var t,n,a;G({message:null!==(t=null==e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)&&void 0!==t?t:H("something_went_wrong"),variant:"error"}),console.log("error",e)},finally:function(){_(!1)}}}))},initState:V,state:J,setState:X,dateState:se,today:Y,setDateState:ie,initialValues:de,nextInitialState:K,setDepartments:ce,open:te,setOpen:ne,makeFlatSubdepartments:ue,initDateState:Q,resetDatePicker:j,handleDatePickerOpen:function(){ne((function(e){return!e}))},formatCaseRangeDate:k,goToAllCasesPage:function(){e(),F.push("/all-cases")}}}var N=n(62625);function I(){var e=(0,o.m)(),t=e.setActiveFilterTemplate,n=e.activeFilterTemplate,l=(0,i.useState)(!1),c=(0,r.Z)(l,2),u=c[0],d=c[1],m=(0,i.useState)(null),p=(0,r.Z)(m,2),f=p[0],h=p[1];return{addNewFilterTemplate:function(){t(N.hS)},isImmediateApply:u,saveAndApply:(0,i.useCallback)((function(){return d(!0)}),[]),appendFilterToTemplate:(0,i.useCallback)((function(e){n&&Array.isArray(n.fields_json)&&t((0,a.Z)((0,a.Z)({},n),{},{fields_json:[].concat((0,s.Z)(n.fields_json),[e])}))}),[n]),removeFilterItemFromTemplate:(0,i.useCallback)((function(e){n&&Array.isArray(n.fields_json)&&t((0,a.Z)((0,a.Z)({},n),{},{fields_json:n.fields_json.filter((function(t){return t.name!==e}))}))}),[n]),handleOnTemplateClick:(0,i.useCallback)((function(e){t(e)}),[]),handleDeleteTemplate:(0,i.useCallback)((function(e){return h(e)}),[]),showDeletePopup:f}}var T=n(15861),A=n(64687),D=n.n(A);function M(){var e=(0,S.$G)().t,t=(0,y.BH)(),n=t.getEntityData,r=t.modifyEntityIds,s=t.insertingEntityId,i=(0,o.m)().companyId,l=(0,y.eC)().showNotification,c=(0,y.bK)({url:"",dynamicUrl:!0,dynamicValues:!0,method:"post",cb:{success:function(t,n){l({message:e("reorder_success"),variant:"success"})},error:function(t,n){var s=n[0],i=s.prevDestinationIds,o=s.droppableId,c=s.sourceMeta,u=s.sourceParams;l({message:e("something_went_wrong"),variant:"error"}),r({ids:i,entityName:o,entity:"case-filters",meta:(0,a.Z)((0,a.Z)({},c),{},{count:c.count}),params:u})}}}).fetchData,u=function(){var e=(0,T.Z)(D().mark((function e(t){var o,l,u,d,m;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m=function(){return(m=(0,T.Z)(D().mark((function e(t){var o,l,u,d,m,p,f,h,g,v;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.entityId,t.sourceIndex,l=t.destinationIndex,u=t.droppableId,d=n("case-filters",u),m=d.ids,p=d.meta,f=d.params,h=s({list:m,index:l,newEntityId:o}),g=h.prevDestinationIds,v=h.nextDestinationIds,r({ids:v,entityName:u,entity:"case-filters",meta:(0,a.Z)((0,a.Z)({},p),{},{count:p.count}),params:f}),e.next=6,c({url:"".concat(i,"/case-filters/insert_list/"),values:v,prevDestinationIds:g,droppableId:u,sourceMeta:p,sourceParams:f});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},d=function(e){return m.apply(this,arguments)},o=t.draggableId,l=t.destination,u=t.source,l){e.next=6;break}return e.abrupt("return");case 6:if(l.droppableId!==u.droppableId||l.index!==u.index){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,d({sourceIndex:u.index,destinationIndex:l.index,entityId:Number(o),droppableId:u.droppableId});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{onFilterTemplateDragEnd:u}}function O(e,t){var n=(0,o.m)(),r=n.companyId,l=n.caseType;(0,i.useEffect)((function(){(0,T.Z)(D().mark((function t(){var n,s,i,o,c,u;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.hi.request.get((0,h.kB)("/".concat(r,"/client_companies/"),{}));case 3:if(n=t.sent,s=n.data,1!==f()(s,"results").length||l!==x.Z.CLIENT){t.next=14;break}if(i=f()(s,"results[0]"),e((function(e){return(0,a.Z)((0,a.Z)({},e),{},{client_company:i})})),!i){t.next=14;break}return t.next=11,h.hi.request.get((0,h.kB)("/".concat(r,"/client_companies/").concat(f()(i,"id"),"/employee/"),{}));case 11:o=t.sent,c=o.data,1===f()(c,"results").length&&(u=f()(c,"results[0]"),e((function(e){return(0,a.Z)((0,a.Z)({},e),{},{client_user:u})})));case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.error(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))()}),[]),(0,i.useEffect)((function(){(0,T.Z)(D().mark((function n(){var s,i,o;return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(E()(t.selected_client_company)||l!==x.Z.CLIENT){n.next=6;break}return n.next=3,h.hi.request.get((0,h.kB)("/".concat(r,"/client_companies/").concat(f()(t,"selected_client_company.id"),"/employee/"),{}));case 3:s=n.sent,i=s.data,1===f()(i,"results").length&&(o=f()(i,"results[0]"),e((function(e){return(0,a.Z)((0,a.Z)({},e),{},{client_user:o})})));case 6:case"end":return n.stop()}}),n)})))()}),[t.selected_client_company]),(0,i.useEffect)((function(){(0,T.Z)(D().mark((function t(){var n,i,o,c,u;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/".concat(r,"/my/company/case_statuses/"),i={is_staff:l===x.Z.STAFF?"true":""},t.next=4,h.hi.request.get((0,h.kB)(n,{extra:i}));case 4:return o=t.sent,c=o.data,u=(0,s.Z)(c.reverse()),t.next=9,e((function(e){return(0,a.Z)((0,a.Z)({},e),{},{statuses:u,status:u[0]})}));case 9:case"end":return t.stop()}}),t)})))()}),[l])}function R(e){var t=(0,y.Kx)().query,n=(0,i.useRef)(null);return(0,i.useEffect)((function(){var a;t&&Number(t.status)===e.id&&(null==n||null===(a=n.current)||void 0===a||a.scrollIntoView({behavior:"smooth",inline:"start"}))}),[t,e.id]),{}}function L(e){e.caseId;var t=e.staffAccessList,n=e.setFieldValue,a=e.setAssignedUsers,s=e.assignedUsers,l=e.caseAssigneeList,c=((0,o.m)().companyId,(0,i.useState)("all")),u=(0,r.Z)(c,2),d=u[0],m=u[1],p=(0,i.useState)(l),f=(0,r.Z)(p,2),h=f[0],g=f[1];(0,i.useEffect)((function(){n("assignee_ids",s)}),[s]),(0,i.useEffect)((function(){!h.length||null!=s&&s.length||a(h)}),[h,s]);var v=(0,i.useCallback)((function(e){m(e.target.value)}),[]);(0,i.useEffect)((function(){if(t&&t.length){var e=t.map((function(e){var t;return null!=e&&e.user?null==e||null===(t=e.user)||void 0===t?void 0:t.id:null==e?void 0:e.id}));n=e,r=null==l?void 0:l.filter((function(e){var t;return n.includes(null!=e&&e.user?null===(t=e.user)||void 0===t?void 0:t.id:e.id)})),a(r),g(r)}var n,r}),[t]);return{assigneeTypeValue:d,handleAssigneeTypeChange:v,handleAssignedMember:function(e){a(e),g(e)}}}function U(){var e=(0,i.useState)(null),t=(0,r.Z)(e,2),n=t[0],a=t[1],s=function(e){return a((function(t){return e||null}))};return{toggleCaseDetailsOpen:s,caseDetailsOpen:n,closeCaseDetailModal:function(){return s()}}}var F=n(80180),P=n(6584);function B(){var e,t,n=(0,i.useState)(null),s=(0,r.Z)(n,2),l=s[0],c=s[1],u=(0,i.useState)(!1),d=(0,r.Z)(u,2),m=d[0],p=d[1],f=(0,i.useState)(!1),h=(0,r.Z)(f,2),g=h[0],v=h[1],b=Boolean(l),_=(0,o.m)(),C=_.selectedStatus,E=_.setSelectedStatus,Z=_.companyId,j=_.caseType,k=(_.isStaff,(0,y.O4)().fetchCompanyAllUnreadCounts),w=(0,y.eC)().showNotification,N=(0,y.Zp)().reloadEntityAll,I=(0,S.$G)().t,A=Number(null==C?void 0:C.statusId),M=(0,P.A)({statusId:A}),O=M.selectedFilterTemplate,R=M.casesUrl,L=M.extraParams,U="AllStatuses-".concat(Z),B=((0,y.s6)({entity:"statuses",entityName:U}).all,(0,y.bK)({url:"",dynamicUrl:!0,dynamicValues:!0,method:"post",cb:{success:function(e,t){p(!1),E(null),w({message:"Status has been deleted",variant:"success"})},error:function(e,t){var n,a,r;w({message:null!==(n=null==e||null===(a=e.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)&&void 0!==n?n:I("something_went_wrong"),variant:"error"})}}}).fetchData),H=(0,y.bK)({url:"",dynamicUrl:!0,method:"put",cb:{success:function(e,t){var n=(t[0]||{}).fnCallback;"function"==typeof n&&n()},error:function(e,t){var n,a,r;w({message:null!==(n=null==e||null===(a=e.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)&&void 0!==n?n:I("something_went_wrong"),variant:"error"}),v(!1)}}}).fetchData,G=(0,F.v)({entity:"statuses",name:"AllStatuses-".concat(Z),method:"delete",url:"/".concat(Z,"/my/company/case_statuses/").concat(A,"/"),deleteData:!0,id:A,params:{extra:{is_staff:j===x.Z.STAFF?"true":""}},cb:{success:(e=(0,T.Z)(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N({entity:"statuses",name:"AllStatuses-".concat(Z),url:"/".concat(Z,"/my/company/case_statuses/"),params:{extra:{is_staff:j===x.Z.STAFF?"true":"false"}},dataKey:function(e){return e},reverse:!0,cb:{success:function(e){B({url:"/".concat(Z,"/my/company/case_statuses/insert_list/"),values:e})}}});case 1:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)}),error:function(e){var t,n,a;p(!1),w({message:null!==(t=null==e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)&&void 0!==t?t:I("something_went_wrong"),variant:"error"})},finally:function(){}}}),K=G.handleRequest,V=(0,y.bK)({url:R,params:{extra:(0,a.Z)((0,a.Z)({},L),{},{mark_as_read:"true"})},cb:{success:(t=(0,T.Z)(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),error:function(e){var t,n,a;w({message:null!==(t=null==e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)&&void 0!==t?t:I("something_went_wrong"),variant:"error"}),v(!1)}}}),Y=V.fetchData;function q(){return q=(0,T.Z)(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),!O){e.next=6;break}return e.next=4,Y();case 4:e.next=8;break;case 6:return e.next=8,H({url:"/".concat(Z,"/my/company/case_statuses/").concat(A,"/mark_as_read/"),fnCallback:function(){var e=(0,T.Z)(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 8:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function Q(){return z.apply(this,arguments)}function z(){return(z=(0,T.Z)(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:w({message:"The Cases Marked As Read",variant:"success"}),E(null),v(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{open:b,anchorEl:l,handleClick:function(e){c(e.currentTarget)},handleCloseMenu:function(){c(null)},deleteStatusHandler:function(){p(!0),K()},statusDeleteLoader:m,markAllReadLoader:g,markAllReadHandler:function(){return q.apply(this,arguments)}}}var H=n(77676),G=n(84200),K=H.Z.getStatusIds;function V(){var e=(0,o.m)(),t=e.unreadCasesCountByStatus,n=e.companyId,a=e.caseType,r=(0,l.v9)((function(e){return K(e,n)})),s=(0,i.useRef)(!1),c=(0,i.useRef)(!0);(0,i.useEffect)((function(){if(!E()(t)&&r){var e=Object.keys(t),n=r.filter((function(t){return e.includes(t.toString())}));if(!s.current){var a=n[0];(0,G.$3)(a)&&!c.current||(s.current=!0,c.current=!1)}}}),[r,t,a]),(0,i.useEffect)((function(){s.current=!1,c.current=!0}),[a,r])}var Y=n(4942),q=H.Z.getStatusIds;function Q(){var e=(0,o.m)(),t=e.companyId,n=e.setInitialStatusReverseState,r=e.statusReverseState,s=(0,l.v9)((function(e){return q(e,t)}));(0,i.useEffect)((function(){if(s&&!r){var e=s.reduce((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},(0,Y.Z)({},t,!1))}),{});n(e)}}),[s])}function z(){var e=(0,y.r1)().updateEntities,t=(0,y.eC)().showNotification,n=(0,y.bK)({url:"",dynamicUrl:!0,cb:{success:function(e,t){var n=(t[0]||{}).onAfterBusinessActivationRequest;"function"==typeof n&&n()},error:function(e){var n;400===(null===(n=e.response)||void 0===n?void 0:n.status)&&t({message:"The activation request is invalid!",variant:"error"})}}}),a=n.fetchData,r=n.loading;return{sendBusinessActivationRequest:(0,i.useCallback)((function(t,n){var r,s="/sts".concat(null===(r=t.split("/sts"))||void 0===r?void 0:r[1]);a({url:s,onAfterBusinessActivationRequest:function(){e({entity:"caseMessages",entityId:n,updatingData:{settings:null}})}})}),[]),isBusinessActivationLoading:r}}},7982:function(e,t,n){"use strict";n.d(t,{g:function(){return y}});var a=n(29439),r=n(15861),s=n(4942),i=n(1413),o=n(64687),l=n.n(o),c=n(16178),u=n(40084),d=n(9478),m=n(91796),p=n(80266),f=n(66364),h=n.n(f),g=n(72791),v=n(79286),x=n.n(v);function y(){var e=(0,u.m)(),t=e.companyId,n=e.isPermitted,o=e.searchQuery,f=e.selectedCaseFilter,v=e.caseType,y=e.unreadCasesCountByStatus,b=e.setUnreadCasesCountByStatus,_=e.setInitialStatusReverseState,C=e.setSettingsData,E=e.unreadMessagesCount,S=e.setChatsMentionObject,Z=e.setScheduledMessageIds,j=(0,c.BH)(),k=j.getEntityData,w=j.reOrder,N=j.modifyEntityIds,I=j.reOrderStatusList,T=j.removingEntityId,A=j.insertingEntityId,D=(0,c.eC)().showNotification,M=JSON.parse(p.tO.get("selectedCaseFilter")||"{}")[v],O=f[v]||M,R=(0,u.m)().settingsData,L=(0,c.s6)({entity:"statuses",entityName:"AllStatuses-".concat(t)}).all,U=(0,m.Y)(),F=U.sendCaseStatusChangeRequest,P=U.sendStatusReorderRequest,B=(0,c.bK)({url:"/".concat(t,"/settings/"),cb:{success:function(e){var t,n=null==e||null===(t=e.settings_json)||void 0===t?void 0:t.cases_reverse_data;if("object"==typeof e){C(e);var a=x()({},R,e);p.tO.set("settingsData",JSON.stringify(a))}n&&"object"==typeof n&&!h()(n)&&(_(n),p.tO.set("casesReverseData",JSON.stringify(n)))},error:function(e){console.log("settings error",e)}}}).fetchData,H=(0,c.bK)({url:"/".concat(t,"/message_counts/"),params:{extra:(0,i.Z)({as_business_company:"true",by_status:"true",count_cases:"true",case_type:v===d.Z.CLIENT?"client":"staff"},(0,i.Z)({},v===d.Z.STAFF?{as_client_company:"true"}:{}))},cb:{success:function(e,t){var n,a=(0,c.en)(e),r=(t[0]||{}).fnCallback,s=void 0===r?"empty":r;(b(a),"function"==typeof s)&&(null===(n=t[0])||void 0===n||n.fnCallback())},error:function(e){console.log("parsedData error",e)}}}).fetchData,G=(0,c.bK)({url:"/".concat(t,"/tagged_messages/"),cb:{success:function(e,t){S(e)},error:function(e){console.log("tagged_messages error",e)}}}).fetchData,K=(0,c.bK)({url:"/".concat(t,"/scheduled_messages/"),cb:{success:function(e){Z(e)},error:function(e){console.log("scheduled messages error",e)}}}).fetchData,V=(0,g.useCallback)((function(e,t){(null==E?void 0:E[t])||b((0,i.Z)((0,i.Z)({},y),{},(0,s.Z)({},e,y[e]?y[e]+1:1)))}),[E,y]),Y=(0,g.useCallback)((function(e,t){b((0,i.Z)((0,i.Z)({},y),{},(0,s.Z)({},e,Math.max(--y[e],0))))}),[y]),q=function(){var e=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("result onStatusDragEnd",t),t.type!==d.Z.STATUS_DROPPABLE_TYPE){e.next=4;break}return e.next=4,z(t);case 4:if(t.type!==d.Z.CASES_DROPPABLE_TYPE){e.next=7;break}return e.next=7,Q(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=(0,r.Z)(l().mark((function e(t){var n,r,s,i,o,c,u,d,m;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.draggableId,r=t.destination,s=t.source,r){e.next=3;break}return e.abrupt("return");case 3:if(i=n.split("|"),o=(0,a.Z)(i,2),c=o[0],u=o[1],r.droppableId!==s.droppableId||r.index!==s.index){e.next=6;break}return e.abrupt("return");case 6:return d=Number(s.droppableId),m=Number(r.droppableId),e.next=10,W({prevStatusId:d,nextStatusId:m,isStaffCase:!1,sourceIndex:s.index,destinationIndex:r.index,entityId:Number(u),searchEntityId:Number(c),isDragging:!0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=(0,r.Z)(l().mark((function e(a){var r,s,i,o,c,u,d,m,p,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=k("statuses","AllStatuses-".concat(t)),s=r.ids,i=r.meta,o=r.params,c=r.entity,u=r.entityName,!a.destination||a.destination.index===a.source.index){e.next=10;break}if(d=w({list:s,startIndex:a.source.index,endIndex:a.destination.index}),m=d.prevIds,p=d.newIds,N({ids:p,entityName:u,entity:c,meta:i,params:o}),n){e.next=7;break}return D({message:"Members cannot make persistent reordering",variant:"info"}),e.abrupt("return");case 7:return f=I(L.items,p),e.next=10,P({url:"/".concat(t,"/my/company/case_statuses/insert_list/"),values:f,prevIds:m});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function W(e){return J.apply(this,arguments)}function J(){return(J=(0,r.Z)(l().mark((function e(n){var a,r,s,c,u,d,m,p,f,h,g,x,y,b,_,C,E,S,Z,j,w,I,D,M,R,L,U,P,B,H,G,K,V;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.prevStatusId,r=n.nextStatusId,s=n.entityId,c=n.isDragging,void 0!==c&&c,u=n.isStaffCase,d=void 0!==u&&u,m=n.sourceIndex,p=n.destinationIndex,f=n.searchEntityId,h="AllBusinessCases-".concat(a,"-").concat(v,"-").concat(o.length?"search":"".concat(O?O.id:"normal")),g="AllBusinessCases-".concat(r,"-").concat(v,"-").concat(o.length?"search":"".concat(O?O.id:"normal")),x=a!==r,y=k("cases",h),b=y.ids,_=y.meta,C=y.params,E=k("cases",g),S=E.ids,Z=E.meta,j=E.params,w=T({list:b,index:m,isDragging:!1,entityId:null!=f?f:s}),I=w.prevSourceIds,D=w.nextSourceIds,M=A({list:S,index:p,newEntityId:null!=f?f:s}),R=M.prevDestinationIds,L=M.nextDestinationIds,f&&(U="AllBusinessCases-".concat(a,"-").concat(v,"-").concat(o.length?"search":"".concat(O?O.id:"normal")),P=k("cases",U),B=P.ids,H=P.meta,G=P.params,K=T({list:B,index:m,isDragging:!1,entityId:s}),V=K.nextSourceIds,N({ids:V,entityName:U,entity:"cases",meta:(0,i.Z)((0,i.Z)({},H),{},{count:H.count-1}),params:G})),N({ids:D,entityName:h,entity:"cases",meta:(0,i.Z)((0,i.Z)({},_),{},{count:_.count-1}),params:C}),S&&N({ids:L,entityName:g,entity:"cases",meta:(0,i.Z)((0,i.Z)({},Z),{},{count:x?Z.count+1:Z.count}),params:j}),!x){e.next=14;break}return e.next=14,F({url:"/".concat(t,"/cases/as_business/").concat(s,"/"),values:(0,i.Z)({id:s,status:{id:r.toString()}},d?{client_company:{id:t}}:{}),prevSourceIds:I,prevDestinationIds:R,entityNameSource:h,entityNameDestination:g,prevSourceMeta:_,prevSourceParams:C,prevDestinationMeta:Z,prevDestinationParams:j});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{onStatusDragEnd:q,changeCaseStatus:W,fetchCasesUnreadCount:H,fetchBusinessSettings:B,incrementUnreadCaseCount:V,decrementUnreadCaseCount:Y,fetchCasesMentionList:G,fetchCasesScheduledMessageCount:K}}},6584:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var a=n(1413),r=n(40084),s=n(9478),i=n(80266),o=n(72791);function l(e){var t=e.statusId,n=(0,r.m)(),l=n.companyId,c=n.searchQuery,u=n.caseType,d=n.selectedCaseFilter,m=n.statusReverseState,p=JSON.parse(i.tO.get("selectedCaseFilter")||"{}")[u],f=(0,o.useMemo)((function(){return d[u]||p}),[u,d.Client,d.Staff,p]),h=u===s.Z.STAFF,g=(0,o.useMemo)((function(){return{as_business_company:"true",as_client_company:"true"}}),[]),v=c.length&&h,x=null==m?void 0:m[t],y=(0,o.useMemo)((function(){return(0,a.Z)((0,a.Z)((0,a.Z)({search:c,client_company:!h||f||c?"":l,is_default:null!=f&&f.is_default?"true":"",is_staff:null!=f&&f.is_staff?"true":""},(0,a.Z)({},t?{status:t}:{})),(0,a.Z)({},v?g:{})),(0,a.Z)({},x?{reverse:"true"}:{}))}),[l,h,v,c,f,g,t,x]),b=f?"/".concat(l,"/cases/filter/"):"/v2/".concat(l,"/cases/as_business/"),_=(0,o.useMemo)((function(){return c.length?"/".concat(l,"/messages_by_keyword/"):b}),[c,l,b]);return{extraParams:(0,o.useMemo)((function(){return f&&!f.is_default?(0,a.Z)((0,a.Z)({},f.filter_json.query_web),y):(0,a.Z)({},y)}),[f,y]),casesUrl:_,selectedFilterTemplate:f}}},99362:function(e,t,n){"use strict";n.d(t,{H:function(){return f}});var a=n(4942),r=n(1413),s=n(29439),i=n(87818),o=n(72791),l=n(32380),c=n(40084),u=n(16178),d=n(80266),m=n(17173),p=l.Z.entity.formRequest;function f(){var e=(0,m.$G)().t,t=(0,c.m)(),n=t.selectedCaseFilter,l=t.setSelectedCaseFilter,f=t.caseType,h=t.companyId,g=t.setActiveFilterTemplate,v=(0,i.I0)(),x=(0,o.useState)(!1),y=(0,s.Z)(x,2),b=y[0],_=y[1],C=(0,u.r1)().updateEntities,E=(0,u.eC)().showNotification,S=(0,u.O4)(),Z=(S.fetchStaffUnreadMessagesCount,S.fetchClientUnreadMessagesCount,function(e,t,n){l({filter:(0,r.Z)((0,r.Z)({},t),{},(0,a.Z)({},f,e)),caseType:f,isInitialDispatch:!1}),function(e,t){var n=(0,r.Z)((0,r.Z)({},t),{},(0,a.Z)({},f,e));d.tO.set("selectedCaseFilter",JSON.stringify(n))}(e,n),function(e){var t;e[f]&&C({entity:"case-filters",entityId:null==e||null===(t=e[f])||void 0===t?void 0:t.id,updatingData:{is_selected:!1}})}(t),e&&C({entity:"case-filters",entityId:e.id,updatingData:{is_selected:!0}})});return{loading:b,onFilterTemplateClick:function(t){var a,s=(0,r.Z)({},n),i=d.tO.get("selectedCaseFilter"),o=JSON.parse(i||"{}");(_(!0),t)?v(p({entity:"case-filters",name:"AllCaseFilters-".concat(h,"-").concat(f),url:"/".concat(h,"/case-filters/").concat(t.id,"/select/"),method:"post",params:{},values:{},cb:{success:function(e){Z(t,s,o)},error:function(t){console.error("error case filter selecting",t),E({message:e("something_went_wrong"),variant:"error"}),l({filter:s,caseType:f,isInitialDispatch:!0})},finally:function(){_(!1)}}})):v(p({entity:"case-filters",name:"AllCaseFilters-".concat(h,"-").concat(f),url:"/".concat(h,"/case-filters/").concat(null===(a=s[f])||void 0===a?void 0:a.id,"/deselect/"),method:"post",params:{},values:{},cb:{success:function(e){Z(t,s,o),g(null)},error:function(t){console.error("error case filter selecting",t),E({message:e("something_went_wrong"),variant:"error"}),l({filter:s,caseType:f,isInitialDispatch:!0})},finally:function(){_(!1)}}}))},selectedCaseFilter:n}}},91796:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});var a=n(1413),r=n(17173),s=n(16178),i=n(40084);function o(){var e=(0,s.eC)().showNotification,t=(0,i.m)(),n=t.companyId,o=t.searchQuery,l=(0,s.BH)(),c=l.getEntityData,u=l.modifyEntityIds,d=(0,s.r1)().updateEntities,m=(0,s.Kx)(),p=m.changeUrlParams,f=m.query,h=(0,r.$G)().t;return{sendCaseStatusChangeRequest:(0,s.bK)({url:"",dynamicUrl:!0,dynamicValues:!0,method:"patch",cb:{success:function(e,t){var n,r;(o||d({entity:"cases",entityId:e.id,updatingData:(0,a.Z)({},e)}),null!=e&&null!==(n=e.status)&&void 0!==n&&n.id&&null!=f&&f.status)&&p({status:null==e||null===(r=e.status)||void 0===r?void 0:r.id})},error:function(t,n){var a=n[0],r=a.prevSourceIds,s=a.prevDestinationIds,i=a.entityNameSource,o=a.entityNameDestination,l=a.prevSourceMeta,c=a.prevSourceParams,d=a.prevDestinationMeta,m=a.prevDestinationParams;u({ids:r,entityName:i,entity:"cases",meta:l,params:c}),u({ids:s,entityName:o,entity:"cases",meta:d,params:m}),e({message:h("something_went_wrong"),variant:"error"})}}}).fetchData,sendStatusReorderRequest:(0,s.bK)({url:"",dynamicUrl:!0,dynamicValues:!0,method:"post",cb:{success:function(t,n){e({message:h("reorder_success"),variant:"success"})},error:function(t,a){var r=c("statuses","AllStatuses-".concat(n)),s=r.meta,i=r.params,o=r.entity,l=r.entityName,d=a[0].prevIds;u({ids:d,entityName:l,entity:o,meta:s,params:i}),e({message:h("something_went_wrong"),variant:"error"})}}}).fetchData}}},26955:function(e,t,n){"use strict";n.d(t,{f:function(){return m}});var a=n(29439),r=n(72791),s=n(16178),i=n(40084),o=n(32380),l=n(87818),c=n(87671),u=n(17173),d=o.Z.entities.updateEntitiesSuccess;function m(e,t){var n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,m=(0,u.$G)().t,p=(0,r.useState)(null),f=(0,a.Z)(p,2),h=f[0],g=f[1],v=(0,i.m)().companyId,x=(0,c.T)(),y=x.getEntityData,b=x.liftEntityToTop,_=x.moveEntityIdToBeginning,C=(0,s.eC)().showNotification,E=Boolean(h),S=(0,s.Kx)().changeUrlParams,Z=r.useState(null),j=(0,a.Z)(Z,2),k=j[0],w=j[1],N=Boolean(k),I=(0,l.I0)(),T=null!=o?o:t,A=(0,s.bK)({url:"/".concat(v,"/cases/as_business/").concat(t,"/pin/"),method:"".concat(e?"delete":"post"),cb:{success:function(e,t){var r=(0,a.Z)(t,1)[0];if(r){var s=y("case",n),i=s.ids,o=s.params,l=s.entityName,c=s.entity,u=s.meta,m=_(i,T);b(m,c,l,o,u)}I(d({entity:"cases",entityId:String(T),data:{pin_time:r?Date.now():null}}))},error:function(e){}}}).fetchData,D=(0,s.bK)({url:"/".concat(v,"/cases/as_business/").concat(t,"/notify_if_not_answered/"),method:"post",cb:{success:function(e,t){C({message:m("requested_update_success"),variant:"info"})},error:function(e){}}}).fetchData;return{pinCase:A,open:E,handleClick:function(e){g(e.currentTarget)},anchorEl:h,handleMenuItemClick:function(e){switch(e){case"pin":A(!0);break;case"unpin":A(!1);break;case"manager":D();break;default:return null}},handleCloseMenu:function(){g(null)},openAssignee:N,handleClickAssignee:function(e){w(e.currentTarget)},handleCloseAssignee:function(){w(null)},anchorElAssignee:k,handleChangeCasePriority:function(e,t){S({statusId:t,caseId:e,fromCaseItem:"true"})}}}},5871:function(e,t,n){"use strict";n.d(t,{b:function(){return m}});var a=n(15861),r=n(64687),s=n.n(r),i=n(16178),o=n(80266),l=n(7982),c=n(40084),u=n(6584),d=n(17173);function m(e,t){var n=(0,l.g)().changeCaseStatus,r=(0,i.eC)().showNotification,m=(0,i.Kx)().changeUrlParams,p=(0,c.m)(),f=p.companyId,h=p.caseType,g=p.searchQuery,v=p.isStaff,x=p.setStatusChangePayload,y=(0,u.A)({statusId:t}).selectedFilterTemplate,b=(0,d.$G)().t,_=(0,o.w5)({statusId:t,caseType:h,searchQuery:g,selectedFilterTemplate:y}),C=(0,i.s6)({entity:"cases",entityId:t,entityName:_}).all,E=(null==C?void 0:C.items).findIndex((function(t){return(t.case_?t.entity_id:t.id)===e})),S=(null==C?void 0:C.items).find((function(t){return(t.case_?t.entity_id:t.id)===e})),Z=function(){var i=(0,a.Z)(s().mark((function a(i,o){return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n({prevStatusId:t,nextStatusId:i.id,isStaffCase:v,sourceIndex:E,destinationIndex:0,entityId:Number(e),searchEntityId:null!=S&&S.case_?S.id:e,isDragging:!1});case 3:o&&m({status:i.id}),a.next=10;break;case 6:a.prev=6,a.t0=a.catch(0),console.log("something went wrong",a.t0),r({message:b("something_went_wrong"),variant:"error"});case 10:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e,t){return i.apply(this,arguments)}}(),j="AllStatuses-".concat(f);return{handleStatusChange:Z,statuses:(0,i.s6)({entity:"statuses",entityName:j}).all,handleMobileStatusChange:function(){x({prevStatus:t,searchEntityId:S.case_?S.id:e,entityId:e,sourceIndex:E})}}}},42789:function(e,t,n){"use strict";n.d(t,{v:function(){return p}});var a=n(1413),r=n(29439),s=n(87818),i=n(40084),o=n(14545),l=n(16178),c=n(77676),u=n(87671),d=n(72791),m=c.Z.getAll();function p(){var e,t=(0,i.m)(),n=t.companyId,c=t.isStaff,p=(0,o.mx)(),f=p.entityId,h=p.entityType,g=(0,l.Kx)(),v=g.query,x=g.changeUrlParams,y=(0,u.T)().changeStatus,b=null===(e=(0,s.v9)((function(e){return m(e,{entity:"statuses",name:"AllStatuses-".concat(n)})})))||void 0===e?void 0:e.items,_=(0,d.useMemo)((function(){return b.find((function(e){return e.id===Number(null==v?void 0:v.status)}))}),[v,b]),C=null==_?void 0:_.is_confirmation_required,E=(0,l.bK)({url:"",dynamicUrl:!0,dynamicValues:!0,method:"patch",cb:{success:function(e,t){var n,a,s,i,o,l=(0,r.Z)(t,1)[0];if("confirmed"===l.type)return n=l.currentStatus,x({status:null==n||null===(a=n.confirmed)||void 0===a?void 0:a.id,case:f}),void(null!=n&&null!==(s=n.confirmed)&&void 0!==s&&s.title&&y(h,f,null==n?void 0:n.id,null==n||null===(i=n.confirmed)||void 0===i?void 0:i.id,null==n||null===(o=n.confirmed)||void 0===o?void 0:o.title));!function(e){var t,n,a,r;x({status:null==e||null===(t=e.not_confirmed)||void 0===t?void 0:t.id,case:f}),null!=e&&null!==(n=e.not_confirmed)&&void 0!==n&&n.title&&y(h,f,null==e?void 0:e.id,null==e||null===(a=e.not_confirmed)||void 0===a?void 0:a.id,null==e||null===(r=e.not_confirmed)||void 0===r?void 0:r.title)}(l.currentStatus)},error:function(e,t){}}}),S=E.fetchData,Z=E.loading;return{sendStatusChangeRequest:(0,d.useCallback)((function(e){var t,r;S({url:"/".concat(n,"/cases/as_business/").concat(f,"/"),values:(0,a.Z)({id:f,status:{id:"confirmed"===e?null==_||null===(t=_.confirmed)||void 0===t?void 0:t.id:null==_||null===(r=_.not_confirmed)||void 0===r?void 0:r.id}},c?{client_company:{id:n}}:{}),type:e,currentStatus:_})}),[_,f]),statusChangeReqLoading:Z,currentStatus:_,isConfirmationRequired:C}}},53527:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var a=n(78820),r=(n(72791),n(67025)),s=n(28182),i=n(80184),o=function(e){var t=e.clickHandler,n=e.isDisabled,o=void 0!==n&&n,l=e.className,c=void 0===l?"":l;return(0,i.jsx)("div",{className:(0,s.Z)({"cursor-not-allowed":o}),children:(0,i.jsx)(r.Z,{className:"group ".concat(c),disabled:o,onClick:t,children:(0,i.jsx)(a.YK6,{size:"18px",className:"text-kgrey transition group-hover:text-kred-pink"})})})}},80301:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});n(72791);var a=n(67025),r=n(16856),s=n(28182),i=n(80184),o=function(e){var t=e.clickHandler,n=e.isDisabled,o=void 0!==n&&n,l=e.className,c=void 0===l?"":l;return(0,i.jsx)("div",{className:(0,s.Z)({"cursor-not-allowed":o}),children:(0,i.jsx)(a.Z,{onClick:t,disabled:o,className:"group ".concat(c),children:(0,i.jsx)(r.oTc,{size:"18px",className:"text-kgrey transition group-hover:text-primary"})})})}},37611:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var a=n(93433),r=n(29439),s=n(45987),i=n(1413),o=n(15861),l=n(64687),c=n.n(l),u=n(72791),d=n(26181),m=n.n(d),p=n(48046),f=n(80266),h=n(40084),g=n(17173),v=n(80184),x=["disableOptions","className","label","isMulti","placeholder","options","optionLabel","optionValue","isSearchable","isClearable","menuPlacement","loadOptionsUrl","loadOptionsKey","loadOptionsParams","filterParams","onCreateOption","SelectComponent","isLoading","reverse","onClearChange","onChange","customStyles","alwaysRefetch","customStylesProps"],y=function(){var e=(0,o.Z)(c().mark((function e(t,n,a,r,s,o,l,u){var d,p,h,g,v,x,y,b,_,C,E;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=10,e.next=3,f.hi.request.get((0,f.kB)(r,(0,i.Z)({page:a,limit:d,filter:o(t)},"function"==typeof l?l(t):l)));case 3:return p=e.sent,h=p.data,g=h.count,v=h&&m()(h,"next"),x=v&&v.indexOf("?"),y=v&&v.slice(x),b=y&&y.split("&")[0].split("=")[1],_=b&&Number(b)-1,C=g%d==0?g/d:Math.floor(g/d)+1,E=[],E=u?"function"==typeof s?s(h).reverse():s?m()(h,s).reverse():h.reverse():"function"==typeof s?s(h):s?m()(h,s):h,e.abrupt("return",{options:E,hasMore:_<C&&null!==_,additional:{page:_+1}});case 15:case"end":return e.stop()}}),e)})));return function(t,n,a,r,s,i,o,l){return e.apply(this,arguments)}}();function b(e){var t=e.disableOptions,n=(e.className,e.label,e.isMulti),o=e.placeholder,l=e.options,c=e.optionLabel,d=e.optionValue,m=e.isSearchable,f=e.isClearable,b=e.menuPlacement,_=e.loadOptionsUrl,C=e.loadOptionsKey,E=e.loadOptionsParams,S=void 0===E?{}:E,Z=e.filterParams,j=void 0===Z?function(){return{}}:Z,k=e.onCreateOption,w=e.SelectComponent,N=e.isLoading,I=e.reverse,T=void 0!==I&&I,A=e.onClearChange,D=e.onChange,M=e.customStyles,O=e.alwaysRefetch,R=void 0!==O&&O,L=e.customStylesProps,U=(0,s.Z)(e,x),F=(0,u.useState)(!1),P=(0,r.Z)(F,2),B=P[0],H=P[1],G=(0,u.useState)(!1),K=(0,r.Z)(G,2),V=K[0],Y=K[1],q=(0,h.m)().isDarkMode,Q=(0,g.$G)().t;(0,u.useEffect)((function(){V&&H(!0)}),[V]),(0,u.useEffect)((function(){B&&H(!1)}),[B]);var z,W={control:function(e,t){return(0,i.Z)((0,i.Z)({},e),{},{cursor:"pointer",boxShadow:"none",border:"1px solid #B8BCCF",borderRadius:"12px",opacity:t.isDisabled&&q&&.5,"&:hover":{}})},valueContainer:function(e){return(0,i.Z)((0,i.Z)({},e),{},{padding:"3px 8px"})},dropdownIndicator:function(){return{paddingRight:"5px",fill:"#1C162E"}},singleValue:function(e){return{color:"#424653",fontWeight:"300",fontSize:"15px"}},indicatorSeparator:function(e){return(0,i.Z)((0,i.Z)({},e),{},{display:"none"})},placeholder:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"#424653",fontWeight:"300",fontSize:"15px"})}};return B?null:(0,v.jsx)(p.n9,(0,i.Z)({noOptionsMessage:function(){return Q("no_options")},loadingMessage:function(){return"".concat(Q("loading"),"...")},className:"react-select-paginate",styles:L||M&&(z=M,"KntTwilioStyle"===z?W:{}),debounceTimeout:300,onChange:function(e){"function"==typeof D&&D(e),"function"==typeof A&&null===e&&A(null)},onMenuClose:function(){R&&Y(!0)},onMenuOpen:function(){R&&Y(!1)},getValue:function(e){return e[d]},getOptionLabel:function(e){return"function"==typeof c?c(e):e[c]},getOptionValue:function(e){return"function"==typeof d?d(e):e[d]},additional:{page:1},loadOptions:function(e,t,n){var a=n.page;return y(e,t,a,_,C,j,S,T)},isOptionDisabled:function(e){return t.reduce((function(e,t){return[].concat((0,a.Z)(e),[t.id])}),[]).includes(e.id)},isMulti:n,options:l,placeholder:o,isSearchable:m,isClearable:f,menuPlacement:b,onCreateOption:k,SelectComponent:w,isLoading:N},U))}b.defaultProps={title:"",className:null,optionValue:"id",optionLabel:"title",isSearchable:!1,menuPlacement:"bottom",disableOptions:[],loadOptionsKey:"items"};var _=b},96206:function(e,t,n){"use strict";n.d(t,{g:function(){return c}});var a=n(1413),r=n(72791),s=n(16178),i=n(46763),o=n(28182),l=n(64923);function c(e){var t=e.ChatHeader,n=e.ChatBody,c=e.ChatInput,u=(0,s.vI)({isDragging:!0}),d=u.getRootProps,m=u.getInputProps,p=u.isDragAccept,f=u.isDragReject,h=u.clipboardFile,g=u.handleClipboardClose,v=u.clipboardImageRef,x=(0,o.Z)("chat h-full focus-visible:outline-none flex flex-col justify-between font-poppins bg-no-repeat bg-cover bg-left-bottom",{"accept relative":p,"reject relative":f}),y=(0,r.useCallback)((function(e){for(var t=document.getElementsByTagName("audio"),n=0,a=t.length;n<a;n++)t[n]!==e.target&&t[n].pause()}),[]);return(0,r.useEffect)((function(){return document.addEventListener("play",y,!0),function(){document.removeEventListener("play",y,!0)}}),[]),(0,l.BX)("div",(0,a.Z)((0,a.Z)({},d({className:"".concat(x)})),{},{children:[(0,l.tZ)(i.A0,{getInputProps:m,isDragAccept:p,isDragReject:f}),t,n,(0,l.tZ)("div",{className:"chat__footer flex-shrink-0",children:c}),h&&(0,l.tZ)(i.dY,{clipboardFile:h,handleClipboardClose:g,clipboardImageRef:v})]}))}},49185:function(e,t,n){"use strict";n.d(t,{F:function(){return k}});var a,r=n(30168),s=n(29439),i=n(52554),o=n(28175),l=n(53148),c=n(38596),u=n(6330),d=n(72791),m=n(9321),p=n(28182),f=n(70629),h=n(86375),g=n(15690),v=n(14545),x=n(84674),y=n(17173),b=n(90218),_=n(28843),C=n(97689),E=n(64923),S=function(){return(0,E.BX)(o.ZP,{speed:2,width:200,height:40,viewBox:"0 0 200 40",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[(0,E.tZ)("circle",{cx:"43",cy:"19",r:"19"}),(0,E.tZ)("rect",{x:"71",y:"2",rx:"5",ry:"5",width:"116",height:"17"}),(0,E.tZ)("rect",{x:"72",y:"26",rx:"5",ry:"5",width:"108",height:"8"})]})},Z=function(){return(0,E.tZ)(o.ZP,{speed:2,width:300,height:12,viewBox:"0 0 300 12",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:(0,E.tZ)("rect",{x:"1",y:"-1",rx:"3",ry:"3",width:"373",height:"20"})})},j=(0,c.Z)((function(e){return(0,u.Z)({root:{width:"36px",height:"36px"}})}));function k(e){var t=e.data,n=e.HeaderActions,o=e.mainText,c=e.secondaryText,u=e.isFetched,k=e.pinnedMessage,w=e.scrollToHandler,N=e.toggleCaseDetails,I=void 0===N?function(){}:N,T=e.casePriority,A=void 0===T?"border-none":T,D=j(),M=(0,y.$G)().t,O=(0,b.K)().isRTL,R=(0,h.GH)(),L=R.closeCaseDetailModal,U=R.caseDetailsOpen,F=(0,v.mx)(),P=F.isScheduledChat,B=F.mentionUsersList,H=(0,C.a)().userData,G=(0,d.useMemo)((function(){return Object.values(k).filter((function(e){return e}))}),[k]),K=(0,m.Z)(),V=(0,s.Z)(K,2),Y=V[0],q=V[1].width,Q=(0,_.yt)(null==k?void 0:k.title,B,H,!1);return P?(0,E.tZ)(x.k,{}):(0,E.BX)("div",{ref:Y,className:(0,p.Z)("chat__header relative flex flex-shrink-0 items-center justify-between border-b border-black/10 p-2  dark:bg-kdark lg:py-5",{"pr-0 lg:pl-5":!O,"pl-0 lg:pr-5":O}),children:[(0,E.tZ)("div",{className:"chat-header__content grow-1 flex items-center justify-between xl:grow-0",children:(0,E.tZ)("div",{onClick:I,className:"chat-header__identity chat-header__identity-avatar flex cursor-pointer items-center",children:u&&t?(0,E.BX)(E.HY,{children:[(0,E.tZ)("div",{className:"h-9 w-9",children:(0,E.tZ)(l.qE,{src:t.avatarSrc,letter:t.avatarLetter,alt:t.avatarAlt,className:"bg-primary-200",classes:{root:D.root}})}),(0,E.BX)("div",{className:"chat-header__identity-text max-w-full px-2 dark:text-white",style:{width:"".concat(q/2,"px")},children:[(0,E.tZ)("div",{className:(0,p.Z)(" truncate text-xs font-semibold lg:max-w-full lg:text-base",{"max-w-160":f.tq}),children:o}),c?(0,E.tZ)("div",{className:"text-xs text-kgrey",children:c}):null]})]}):(0,E.tZ)(S,{})})}),(0,E.tZ)("div",{className:(0,p.Z)("chat__header-actions flex-center-y flex-shrink-0",{"ml-2 lg:mr-8":O,"mr-2 lg:ml-8":!O}),children:n}),G.length?(0,E.tZ)("div",{className:"pinned-case absolute left-0 right-0 top-full z-10 flex cursor-pointer items-center justify-between border-t border-b border-kdark-black/10 bg-[#f2f2f2] pt-1.5 pb-1 pl-2 pr-5 dark:bg-kgrey/20",onClick:function(){return w(null==k?void 0:k.id)},children:(0,E.BX)("div",{className:(0,p.Z)("case-pin-content overflow-hidden px-3 leading-none",A,{"border-l-2":!O,"border-r-2":O}),children:[(0,E.tZ)("div",{className:"pin-title mb-1.5 text-primary-dark",css:(0,i.iv)(a||(a=(0,r.Z)(["\n\t\t\t\t\t\t\t\tfont-size: 10px;\n\t\t\t\t\t\t\t"]))),children:M("pinned_title")}),(0,E.tZ)("div",{className:"pinned-text truncate text-xs leading-normal dark:text-white",children:u&&t?(0,E.tZ)(E.HY,{children:Q}):(0,E.tZ)(Z,{})})]})}):null,(0,E.tZ)(l.Cx,{handleModalOpen:L,open:Boolean(U),minWidth:362,maxWidth:550,scrollable:!0,children:(0,E.tZ)(g.z,{caseId:U,closeCaseDetailModal:L})})]})}},84674:function(e,t,n){"use strict";n.d(t,{k:function(){return u}});var a=n(16178),r=n(72791),s=n(84373),i=n(17173),o=n(28182),l=n(90218),c=n(80184);function u(){var e=(0,a.Kx)().removeMultipleParams,t=(0,i.$G)().t,n=(0,l.K)().isRTL,u=(0,r.useCallback)((function(){e(["isScheduledChat"])}),[]);return(0,c.jsx)("div",{className:"schedule-chat__header border-b border-black/10 p-2 pr-0 dark:bg-kdark lg:py-5 lg:pl-5",children:(0,c.jsxs)("div",{className:"schedule-chat-header__content flex items-center gap-x-2",children:[(0,c.jsx)("span",{onClick:u,className:"header-content__icon cursor-pointer",children:(0,c.jsx)(s.u1R,{className:(0,o.Z)("dark:text-white",{"rotate-180":n})})}),(0,c.jsx)("div",{className:"header-content__text text-sm font-semibold dark:text-white md:text-base",children:t("schedule_message")})]})})}},46763:function(e,t,n){"use strict";n.d(t,{FZ:function(){return Y},lv:function(){return Sn},J:function(){return kn},JE:function(){return Un},Xe:function(){return ia},CY:function(){return $},dY:function(){return Ln},A0:function(){return In},YS:function(){return gt},a5:function(){return yn},AK:function(){return me},Yi:function(){return re},x8:function(){return pt},ul:function(){return Xn},gx:function(){return ve},Rd:function(){return Kn},Xj:function(){return J},nN:function(){return ta},K:function(){return na},oM:function(){return sa},bt:function(){return ea}});var a=n(72791),r=n(97689);function s(e){var t,n=(0,r.a)().userData,s=(null==e||null===(t=e.from_user)||void 0===t?void 0:t.id)===n.id,i=e.id||e.message_id,o=e.type||e.message_type,l=null==e?void 0:e.message_type,c=e.created_date,u=e.edited,d=e.entity_id,m=e.entity_type,p=e.location,f=e.file_type,h=e.from_user,g=e.to_user,v=e.status,x=e.text,y=void 0===x?"":x,b=e.reacted_users,_=e.played_time,C=e.read_time,E=e.replied_to,S=e.file,Z=e.contact,j=e.custom_uuid,k=e.sent_time,w=e.original_text,N=e.translated_text,I=e.is_translation_shown,T=e.settings,A=e.is_deleted,D=e.scheduled_to;return{created_date:c,edited:u,entity_id:d,entity_type:m,location:p,file_type:f,from_user:h,to_user:g,type:o,status:v,messageId:i,isOwnMsg:s,text:y,reacted_users:(0,a.useMemo)((function(){return b}),[b]),played_time:_,read_time:C,replied_to:E,file:S,contact:Z,custom_uuid:j,message_type:l,sent_time:k,original_text:w,translated_text:N,is_translation_shown:I,settings:T,is_deleted:A,scheduled_to:D}}var i=n(28182),o=n(28843),l=n(80184);function c(e){var t=e.replied_to,n=e.setScrollToMsgId;return(0,l.jsx)(l.Fragment,{children:t?(0,l.jsxs)("div",{className:"mb-2 cursor-pointer border-l border-primary-dark p-1 text-kdark/60",onClick:function(){null==n||n(null==t?void 0:t.id)},children:[(0,l.jsx)("div",{className:"author text-sm text-primary-dark",children:u(t)+":"}),(0,l.jsx)("div",{className:"replied-msg text-xs italic  dark:text-white",children:d(t)})]}):null})}function u(e){var t,n;return null!=e&&e.from_user_name?null==e?void 0:e.from_user_name:"".concat(null===(t=e.from_user)||void 0===t?void 0:t.first_name," ").concat(null===(n=e.from_user)||void 0===n?void 0:n.last_name)}function d(e){var t,n=(0,o.kw)(null==e||null===(t=e.file_type)||void 0===t?void 0:t.toLowerCase());return null!=e&&e.is_deleted?"".concat(n," message was deleted"):e.text?e.text:e.file_type}var m=n(16178),p=n(66128),f=n(18111),h=n.n(f),g=n(93433),v=n(1413),x=n(29439),y=n(28175),b=n(13889),_=n(35741),C=n(14545),E=n(53148),S=n(40084),Z=n(7692),j=n(17173);function k(e){var t=e.messageId,n=e.reactedUsers,r=(0,C.mx)(),s=r.entityType,i=r.entityId,c=(0,S.m)().companyId,u=(0,a.useState)([]),d=(0,x.Z)(u,2),f=d[0],h=d[1],y=(0,j.$G)().t,k=(0,m.bK)({url:"/".concat(c,"/cases/as_business/").concat(i,"/members/"),params:{limit:30,extra:{members_count:"true"}},cb:{success:function(e,t){h(e)},error:function(e,t){}}}),N=k.loading,I=k.fetchData;return(0,a.useEffect)((function(){"case"===s&&I()}),[t,i,s]),(0,l.jsx)(_.Z.One,{id:i,relations:"",entity:"case"===s?"cases":"ims-chats",name:"".concat("case"===s?"Case":"Group","Chat-").concat(i),url:"/".concat(c,"/ims/groups/").concat(i,"/"),params:{},children:function(e){var a=e.item,r=e.isFetched,i=(0,v.Z)({},a);return(0,l.jsxs)("div",{className:"msg-info w-full",children:[(0,l.jsxs)("div",{className:"msg-info__header w-full border-b pb-4 ",children:[(0,l.jsx)("h2",{className:"mb-4 text-xl font-semibold",children:y("message_reaction_info")}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsxs)("div",{className:"w-1/2",children:[(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsxs)("dl",{className:"flex items-center",children:[(0,l.jsx)("dt",{children:y("total_members")}),(0,l.jsx)("dd",{className:"ml-2",children:"case"===s?(0,l.jsx)(l.Fragment,{children:N?(0,l.jsx)(p.aN,{}):f.members_count}):(0,l.jsx)(l.Fragment,{children:r?i.members.length:(0,l.jsx)(p.aN,{})})})]})}),(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsxs)("dl",{className:"flex items-center",children:[(0,l.jsx)("dt",{children:y("total_counts")}),(0,l.jsx)("dd",{className:"ml-2",children:n.reduce((function(e,t){return[].concat((0,g.Z)(e),(0,g.Z)(t.users))}),[]).length})]})})]}),(0,l.jsx)("div",{className:"-mt-2 w-1/2",children:(0,l.jsx)(b.$B,{className:"rct-scroll",autoHide:!0,style:{height:"94px"},children:(0,l.jsx)(p.EF.EmojiList,{inModal:!0,reactedUsers:n})})})]})]}),(0,l.jsxs)("div",{className:"pt-4",children:[(0,l.jsxs)("div",{className:" mb-4 flex items-center font-light",children:[(0,l.jsx)("div",{className:"icon mr-1 text-primary",children:(0,l.jsx)(Z.UZT,{})}),(0,l.jsxs)("div",{className:"text-sm",children:[y("reacted_users"),":"]})]}),(0,l.jsx)("div",{className:"msg-info__content h-28 w-full",children:(0,l.jsx)(b.$B,{style:{height:"100%"},autoHide:!0,children:(0,l.jsx)(_.Z.All,{entity:"MessageEmojies",name:"MessageEmojies-".concat(t),url:"messages/".concat(t,"/view_reacted_members/"),params:{},dataKey:function(e){return e},children:function(e){var t=e.items,n=e.isFetched,a=(e.meta,Object.values(t));return(0,l.jsx)(l.Fragment,{children:n?(0,l.jsx)(l.Fragment,{children:a.map((function(e){var t,n,a;return(0,l.jsxs)("div",{className:"msg-info__content-user mb-3 flex items-center",children:[(0,l.jsx)("div",{className:"avatar mr-3 flex-shrink-0",children:(0,l.jsx)(E.Rz,{size:36,smallSize:36,className:"",letter:"".concat(e.recipient.first_name[0]).concat(e.recipient.last_name[0]),alt:"".concat(e.recipient.first_name," ").concat(e.recipient.last_name),src:e.recipient.avatar?(null===(t=e.recipient.avatar)||void 0===t?void 0:t.thumbnail_150)||(null===(n=e.recipient.avatar)||void 0===n?void 0:n.thumbnail)||(null===(a=e.recipient.avatar)||void 0===a?void 0:a.url):null,color:e.recipient.color})}),(0,l.jsxs)("div",{className:"msg-info__user-content flex flex-grow items-center justify-between",children:[(0,l.jsx)("div",{className:"msg-info__user-name mb-1 text-sm",children:"".concat(e.recipient.first_name," ").concat(e.recipient.last_name)}),(0,l.jsxs)("div",{className:"msg-info__content-info-list flex-center-y",children:[e.reacted_at?(0,l.jsx)("div",{className:"mr-4 whitespace-nowrap text-xs text-kgrey-menuText",children:(0,o.IG)(e.reacted_at)}):null,(0,l.jsx)("div",{className:"mt-1 flex-shrink-0",children:(0,l.jsx)(p.EF.EmojiCustom,{emoji:e.emoji,size:20})})]})]})]},e.key)}))}):(0,l.jsx)(w,{})})}})})})]})]})}})}var w=function(){return(0,l.jsx)(l.Fragment,{children:(0,g.Z)(Array(6)).map((function(e,t){return(0,l.jsxs)(y.ZP,{speed:2,width:369,height:60,viewBox:"0 0 369 60",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[(0,l.jsx)("circle",{cx:"75",cy:"125",r:"27"}),(0,l.jsx)("circle",{cx:"27",cy:"26",r:"20"}),(0,l.jsx)("rect",{x:"62",y:"1",rx:"4",ry:"4",width:"130",height:"16"}),(0,l.jsx)("rect",{x:"62",y:"26",rx:"3",ry:"3",width:"128",height:"9"}),(0,l.jsx)("rect",{x:"62",y:"40",rx:"3",ry:"3",width:"129",height:"9"})]},t)}))})};function N(e){var t=e.reacted_users,n=e.file_type,r=e.isEmojiCountOpenHandler,s=(0,a.useMemo)((function(){return t}),[t]);return{cachedReactions:(0,a.useMemo)((function(){return(0,l.jsx)(p.EF.MessageReactions,{fileType:n,reactedUsers:s,clickHandler:r})}),[r,s])}}var I=n(70629),T=n(86375);function A(e){var t=e.acceptLink,n=e.rejectLink,a=e.message,r=(0,T.Un)(),s=r.sendBusinessActivationRequest,o=r.isBusinessActivationLoading;return(0,l.jsxs)("div",{className:"mt-3.5 flex gap-x-3",children:[(0,l.jsxs)(E.zx,{variant:"contained",color:"primary",disabled:o,onClick:function(){return s(t,a.custom_uuid)},children:[(0,l.jsx)("span",{className:(0,i.Z)("text-white",{"text-base":!I.tq,"text-xs":I.tq}),children:"Accept"}),o&&(0,l.jsx)(p.aN,{tiled:!0,size:24})]}),(0,l.jsxs)(E.zx,{variant:"contained",color:"secondary",disabled:o,onClick:function(){return s(n,a.custom_uuid)},children:[(0,l.jsx)("span",{className:(0,i.Z)("text-white",{"text-base":!I.tq,"text-xs":I.tq}),children:"Reject"}),o&&(0,l.jsx)(p.aN,{tiled:!0,size:24})]})]})}function D(e){var t=e.type,n=e.isOwnMsg,a=((0,o.kw)(t),(0,j.$G)().t);return(0,l.jsx)("div",{className:(0,i.Z)("break-words rounded-t-xl border border-kgrey-chatBorder bg-kgrey-light-grey-7 px-5 py-4 text-sm shadow-text-msg",{"rounded-br-xl":!n,"rounded-bl-xl":n}),children:a("message_deleted",{message:a("".concat(t,"_message"))})})}function M(e,t){var n,a,r,s;return(null===(n=e.message)||void 0===n?void 0:n.is_deleted)===(null===(a=t.message)||void 0===a?void 0:a.is_deleted)&&e.message.text===t.message.text&&e.setScrollToMsgId===t.setScrollToMsgId&&e.toggleEmojiPicker===t.toggleEmojiPicker&&h()(e.message.reacted_users,t.message.reacted_users)&&h()(e.message.settings,t.message.settings)&&h()(null===(r=e.message)||void 0===r?void 0:r.replied_to,null===(s=t.message)||void 0===s?void 0:s.replied_to)}var O=a.memo((function(e){var t,n,a=e.message,u=e.setScrollToMsgId,d=s(a),f=d.is_deleted,h=d.isOwnMsg,g=d.text,v=d.replied_to,x=d.reacted_users,y=d.messageId,b=d.file_type,_=d.settings,E=(0,m.D4)().renderTextMessage,Z=(0,r.a)().userData,j=(0,S.m)().isDarkMode,w=(0,m.dF)(),I=w.open,T=w.modalHandler,M=w.WhiteModal,O=N({reacted_users:x,file_type:b,isEmojiCountOpenHandler:T}).cachedReactions,R=(0,C.mx)().mentionUsersList,L=_&&"activation"in _,U=(0,o.yt)(g,R,Z,!0);return f?(0,l.jsx)(D,{isOwnMsg:h,type:"text"}):(0,l.jsxs)("div",{className:(0,i.Z)("break-words border border-kgrey-chatBorder px-5 py-4 text-sm text-kdark shadow-text-msg dark:text-white",{"rounded-b-xl rounded-tr-xl bg-white dark:bg-white/20":!h,"rounded-t-xl rounded-bl-xl bg-primary-200":h,"pb-2":null==x?void 0:x.length}),children:[(0,l.jsx)(c,{replied_to:v,setScrollToMsgId:u}),g.includes("<")?(0,l.jsx)("div",{className:(0,i.Z)({"invitation-message":j}),dangerouslySetInnerHTML:{__html:g}}):(0,l.jsx)("div",{className:"whitespace-pre-wrap",children:E(U,p._S)}),L?(0,l.jsx)(A,{acceptLink:null==_||null===(t=_.activation)||void 0===t?void 0:t.accept,message:a,rejectLink:null==_||null===(n=_.activation)||void 0===n?void 0:n.cancel}):null,(0,l.jsx)("div",{className:"pr-2",children:null!=x&&x.length?O:null}),(0,l.jsx)(M,{handleModalOpen:T,open:I,children:(0,l.jsx)(k,{messageId:y,reactedUsers:x})})]})}),M),R=n(45987),L=["replied_to","isOwnMsg","children","file_type","setScrollToMsgId","additionalClasses"],U=a.memo((function(e){var t=e.replied_to,n=e.isOwnMsg,a=e.children,r=e.file_type,s=void 0===r?"":r,o=e.setScrollToMsgId,u=e.additionalClasses,d=(0,R.Z)(e,L);return(0,l.jsxs)("div",(0,v.Z)((0,v.Z)({},d),{},{className:(0,i.Z)({"rounded-lg border border-primary p-2 lg:p-4 ":t,"bg-white/60 dark:bg-transparent":!n&&"VIDEO"!==s},u),children:[(0,l.jsx)(c,{replied_to:t,setScrollToMsgId:o}),a]}))}));U.displayName="RepliedMediaMsgWrapper";var F=n(14987),P=n(30298),B=n.n(P),H=n(49935),G=n(87818),K=n(80266);function V(e,t){var n,a,r,s,i,o;return(null===(n=e.message)||void 0===n?void 0:n.is_deleted)===(null===(a=t.message)||void 0===a?void 0:a.is_deleted)&&(null===(r=e.message.file)||void 0===r?void 0:r.url)===(null===(s=t.message.file)||void 0===s?void 0:s.url)&&h()(null===(i=e.message)||void 0===i?void 0:i.replied_to,null===(o=t.message)||void 0===o?void 0:o.replied_to)&&e.message.messageId===t.message.messageId&&e.message.custom_uuid===t.message.custom_uuid&&e.message.edited===t.message.edited&&h()(e.message.reacted_users,t.message.reacted_users)&&e.message.played_time===t.message.played_time}var Y=(0,a.memo)((function(e){var t=e.message,n=e.setScrollToMsgId,r=s(t),o=r.is_deleted,c=r.file,u=r.replied_to,d=r.messageId,p=r.custom_uuid,f=r.played_time,h=r.isOwnMsg,g=r.reacted_users,v=r.file_type,x=(0,C.mx)(),y=x.entityId,b=x.entityType,_=x.entityName,E=x.onGoingAudioPlayer,S=(0,C.RT)().sendJsonMessage,Z=(0,m.Kx)(),j=Z.changeUrlParams,w=Z.removeOneQueryParam,I=Z.query,T=(0,C.O9)(),A=T.audioUploadProgress,M=T.editingMessage,O=T.setAudioCancelSending,R=T.setEditingMessage,L=T.setAudioUploadProgress,F=(0,G.I0)(),P=(0,a.useRef)(),B=(0,a.useRef)(null==c?void 0:c.url),V=I.activeMedia,Y=(0,m.dF)(),Q=Y.open,z=Y.modalHandler,W=Y.WhiteModal,J=N({reacted_users:g,file_type:v,isEmojiCountOpenHandler:z}).cachedReactions;(0,a.useEffect)((function(){var e;V||(null==P||null===(e=P.current)||void 0===e||e.pause())}),[V]),(0,a.useEffect)((function(){if(Number(V)===(null==c?void 0:c.id)&&P.current){var e;E.src=null==c?void 0:c.url;var t=JSON.parse(K.tO.get("audioContinueTime"));(null===(e=P.current)||void 0===e?void 0:e.duration)!==(null==t?void 0:t.continueTime)&&(null==c?void 0:c.id)===(null==t?void 0:t.fileId)&&(P.current.currentTime=null==t?void 0:t.continueTime),E.pause(),P.current.play()}return function(){if(Number(V)===(null==c?void 0:c.id)&&!P.current){var e=JSON.parse(K.tO.get("audioContinueTime"));E.currentTime=null==e?void 0:e.continueTime,E.play(),E.ontimeupdate=$}}}),[c,V]);var X=(0,a.useCallback)((function(){if(O(!0),M)return R(null),L({}),void setTimeout((function(){return P.current&&P.current.load()}),100);F((0,H.hU)({entity:"".concat(b,"Messages"),name:_,id:p,deleteData:!0,appendData:!1,updateData:!1,prependData:!1}))}),[_,b,p,M]);(0,a.useEffect)((function(){B.current!==(null==c?void 0:c.url)&&(P.current&&P.current.load(),B.current=null==c?void 0:c.url)}),[c]);var $=function(){var e,t,n={fileId:Number(V),continueTime:0};null!=P&&null!==(e=P.current)&&void 0!==e&&e.currentTime?n.continueTime=null==P||null===(t=P.current)||void 0===t?void 0:t.currentTime:n.continueTime=E.currentTime;K.tO.set("audioContinueTime",JSON.stringify(n))},ee=p in A&&A[p];return o?(0,l.jsx)(D,{isOwnMsg:h,type:"audio"}):(0,l.jsxs)("div",{className:(0,i.Z)("text-kdark",{"rounded-b-xl rounded-tr-xl bg-white/10 dark:bg-kdark-lighter":!h,"rounded-t-xl rounded-bl-xl bg-primary-200":h&&u,"overflow-hidden":!u}),children:[(0,l.jsx)(U,{replied_to:u,setScrollToMsgId:n,children:(0,l.jsxs)("div",{className:(0,i.Z)("audio-wrapper relative"),children:[!d||ee?(0,l.jsx)(q,{audioUploadProgress:ee||100,cancelHandler:X,messageId:d}):null,(0,l.jsxs)("audio",{className:"audio-msg",controls:!0,onTimeUpdate:$,ref:P,onPlay:function(){null!=I&&I.isMediaActive&&w("isMediaActive"),setTimeout((function(){j({activeMedia:null==c?void 0:c.id})}),0),f||h||S({message_id:d,entity_id:y,entity_type:b,type:"played"})},onPause:function(){w("activeMedia")},children:[(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("source",{src:c&&c.url,type:"audio/ogg"}),(0,l.jsx)("source",{src:c&&c.url,type:"audio/mpeg"})]}),"Your browser does not support the audio element."]})]})}),(0,l.jsx)("div",{className:"px-2",children:null!=g&&g.length?J:null}),(0,l.jsx)(W,{handleModalOpen:z,open:Q,children:(0,l.jsx)(k,{messageId:d,reactedUsers:g})})]})}),V);function q(e){var t=e.audioUploadProgress,n=e.cancelHandler,a=(0,j.$G)().t;return(0,l.jsxs)("div",{className:"absolute inset-0 z-10 flex items-center rounded-4xl border bg-kgrey-bgmenu",children:[(0,l.jsx)("div",{className:"relative ml-1 h-12 w-12 flex-shrink-0",children:(0,l.jsx)("div",{className:" absolute z-10 h-12 w-12 cursor-pointer rounded-full bg-white/70",onClick:function(){},children:t?(0,l.jsx)("div",{className:"absolute top-1 left-1",children:(0,l.jsx)(F.K,{value:+t,variant:"indeterminate"})}):null})}),(0,l.jsx)("button",{className:(0,i.Z)("ml-2 text-sm text-kgrey underline hover:no-underline",{underline:100!==Number(t)}),onClick:n,children:B()(t)&&100===Number(t)?a("processing"):a("cancel")})]})}Y.displayName="AudioMsg";var Q=n(24112);function z(e,t){var n,a,r,s,i,o;return(null===(n=e.message)||void 0===n?void 0:n.is_deleted)===(null===(a=t.message)||void 0===a?void 0:a.is_deleted)&&e.message.file_type===t.message.file_type&&(null===(r=e.message.file)||void 0===r?void 0:r.url)===(null===(s=t.message.file)||void 0===s?void 0:s.url)&&h()(e.message.reacted_users,t.message.reacted_users)&&h()(null===(i=e.message)||void 0===i?void 0:i.replied_to,null===(o=t.message)||void 0===o?void 0:o.replied_to)}function W(e){var t=e.message,n=e.setScrollToMsgId,r=s(t),o=r.is_deleted,c=r.file,u=r.replied_to,d=r.isOwnMsg,p=r.file_type,f=r.reacted_users,h=r.messageId,g=(0,m.Kx)(),y=g.changeUrlParams,b=g.removeOneQueryParam,_=g.query,C=(0,a.useState)(!0),E=(0,x.Z)(C,2),S=E[0],Z=E[1],j=_.isMediaActive,w=(0,m.dF)(),T=w.open,A=w.modalHandler,M=w.WhiteModal,O=N({reacted_users:f,file_type:p,isEmojiCountOpenHandler:A}).cachedReactions;(0,a.useEffect)((function(){j||Z(!1)}),[j]);return o?(0,l.jsx)(D,{isOwnMsg:d,type:"video"}):(0,l.jsxs)("div",{className:(0,i.Z)("overflow-hidden break-words text-sm text-kdark shadow-text-msg dark:text-white",{"rounded-b-xl rounded-tr-xl bg-white dark:bg-white/20":!d,"rounded-t-xl rounded-bl-xl bg-primary-200":d}),children:[(0,l.jsx)("div",{className:"flex flex-col items-center",children:(0,l.jsx)(U,{replied_to:u,isOwnMsg:d,file_type:p,setScrollToMsgId:n,children:(0,l.jsx)("div",{className:(0,i.Z)("video-msg h-72"),children:(0,l.jsx)(Q.Z,(0,v.Z)((0,v.Z)({},"string"==typeof(null==c?void 0:c.url)?{url:null==c?void 0:c.url}:{}),{},{controls:!0,style:{maxWidth:"100%",height:"100%"},width:I.tq?300:360,height:"100%",light:null==c?void 0:c.thumbnail,playing:S,onPlay:function(){y({isMediaActive:!0}),Z(!0)},onPause:function(){return b("isMediaActive")},onEnded:function(){b("isMediaActive")}}))})})}),(0,l.jsx)("div",{className:"px-2",children:null!=f&&f.length?O:null}),(0,l.jsx)(M,{handleModalOpen:A,open:T,children:(0,l.jsx)(k,{messageId:h,reactedUsers:f})})]})}var J=a.memo(W,z);function X(e,t){var n,a,r,s,i,o;return(null===(n=e.message)||void 0===n?void 0:n.is_deleted)===(null===(a=t.message)||void 0===a?void 0:a.is_deleted)&&h()(null===(r=e.message)||void 0===r?void 0:r.contact,null===(s=t.message)||void 0===s?void 0:s.contact)&&h()(null===(i=e.message)||void 0===i?void 0:i.replied_to,null===(o=t.message)||void 0===o?void 0:o.replied_to)&&h()(e.message.reacted_users,t.message.reacted_users)}var $=a.memo((function(e){var t,n=e.message,a=e.setScrollToMsgId,r=s(n),o=r.is_deleted,c=r.isOwnMsg,u=r.contact,d=r.replied_to,p=r.reacted_users,f=r.file_type,h=r.messageId,g=(0,m.dF)(),v=g.open,x=g.modalHandler,y=g.WhiteModal,b=N({reacted_users:p,file_type:f,isEmojiCountOpenHandler:x}).cachedReactions;return o?(0,l.jsx)(D,{isOwnMsg:c,type:"contact"}):(0,l.jsxs)("div",{className:(0,i.Z)("overflow-hidden break-words text-sm text-kdark shadow-text-msg dark:text-white",{"rounded-b-xl rounded-tr-xl bg-white dark:bg-white/20":!c,"rounded-t-xl rounded-bl-xl bg-primary-200":c}),children:[(0,l.jsx)(U,{replied_to:d,isOwnMsg:c,setScrollToMsgId:a,children:(0,l.jsx)("div",{className:(0,i.Z)("border border-kgrey-chatBorder px-5 py-4 text-sm text-kdark shadow-text-msg dark:text-white",{"rounded-b-xl rounded-tr-xl bg-white dark:bg-white/20":!c,"rounded-t-xl rounded-bl-xl bg-primary-200":c}),children:null==u||null===(t=u.phone_number)||void 0===t?void 0:t.map((function(e,t){return(0,l.jsxs)("div",{className:"tel-contact mb-2",children:[(0,l.jsxs)("span",{children:["Name: ",(0,l.jsx)("span",{className:"ml-5",children:null==u?void 0:u.name})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{children:"Phone:"}),(0,l.jsx)("a",{className:"ml-5 hover:text-primary",href:"tel:".concat(e),children:e},t)]})]},t)}))})}),(0,l.jsx)("div",{className:(0,i.Z)({"px-2":null==p?void 0:p.length}),children:null!=p&&p.length?b:null}),(0,l.jsx)(y,{handleModalOpen:x,open:v,children:(0,l.jsx)(k,{messageId:h,reactedUsers:p})})]})}),X),ee=n(7993),te=n(49078),ne={width:"100%",height:"100%"},ae={streetViewControl:!1,zoomControl:!0,scrollwheel:!1},re=function(e){var t=e.message,n=e.setScrollToMsgId,r=s(t),o=r.is_deleted,c=r.location,u=r.replied_to,d=r.isOwnMsg,p=r.reacted_users,f=r.file_type,h=r.messageId,g=(0,te.y)().isLoaded,v=a.useState(null),y=(0,x.Z)(v,2),b=(y[0],y[1]),_=a.useState(!1),C=(0,x.Z)(_,2),E=C[0],S=C[1],Z=(0,a.useCallback)((function(e){var t=new window.google.maps.LatLngBounds;e.fitBounds(t),b(e)}),[]),j=(0,a.useCallback)((function(e){b(null)}),[]),w=[0,0];c&&(w=[null==c?void 0:c.lat,null==c?void 0:c.long]);var I=w,T=(0,x.Z)(I,2),A=T[0],M=T[1],O=null==c?void 0:c.formatted_name,R=(0,m.dF)(),L=R.open,F=R.modalHandler,P=R.WhiteModal,B=N({reacted_users:p,file_type:f,isEmojiCountOpenHandler:F}).cachedReactions;return o?(0,l.jsx)(D,{isOwnMsg:d,type:"location"}):(0,l.jsxs)("div",{className:(0,i.Z)("overflow-hidden break-words text-sm text-kdark shadow-text-msg dark:text-white",{"rounded-b-xl rounded-tr-xl bg-white dark:bg-white/20":!d,"rounded-t-xl rounded-bl-xl bg-primary-200":d}),children:[(0,l.jsx)(U,{replied_to:u,isOwnMsg:d,setScrollToMsgId:n,children:(0,l.jsx)("div",{className:"location-msg relative h-[200px] w-96",children:g?(0,l.jsx)(ee.b6,{mapContainerStyle:ne,options:ae,center:{lat:A,lng:M},zoom:10,onLoad:Z,onUnmount:j,children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ee.Jx,{position:{lat:A,lng:M},onClick:function(){S(!0)}},O),E?(0,l.jsx)(ee.nx,{position:{lat:A,lng:M},onCloseClick:function(){S(!1)},children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{children:O})})}):null]})}):(0,l.jsx)("p",{children:"Loading map"})})}),(0,l.jsx)("div",{className:"px-2",children:null!=p&&p.length?B:null}),(0,l.jsx)(P,{handleModalOpen:F,open:L,children:(0,l.jsx)(k,{messageId:h,reactedUsers:p})})]})},se=n(24560),ie=n(94370),oe=n(18163),le=n.n(oe),ce=(n(15860),n(90218)),ue=430;function de(e,t){var n,a,r,s,i,o,l,c,u,d,m,p;return(null===(n=e.message)||void 0===n?void 0:n.is_deleted)===(null===(a=t.message)||void 0===a?void 0:a.is_deleted)&&(null===(r=e.message.file)||void 0===r?void 0:r.url)===(null===(s=t.message.file)||void 0===s?void 0:s.url)&&e.message.custom_uuid===t.message.custom_uuid&&h()(null===(i=e.message)||void 0===i?void 0:i.replied_to,null===(o=t.message)||void 0===o?void 0:o.replied_to)&&(null===(l=e.message)||void 0===l?void 0:l.id)===(null===(c=t.message)||void 0===c?void 0:c.id)&&h()(null===(u=e.message)||void 0===u?void 0:u.reacted_users,null===(d=t.message)||void 0===d?void 0:d.reacted_users)&&(null===(m=e.message)||void 0===m?void 0:m.message_id)===(null===(p=t.message)||void 0===p?void 0:p.message_id)}var me=(0,a.memo)((function(e){var t,n,r,o,c,u=e.message,d=e.setScrollToMsgId,p=s(u),f=p.is_deleted,h=p.file,g=p.replied_to,v=p.isOwnMsg,y=p.custom_uuid,b=p.messageId,_=p.reacted_users,C=p.file_type,E=(0,j.$G)().t,S=(0,ce.K)().isRTL,Z=(0,m.Kx)(),w=Z.changeUrlParams,I=Z.removeOneQueryParam,T=Z.query,A=Number(null==T?void 0:T.case)||Number(null==T?void 0:T.chat),M=(0,a.useState)(!1),O=(0,x.Z)(M,2),R=O[0],L=O[1],P=(0,a.useState)(null),B=(0,x.Z)(P,2),K=B[0],V=B[1],Y=(0,se.O)(),q=Y.uploadMeta,Q=Y.setCancelSending,z=Y.editingMessage,W=(0,ie.m)(),J=W.entityType,X=W.entityName,$=(0,m.s6)({entity:"".concat(J,"Messages"),entityName:X,entityId:A}).all,ee=null==h?void 0:h.url,te=null===(t=$.items)||void 0===t?void 0:t.filter((function(e){return"IMAGE"===e.file_type&&e.file})).map((function(e){var t;return null==e||null===(t=e.file)||void 0===t?void 0:t.url})),ne=Number(q[y]),ae=(0,G.I0)(),re=(0,m.dF)(),oe=re.open,de=re.modalHandler,me=re.WhiteModal,pe=N({reacted_users:_,file_type:C,isEmojiCountOpenHandler:de}).cachedReactions,fe=(0,a.useCallback)((function(e){e.stopPropagation(),Q(y),ae((0,H.hU)({entity:"".concat(J,"Messages"),name:X,id:y,deleteData:!0,appendData:!1,updateData:!1,prependData:!1}))}),[J,J,y]),he=null==u||null===(n=u.file)||void 0===n?void 0:n.width,ge=null==u||null===(r=u.file)||void 0===r?void 0:r.height;return(0,a.useEffect)((function(){var e,t,n,a;he||ge||(t=null==u||null===(e=u.file)||void 0===e?void 0:e.url,n=function(e,t){var n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:480,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ue,r=Math.min(n/e,a/t);return{width:e*r,height:t*r}}(null==t?void 0:t.naturalWidth,null==t?void 0:t.naturalHeight),a=n.width,r=n.height,s=(null==t?void 0:t.naturalHeight)>ue?r:null==t?void 0:t.naturalHeight,i=(null==t?void 0:t.naturalWidth)>480?a:null==t?void 0:t.naturalWidth;V({width:i,height:s})},(a=new Image).onload=function(){return n(null,a)},a.onerror=function(e){return n(e)},a.src=t)}),[he,ge]),f?(0,l.jsx)(D,{isOwnMsg:v,type:"image"}):(0,l.jsx)("div",{className:(0,i.Z)("overflow-hidden break-words text-sm text-kdark shadow-text-msg dark:text-white",{"rounded-b-xl rounded-tr-xl bg-white dark:bg-white/20":!v,"rounded-t-xl rounded-bl-xl bg-primary-200":v}),children:(0,l.jsxs)(U,{replied_to:g,isOwnMsg:v,setScrollToMsgId:d,children:[(0,l.jsxs)("div",{className:(0,i.Z)("toggler-msg flex-centered  relative  w-full  overflow-hidden bg-white","max-h-[430px]  max-w-[480px]"),style:{height:"".concat(null!==(o=ge||(null==K?void 0:K.height))&&void 0!==o?o:ue,"px"),width:"".concat(null!==(c=he||(null==K?void 0:K.width))&&void 0!==c?c:ue,"px")},children:[(0,l.jsx)("img",{onClick:function(){L((function(e){return!e})),w({isMediaActive:!0})},src:ee,alt:null==h?void 0:h.name,className:"block h-full w-full object-cover"}),R?(0,l.jsx)("span",{className:(0,i.Z)({"lb-custom-wrapper":1===te.length},"z-10000 absolute -top-0.5 -right-3"),children:(0,l.jsx)(le(),{images:te,keyboardInteraction:te.length>1,onClose:function(){L(!1),I("isMediaActive")},startIndex:te.indexOf(ee)})}):null,y in q&&(!b||z)&&(0,l.jsx)("div",{className:"absolute top-auto left-auto right-auto bottom-auto z-10 h-12 w-12 cursor-pointer rounded-full bg-white/70",onClick:fe,children:ne?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"absolute top-1 left-1",children:(0,l.jsx)(F.K,{value:Number(q[y]),variant:"indeterminate"})}),(0,l.jsx)("span",{className:(0,i.Z)("absolute top-12  mt-1 rounded-xl bg-white/70 p-2 text-sm leading-none underline hover:no-underline dark:bg-kdark-dark333",{"-left-2":!S,"left-1":S}),children:E("cancel")})]}):null})]}),(0,l.jsx)("div",{className:"px-2",children:null!=_&&_.length?pe:null}),(0,l.jsx)(me,{handleModalOpen:de,open:oe,children:(0,l.jsx)(k,{messageId:b,reactedUsers:_})})]})})}),de),pe=n(51549),fe=n(21316),he=function(e){var t=e.children,n=e.clickHandler,a=void 0===n?function(){}:n,r=e.clickable,s=void 0!==r&&r,o=(0,ce.K)().languageDirection;return(0,l.jsxs)("div",{dir:o,className:(0,i.Z)("flex-centered relative mb-2 leading-none text-kgrey-msg/70 lg:h-4",{"cursor-pointer transition hover:text-primary":s}),onClick:a,children:[(0,l.jsx)("div",{className:"line t-2 z-0 hidden h-px w-full border-b border-kgrey-msg/20 lg:block"}),(0,l.jsx)("div",{className:"msg-service-text relative z-10 mx-2 text-center text-xs lg:flex-shrink-0",children:t}),(0,l.jsx)("div",{className:"line t-2 z-0 hidden h-px w-full border-b border-kgrey-msg/20 lg:block"})]})};function ge(e,t){var n,a,r,s;return e.message.text===t.message.text&&(null===(n=e.message)||void 0===n?void 0:n.type)===(null===(a=t.message)||void 0===a?void 0:a.type)&&(null===(r=e.message)||void 0===r?void 0:r.message_type)===(null===(s=t.message)||void 0===s?void 0:s.message_type)&&h()(e.message.from_user,t.message.from_user)&&h()(e.message.to_user,t.message.to_user)}var ve=a.memo((function(e){var t=e.message,n=(0,j.$G)().t,a=s(t),r=a.text,i=a.type,o=a.from_user,c=a.to_user,u=a.message_type,d=a.sent_time,m=a.entity_type,p=(0,S.m)().setStatusPriorityMessagePopup,f=u||i,h="case"===m,g=function(){p({from_user:o,actualType:f,sent_time:d,text:r,to_user:c,type:h?"case":"group"})};return(0,l.jsx)(l.Fragment,{children:function(e){switch((0,pe.L)(e)){case fe.K.STATUS_CHANGED:return(0,l.jsx)(he,{clickable:!0,clickHandler:g,children:r});case fe.K.STATUS_NAME_CHANGED:return(0,l.jsx)(he,{children:n("status_name_changed_to",{text:r})});case fe.K.PRIORITY_CHANGED:return(0,l.jsx)(he,{clickable:!0,clickHandler:g,children:r});case fe.K.REQUEST_MANAGER:return(0,l.jsx)(he,{clickable:!1,children:r});case fe.K.ADD_MEMBER:case fe.K.MEMBER_ADDED:return(0,l.jsx)(he,{clickable:!0,clickHandler:g,children:n("user_added_user",{from_user:"".concat(null==o?void 0:o.first_name," ").concat(null==o?void 0:o.last_name),to_user:"".concat(null==c?void 0:c.first_name," ").concat(null==c?void 0:c.last_name),entity:h?"case":"group chat"})});case fe.K.REMOVE_MEMBER:case fe.K.MEMBER_DELETED:return(0,l.jsx)(he,{clickable:!0,clickHandler:g,children:n("user_deleted_user",{from_user:"".concat(null==o?void 0:o.first_name," ").concat(null==o?void 0:o.last_name),to_user:"".concat(null==c?void 0:c.first_name," ").concat(null==c?void 0:c.last_name),entity:h?"case":"group chat"})});case fe.K.LEFT_MEMBER:case fe.K.MEMBER_LEFT:return(0,l.jsx)(he,{children:n("user_left_entity",{from_user:"".concat(null==o?void 0:o.first_name," ").concat(null==o?void 0:o.last_name),entity:h?"case":"group chat"})});case"ERROR":return(0,l.jsx)(he,{children:"Error occurred. This message is not valid"});default:return(0,l.jsx)(he,{clickable:!0,clickHandler:g,children:r})}}(f)})}),ge),xe=n(95269),ye=n(38596),be=n(6330),_e=n(78029),Ce=n(66364),Ee=n.n(Ce),Se=n(78820),Ze=n(17425),je=n(58617),ke=n(9478),we=n(63524),Ne="menu-item w-full flex items-center hover:bg-kgrey/20 hover:text-primary dark:hover:text-primary transition px-3 py-3 leading-none cursor-pointer text-kgrey-chatGrey/70 dark:text-white text-sm",Ie=(0,a.memo)((function(e){var t,n=e.messageId,s=e.handleClose,i=e.fileType,o=e.fromUserFirstName,c=e.fromUserLastName,u=e.text,d=e.custom_uuid,p=e.isOwnMsg,f=e.repliedToId,h=e.infoModalHandler,g=e.fileUrl,y=e.original_text,b=e.languageSelectModalHandler,_=e.isDeleted,E=e.scheduled_to,Z=(0,j.$G)().t,k=(0,m.SC)(n,d),w=k.pinMessage,N=k.deleteMessage,I=k.handleSendScheduledMessageNow,T=k.handleReScheduledMessage,A=k.downloadFileHandler,D=(0,a.useState)(!1),M=(0,x.Z)(D,2),O=M[0],R=M[1],L=(0,C.O9)(),U=L.setReply,F=L.setEditingMessage,P=L.editingMessage,B=L.setMessage,H=L.setReplyEditCancel,G=(0,m.eC)().showNotification,K=(0,C.mx)(),V=K.entityId,Y=K.entityType,q=K.isScheduledChat,Q=(0,m.cX)(),z=Q.getLS,W=Q.updateEntityDraft,J=Q.removeLS,X=Q.sendDeleteDraft,$=(0,r.a)().userData,ee=z(),te=null===(t=window.getSelection())||void 0===t?void 0:t.toString(),ne=(0,S.m)(),ae=ne.activeDraft,re=ne.setActiveDraft,se=(0,m.QY)({entity:"ims-chats",entityId:V,entityName:"GroupChat-".concat(V,"One")}),ie=(0,m.Kx)().query,oe=!!ie.isSupportCase,le=function(){return w(V)},ce=function(){U(null);var e=function(){F((0,v.Z)({id:n,text:y||u,custom_uuid:d,fileType:i,replied_to_id:f},(0,v.Z)({},E?{scheduled_to:E}:{})))};if(P)return H(!0),F(null),(ae||V in ee)&&(W("reset"),re(null),J(V),X(),B("")),void setTimeout((function(){e()}),50);e()},ue="case"===Y?"".concat(ke.Z.REACT_APP_URL,"/case-messages?case=").concat(V,"&searchedMessageId=").concat(n,"&status=").concat(ie.status):"".concat(ke.Z.REACT_APP_URL,"/group-chat?chat=").concat(V,"&searchedMessageId=").concat(n);(0,a.useEffect)((function(){"ims"!==Y||Ee()(se.item)||se.item.members.find((function(e){return e.user.id===$.id})).is_allowed_pin_msg&&R(!0);"case"===Y&&R(!0)}),[se,Y,$.id]);var de=(0,a.useMemo)((function(){return[{icon:(0,l.jsx)(Ze.UTR,{}),text:Z("reply_label"),handler:function(){F(null),U({text:u,file_type:i,from_user_first_name:o,from_user_last_name:c,id:n})},textOnly:!1,isCopy:!1,isDownload:!1,isOwnMsg:!1,viewInDeleted:!1,viewInScheduled:!1},{icon:(0,l.jsx)(we.VZL,{}),text:Z("send_now"),textCode:"send_now",handler:I,textOnly:!1,isCopy:!1,isDownload:!1,isOwnMsg:!1,viewInDeleted:!1,viewInScheduled:!0},{icon:(0,l.jsx)(we.lPB,{}),text:Z("reschedule"),textCode:"re_schedule",handler:T,textOnly:!1,isCopy:!1,isDownload:!1,isOwnMsg:!1,viewInDeleted:!1,viewInScheduled:!0},{icon:(0,l.jsx)(Se.N0Z,{}),text:Z("pin_title"),textCode:"pin_title",handler:le,textOnly:!0,isCopy:!1,isDownload:!1,isOwnMsg:!1,viewInDeleted:!1,viewInScheduled:!1},{icon:(0,l.jsx)(je.tAA,{}),text:Z("change_language"),handler:b,textOnly:!0,isCopy:!1,isDownload:!1,isOwnMsg:!1,viewInDeleted:!1,viewInScheduled:!1},{icon:(0,l.jsx)(Se.kA6,{}),text:Z("info"),handler:h,textOnly:!1,isCopy:!1,isDownload:!1,isOwnMsg:!1,viewInDeleted:!0,viewInScheduled:!1},{icon:(0,l.jsx)(Se.QML,{}),text:Z("edit"),handler:ce,textOnly:!1,isCopy:!1,isDownload:!1,isOwnMsg:!0,viewInDeleted:!1,viewInScheduled:!0},{icon:(0,l.jsx)(Se.$OG,{}),text:"".concat(Z(te?"copy_selected_text":"copy_text")),copyText:te||u,copyNotification:Z("message_copied_success"),handler:function(){},textOnly:!0,isCopy:!0,isDownload:!1,isOwnMsg:!1,viewInDeleted:!0,viewInScheduled:!0},{icon:(0,l.jsx)(je.x9Z,{}),text:Z("copy_message_link"),copyText:ue,copyNotification:Z("message_link_copied_success"),handler:function(){},textOnly:!1,isCopy:!0,isDownload:!1,isOwnMsg:!1,viewInDeleted:!0,viewInScheduled:!1},{icon:(0,l.jsx)(Se.YK6,{}),text:Z("delete"),handler:function(){return N()},textOnly:!1,isCopy:!1,isDownload:!1,isOwnMsg:!0,viewInDeleted:!1,viewInScheduled:!0},{icon:(0,l.jsx)(Se.xOH,{}),text:Z("download"),handler:function(){g?A(g,i):G({message:"Something went wrong, while downloading file"})},textOnly:!1,isCopy:!1,isDownload:!0,isOwnMsg:!1,viewInDeleted:!1,viewInScheduled:!0}]}),[F,U,u,o,c,n,le,h,ce,N]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"max-w-fit rounded-xl pr-1 text-base",children:de.filter((function(e){return u.length?e:!e.textOnly})).filter((function(e){return p?e:!e.isOwnMsg})).filter((function(e){return"pin_title"!==(null==e?void 0:e.textCode)||O})).filter((function(e){return i?e:!e.isDownload})).filter((function(e){return!("pin_title"===(null==e?void 0:e.textCode)&&oe)})).filter((function(e){return!(!e.viewInDeleted&&_)})).filter((function(e){return q?e.viewInScheduled:!("send_now"===(null==e?void 0:e.textCode)||"re_schedule"===(null==e?void 0:e.textCode))})).map((function(e){var t;return(0,l.jsx)(a.Fragment,{children:e.isCopy?(0,l.jsx)(_e.CopyToClipboard,{text:null!==(t=e.copyText)&&void 0!==t?t:"",onCopy:function(){var t;G({message:null!==(t=e.copyNotification)&&void 0!==t?t:"Done",variant:"info"}),setTimeout((function(){return s()}),0)},children:(0,l.jsxs)("button",{className:Ne,children:[(0,l.jsx)("div",{className:"menu-item__icon mx-2",children:e.icon}),(0,l.jsx)("div",{className:"menu-item__text",children:e.text})]})},e.text):(0,l.jsx)(Te,{fileUrl:g,item:e,handleClose:s},e.text)},e.text)}))})})}));function Te(e){var t=e.item,n=e.handleClose;e.fileUrl;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("button",{className:Ne,onClick:function(e){t.handler(e),n()},children:[(0,l.jsx)("div",{className:"menu-item__icon mx-2",children:t.icon}),(0,l.jsx)("div",{className:"menu-item__text",children:t.text})]})})}Ie.displayName="MessageMenu";var Ae=n(19053);function De(e){var t=e.text,n=e.fileType,a=(0,m.D4)().renderTextMessage,r=(0,j.$G)().t;return(0,l.jsx)(l.Fragment,{children:t?a(t,p._S):r((0,Ae.u)("".concat(n,"_message")))})}var Me=n(16856),Oe=n(15861),Re=n(64687),Le=n.n(Re);function Ue(e){var t,n,r=e.text,s=e.fileType,i=e.fileUrl,o=e.contact,c=e.location,u=e.messageId,d=(0,m.D4)().renderTextMessage,f=(0,j.$G)().t,h=null!=c?c:{},g=h.long,v=h.lat,x=null==c?void 0:c.formatted_name,y=(0,a.useCallback)((function(e,t){return(0,Oe.Z)(Le().mark((function n(){var a,r,s,i,o;return Le().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=null,s=document.createElement("a"),"AUDIO"!==t){n.next=11;break}return n.next=5,fetch(e);case 5:return i=n.sent,n.next=8,i.blob();case 8:o=n.sent,r=URL.createObjectURL(o),s.download="audio_".concat(u,".mp3");case 11:s.target="_blank",s.href=null!==(a=r)&&void 0!==a?a:e,s.style.display="none",document.body.append(s),s.click(),document.body.removeChild(s);case 17:case"end":return n.stop()}}),n)})))}),[]);return c?(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex max-w-full",children:[(0,l.jsxs)("strong",{children:[f("address"),": "]}),(0,l.jsx)("div",{className:"ml-2 break-words",children:x})]}),(0,l.jsxs)("dl",{children:[(0,l.jsxs)("div",{className:"flex-center-y",children:[(0,l.jsx)("dt",{className:"mr-2 font-bold",children:"Longitude: "}),(0,l.jsx)("dd",{children:g})]}),(0,l.jsxs)("div",{className:"flex-center-y",children:[(0,l.jsx)("dt",{className:"mr-2 font-bold",children:"Latitude: "}),(0,l.jsx)("dd",{children:v})]})]})]}):o?(0,l.jsx)("div",{children:null==o||null===(n=o.phone_number)||void 0===n?void 0:n.map((function(e,t){return(0,l.jsxs)("div",{className:"tel-contact mb-2",children:[(0,l.jsxs)("span",{children:[f("name"),": ",(0,l.jsx)("span",{className:"ml-5",children:null==o?void 0:o.name})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsxs)("span",{children:[f("phone"),":"]}),(0,l.jsx)("a",{className:"ml-5 hover:text-primary",href:"tel:".concat(e),children:e},t)]})]},t)}))}):s&&i?(0,l.jsx)("a",{onClick:y(i,s),className:"cursor-pointer text-kblue underline hover:no-underline",children:f("download_file_to_view")}):i||r?(0,l.jsx)(l.Fragment,{children:r?d(r,p._S):"".concat(null==s?void 0:s[0]).concat(null==s||null===(t=s.toLowerCase())||void 0===t?void 0:t.slice(1)," message")}):(0,l.jsx)("div",{children:f("unavailable_message")})}function Fe(e){var t=e.messageId,n=(0,C.mx)().entityType,a=(0,j.$G)().t;return(0,l.jsx)(_.Z.One,{id:t,relations:"",entity:"".concat(n,"Messages"),name:"Message-".concat(t),url:"/messages/".concat(t,"/"),params:{extra:{with_deleted:"true"}},children:function(e){var n,r,s,i,o,c,u,d,m,p,f,h,g,x,y,C,S,Z=e.item,j=e.isFetched,k=(0,v.Z)({},Z);return(0,l.jsxs)("div",{className:"msg-info w-full",children:[(0,l.jsxs)("div",{className:"msg-info__header w-full border-b pb-4 ",children:[(0,l.jsx)("h2",{className:"mb-4 text-xl font-semibold",children:a("message_info")}),j?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"msg-info__msg-text mb-2",children:[(0,l.jsx)("div",{className:"ml-5 mb-1.5 text-sm font-light uppercase",children:a("message_dot")}),(0,l.jsx)("div",{className:"max-w-md rounded-xl border border-kgrey-msgBorder p-3 text-sm shadow-text-msg",children:k.is_deleted?(0,l.jsx)(Ue,{messageId:null!==(n=null==k?void 0:k.message_id)&&void 0!==n?n:null==k?void 0:k.id,text:k.text,fileType:k.file_type,fileUrl:null===(r=k.file)||void 0===r?void 0:r.url,contact:k.contact,location:k.location}):(0,l.jsx)(De,{text:k.text,fileType:k.file_type})})]}),(0,l.jsxs)("div",{className:"mb-1 flex items-center font-light uppercase",children:[(0,l.jsx)("div",{className:"icon mr-1",children:(0,l.jsx)(Me.vB0,{})}),(0,l.jsx)("div",{className:"text-sm",children:a("sent_by")})]}),(0,l.jsxs)("div",{className:"msg-info__sender flex items-center",children:[(0,l.jsx)("div",{className:"msg-info__sender-avatar mx-2",children:(0,l.jsx)(E.Rz,{size:36,smallSize:36,className:"",letter:"".concat(null==k||null===(s=k.from_user)||void 0===s||null===(i=s.first_name)||void 0===i?void 0:i[0]).concat(null==k||null===(o=k.from_user)||void 0===o||null===(c=o.last_name)||void 0===c?void 0:c[0]),alt:"".concat(null==k||null===(u=k.from_user)||void 0===u?void 0:u.first_name," ").concat(null==k||null===(d=k.from_user)||void 0===d?void 0:d.last_name),src:(null==k||null===(m=k.from_user)||void 0===m||null===(p=m.avatar)||void 0===p?void 0:p.thumbnail_150)||(null==k||null===(f=k.from_user)||void 0===f||null===(h=f.avatar)||void 0===h?void 0:h.thumbnail)||(null==k||null===(g=k.from_user)||void 0===g||null===(x=g.avatar)||void 0===x?void 0:x.url),color:null==k||null===(y=k.from_user)||void 0===y?void 0:y.color})}),(0,l.jsxs)("div",{className:"msg-info__sender-info",children:[(0,l.jsx)("div",{className:"msg-info__sender-name",children:"".concat(null==k||null===(C=k.from_user)||void 0===C?void 0:C.first_name," ").concat(null==k||null===(S=k.from_user)||void 0===S?void 0:S.last_name)}),(0,l.jsx)("div",{className:"msg-info__data text-sm text-kgrey",children:K.XV.toLastTime(k.sent_time,!0)})]})]})]}):(0,l.jsx)(Be,{})]}),(0,l.jsxs)("div",{className:"pt-4",children:[(0,l.jsxs)("div",{className:"mb-1 flex items-center font-light uppercase",children:[(0,l.jsx)("div",{className:"icon mr-1 text-primary",children:(0,l.jsx)(Me.smy,{})}),(0,l.jsx)("div",{className:"text-sm",children:a("seen_by")})]}),(0,l.jsx)("div",{className:"msg-info__content h-28 w-full",children:(0,l.jsx)(b.$B,{style:{height:"100%"},children:(0,l.jsx)(_.Z.All,{entity:"MessageViewer",name:"MessageViewer-".concat(t),url:"messages/".concat(t,"/viewers/"),params:{extra:{with_deleted:"true"}},dataKey:function(e){return e},replaceIds:!0,primaryKey:"id",children:function(e){var t=e.items,n=e.isFetched,r=(e.meta,Object.values(t));return(0,l.jsx)(l.Fragment,{children:n?(0,l.jsx)(l.Fragment,{children:r.map((function(e){var t,n,r,s,i,o;return(0,l.jsxs)("div",{className:"msg-info__content-user mb-3 flex items-center",children:[(0,l.jsx)("div",{className:"avatar mx-3 flex-shrink-0",children:(0,l.jsx)(E.Rz,{size:36,smallSize:36,className:"",letter:"".concat(e.recipient.first_name[0]).concat(e.recipient.last_name[0]),alt:"".concat(e.recipient.first_name," ").concat(e.recipient.last_name),src:(null===(t=e.recipient)||void 0===t||null===(n=t.avatar)||void 0===n?void 0:n.thumbnail_150)||(null===(r=e.recipient)||void 0===r||null===(s=r.avatar)||void 0===s?void 0:s.thumbnail)||(null===(i=e.recipient)||void 0===i||null===(o=i.avatar)||void 0===o?void 0:o.url),color:e.recipient.color})}),(0,l.jsxs)("div",{className:"msg-info__user-content",children:[(0,l.jsx)("div",{className:"msg-info__user-name mb-1 text-sm",children:"".concat(e.recipient.first_name," ").concat(e.recipient.last_name)}),(0,l.jsxs)("div",{className:"msg-info__content-info-list",children:[e.delivered?(0,l.jsx)(Pe,{infoTime:e.delivered,text:a("delievered_time")}):null,e.read?(0,l.jsx)(Pe,{infoTime:e.read,text:a("seen_time")}):null,e.played_time?(0,l.jsx)(Pe,{infoTime:e.delivered,text:"Played"}):null]})]})]},e.key)}))}):(0,l.jsx)(He,{})})}})})})]})]})}})}function Pe(e){var t=e.text,n=e.infoTime;return(0,l.jsxs)("div",{className:"msg-info__content-item mb-1 items-center justify-between text-sm leading-none text-kgrey lg:flex",children:[(0,l.jsx)("div",{className:"text mr-2",children:"".concat(t)}),(0,l.jsx)("div",{className:"text",children:K.XV.toLastTime(n,!0,!1)})]})}var Be=function(){return(0,l.jsxs)(y.ZP,{speed:2,width:369,height:100,viewBox:"0 0 369 100",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[(0,l.jsx)("rect",{x:"4",y:"0",rx:"5",ry:"5",width:"221",height:"19"}),(0,l.jsx)("rect",{x:"5",y:"34",rx:"2",ry:"2",width:"141",height:"11"}),(0,l.jsx)("circle",{cx:"75",cy:"125",r:"27"}),(0,l.jsx)("circle",{cx:"28",cy:"77",r:"21"}),(0,l.jsx)("rect",{x:"64",y:"59",rx:"4",ry:"4",width:"185",height:"17"}),(0,l.jsx)("rect",{x:"63",y:"87",rx:"4",ry:"4",width:"129",height:"14"})]})},He=function(){return(0,l.jsx)(l.Fragment,{children:(0,g.Z)(Array(6)).map((function(e,t){return(0,l.jsxs)(y.ZP,{speed:2,width:369,height:60,viewBox:"0 0 369 60",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[(0,l.jsx)("circle",{cx:"75",cy:"125",r:"27"}),(0,l.jsx)("circle",{cx:"27",cy:"26",r:"20"}),(0,l.jsx)("rect",{x:"62",y:"1",rx:"4",ry:"4",width:"130",height:"16"}),(0,l.jsx)("rect",{x:"62",y:"26",rx:"3",ry:"3",width:"128",height:"9"}),(0,l.jsx)("rect",{x:"62",y:"40",rx:"3",ry:"3",width:"129",height:"9"})]},t)}))})},Ge=n(71015),Ke=n(706),Ve={mouseX:null,mouseY:null};function Ye(e,t){var n=(0,a.useState)(null),r=(0,x.Z)(n,2),s=r[0],i=r[1],o=(0,a.useState)(null),l=(0,x.Z)(o,2),c=l[0],u=l[1],d=(0,Ge.r)().updateEntities,m=(0,C.mx)().entityType,p=(0,C.O9)().setReplyEditCancel,f=a.useState(Ve),h=(0,x.Z)(f,2),g=h[0],v=h[1],y=(0,a.useMemo)((function(){return c}),[c]),b=(0,a.useMemo)((function(){return g}),[g]),_=(0,Ke.b)({url:"",dynamicUrl:!0,dynamicValues:!0,method:"post",cb:{success:function(e,t){},error:function(e,t){var n=(0,x.Z)(t,1)[0];d({entity:"".concat(m,"Messages"),entityId:n.custom_uuid,updatingData:{reacted_users:n.initialValues}})}}}).fetchData,E=(0,Ke.b)({url:"",dynamicUrl:!0,method:"delete",cb:{success:function(e,t){},error:function(e,t){var n=(0,x.Z)(t,1)[0];d({entity:"".concat(m,"Messages"),entityId:n.custom_uuid,updatingData:{reacted_users:n.initialValues}})}}}).fetchData,S=(0,a.useCallback)((function(e){e.preventDefault(),v({mouseX:e.clientX-2,mouseY:e.clientY-4}),p(!0)}),[]),Z=(0,a.useCallback)((function(){v(Ve)}),[Ve]),j=(0,a.useCallback)((function(e){i(e.currentTarget),p(!0)}),[]),k=(0,a.useCallback)((function(){i(null),p(!1)}),[]),w=(0,a.useCallback)((function(t){var n=t.reactedUsers,a=t.messageId,r=t.emoji,s=t.toBeDeleted,i=void 0!==s&&s,o=t.initialReactedMessage,l=t.custom_uuid;d({entity:"".concat(m,"Messages"),entityId:l,updatingData:{reacted_users:n}}),setTimeout((function(){e&&e(!1)}),0),i?E({url:"/messages/".concat(a,"/react/"),initialValues:o,custom_uuid:l}):_({url:"/messages/".concat(a,"/react/"),values:{emoji:r},initialValues:o,custom_uuid:l})}),[e]),N=(0,a.useCallback)((function(e){var n,a=document.querySelector("#message-".concat(t," .message-content"));a&&(n=a.getBoundingClientRect());var r={top:Math.abs(n.top-e.pageY),left:Math.abs(n.left-e.pageX)};u(r)}),[t]);return{anchorEl:s,contextMenu:b,handleContextClick:S,handleContextClose:Z,handleClick:j,handleClose:k,renderReacted:w,coords:y,getCoordinatesHandler:N}}var qe=a.memo((function(e){var t=e.toggleEmojiPicker,n=e.isOwnMsg;return(0,l.jsx)("div",{className:(0,i.Z)("message-like-button for-text cursor-pointer  text-2xl text-primary opacity-0 transition transition hover:text-primary-dark",{"order-first":n,"ml-2":!n,"mr-2":n}),onClick:t,children:(0,l.jsx)(Z.UZT,{})})})),Qe=n(39126);function ze(e){var t=(0,j.$G)().t,n=e.isTextMessage,a=e.isOwnMsg,r=e.clickHandler,s=e.isTranslated;return(0,l.jsx)(l.Fragment,{children:n?(0,l.jsx)("button",{className:(0,i.Z)("translate-button ml-auto text-primary  transition hover:text-primary-dark",{"mr-24":!a,"mr-2":a,"opacity-0":!s}),onClick:r,children:t(s?"show_original_text":"translate")}):null})}var We=n(22553),Je=n(52067),Xe=n(80159),$e=n(78096),et=n(64212),tt=n(67025),nt=n(20632),at=n(32380);function rt(e){var t=e.modalHandler,n=(0,j.$G)().t,s=(0,r.a)().userData,i=(0,a.useState)(""),o=(0,x.Z)(i,2),c=o[0],u=o[1],d=(0,a.useState)(null==s?void 0:s.content_translation_language),f=(0,x.Z)(d,2),h=f[0],g=f[1],v=(0,We.Z)(c,500),y=(0,x.Z)(v,1)[0],_=(0,m.eC)().showNotification,C=(0,G.I0)(),S=(0,m.bK)({url:"/translation/languages/",params:{extra:{search:y}},initialLoad:!0}),Z=S.response,k=S.loading,w=S.fetchData,N=(0,m.bK)({url:"/my/profile/",method:"put",values:{content_translation_language:h.id,username:null==s?void 0:s.username,first_name:null==s?void 0:s.first_name,last_name:null==s?void 0:s.last_name},cb:{success:function(e){C(at.Z.auth.GetMe.success({data:e})),_({message:n("translation_language_changed_success"),variant:"success"}),t()},error:function(){_({message:n("something_went_wrong"),variant:"error"})}}}),I=N.fetchData,T=N.loading;(0,a.useEffect)((function(){w()}),[y]);var A=Z||[];return(0,l.jsx)("div",{className:"language-select",children:(0,l.jsxs)("div",{className:"language-select__wrapper",children:[(0,l.jsx)("div",{className:"language-select__search",children:(0,l.jsx)(E.nv,{value:c,fullWidth:!0,variant:"outlined",size:"small",placeholder:n("search_language"),onChange:function(e){u(e.target.value)}})}),(0,l.jsx)(b.$B,{className:"rct-scroll",autoHide:!0,style:{height:400},children:(0,l.jsxs)(Je.Z,{className:"language-select__list",dense:!0,children:[A.map((function(e,t){return(0,l.jsxs)($e.Z,{button:!0,className:"language-select__item !pl-2",onClick:function(){return g(e)},children:[(0,l.jsx)(Xe.Z,{primary:e.name_en}),h&&h.id===e.id&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(et.Z,{children:(0,l.jsx)(tt.Z,{edge:"end","aria-label":"checked",children:(0,l.jsx)(nt.Z,{})})})})]},e.id)})),!k&&!A.length&&y.length&&(0,l.jsx)("div",{className:"flex h-60 items-center justify-center",children:n("no_matching_language_found")}),k?(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(p.aN,{})}):null]})}),(0,l.jsxs)("div",{className:"language-select__buttons flex-center-end",children:[(0,l.jsx)(E.zx,{onClick:t,variant:"outlined",className:"!mr-4",type:"button",children:n("cancel")}),(0,l.jsx)(E.zx,{variant:"contained",type:"button",disabled:!h||T,onClick:function(){I()},className:"hover:!bg-primary hover:!text-white",children:T?(0,l.jsx)(p.aN,{size:12}):n("save")})]})]})})}var st=n(46572),it=n.n(st),ot=n(77676),lt=function(e,t){return t?e?e?(0,l.jsx)(Me.smy,{}):void 0:(0,l.jsx)(Me.vB0,{}):(0,l.jsx)(Me.dKE,{})},ct=(0,ye.Z)((0,be.Z)({menuPaper:{borderRadius:"12px"}}));function ut(e,t){var n,a,r,s,i,o,l,c,u,d,m,p,f=(null===(n=e.message)||void 0===n?void 0:n.id)===(null===(a=t.message)||void 0===a?void 0:a.id),g=h()(e.message.settings,t.message.settings),v=(null===(r=e.message)||void 0===r?void 0:r.message_id)===(null===(s=t.message)||void 0===s?void 0:s.message_id),x=(null===(i=e.message)||void 0===i?void 0:i.is_translation_shown)===(null===(o=t.message)||void 0===o?void 0:o.is_translation_shown),y=(null===(l=e.message)||void 0===l?void 0:l.translated_text)===(null===(c=t.message)||void 0===c?void 0:c.translated_text),b=e.message.created_date===t.message.created_date,_=e.message.read_time===t.message.read_time,C=e.message.text===t.message.text,E=e.message.file_type===t.message.file_type,S=e.message.custom_uuid===t.message.custom_uuid,Z=e.message.edited===t.message.edited,j=h()(e.message.from_user,t.message.from_user),k=h()(e.message.to_user,t.message.to_user),w=h()(e.message.replied_to,t.message.replied_to),N=h()(e.message.reacted_users,t.message.reacted_users),I=e.isTextMessage===t.isTextMessage,T=e.setScrollToMsgId===t.setScrollToMsgId,A=e.MessageView===t.MessageView,D=e.isSameFromUserWithPrev===t.isSameFromUserWithPrev,M=e.isSameFromUserWithNext===t.isSameFromUserWithNext,O=(null===(u=e.message)||void 0===u?void 0:u.is_deleted)===(null===(d=t.message)||void 0===d?void 0:d.is_deleted),R=(null===(m=e.message)||void 0===m?void 0:m.scheduled_to)===(null===(p=t.message)||void 0===p?void 0:p.scheduled_to);return f&&v&&b&&_&&C&&E&&S&&Z&&j&&k&&w&&N&&I&&T&&A&&D&&M&&g&&x&&y&&O&&R}var dt=ot.Z.getAll(),mt=a.memo((function(e){var t,n,c,u=e.message,d=e.MessageView,f=e.isTextMessage,h=void 0!==f&&f,g=e.setScrollToMsgId,v=void 0===g?function(){}:g,y=e.isSameFromUserWithPrev,b=e.isSameFromUserWithNext,_=e.fileType,Z=s(u),k=Z.is_deleted,w=Z.from_user,N=Z.isOwnMsg,I=Z.read_time,T=Z.messageId,A=Z.text,D=Z.file_type,M=Z.custom_uuid,R=Z.edited,L=Z.replied_to,U=Z.reacted_users,F=Z.file,P=Z.sent_time,B=Z.is_translation_shown,H=Z.scheduled_to,K=(0,C.mx)(),V=K.entityType,Y=K.entityName,q=K.virtuosoRef,Q=ct(),z=(0,m.dF)(),W=z.open,J=z.modalHandler,X=z.WhiteModal,$=(0,m.dF)(),ee=$.open,te=$.modalHandler,ne=(0,j.$G)().t,ae=(0,ce.K)(),re=ae.languageDirection,se=(ae.isRTL,null===(t=(0,G.v9)((function(e){return dt(e,{entity:"".concat(V,"Messages"),name:Y})})))||void 0===t?void 0:t.items),ie=(0,a.useState)(!1),oe=(0,x.Z)(ie,2),le=oe[0],ue=oe[1],de=(0,m.IC)(!1),me=de.ref,pe=de.isComponentVisible,fe=de.setIsComponentVisible,he=Ye(fe,T),ge=he.anchorEl,ve=he.contextMenu,ye=he.handleContextClick,be=he.handleContextClose,_e=he.handleClick,Ce=he.handleClose,Ee=he.renderReacted,Se=he.coords,Ze=he.getCoordinatesHandler,je=function(e){var t,n,s=(0,S.m)().companyId,i=(0,m.r1)().updateEntities,o=(0,m.eC)().showNotification,l=(0,C.mx)().entityType,c=(0,r.a)().userData,u=(0,a.useMemo)((function(){var e;return null==c||null===(e=c.content_translation_language)||void 0===e?void 0:e.id}),[]),d=(0,j.$G)().t,p=e.text,f=e.translated_text,h=e.original_text,g=e.custom_uuid,v=e.message_id,y=e.id,b=e.is_translation_shown,_=(0,a.useState)(!0),E=(0,x.Z)(_,2),Z=E[0],k=E[1],w=(0,m.bK)({url:"/".concat(s,"/translation/"),method:"post",dynamicValues:!0,cb:{success:function(t){N({text:t.translation,original_text:e.original_text||e.text,translated_text:t.translation,is_translation_shown:!0}),k(!0)},error:function(e){var t,n;k(!0),o({message:(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||d("something_went_wrong"),variant:"error"})}}}).fetchData;function N(e){var t=e.text,n=e.is_translation_shown,a=e.original_text,r=void 0===a?"":a,s=e.translated_text;i({entity:"case"===l?"caseMessages":"imsMessages",entityId:g,updatingData:{text:t,original_text:r,translated_text:void 0===s?"":s,is_translation_shown:n}})}return(0,a.useEffect)((function(){b&&N({text:f||"",translated_text:f,original_text:h,is_translation_shown:!0})}),[b]),(0,a.useEffect)((function(){var e,t=null==c||null===(e=c.content_translation_language)||void 0===e?void 0:e.id;b&&u!==t?(k(!1),w({values:{message:y||v,language:t}})):b||N({text:h||p,translated_text:"",original_text:h,is_translation_shown:!1})}),[null==c||null===(t=c.content_translation_language)||void 0===t?void 0:t.id]),{handleTranslate:(0,a.useCallback)((function(){var e;b?N({text:h||"",translated_text:f,original_text:h,is_translation_shown:!1}):f?N({text:f||"",translated_text:f,original_text:h,is_translation_shown:!0}):(k(!1),w({values:{message:y||v,language:null==c||null===(e=c.content_translation_language)||void 0===e?void 0:e.id}}))}),[b,e,v,y,null==c||null===(n=c.content_translation_language)||void 0===n?void 0:n.id]),isTranslationFetched:Z}}({text:A,translated_text:u.translated_text,original_text:u.original_text,custom_uuid:M,message_id:u.message_id,id:u.id,is_translation_shown:B}),ke=je.handleTranslate,we=je.isTranslationFetched,Ne=(0,a.useCallback)((function(){J()}),[]),Te=(0,a.useCallback)((function(){te()}),[]),Ae=(0,a.useCallback)((function(e){Ze(e),fe(!0);var t=null==se?void 0:se.findIndex((function(e){var t;return(null!==(t=null==e?void 0:e.id)&&void 0!==t?t:null==e?void 0:e.message_id)===T}));le&&-1!==t&&setTimeout((function(){var e;null==q||null===(e=q.current)||void 0===e||e.scrollToIndex({align:"end",index:t,offset:50})}),0)}),[T,le,se]),De=(0,a.useMemo)((function(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(xe.ZP,{keepMounted:!0,open:null!==ve.mouseY&&!ge,onClose:be,anchorReference:"anchorPosition",classes:{paper:Q.menuPaper},anchorPosition:null!==ve.mouseY&&null!==ve.mouseX?{top:ve.mouseY,left:ve.mouseX}:void 0,children:(0,l.jsx)(Ie,{languageSelectModalHandler:Te,messageId:T,handleClose:be,text:A,fileType:D,fromUserFirstName:null==w?void 0:w.first_name,fromUserLastName:null==w?void 0:w.last_name,custom_uuid:M,isOwnMsg:N,repliedToId:L?L.id:null,infoModalHandler:Ne,fileUrl:F&&F.url,original_text:u.original_text,isDeleted:k,scheduled_to:H})})})}),[ve,be,T,A,D,null==w?void 0:w.first_name,M,L,Ne,Te]),Me=(0,a.useMemo)((function(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(xe.ZP,{id:"message-menu",anchorEl:ge,keepMounted:!0,open:Boolean(ge),classes:{paper:Q.menuPaper},onClose:Ce,children:(0,l.jsx)(Ie,{languageSelectModalHandler:Te,messageId:T,handleClose:Ce,text:A,fileType:D,fromUserFirstName:null==w?void 0:w.first_name,fromUserLastName:null==w?void 0:w.last_name,custom_uuid:M,isOwnMsg:N,repliedToId:L?L.id:null,infoModalHandler:Ne,fileUrl:F&&F.url,original_text:u.original_text,isDeleted:k,scheduled_to:H})})})}),[ge,Ce,T,A,D,null==w?void 0:w.first_name,M,L,Ne,Te]),Oe=(0,a.useMemo)((function(){return(0,l.jsx)(l.Fragment,{children:k||H?null:(0,l.jsx)(p.EF.EPicker,{messageId:T,ref:me,custom_uuid:M,isComponentVisible:pe,renderReacted:Ee,coordinates:Se,isOwnMsg:N,reactedUsers:U,classnames:"LOCATION"===D?"z-[1001]":"z-20"})})}),[M,pe,Ee,Se,N,U,D,Ae,k,H]),Re=(0,a.useMemo)((function(){var e,t,n,a,r;return(0,l.jsx)("div",{className:(0,i.Z)("avatar h-9 w-9"),children:(0,l.jsx)(E.Rz,{size:36,smallSize:36,className:"",letter:"".concat(null==w||null===(e=w.first_name)||void 0===e?void 0:e[0]).concat(null==w||null===(t=w.last_name)||void 0===t?void 0:t[0]),alt:"".concat(null==w?void 0:w.first_name," ").concat(null==w?void 0:w.last_name),src:(null==w||null===(n=w.avatar)||void 0===n?void 0:n.thumbnail_150)||(null==w||null===(a=w.avatar)||void 0===a?void 0:a.thumbnail)||(null==w||null===(r=w.avatar)||void 0===r?void 0:r.url),color:null==w?void 0:w.color})})}),[w]),Le=(0,a.useMemo)((function(){return(0,l.jsx)("div",{className:(0,i.Z)("cursor-pointer text-2xl text-kgrey transition hover:text-primary dark:text-white",{"order-first mr-3":N,"ml-3 self-center":!N}),"aria-controls":"message-menu","aria-haspopup":"true",onMouseDown:_e,children:(0,l.jsx)(Qe.evw,{})})}),[_e,N]);return(0,l.jsx)(it(),{onChange:function(e){ue(!e)},offset:{bottom:80},children:(0,l.jsxs)(l.Fragment,{children:[null!==ve.mouseY?De:null,(0,l.jsx)("div",{className:(0,i.Z)("flex flex-col ",{"items-start":!N,"items-end":N}),onContextMenu:"IMAGE"!==_?ye:function(){},children:(0,l.jsxs)("div",{className:(0,i.Z)("message-wrapper flex max-w-[70%] flex-col",{"items-start":!N,"items-end":N}),children:[(0,l.jsxs)("div",{className:(0,i.Z)("message-content-wrapper relative flex max-w-full",{"items-start justify-start":!N,"items-center justify-end pr-3":N}),children:[N?null:(0,l.jsx)("div",{className:(0,i.Z)("avatar message-avatar h-9 w-9",{"opacity-0":b}),children:Re}),(0,l.jsxs)("div",{className:(0,i.Z)("message-content relative max-w-full",{"ml-6":!N}),children:[!N&&(0,l.jsx)("div",{className:(0,i.Z)("message-sender-name mb-1 text-xs font-medium text-primary",{"opacity-0":y}),children:"".concat(null!==(n=null==w?void 0:w.first_name)&&void 0!==n?n:""," ").concat(null!==(c=null==w?void 0:w.last_name)&&void 0!==c?c:"")}),h?(0,l.jsxs)("div",{className:"relative",children:[!we&&(0,l.jsx)(p.aN,{tiled:!0}),(0,l.jsx)(O,{message:u,setScrollToMsgId:v,toggleEmojiPicker:Ae})]}):d,Oe]}),T?Le:null,Boolean(ge)?Me:null,N?(0,l.jsx)("div",{className:"message-delivery-icon ml-3",children:(0,l.jsx)("span",{className:"block h-4 w-4 text-primary",children:lt(I,T)})}):null]}),(0,l.jsxs)("div",{className:(0,i.Z)("meta-wrapper mt-1 flex w-full  items-end text-xs text-kgrey-msg/70 dark:text-white",{"mr-7 pl-8":N,"ml-16 ":!N,"ml-0  justify-end":"FILE"===D}),children:[(0,l.jsx)("div",{dir:re,className:(0,i.Z)("date"),children:H?ne("scheduled_for_date",{date:(0,o.IG)(H)}):(0,o.IG)(P)}),k||H?null:(0,l.jsx)(qe,{toggleEmojiPicker:Ae,isOwnMsg:N}),R?(0,l.jsx)("div",{className:(0,i.Z)("italic text-primary",{"order-first mx-4":!N,"mx-4":N}),children:ne("edited")}):null,k||H?null:(0,l.jsx)(ze,{isOwnMsg:N,isTextMessage:h,clickHandler:ke,isTranslated:!!B})]})]})}),(0,l.jsx)(X,{handleModalOpen:J,open:W,children:(0,l.jsx)(Fe,{messageId:T})}),(0,l.jsx)(X,{handleModalOpen:te,open:ee,children:(0,l.jsx)(rt,{modalHandler:te})})]})})}),ut);function pt(e){return(0,l.jsx)(p.SV,{isCompact:!0,children:(0,l.jsx)(mt,(0,v.Z)({},e))})}n(49185);var ft=n(23853);function ht(e,t){var n,a,r,s,i,o,l,c;return(null===(n=e.message)||void 0===n?void 0:n.is_deleted)===(null===(a=t.message)||void 0===a?void 0:a.is_deleted)&&(null===(r=e.message.file)||void 0===r?void 0:r.url)===(null===(s=t.message.file)||void 0===s?void 0:s.url)&&(null===(i=e.message.file)||void 0===i?void 0:i.name)===(null===(o=t.message.file)||void 0===o?void 0:o.name)&&h()(e.message.reacted_users,t.message.reacted_users)&&h()(null===(l=e.message)||void 0===l?void 0:l.replied_to,null===(c=t.message)||void 0===c?void 0:c.replied_to)}var gt=a.memo((function(e){var t=e.message,n=e.setScrollToMsgId,a=s(t),r=a.is_deleted,o=a.isOwnMsg,c=a.file,u=a.replied_to,d=a.reacted_users,p=a.file_type,f=a.messageId,h=null==c?void 0:c.url,g=(0,m.dF)(),v=g.open,x=g.modalHandler,y=g.WhiteModal,b=N({reacted_users:d,file_type:p,isEmojiCountOpenHandler:x}).cachedReactions;return r?(0,l.jsx)(D,{isOwnMsg:o,type:"file"}):(0,l.jsxs)("div",{className:(0,i.Z)("overflow-hidden break-words text-sm text-kdark shadow-text-msg dark:text-white",{"rounded-b-xl rounded-tr-xl bg-white dark:bg-white/20":!o,"rounded-t-xl rounded-bl-xl bg-primary-200":o}),children:[(0,l.jsx)(U,{replied_to:u,isOwnMsg:o,setScrollToMsgId:n,children:(0,l.jsx)("div",{className:(0,i.Z)("border border-kgrey-chatBorder px-2 py-4 text-sm text-kdark shadow-text-msg dark:text-white lg:px-5",{"rounded-b-xl rounded-tr-xl bg-white dark:bg-white/20":!o,"rounded-t-xl rounded-bl-xl bg-primary-200":o}),children:(0,l.jsx)("div",{className:"case-chat-file",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"flex-centered hidden h-10 w-10 rounded-md bg-kgrey-bg text-2xl text-kdark lg:flex",children:(0,l.jsx)(ft.tHe,{})}),(0,l.jsx)("a",{className:"ml-2 block underline hover:no-underline",download:!0,href:h,children:c&&c.name})]})})})}),(0,l.jsx)("div",{className:(0,i.Z)({"p-1":null==d?void 0:d.length}),children:null!=d&&d.length?b:null}),(0,l.jsx)(y,{handleModalOpen:x,open:v,children:(0,l.jsx)(k,{messageId:f,reactedUsers:d})})]})}),ht),vt=n(92112),xt=n(74569),yt=n.n(xt),bt=n(81039),_t=n(97892),Ct=n.n(_t),Et=n(82941),St=(n(33925),n(56355)),Zt=n(18342),jt=n(60978),kt=n(16729),wt=function(e){var t=e.allUnreadCount,n=(0,S.m)(),a=n.chatsMentionList,r=n.companyId,s=(0,C.mx)(),o=s.entityId,c=s.setScrollToMessageHandler,u=null==a?void 0:a[o],d=null==u?void 0:u.length,m=(0,kt.h)().decrementChatMentions;return(0,l.jsx)(l.Fragment,{children:!!d&&!!t&&t>0&&(0,l.jsxs)("div",{onClick:function(){var e=null==a?void 0:a[o].slice(),t=null==e?void 0:e.pop();t&&(c(t),m({entityId:o,messageIds:[t],currentMsgCompanyId:r}))},className:"flex-centered group absolute right-0 -top-14 h-8 w-8 cursor-pointer rounded-full border border-kgrey-chatGrey/30 text-kgrey-chatGrey/30 transition hover:border-primary hover:bg-primary hover:text-white",children:[(0,l.jsx)(jt.Hlc,{}),(0,l.jsx)("div",{className:(0,i.Z)("flex-centered absolute left-2 border border-transparent -top-3 h-4 w-4 rounded-full bg-primary text-xs leading-none text-white  transition group-hover:border-primary group-hover:bg-white group-hover:text-primary"),children:d})]})})};function Nt(){var e=(0,C.mx)(),t=e.isInBottom,n=e.entityId,a=e.entityType,r=e.isLastPageFetched,s=e.setIsFirstPageFetched,o=e.scrollToBottom,c=e.isScheduledChat,u=(0,C.O9)(),d=u.reply,m=u.editingMessage,p="case"===a?"caseMessages":"imsMessages",f="All".concat("case"===a?"Case":"Ims","Messages-").concat(n,"-").concat(c?"scheduled":"normal"),h=(0,Zt.s)({entityId:n,entity:p,entityName:f}).all,g=(0,C.O9)().setIsDelayedMessage,v=(0,S.m)(),x=v.unreadMessagesCount,y=v.groupsUnreadCountData,b="case"===a?null==x?void 0:x[n]:null==y?void 0:y[n];return(0,l.jsx)(l.Fragment,{children:t?null:(0,l.jsxs)("div",{className:(0,i.Z)("chat-inp-controls__scroll-bottom  absolute -right-1 -top-8 z-10 ",{"-top-24":d||m}),children:[(0,l.jsx)(wt,{allUnreadCount:b}),(0,l.jsxs)("div",{className:(0,i.Z)("flex-centered group h-8 w-8 cursor-pointer rounded-full border border-kgrey-border-solid bg-white shadow-lg transition hover:bg-primary",{"pointer-events-none":!h.isFetched}),onClick:function(){s(!1),r?o():g(!0)},children:[b&&b>0?(0,l.jsx)("div",{className:"order flex-centered absolute -top-4 h-5 w-5 rounded-full  border-kgrey-border-solid bg-primary text-xs text-white",children:b}):null,(0,l.jsx)("span",{className:(0,i.Z)("text-kdark/80 transition group-hover:text-white"),children:(0,l.jsx)(St.iUH,{className:(0,i.Z)({"opacity-60":!h.isFetched})})})]})]})})}var It,Tt,At=n(30168),Dt=n(52554),Mt=n(85880),Ot=n(64923);function Rt(e){var t=e.handleEditReplyCancelling,n=(0,m.D4)().renderTextMessage,a=(0,C.mx)(),r=a.entityId,s=a.entityType,i=(0,C.O9)(),o=i.reply,l=i.setReply,c=(0,S.m)(),u=c.activeDraft,d=c.setActiveDraft,f=(0,j.$G)().t,h=(0,m.cX)(),g=h.updateEntityDraft,x=h.getLS,y=h.updateLS,b=x();return(0,Ot.tZ)(Ot.HY,{children:o?(0,Ot.BX)("div",{className:"relative z-10 flex w-full items-center overflow-hidden rounded-t-lg bg-white p-2 dark:bg-kdark-dark333",children:[(0,Ot.tZ)("div",{className:"icon dark:text-white",children:(0,Ot.tZ)(Ze.UTR,{})}),(0,Ot.BX)("div",{className:"px-3",css:(0,Dt.iv)(It||(It=(0,At.Z)(["\n\t\t\t\t\t\t\twidth: calc(100% - 32px);\n\t\t\t\t\t\t"]))),children:[(0,Ot.tZ)("div",{className:"msg-author text-xs italic text-kgrey",children:" ".concat(o.from_user_first_name," ").concat(o.from_user_last_name,":")}),(0,Ot.tZ)("div",{className:"msg-itself max-h-6 truncate text-sm dark:text-white",children:(0,Ot.tZ)("span",{children:o.text?n(null==o?void 0:o.text.trim(),p._S):f((0,Ae.u)("".concat(o.file_type,"_message")))})})]}),(0,Ot.tZ)("div",{className:"close flex-shrink-0 cursor-pointer transition hover:text-primary dark:text-white dark:hover:text-primary-dark",onClick:function(){if(l(null),t(!0),u||r in b){var e=u?(0,v.Z)((0,v.Z)({},u),{},{reply_to:null}):null;g("add",{entityId:r,message:null==e?void 0:e.text,reply:null,editingMessage:null}),d(e),y(r,s,{reply_to:null})}},children:(0,Ot.tZ)(Mt.dc5,{})})]}):null})}function Lt(e){var t=e.handleEditReplyCancelling,n=(0,m.D4)().renderTextMessage,a=(0,C.mx)().entityId,r=(0,C.O9)(),s=r.setEditingMessage,i=r.editingMessage,o=(0,S.m)(),l=o.activeDraft,c=o.setActiveDraft,u=(0,m.cX)(),d=u.updateEntityDraft,f=u.removeLS,h=u.sendDeleteDraft,g=(0,u.getLS)(),v=(0,j.$G)().t;return(0,Ot.tZ)(Ot.HY,{children:i?(0,Ot.BX)("div",{className:"relative z-10 flex w-full items-center overflow-hidden rounded-t-lg bg-white p-2 dark:bg-kdark-dark333",children:[(0,Ot.tZ)("div",{className:"icon dark:text-white",children:(0,Ot.tZ)(Se.QML,{})}),(0,Ot.BX)("div",{className:"px-3",css:(0,Dt.iv)(Tt||(Tt=(0,At.Z)(["\n\t\t\t\t\t\t\twidth: calc(100% - 32px);\n\t\t\t\t\t\t"]))),children:[(0,Ot.tZ)("div",{className:"msg-author text-xs italic text-kgrey",children:v("edit_message")}),(0,Ot.tZ)("div",{className:"msg-itself truncate text-sm dark:text-white",children:i.text?n(i.text,p._S):v((0,Ae.u)("".concat(null==i?void 0:i.fileType,"_message")))})]}),(0,Ot.tZ)("div",{className:"close flex-shrink-0 cursor-pointer transition hover:text-primary dark:text-white",onClick:function(){s(null),t(!0),(l||a in g)&&(d("reset"),c(null),f(a),h())},children:(0,Ot.tZ)(Mt.dc5,{})})]}):null})}var Ut=n(42789),Ft=(0,ye.Z)((function(e){return(0,be.Z)({btnRoot:{marginLeft:"10px",marginRight:"10px",color:"white"},wrapper:{margin:e.spacing(1),position:"relative"}})}));function Pt(){var e=Ft(),t=(0,Ut.v)(),n=t.sendStatusChangeRequest,r=t.statusChangeReqLoading,s=t.currentStatus,o=(0,a.useState)(""),c=(0,x.Z)(o,2),u=c[0],d=c[1],m=(0,j.$G)().t;return(0,l.jsx)(l.Fragment,{children:null!=s&&s.is_confirmation_required?(0,l.jsxs)("div",{className:"relative z-10 flex w-full justify-center p-2",children:[(0,l.jsxs)("div",{className:e.wrapper,children:[(0,l.jsx)(E.zx,{variant:"contained",color:"secondary",classes:{root:e.btnRoot},disabled:r,onClick:function(){d("not_confirmed"),n("not_confirmed")},children:(0,l.jsx)("span",{className:(0,i.Z)({"text-base":!I.tq,"text-xs":I.tq}),children:m("not_confirmed")})}),r&&"not_confirmed"===u&&(0,l.jsx)(p.aN,{tiled:!0,size:24})]}),(0,l.jsxs)("div",{className:e.wrapper,children:[(0,l.jsx)(E.zx,{variant:"contained",color:"primary",classes:{root:e.btnRoot},disabled:r,onClick:function(){d("confirmed"),n("confirmed")},children:(0,l.jsx)("span",{className:(0,i.Z)({"text-base":!I.tq,"text-xs":I.tq}),children:m("confirmed")})}),r&&"confirmed"===u&&(0,l.jsx)(p.aN,{tiled:!0,size:24})]})]}):null})}function Bt(){return(0,l.jsx)(p.SV,{isCompact:!0,children:(0,l.jsx)(Pt,{})})}var Ht=n(51859),Gt=n(62876),Kt=n(5871);function Vt(){var e=(0,j.$G)().t,t=(0,ce.K)().isRTL,n=(0,C.mx)().entityType,a=(0,m.Kx)().query,r="case"in a?Number(a.case):0,s="status"in a?Number(a.status):0,o=(0,Kt.b)(r,s),c=o.handleStatusChange,u=o.statuses,d=(0,m.IC)(!1),p=d.ref,f=d.isComponentVisible,h=d.setIsComponentVisible,g=function(){h(!1)};return(0,l.jsx)(l.Fragment,{children:"case"===n?(0,l.jsxs)("div",{className:(0,i.Z)("chat-inp-controls__attach-icon flex-centered relative z-20 flex-shrink-0 border-white dark:border-white/20",{"border-r":!t,"border-l":t}),children:[(0,l.jsx)("div",{className:"cursor-pointer p-3",onClick:function(){h((function(e){return!e}))},children:(0,l.jsx)("div",{className:(0,i.Z)("flex-centered h-5 w-5 transition hover:text-primary dark:text-white"),children:(0,l.jsx)("div",{className:"icon text-xl",children:(0,l.jsx)(Gt.ZP,{title:e("change_status"),placement:"top",children:(0,l.jsx)(tt.Z,{className:"mr-20 p-0",children:(0,l.jsx)(Me.Llt,{})})})})})}),(0,l.jsx)("div",{onClick:g,ref:p,className:(0,i.Z)("absolute bottom-14 flex max-h-96 flex-col overflow-y-auto bg-white dark:bg-kdark-424242",{"right-0":t,"left-0":!t}),children:f&&u.items&&u.items.map((function(e){return(0,l.jsx)(Ht.Z,{className:"flex-shrink-0 dark:text-white",disabled:s===e.id,onClick:(0,Oe.Z)(Le().mark((function t(){return Le().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(),t.next=3,c(e,"status"in a);case 3:case"end":return t.stop()}}),t)}))),children:e.title},e.id)}))})]}):null})}function Yt(){return(0,l.jsx)(p.SV,{children:(0,l.jsx)(Vt,{})})}var qt=n(70828),Qt=n(52150),zt=n(89201),Wt=n(71887),Jt="".concat(ke.Z.PUBLIC_ASSETS,"img/");function Xt(){var e=(0,C.O9)(),t=e.message,n=e.setIsMentionSearching,s=a.useState([]),i=(0,x.Z)(s,2),o=i[0],c=i[1],u=(0,C.mx)(),d=u.entityId,p=u.setMentionUsersList,f=(0,r.a)().userData,h="/entity/".concat(d,"/members/");(0,a.useEffect)((function(){t.length||n(!1)}),[t,n]);var g,v=(0,m.bK)({url:h,cb:{success:(g=(0,Oe.Z)(Le().mark((function e(t,n){var a,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.filter((function(e){return e.id!==f.id})),p(t),r=a.map((function(e){var t,n=e.first_name,a=e.last_name,r=e.display_name,s=e.avatar,i=e.id,o=r||"",c=null!==(t=null==s?void 0:s.thumbnail)&&void 0!==t?t:"".concat(Jt,"avatar-placeholder.png");return{key:String(i),value:"".concat(o,"<").concat(n," ").concat(a,">"),className:"dynamic-option",label:(0,l.jsx)($t,{computedImageUrl:c,computedName:"".concat(n," ").concat(a),display_name:r})}})),c(r);case 4:case"end":return e.stop()}}),e)}))),function(e,t){return g.apply(this,arguments)}),error:function(e,t){}}}),y=v.fetchData;(0,a.useEffect)((function(){var e=Wt.q.on("onMembersUpdate",(function(){y()}));return function(){e()}}),[]),(0,a.useEffect)((function(){y()}),[d]);return{onSearch:function(){n(!0)},onOptionSelect:function(e,t){n(!1)},ALL:"ALL",PREFIX:"@",mentionUsers:o,reFetchChatMembers:y}}function $t(e){var t=e.computedImageUrl,n=e.computedName;e.display_name;return(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"mr-2 h-6 w-6 overflow-hidden rounded",children:(0,l.jsx)("img",{src:t,alt:n})}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"align-middle text-sm font-medium leading-none dark:text-white",children:n})})]})}var en=(0,a.forwardRef)((function(e,t){var n=e.handleFormSubmit,r=e.isAllowedSendMsg,s=e.isInputDisabled,o=e.isComponentVisible,c=e.handleDraft,u=(0,j.$G)().t,d=Xt(),p=d.onSearch,f=d.onOptionSelect,h=d.PREFIX,g=d.mentionUsers,v=(0,m.rX)(n),x=v.handlePressKey,y=v.inputRef,b=(0,C.O9)(),_=b.message,E=b.setMessage,S=b.editingMessage,Z=b.reply,k=(0,m.cX)(),w=k.setLS,N=k.getLS,T=k.saveDraft,A=(0,C.mx)(),D=A.entityId,M=A.entityType,O=A.isScheduledChat,R=(0,C.RT)().sendJsonMessage,L=(0,m.bL)({sendJsonMessage:R,entityId:D,entityType:M}),U=L.sendTypingInfo,F=L.areRestMessagesLoaded,P=(0,a.useRef)(!0),B=(0,a.useCallback)((function(){var e=0;P.current&&(clearTimeout(e),U({entity_type:M,type:"typing",entity_id:D}),e=setTimeout((function(){P.current=!0}),2e3)),P.current=!1}),[U,M,D]);(0,a.useImperativeHandle)(t,(function(){return y.current}),[]),(0,a.useEffect)((function(){F&&setTimeout((function(){var e;null==y||null===(e=y.current)||void 0===e||e.focus()}),0)}),[F]),(0,a.useEffect)((function(){return function(){var e;if(_!==h){var t=N(D);null==t||null===(e=t.text)||void 0===e||!e.length||o||O||T("user",{message:null==t?void 0:t.text,entityId:D,editingMessage:null!=t&&t.editing_id?{id:null==t?void 0:t.editing_id}:null,reply:null!=t&&t.reply_to?{id:null==t?void 0:t.reply_to}:null})}else E("")}}),[D]);var H="".concat(r?"".concat(s?u("loading_chat"):"".concat(I.tq?u("type"):u("type_your_message"))):u("no_permission_to_write_in_chat"));return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(zt.Z,{onSelect:f,onSearch:p,style:{width:"100%"},autoFocus:!0,options:g,placement:"top",prefix:h,dropdownClassName:(0,i.Z)("z-20",{hidden:!_.length}),ref:y,placeholder:H,value:(0,K.le)(_),onChange:function(e){E(e),w({payload:{message:e,editingMessage:S,reply:Z,entityId:D}})},className:"relative top-1 w-full resize-none bg-kgrey-inputBg p-2 text-sm placeholder-[#747F8D] outline-none transition-all dark:bg-transparent dark:text-white",disabled:s,onKeyDown:function(e){x(e),B()},autoComplete:"off",onBlur:function(e){e.target.value!==h?!_.length||o||O||c("chat",_):E("")},autoSize:{maxRows:I.tq?2:5}})})})),tn=n(42124),nn=n(13925),an=function(e){var t,n=e.onScheduleModalCloseClicked,r=(0,j.$G)().t,s=(0,C.O9)(),i=s.tempMessageEvent,o=s.setMessageScheduleDate,l=null==i||null===(t=i.data)||void 0===t?void 0:t.scheduled_to,c=(0,a.useState)(null),u=(0,x.Z)(c,2),d=u[0],m=u[1],p=(0,a.useState)(!1),f=(0,x.Z)(p,2),h=f[0],g=f[1],v=(0,a.useState)(l&&"RE_SCHEDULE"===(null==i?void 0:i.type)?new Date(1e3*l):new Date),y=(0,x.Z)(v,2),b=y[0],_=y[1],E=(0,a.useState)({hour:b.getHours(),minute:b.getMinutes()}),S=(0,x.Z)(E,2),Z=S[0],k=S[1],w=(0,a.useState)(null),N=(0,x.Z)(w,2),I=N[0],T=N[1],A=(0,a.useState)(null),D=(0,x.Z)(A,2),M=D[0],O=D[1];(0,a.useEffect)((function(){var e;h?O(Ct()(b).hour(Z.hour).minute(Z.minute).format()):O(null==I||null===(e=I.schedulingDate)||void 0===e?void 0:e.format())}),[Z,b,I,h]);return{scheduleError:d,handleSaveScheduleDate:function(){if(!M)return m({error:!0,message:"The time was not selected"});var e=new Date,t=new Date(M);t&&t<e?m({error:!0,message:r("past_time_selected")}):(m(null),o(Ct()(M).unix()),O(null),T(null),n())},handleDateChange:function(e){_(e)},handleTimeChange:function(e){var t=new Date,n=new Date(b);e&&n.setHours(e.hour(),e.minute(),0,0),m(n&&n<t?{error:!0,message:r("past_time_selected")}:null),e&&k({hour:e.hour(),minute:e.minute()})},toggleOpenCustomDate:function(){m(null),g((function(e){return!e}))},openCustomDate:h,handleSelectPresetDateTime:function(e){m(null),T(e)},schedulingDate:b,schedulingTime:Z,selectedPresetDate:I,selectedSchedulingDateTime:M}},rn=n(7161),sn=n(58365),on=n(11528),ln=n(62942),cn=n(74332),un=n(28829),dn=function(e){switch(e){case"UZ":return sn.Z;case"RU":return on.Z;case"EN":return ln.default;case"AR":return cn.Z}};function mn(e){var t=(0,ce.K)().isRTL,n=(0,S.m)().isDarkMode,a=(0,j.$G)(),r=a.i18n,s=a.t,o=e.scheduleError,c=e.schedulingDate,u=e.schedulingTime,d=e.handleDateChange,m=e.handleTimeChange;return(0,l.jsxs)("div",{className:"schedule-custom-date__wrapper",children:[(0,l.jsx)("div",{className:"schedule-custom-date__header text-xl font-semibold",children:s("choose_date_and_time")}),(0,l.jsxs)("div",{className:"schedule-custom-date__content flex justify-between",children:[(0,l.jsx)("div",{className:(0,i.Z)({"w-[100%]":t,"w-[70%]":!t},{"dark-theme":n}),children:(0,l.jsx)(rn.f,{locale:dn(r.language),classNames:{selected:"!text-primary-dark"},date:c,onChange:d,minDate:new Date})}),(0,l.jsxs)("div",{className:"date-content__selected pt-10",children:[(0,l.jsx)("div",{children:Ct()(c).format("MMM D, YYYY")}),(0,l.jsx)("div",{className:"pt-4",children:(0,l.jsx)(un.j,{variant:"inline",autoOk:!0,value:Ct()().hour(u.hour).minute(u.minute),onChange:m,inputVariant:"standard",size:"small",error:null==o?void 0:o.error,helperText:null==o?void 0:o.message})})]})]})]})}var pn=n(84373),fn=13;function hn(e){var t=[{id:1,title:"Tomorrow morning",schedulingDate:Ct()().add(1,"day").hour(8).minute(0).second(0),isHidden:!1},{id:2,title:"Tomorrow afternoon",schedulingDate:Ct()().add(1,"day").hour(13).minute(0).second(0),isHidden:(new Date).getHours()<fn},{id:3,title:"Today afternoon",schedulingDate:Ct()().hour(13).minute(0).second(0),isHidden:(new Date).getHours()>=fn},{id:4,title:"Monday morning",schedulingDate:Ct()().day(1).add(1,"week").hour(8).minute(0).second(0),isHidden:!1}],n=(0,j.$G)().t,a=e.handleSelectPresetDateTime,r=e.selectedPresetDate,s=e.scheduleError,o=e.toggleOpenCustomDate;return(0,l.jsxs)("div",{className:"schedule-preset-date__wrapper",children:[(0,l.jsx)("h3",{className:"schedule-preset-date-header__text flex-1 pb-5 text-xl font-semibold",children:n("schedule_send")}),(0,l.jsx)("div",{className:"schedule-preset-date__content",children:t.filter((function(e){return!e.isHidden})).map((function(e,t){return(0,l.jsxs)("div",{onClick:function(){return a(e)},className:(0,i.Z)("preset-content__item flex cursor-pointer items-center justify-between py-2 text-base",{"bg-primary-dark px-1 text-white":(null==r?void 0:r.id)===e.id}),children:[(0,l.jsx)("div",{className:"preset-item__title",children:n((0,Ae.u)(e.title))}),(0,l.jsx)("div",{className:(0,i.Z)("preset-item__date text-kgrey-dark-1",{"!text-white":(null==r?void 0:r.id)===e.id}),children:Ct()(e.schedulingDate.toDate()).format("MMM D, h:mm A")})]},t)}))}),s?(0,l.jsx)("div",{className:"schedule-preset-date__error w-full border-b-1px border-kred-red pb-1 text-sm text-kred-red",children:s.message}):null,(0,l.jsx)("div",{className:(0,i.Z)("schedule-preset-date__footer border-t-1px border-kgrey py-3",{"mt-4":!s}),children:(0,l.jsxs)("div",{onClick:o,className:"footer__open-custom-date flex cursor-pointer items-center gap-x-2 hover:text-primary",children:[(0,l.jsx)(pn.i95,{}),(0,l.jsx)("div",{children:n("choose_date_and_time")})]})})]})}function gn(e){var t=e.onScheduleModalCloseClicked,n=e.handleSaveScheduleDate,r=e.scheduleError,s=(0,j.$G)().t,i=(0,C.O9)().setTempMessageEvent,o=(0,a.useCallback)((function(){t(),i(null)}),[]);return(0,l.jsxs)("div",{className:"footer__buttons flex justify-end gap-x-2",children:[(0,l.jsx)(E.zx,{onClick:o,children:s("cancel")}),(0,l.jsx)(E.zx,{onClick:n,classes:{root:"!bg-primary-dark !text-white"},variant:"contained",disabled:null==r?void 0:r.error,children:s("schedule_send")})]})}function vn(e){var t=e.onScheduleModalCloseClicked,n=an({onScheduleModalCloseClicked:t}),a=n.openCustomDate,r=n.scheduleError,s=n.handleDateChange,i=n.handleTimeChange,o=n.handleSaveScheduleDate,c=n.toggleOpenCustomDate,u=n.handleSelectPresetDateTime,d=n.schedulingDate,m=n.selectedPresetDate,p=n.schedulingTime;return(0,l.jsx)(tn.M,{utils:nn.Z,children:(0,l.jsxs)("div",{className:"schedule-date__wrapper",children:[a?(0,l.jsx)(mn,{handleDateChange:s,handleTimeChange:i,scheduleError:r,schedulingDate:d,schedulingTime:p}):(0,l.jsx)(hn,{toggleOpenCustomDate:c,handleSelectPresetDateTime:u,selectedPresetDate:m,scheduleError:r}),(0,l.jsx)(gn,{onScheduleModalCloseClicked:t,scheduleError:r,handleSaveScheduleDate:o})]})})}function xn(e){var t=e.onMenuItemClick,n=e.contextMenu,a=e.onMenuClose,r=(0,j.$G)().t,s=(0,C.mx)().isScheduledChat;return null===n.mouseY||s?null:(0,l.jsx)(E.J2,{keepMounted:!0,open:!0,onClose:a,anchorReference:"anchorPosition",anchorPosition:null!==n.mouseX?{top:n.mouseY-60,left:n.mouseX-100}:void 0,children:(0,l.jsx)("div",{className:"scheduling-menu__wrapper p-3 pl-2 ",children:(0,l.jsxs)("div",{onClick:t,className:"scheduling-menu__item hover:text flex cursor-pointer items-center gap-x-2 hover:text-primary",children:[(0,l.jsx)("span",{className:"menu-item__icon dark:text-white",children:(0,l.jsx)(Me.YXs,{size:20})}),(0,l.jsx)("div",{className:"menu-item__text",children:r("schedule_send")})]})})})}function yn(e){var t=e.classnames,n=void 0===t?"":t,a=e.colorClass,r=void 0===a?"":a,s=e.hoverClass,o=void 0===s?"hover:text-primary":s,c=e.children,u=e.onClick,d=void 0===u?function(){}:u;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:(0,i.Z)("chat-inp-controls__icon flex-centered mr-4 flex-shrink-0",n),onClick:d,children:(0,l.jsx)("div",{className:(0,i.Z)("flex-centered h-6 w-6 cursor-pointer  transition",r,o),children:c})})})}function bn(e){var t,n=(0,C.mx)(),a=n.entityId,r=n.isScheduledChat,s=(0,C.O9)().command,o=(0,S.m)().scheduledMessageIds;return(0,l.jsx)(yn,{colorClass:"text-2xl relative dark:text-white",classnames:(0,i.Z)({hidden:"start"===s||r||!(null!==(t=o[a])&&void 0!==t&&t.length)}),onClick:e.onClick,children:(0,l.jsx)(we.lPB,{})})}var _n=n(70689);var Cn=n(83027);function En(e){var t=e.onFormSubmit,n=e.isAllowedSendMsg,s=void 0===n||n,c=e.isGroup,u=void 0!==c&&c,d=(0,a.useCallback)((function(e){t(e)}),[t]),f=(0,m.rX)(d),h=f.inputRef,g=f.handleStopRecordAudio,v=f.handleStartRecordAudio,y=f.handleCancelRecord,b=f.handleOnStopRecording,_=f.onEmojiClick,E=(0,C.O9)(),Z=E.message,j=E.setMessage,k=E.command,w=E.time,N=E.editingMessage,T=E.reply,A=E.replyEditCancel,D=E.isDelayedMessage,M=E.setIsMentionSearching,O=E.messageScheduleDate,R=E.openScheduleModal,L=E.handleScheduleModalToggle,U=E.tempMessageEvent,F=E.setMessageScheduleDate,P=E.setTempMessageEvent,B=(0,ce.K)().isRTL,H=(0,r.a)().userData,G=(0,C.mx)(),V=G.entityId,Y=G.entityType,q=G.typingUsers,Q=G.isScheduledChat,z=(0,C.RT)(),W=z.sendJsonMessage,J=z.connectionStatus,X=(0,m.D4)().getTypingInfo,$=(0,a.useState)(!1),ee=(0,x.Z)($,2),te=(ee[0],ee[1]),ne=(0,m.bL)({sendJsonMessage:W,entityId:V,entityType:Y}).areRestMessagesLoaded,ae=(0,m.Kx)(),re=ae.query,se=ae.changeUrlParams,ie=(0,m.cX)().saveDraft,oe=function(){var e=(0,C.mx)(),t=e.entityId,n=e.isScheduledChat,r=(0,C.O9)().setMessage,s=(0,a.useCallback)((function(e,t){var n={entityId:t,message:e};_n.Z.set("message_for_schedule",JSON.stringify(n))}),[]);return(0,a.useEffect)((function(){if(n){var e,a=JSON.parse(null!==(e=_n.Z.get("message_for_schedule"))&&void 0!==e?e:"{}");(null==a?void 0:a.entityId)===t&&r(null==a?void 0:a.message)}}),[n,t]),{handleSaveMessageForSchedule:s}}(),le=oe.handleSaveMessageForSchedule,ue=(0,S.m)(),de=ue.networkState,me=ue.companyId,pe=ue.isDarkMode,fe=(ue.scheduledMessageIds,(0,m.IC)(!1)),he=fe.ref,ge=fe.isComponentVisible,ve=fe.setIsComponentVisible,xe=re.isSupportCase,ye=(0,r.a)().token,be=(0,m.vI)({isDragging:!1}),_e=be.fileOnStart,Ce=be.fileOnSuccess,Ee=be.onProgress,Se=be.onError,je=be.uuids,ke=be.cancelTokensByUid,we=be.initialFiles,Ne=be.action,Ie=Ye(),Te=Ie.contextMenu,Ae=Ie.handleContextClick,De=Ie.handleContextClose,Me=(0,m.dF)().WhiteModal,Re=(0,m.vI)({isDragging:!0}).handleUploadStart,Ue=(0,Qt.$)({handleUpload:Re}),Fe=Ue.lastPageIsNotFetched,Pe=(Ue.setTempFileList,Ue.setIsDelayedMessage,Ue.handleScheduledFileUpload);(0,a.useEffect)((function(){var e;(null!=N&&N.text&&j(null==N?void 0:N.text),N||T)&&(te(!1),null==h||null===(e=h.current)||void 0===e||e.focus())}),[N,T]),(0,a.useEffect)((function(){if(Q&&O&&"RE_SCHEDULE"===(null==U?void 0:U.type)&&null!=U&&U.data){var e,t={type:"edit_scheduled_message",id:null===(e=U.data)||void 0===e?void 0:e.messageId,scheduled_to:O};null==W||W(t),F(null),P(null)}}),[O,U,Q]),(0,a.useEffect)((function(){return function(){"start"===k&&y()}}),[V,k]);var Be=!1,He="Open"!==J||!ne||D;Be=u?He||!s||"offline"===de:He;var Ge=(0,a.useCallback)((function(e){setTimeout((function(){te((function(t){return!t&&Z.length&&ie(e,{message:Z,entityId:V,editingMessage:N,reply:T}),!1}))}),1e3)}),[Z,V,N,T]),Ke=(0,a.useCallback)((function(e){te(e)}),[]);(0,a.useEffect)((function(){Ke(A)}),[A,Ke]);var Ve=(0,a.useCallback)((function(){se({isScheduledChat:!0}),le(Z,V),De()}),[V,Z]),qe=(0,a.useCallback)((function(){P(null),L()}),[]);return(0,l.jsxs)("div",{className:"chat-inp-controls p-2 pt-0 font-poppins lg:p-5 lg:pt-0",children:[(0,l.jsxs)("form",{onSubmit:t,children:[(0,l.jsx)("div",{className:"chat-inp-controls__inner relative z-10 flex items-center justify-between",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"chat-inp-controls__extra absolute left-0 right-0 bottom-full",children:["case"!==Y||Q?null:(0,l.jsx)(Bt,{}),(0,l.jsx)(Rt,{handleEditReplyCancelling:Ke}),(0,l.jsx)(Lt,{handleEditReplyCancelling:Ke}),null!=q&&q.filter((function(e){return e.user.id!==H.id})).length?(0,l.jsx)("div",{className:"chat-inp-controls__typing from-bg-kgrey-bgmenu absolute left-0 bottom-0  inline-block min-w-[250px] bg-gradient-to-r via-kgrey-bgmenu  to-transparent pr-4 text-sm italic text-[#747F8D]  dark:bg-kdark dark:bg-none dark:text-white",children:X({typingUsers:q,entityId:V})}):null]}),(0,l.jsx)(Nt,{}),(0,l.jsx)("div",{className:(0,i.Z)("chat-inp-controls__inputs flex-grow rounded-lg border border-transparent bg-kgrey-inputBg dark:border-white/20 dark:bg-kgrey/20",{"h-11":"start"===k}),children:(0,l.jsxs)("div",{className:"chat-inp-controls__inputs-inner flex justify-between",children:[(0,l.jsxs)("div",{className:"flex",children:[xe||Q?null:(0,l.jsx)(Yt,{}),(0,l.jsx)(bt.Z,{beforeUpload:function(e,t){return!Q||O||N?Fe?Pe(t,!1):void _e(e):Pe(t,!0)},customRequest:function(){var e=(0,Oe.Z)(Le().mark((function e(t){var n,a,r,s,i,l;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,a=t.filename,r=(0,K.JB)(n),e.next=4,(0,K.v4)({filename:a,file:n,companyId:me.toString(),entityType:u?"ims":"case",entityId:null==V?void 0:V.toString(),fileType:r,custom_uuid:je[null==n?void 0:n.uid],repliedToId:(0,o.Vz)(T)});case 4:return s=e.sent,(i=new FormData).append(a,n),l=N?i:s,yt().post(Ne,l,{headers:{Authorization:"Token "+ye},onUploadProgress:function(e){var t=e.total,a=e.loaded;Ee({percent:{uuid:[je[n.uid]],percent:Number(Math.round(a/t*100).toFixed(2))}},n)},cancelToken:ke[n.uid].token}).then((function(e){var t=e.data;Ce({response:t,_file:n,currFile:we[je[n.uid]],currentUuid:je[n.uid]})})).catch((function(e){Se(e)})),e.abrupt("return",{abort:function(){console.log("upload progress is aborted.")}});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),multiple:!0,disabled:"start"===k,children:(0,l.jsx)("div",{className:(0,i.Z)("chat-inp-controls__attach-icon flex-centered h-full flex-shrink-0 border-white dark:border-white/20",{hidden:!s,"border-r":!B,"border-l":B}),children:(0,l.jsxs)("div",{className:"cursor-pointer p-3",children:[(0,l.jsx)("div",{className:(0,i.Z)("rct-notify h-5 w-5 rounded-full bg-kred-pink",{hidden:!k||"start"!==k})}),(0,l.jsx)("div",{className:(0,i.Z)("flex-centered h-5 w-5 transition hover:text-primary dark:text-white dark:hover:text-primary",{hidden:"start"===k}),children:(0,l.jsx)(qt.M8F,{})})]})})})]}),"start"===k?(0,l.jsx)("div",{className:(0,i.Z)("absolute top-1/2 z-10 -translate-y-1/2 leading-none text-[#747F8D] dark:text-white",{"left-24":"case"===Y&&!B,"right-24":"case"===Y&&B,"left-14":"ims"===Y&&!B,"right-14":"ims"===Y&&B}),children:Ct()(w).utc().format("HH:mm:ss")}):null,"start"===k?null:(0,l.jsxs)("div",{className:(0,i.Z)("chat-inp-controls__input relative flex-grow"),children:[Be&&s?(0,l.jsx)("div",{className:"absolute top-2 left-2 z-10",children:(0,l.jsx)(p.aN,{size:"30px"})}):null,(0,l.jsx)(en,{ref:h,handleDraft:Ge,isInputDisabled:Be,handleFormSubmit:d,isAllowedSendMsg:s,isComponentVisible:ge})]}),s&&(0,l.jsxs)("div",{className:"flex-centered flex-shrink-0",children:[(0,l.jsx)(yn,{colorClass:"text-kdark/60 dark:text-white",hoverClass:"hover:text-kred-pink",classnames:(0,i.Z)({hidden:"start"!==k}),onClick:y,children:(0,l.jsx)(Mt.Fk5,{})}),(0,l.jsx)(yn,{colorClass:"text-kdark/60 dark:text-white",hoverClass:"hover:text-kred-pink",classnames:(0,i.Z)({hidden:"start"!==k}),onClick:g,children:(0,l.jsx)(Ze.OIQ,{})}),(0,l.jsx)(bn,{onClick:Ve}),(0,l.jsxs)(yn,{colorClass:"text-[#CFCFCF] relative",classnames:(0,i.Z)({hidden:"start"===k}),onClick:function(){return ve(!0)},children:[(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(vt.lI,{})}),(0,l.jsx)("div",{className:(0,i.Z)("emoji-picker-wrapper absolute bottom-full z-10",{"emoji-picker-wrapper-mobile -right-12":I.tq,"left-0":B,"right-0":!B}),ref:he,children:ge?(0,l.jsx)(Et.cW,{showPreview:!1,theme:pe?"dark":"light",showSkinTones:!1,onSelect:function(e){return _(e)},style:{width:I.tq?"300px":"338px"}}):null})]}),(0,l.jsx)(yn,{colorClass:"text-[#4F5660] dark:text-white dark:hover:text-primary",classnames:(0,i.Z)({hidden:"start"===k}),onClick:v,children:(0,l.jsx)(Qe.fr_,{})})]})]})}),s&&(0,l.jsx)("button",{className:(0,i.Z)("chat-inp-controls__send-btn flex-shrink-0 text-white  flex-centered h-6 w-6 rounded-sm transition border border-transparent ",{"bg-primary hover:border-primary hover:bg-white hover:text-primary":!He,"pointer-events-none bg-kgrey":He,hidden:"start"===k,"ml-5":!B,"mr-5":B}),type:"submit",onClick:function(){Ke(!0)},disabled:He,onMouseEnter:function(){M(!1)},onContextMenu:Ae,children:(0,l.jsx)(vt.Yi,{})})]})}),(0,l.jsx)(p.Si,{command:k,onStop:b})]}),Q?(0,l.jsx)(Me,{maxWidth:500,minWidth:500,handleModalOpen:qe,open:R,children:(0,l.jsx)(vn,{onScheduleModalCloseClicked:L})}):null,(0,l.jsx)(xn,{onMenuClose:De,contextMenu:Te,onMenuItemClick:Ve})]})}function Sn(e){return(0,l.jsx)(p.SV,{children:(0,l.jsx)(En,(0,v.Z)({},e))})}function Zn(e,t){var n,a,r,s,i,o,l,c,u,d,m,p,f,g,v,x,y,b;return e.message.file_type===t.message.file_type&&(null===(n=e.message)||void 0===n?void 0:n.is_translation_shown)===(null===(a=t.message)||void 0===a?void 0:a.is_translation_shown)&&(null===(r=e.message)||void 0===r?void 0:r.translated_text)===(null===(s=t.message)||void 0===s?void 0:s.translated_text)&&(null===(i=e.message)||void 0===i?void 0:i.is_deleted)===(null===(o=t.message)||void 0===o?void 0:o.is_deleted)&&e.message.text===t.message.text&&(null===(l=e.message)||void 0===l?void 0:l.type)===(null===(c=t.message)||void 0===c?void 0:c.type)&&(null===(u=e.message)||void 0===u?void 0:u.message_type)===(null===(d=t.message)||void 0===d?void 0:d.message_type)&&(null===(m=e.message)||void 0===m?void 0:m.id)===(null===(p=t.message)||void 0===p?void 0:p.id)&&(null===(f=e.message)||void 0===f?void 0:f.message_id)===(null===(g=t.message)||void 0===g?void 0:g.message_id)&&(null===(v=e.message)||void 0===v?void 0:v.read_time)===(null===(x=t.message)||void 0===x?void 0:x.read_time)&&e.isSameFromUserWithNext===t.isSameFromUserWithNext&&e.isSameFromUserWithPrev===t.isSameFromUserWithPrev&&h()(e.message.reacted_users,t.message.reacted_users)&&h()(e.message.settings,t.message.settings)&&h()(e.message.scheduled_to,t.message.scheduled_to)&&h()(null===(y=e.message)||void 0===y?void 0:y.replied_to,null===(b=t.message)||void 0===b?void 0:b.replied_to)}Ct().extend(Cn);var jn=function(e){var t=(null!=e?e:"").split(".");return t[t.length-1]},kn=(0,a.memo)((function(e){var t=e.message,n=e.isSameFromUserWithPrev,a=e.isSameFromUserWithNext,r=s(t),i=r.file_type,o=r.type,c=r.messageId,u=r.message_type,d=r.file,m=(0,ie.m)().setScrollToMessageHandler;return(0,l.jsx)("div",{dir:"ltr",id:"message-".concat(String(c)),className:"msg-wrp pb-1",children:function(e,r){if(d&&"svg"===jn(d.name))return(0,l.jsx)(pt,{message:t,isSameFromUserWithPrev:n,isSameFromUserWithNext:a,MessageView:(0,l.jsx)(gt,{message:t,setScrollToMsgId:m})});if(d&&"pdf"===jn(d.name))return(0,l.jsx)(pt,{message:t,isSameFromUserWithPrev:n,isSameFromUserWithNext:a,MessageView:(0,l.jsx)(Xn,{message:t,setScrollToMsgId:m})});switch(e){case"VIDEO":return(0,l.jsx)(pt,{message:t,isSameFromUserWithPrev:n,isSameFromUserWithNext:a,MessageView:(0,l.jsx)(J,{message:t,setScrollToMsgId:m})});case"AUDIO":return(0,l.jsx)(pt,{message:t,isSameFromUserWithPrev:n,isSameFromUserWithNext:a,MessageView:(0,l.jsx)(Y,{message:t,setScrollToMsgId:m})});case"CONTACT":return(0,l.jsx)(pt,{message:t,isSameFromUserWithPrev:n,isSameFromUserWithNext:a,MessageView:(0,l.jsx)($,{message:t,setScrollToMsgId:m})});case"LOCATION":return(0,l.jsx)(pt,{message:t,isSameFromUserWithPrev:n,isSameFromUserWithNext:a,MessageView:(0,l.jsx)(re,{message:t,setScrollToMsgId:m})});case"IMAGE":return(0,l.jsx)(pt,{message:t,isSameFromUserWithPrev:n,isSameFromUserWithNext:a,MessageView:(0,l.jsx)(me,{message:t,setScrollToMsgId:m}),fileType:"IMAGE"});case"FILE":return(0,l.jsx)(pt,{message:t,isSameFromUserWithPrev:n,isSameFromUserWithNext:a,MessageView:(0,l.jsx)(gt,{message:t,setScrollToMsgId:m})});default:return"scheduled_message"!==r&&"edit_scheduled_message"!==r&&"MESSAGE"!==r&&("new_message"!==r&&"edit_message"!==r||u)?(0,l.jsx)(ve,{message:t}):(0,l.jsx)(pt,{message:t,setScrollToMsgId:m,isSameFromUserWithPrev:n,isSameFromUserWithNext:a,isTextMessage:!0})}}(i,o)})}),Zn),wn=n(38694),Nn=n(1519);function In(e){var t=e.getInputProps,n=e.isDragAccept,a=e.isDragReject;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",(0,v.Z)({},t())),(0,l.jsx)("div",{className:"chat-dropzone",children:(0,l.jsxs)("div",{className:"chat-dropzone__content text-center",children:[n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(wn.Z,{fontSize:"large",color:"primary"}),(0,l.jsx)("div",{className:"chat-dropzone__text",children:"Please drag files here to upload"})]}),a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Nn.Z,{color:"primary"}),(0,l.jsx)("div",{className:"chat-dropzone__text",children:"File not supported"})]})]})})]})}var Tn=n(85159),An=n(94026),Dn=n(46169),Mn=n(20269),On=n(26513),Rn=n(43594);function Ln(e){var t=e.clipboardFile,n=e.handleClipboardClose,a=e.clipboardImageRef,r=(0,j.$G)().t;return(0,l.jsxs)(Rn.Z,{open:!!t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,l.jsx)(Tn.Z,{id:"alert-dialog-title",children:r("you_sure_to_send_from_clipboard")}),(0,l.jsx)(An.Z,{children:(0,l.jsx)(Dn.Z,{id:"alert-dialog-description",className:"text-center",children:t&&(0,l.jsx)("span",{className:"clipboard-image-wr flex-centered",children:(0,l.jsx)("img",{src:"",alt:"",className:"clipboard-img",ref:a})})})}),(0,l.jsxs)(Mn.Z,{children:[(0,l.jsx)(On.Z,{onClick:n,color:"primary",children:r("cancel")}),(0,l.jsx)(On.Z,{onClick:function(){return n(t)},color:"primary",autoFocus:!0,children:r("send")})]})]})}function Un(){return(0,l.jsx)(l.Fragment,{children:(0,g.Z)(Array(3)).map((function(e,t){return(0,l.jsxs)(y.ZP,{viewBox:"0 0 ".concat(I.tq?320:446," 160"),height:"33%",width:I.tq?320:446,children:[(0,l.jsx)("circle",{cx:"19",cy:"25",r:"16"}),(0,l.jsx)("rect",{x:"39",y:"12",rx:"5",ry:"5",width:"220",height:"10"}),(0,l.jsx)("rect",{x:"40",y:"29",rx:"5",ry:"5",width:"220",height:"10"}),(0,l.jsx)("circle",{cx:"420",cy:"71",r:"16"}),(0,l.jsx)("rect",{x:"179",y:"76",rx:"5",ry:"5",width:"220",height:"10"}),(0,l.jsx)("rect",{x:"179",y:"58",rx:"5",ry:"5",width:"220",height:"10"}),(0,l.jsx)("circle",{cx:"21",cy:"117",r:"16"}),(0,l.jsx)("rect",{x:"45",y:"104",rx:"5",ry:"5",width:"220",height:"10"}),(0,l.jsx)("rect",{x:"45",y:"122",rx:"5",ry:"5",width:"220",height:"10"})]},t)}))})}var Fn=n(26181),Pn=n.n(Fn),Bn=n(73131),Hn=n.n(Bn);var Gn=["MEMBER_LEFT"];function Kn(e){var t,n,a=e.onClose,r=(0,j.$G)().t,s=(0,S.m)().statusPriorityMessagePopup,i=(0,pe.L)(null==s?void 0:s.actualType)||"message",c=Hn()(null!==(t=null==s?void 0:s.type)&&void 0!==t?t:"case"),u=(s||{}).to_user,d=function(e,t,n){switch(e){case fe.K.REMOVE_MEMBER:case fe.K.MEMBER_DELETED:return n("entity_member_removed",{entity:t});case fe.K.ADD_MEMBER:case fe.K.MEMBER_ADDED:return n("entity_member_added",{entity:t});case fe.K.USER_UNASSIGNED:case fe.K.UNASSIGNED_USER:return n("entity_assignee_removed",{entity:t});case fe.K.USER_ASSIGNED:case fe.K.ASSIGNED_USER:return n("entity_assignee_added",{entity:t});case fe.K.PRIORITY_CHANGED:return n("priority_changed");case fe.K.MEMBER_LEFT:return n("member_left");case fe.K.STATUS_CHANGED:return n("status_changed");default:return"message"}}(i,c,r),m=null==s?void 0:s.text,p=null==s?void 0:s.from_user,f=null==s?void 0:s.sent_time,h=!Gn.includes(i);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"priority-modal__heading mb-4 font-poppins text-xl font-bold lg:text-2xl ",children:r("message_type_info",{type:"".concat(d)})}),(0,l.jsxs)("div",{className:"msg-info font-poppins",children:[h&&(0,l.jsxs)("div",{className:"msg-info__header mb-4  flex",children:[(0,l.jsx)("div",{className:"msg-info__icon mr-2 text-2xl",children:(0,l.jsx)(Me.vB0,{})}),(0,l.jsx)("div",{className:"msg-info__text",children:function(){switch(i){case fe.K.PRIORITY_CHANGED:return(0,l.jsx)("span",{children:(0,l.jsx)(j.cC,{i18nKey:"priority_changed_to",values:{priority:null==m?void 0:m.replace(/Priority Changed/gi,"")}})});case fe.K.STATUS_CHANGED:return(0,l.jsx)("span",{children:(0,l.jsx)(j.cC,{i18nKey:"case_moved_to_status",values:{text:m}})});case fe.K.ADD_MEMBER:case fe.K.MEMBER_ADDED:return(0,l.jsx)("span",{children:(0,l.jsx)(j.cC,{i18nKey:"member_added_by",values:{fullname:"".concat(null==u?void 0:u.first_name," ").concat(null==u?void 0:u.last_name)}})});case fe.K.REMOVE_MEMBER:case fe.K.MEMBER_DELETED:return(0,l.jsx)("span",{children:(0,l.jsx)(j.cC,{i18nKey:"member_removed_by",values:{fullname:"".concat(null==u?void 0:u.first_name," ").concat(null==u?void 0:u.last_name)}})});case fe.K.USER_ASSIGNED:case fe.K.ASSIGNED_USER:return(0,l.jsx)("span",{children:(0,l.jsx)(j.cC,{i18nKey:"member_assigned_by",values:{fullname:"".concat(null==u?void 0:u.first_name," ").concat(null==u?void 0:u.last_name)}})});case fe.K.USER_UNASSIGNED:case fe.K.UNASSIGNED_USER:return(0,l.jsx)("span",{children:(0,l.jsx)(j.cC,{i18nKey:"member_unassigned_by",values:{fullname:"".concat(null==u?void 0:u.first_name," ").concat(null==u?void 0:u.last_name)}})})}}()})]}),(0,l.jsxs)("div",{className:"msg-info__body msg-info__body_sent text-md flex items-center lg:text-base",children:[Pn()(p,"avatar")&&(0,l.jsx)("div",{className:"msg-info__avatar",children:(0,l.jsx)(E.qE,{src:Pn()(p,"avatar.url")||Pn()(p,"avatar.thumbnail_key_150"),letter:null==p||null===(n=p.first_name)||void 0===n?void 0:n[0].toUpperCase(),alt:null==p?void 0:p.first_name,classes:{root:"mr-2"}})}),(0,l.jsxs)("div",{className:"msg-info__content",children:[(0,l.jsx)("div",{className:"msg-info__name font-semibold",children:"".concat(Pn()(p,"first_name")," ").concat(Pn()(p,"last_name"))}),(0,l.jsx)("div",{className:"msg-info__date text-sm text-kgrey",children:(0,o.IG)(f)})]})]}),(0,l.jsx)("div",{className:"msg-info__footer border-color-kgrey mt-4 flex justify-end border-t pt-4",children:(0,l.jsx)(E.zx,{variant:"outlined",color:"default",onClick:a,children:r("close")})})]})]})}var Vn,Yn=n(82312),qn=n(76053),Qn=n(77917);function zn(e){var t=(0,j.$G)().t;return(0,l.jsxs)("div",{className:"password-container",children:[(0,l.jsx)("h3",{className:"password-container__title mb-2.5 text-kgrey-2d2d2d dark:text-white",children:t("pdf_document_protected")}),(0,l.jsx)(Qn.Qp,{classNames:"password-container__input",name:"pdf_password",placeholder:t("enter_document_password"),onChange:e.onPasswordInputChange,error:!!e.error,helperText:t(e.error)}),(0,l.jsxs)("div",{className:"password-container__buttons",children:[(0,l.jsx)(E.Ik,{className:"password-container__buttons--cancel",onClick:e.onCancelBtnClicked,children:t("cancel")}),(0,l.jsx)(E.Ik,{onClick:e.onConfirmBtnClicked,color:"primary",className:"password-container__buttons--confirm mx-1.5",children:t("confirm_password")})]})]})}function Wn(e){var t=e.file,n=e.fileName,r=e.onClose,s=a.useState(null),o=(0,x.Z)(s,2),c=o[0],u=o[1],d=a.useState(!1),p=(0,x.Z)(d,2),f=p[0],h=p[1],g=(0,a.useState)(null),v=(0,x.Z)(g,2),y=v[0],b=v[1],_=(0,a.useState)(!0),C=(0,x.Z)(_,2),E=C[0],S=C[1],Z=(0,a.useState)(null),j=(0,x.Z)(Z,2),k=j[0],w=j[1],N=(0,a.useState)(1),I=(0,x.Z)(N,2),T=I[0],A=I[1],D=(0,a.useState)(0),M=(0,x.Z)(D,2),O=M[0],R=M[1],L=(0,m.iP)().height,U=(0,m.dF)(),P=U.WhiteModal,B=U.open,H=U.modalHandler,G=(0,a.useRef)(null);function K(e){"in"===e&&A((function(e){return e+.1})),"out"===e&&A((function(e){return e>.5?e-.1:.5}))}function V(e){"left"===e&&R((function(e){return 0===e?270:e-90})),"right"===e&&R((function(e){return 360===e?90:e+90}))}(0,a.useEffect)((function(){G.current&&L&&(G.current.style.height="".concat(L-150,"px"))}),[L]);var Y=(0,a.useCallback)((function(e){w(e.target.value)}),[]),q=(0,a.useCallback)((function(){r()}),[]),Q=(0,a.useCallback)((function(){S(!0),b(null),H()}),[]);return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:!f&&(0,l.jsx)(F.Z,{tiled:!0})}),E?(0,l.jsxs)(a.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,l.jsxs)("h2",{className:"font-bold",children:[n,(0,l.jsx)("a",{href:t,download:!0,className:"ml-2 text-sm font-light text-kgrey transition hover:text-primary",children:"( Download Pdf )"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(tt.Z,{size:"medium",onClick:function(){return V("left")},children:(0,l.jsx)(qn.WWE,{})}),(0,l.jsx)(tt.Z,{size:"medium",onClick:function(){return V("right")},children:(0,l.jsx)(qn.PN1,{})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(tt.Z,{size:"medium",onClick:function(){return K("out")},children:(0,l.jsx)(Se.aAQ,{})}),(0,l.jsx)(tt.Z,{size:"medium",onClick:function(){return K("in")},children:(0,l.jsx)(Se.SxL,{})})]}),(0,l.jsx)("div",{onClick:r,style:{zIndex:1e3},className:"flex-centered h-8 w-8 cursor-pointer rounded-full border border-kgrey bg-kgrey-bg transition hover:border-primary hover:bg-primary-200 dark:bg-kgrey-icon-bg",children:(0,l.jsx)(qn.nfZ,{className:"hover:text-primary"})})]}),(0,l.jsx)(Yn.BB,{file:t,onLoadSuccess:function(e){var t=e.numPages;u(t),h(!0)},onPassword:function(e,t){if(!f)switch(t){case 1:B||k||H(),function(t){null===t?S(!1):e(t)}(k);break;case 2:b(Vn.INVALID_PASSWORD),S(!1),H()}},externalLinkTarget:"_blank",loading:(0,l.jsx)("h2",{children:"Loading file... Please wait..."}),className:(0,i.Z)("overflow-auto"),inputRef:G,children:Array.from(new Array(c),(function(e,t){return(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)(Yn.T3,{pageNumber:t+1,loading:"Loading page..",scale:T,rotate:O},"page_".concat(t+1)),(0,l.jsx)("div",{className:" flex-centered",children:(0,l.jsx)("p",{className:"my-2 h-8 w-full w-8 rounded-full border border-kgrey text-center font-poppins text-xs leading-8 text-kgrey",children:t+1})})]},t)}))})]}):null,(0,l.jsx)(P,{open:B,handleModalOpen:r,children:(0,l.jsx)(zn,{onCancelBtnClicked:q,onPasswordInputChange:Y,onConfirmBtnClicked:Q,error:y})})]})}function Jn(e,t){var n,a,r,s,i,o,l,c,u,d;return(null===(n=e.message)||void 0===n?void 0:n.is_deleted)===(null===(a=t.message)||void 0===a?void 0:a.is_deleted)&&(null===(r=e.message.file)||void 0===r?void 0:r.url)===(null===(s=t.message.file)||void 0===s?void 0:s.url)&&e.message.custom_uuid===t.message.custom_uuid&&h()(null===(i=e.message)||void 0===i?void 0:i.replied_to,null===(o=t.message)||void 0===o?void 0:o.replied_to)&&(null===(l=e.message)||void 0===l?void 0:l.id)===(null===(c=t.message)||void 0===c?void 0:c.id)&&h()(e.message.reacted_users,t.message.reacted_users)&&(null===(u=e.message)||void 0===u?void 0:u.message_id)===(null===(d=t.message)||void 0===d?void 0:d.message_id)}!function(e){e.INVALID_PASSWORD="invalid_password"}(Vn||(Vn={}));var Xn=(0,a.memo)((function(e){var t=e.message,n=e.setScrollToMsgId,r=s(t),o=r.is_deleted,c=r.file,u=r.replied_to,d=r.isOwnMsg,p=r.custom_uuid,f=r.messageId,h=r.reacted_users,g=r.file_type,v=(0,a.useState)(!1),y=(0,x.Z)(v,2),b=y[0],_=y[1],C=(0,se.O)(),S=C.uploadMeta,Z=C.setCancelSending,w=C.editingMessage,I=(0,ie.m)(),T=I.entityType,A=I.entityName,M=(0,m.Kx)(),O=M.changeUrlParams,R=M.removeOneQueryParam,L=null==c?void 0:c.url,P=Number(S[p]),B=(0,G.I0)(),K=(0,m.dF)(),V=K.open,Y=K.modalHandler,q=K.WhiteModal,Q=N({reacted_users:h,file_type:g,isEmojiCountOpenHandler:Y}).cachedReactions,z=(0,j.$G)().t,W=(0,ce.K)().isRTL,J=(null==c?void 0:c.thumbnail)||void 0,X=(null==c?void 0:c.width)||240,$=(null==c?void 0:c.height)||320,ee=(0,a.useCallback)((function(e){e.stopPropagation(),Z(p),B((0,H.hU)({entity:"".concat(T,"Messages"),name:A,id:p,deleteData:!0,appendData:!1,updateData:!1,prependData:!1}))}),[T,T,p]),te=function(){R("isMediaActive"),_(!1)};return o?(0,l.jsx)(D,{isOwnMsg:d,type:"pdf"}):(0,l.jsx)("div",{className:(0,i.Z)("overflow-hidden break-words text-sm text-kdark shadow-text-msg dark:text-white",{"rounded-b-xl rounded-tr-xl bg-white dark:bg-white/20":!d,"rounded-t-xl rounded-bl-xl bg-primary-200":d}),children:(0,l.jsxs)(U,{replied_to:u,isOwnMsg:d,setScrollToMsgId:n,style:{width:"".concat(X,"px")},children:[(0,l.jsxs)("div",{className:"toggler-msg relative max-h-[320px]",onClick:function(){O({isMediaActive:!0}),_(!b)},style:{height:"".concat($,"px")},children:[(0,l.jsx)("img",{src:J,alt:null==c?void 0:c.name,className:"max-h-full w-full object-cover pt-3"}),p in S&&(!f||w)&&(0,l.jsx)("div",{className:"absolute top-auto left-24 right-auto bottom-16 z-10 h-12 w-12 cursor-pointer rounded-full bg-white/70",onClick:ee,children:P?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"absolute top-1 left-1",children:(0,l.jsx)(F.K,{value:Number(S[p]),variant:"indeterminate"})}),(0,l.jsx)("span",{className:(0,i.Z)("absolute top-12 mt-1 rounded-xl bg-white/70 p-2 text-sm leading-none underline hover:no-underline dark:bg-kdark-dark333",{"-left-2":!W,"left-1":W}),children:z("cancel")})]}):null})]}),(0,l.jsx)("h6",{className:"p-2 text-xs text-kgrey-menuText",children:null==c?void 0:c.name}),(0,l.jsx)("div",{className:(0,i.Z)({"px-2":null==h?void 0:h.length}),children:null!=h&&h.length?Q:null}),(0,l.jsx)(q,{handleModalOpen:Y,open:V,children:(0,l.jsx)(k,{messageId:f,reactedUsers:h})}),b?(0,l.jsx)(E.Cx,{handleModalOpen:te,open:!!b,scrollable:!0,children:(0,l.jsx)(Wn,{file:L,fileName:null==c?void 0:c.name,onClose:te})}):null]})})}),Jn),$n=["children","context"],ea=a.forwardRef((function(e,t){var n=e.children,a=e.context,r=(0,R.Z)(e,$n),s=a.isFetched,o=a.items,c=a.isSetSearchReply,u=a.direction,d=a.replyLoading;return(0,l.jsxs)("div",(0,v.Z)((0,v.Z)({ref:t},r),{},{children:[!s&&0===o.length&&!c&&(0,l.jsx)(Un,{}),(0,l.jsx)(l.Fragment,{children:!s&&!c&&o.length>0&&("next"===u||null===u)&&(0,l.jsx)("div",{className:"chat-loader absolute left-1/2 -translate-x-1/2 ",children:(0,l.jsx)(F.Z,{})})}),s&&!d||!c?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:(0,i.Z)("virtuoso-wrapper"),id:"",children:n})}):(0,l.jsx)(Un,{})]}))}));ea.displayName="VirtuosoScrollWrapper";var ta=a.forwardRef((function(e,t){return(0,l.jsx)("div",(0,v.Z)((0,v.Z)({className:"list-item-wrapper"},e),{},{ref:t,children:e.children}))}));ta.displayName="VirtuosoCustomItem";var na=function(){return(0,l.jsx)("div",{className:"chat-loader absolute left-1/2 -translate-x-1/2",children:(0,l.jsx)(F.Z,{})})};na.displayName="VirtuosoFooter";var aa,ra=["children","context","style"],sa=a.forwardRef((function(e,t){var n=e.children,a=e.context,r=e.style,s=(0,R.Z)(e,ra);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"hidden !pb-[70px]"}),(0,l.jsx)("div",(0,v.Z)((0,v.Z)({ref:t,className:(0,i.Z)({"!pb-[70px]":a.isConfirmationRequired&&0===r.paddingBottom}),style:r},s),{},{children:n}))]})}));sa.displayName="VirtuosoList";var ia=(0,a.forwardRef)((function(e,t){var n=e.children,a=e.calculatedValueForCss,r=(0,m.Kx)().query,s=(0,S.m)().chatPanelToggled,o=(0,ce.K)().isRTL;return(0,Ot.tZ)("div",{className:(0,i.Z)("chat-panel max-w-3/4 absolute  top-0 h-full w-full bg-gradient-to-b  transition lg:w-8/12 border-kgrey-msg/20 from-kgrey-bgmenu to-kgrey-bgmenu dark:from-kdark  dark:to-kdark",{"shadow-chat-panel":s,"right-0":!o,"left-0":o},{hidden:!(null!=r&&r.case||s)}),css:(0,Dt.iv)(aa||(aa=(0,At.Z)(["\n\t\t\t\t\ttransform: translateX(\n\t\t\t\t\t\t","\n\t\t\t\t\t);\n\t\t\t\t"])),s&&!Ee()(r)?0:"".concat(a,"px")),ref:t,children:n})}));ia.displayName="ChatPanelWrapper";n(84674)},16729:function(e,t,n){"use strict";n.d(t,{h:function(){return l}});var a=n(4942),r=n(93433),s=n(1413),i=n(40084),o=n(72791);function l(){var e=(0,i.m)(),t=e.chatsMentionList,n=e.setChatsMentionObject,l=e.companyId;return{incrementChatMentions:(0,o.useCallback)((function(e){var i=e.entityId,o=e.messageId,c=e.currentMsgCompanyId;if(l===c){var u=(0,s.Z)((0,s.Z)({},t),{},(0,a.Z)({},i,t[i]?[o].concat((0,r.Z)(t[i])):[o]));n(u)}}),[l,n,t]),decrementChatMentions:(0,o.useCallback)((function(e){var r,i,o=e.entityId,c=e.messageIds,u=void 0===c?[]:c,d=e.currentMsgCompanyId,m=e.removeAll,p=void 0!==m&&m;if(l===d&&null!=t&&null!==(r=t[o])&&void 0!==r&&r.length){var f=(null==t||null===(i=t[o])||void 0===i?void 0:i.slice()).filter((function(e){return!u.includes(e)})),h=(0,s.Z)((0,s.Z)({},t),{},(0,a.Z)({},o,p?[]:f));n(h)}}),[l,n,t])}}},52150:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var a=n(29439),r=n(14545),s=n(72791);function i(e){var t=e.handleUpload,n=(0,r.mx)(),i=n.isLastPageFetched,o=n.isScheduledChat,l=(0,r.O9)(),c=l.editingMessage,u=l.setIsDelayedMessage,d=l.isDelayedMessage,m=l.messageScheduleDate,p=l.handleScheduleModalToggle,f=(0,s.useState)([]),h=(0,a.Z)(f,2),g=h[0],v=h[1],x=!i&&!c;(0,s.useEffect)((function(){var e={};!d&&g.length&&(g.forEach((function(n){var a=n.lastModified;e[a]||(t(n),e[a]=!0)})),v([]))}),[d]),(0,s.useEffect)((function(){var e={};o&&m&&g.length&&(g.forEach((function(n){var a=n.lastModified;e[a]||(t(n),e[a]=!0)})),v([]))}),[m]);var y=(0,s.useCallback)((function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?p():u(!0),v(e),!1}),[]);return{lastPageIsNotFetched:x,setIsDelayedMessage:u,setTempFileList:v,tempFileList:g,handleScheduledFileUpload:y}}},43708:function(e,t,n){"use strict";n.d(t,{V:function(){return s}});var a=n(26181),r=n.n(a),s=function(e){return e&&r()(e,"id")?r()(e,"id"):r()(e,"message_id")?r()(e,"message_id"):null}},28843:function(e,t,n){"use strict";function a(e){var t=e.currentMsgAuthorId,n=e.prevMsgAuthorId,a=e.nextMsgAuthorId,r=e.prevMsgType,s=e.nextMsgType;return{isSameFromUserWithPrev:t===n&&("MESSAGE"===r||"new_message"===r),isSameFromUserWithNext:t===a&&("MESSAGE"===s||"new_message"===s)}}n.d(t,{ix:function(){return a},IG:function(){return o},pA:function(){return l},kw:function(){return c},Vz:function(){return r.V},yt:function(){return u}});var r=n(43708),s=n(97892),i=n.n(s);function o(e){var t=i().unix(e).format("ddd, MMM D, h:mm A"),n=i().unix(e).format("ddd, MMM D YYYY, h:mm A"),a=i().unix(e).format("YYYY"),r=(new Date).getFullYear();return Number(a)===Number(r)?t:n}var l=function(e){var t=e.isScheduled,n=e.entityType,a=e.entityId;return"All".concat(null==n?void 0:n[0].toUpperCase()).concat(null==n?void 0:n.slice(1),"Messages-").concat(a,"-").concat(t?"scheduled":"normal")};function c(e){switch(e){case"audio":return"Audio";case"image":return"Image";case"pdf":return"PDF";case"location":return"Location";case"file":return"File";case"video":return"Video";case"contact":return"Contact";default:return"Text"}}function u(e,t,n,a){return null==e?void 0:e.replace(/@(\w+)(?!\.[a-z]{2,})\b/g,(function(e){var r=t.find((function(t){return e.slice(1)===(null==t?void 0:t.display_name)})),s=t.find((function(e){return e.id===(null==n?void 0:n.id)&&!(null!=e&&e.is_staff)})),i=s&&(null==s?void 0:s.id)!==(null==r?void 0:r.id),o=e;return r&&(o="".concat(null==r?void 0:r.first_name," ").concat(i?"":null==r?void 0:r.last_name)),a?'<a class="text-kblue" title="'.concat(e,'">').concat(o,"</a>"):o}))}},86053:function(e,t,n){"use strict";n.d(t,{k:function(){return p},B:function(){return h}});var a=n(1413),r=n(45987),s=n(72791),i=n(38317),o=n(6330),l=n(38596),c=n(94135),u=n(58528),d=n(80184),m=["classes"],p=(0,i.Z)((function(e){return(0,o.Z)({root:{width:30,height:18,padding:0,margin:e.spacing(1)},switchBase:{padding:1,top:"1px",left:"1px","&$checked":{transform:"translateX(13px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#52d869",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#52d869",border:"2px solid #fff"}},thumb:{width:13,height:13},track:{borderRadius:13,backgroundColor:"#F2F2F2",opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{},disabled:{}})}))((function(e){var t=e.classes,n=(0,r.Z)(e,m);return(0,d.jsx)(u.Z,(0,a.Z)({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},n))})),f=(0,l.Z)((function(){return(0,o.Z)({formControlRoot:{margin:0}})}));function h(e){var t=f(),n=e.handleChange,a=e.checked,r=e.name,i=e.label,o=e.disabled,l=e.classNames,u=void 0===l?"":l,m=(0,s.useCallback)((function(){return(0,d.jsx)(p,{checked:a,className:u,onChange:n,name:r,disabled:o})}),[a]);return(0,d.jsx)(d.Fragment,{children:i?(0,d.jsx)(c.Z,{classes:{root:t.formControlRoot},control:(0,d.jsx)(m,{}),label:i}):(0,d.jsx)(m,{})})}h.defaultProps={label:"",disabled:!1}},86676:function(e,t,n){"use strict";var a=n(67025),r=n(71900),s=n(34600);t.Z={IconButton:a.Z,VisibilityIcon:r.Z,PhoneIcon:s.Z}},24224:function(e,t,n){"use strict";n.d(t,{i:function(){return l}});var a=n(1413),r=n(45987),s=(n(72791),n(66556)),i=n(80184),o=["children"],l=function(e){var t=e.children,n=(0,r.Z)(e,o);return(0,i.jsx)(s.Z,(0,a.Z)((0,a.Z)({},n),{},{children:t}))}},11210:function(e,t,n){"use strict";n.d(t,{p:function(){return d}});var a=n(1413),r=n(4942),s=n(45987),i=(n(72791),n(17631)),o=n(38596),l=n(90218),c=n(80184),u=["children"],d=function(e){var t=e.children,n=(0,s.Z)(e,u),d=(0,l.K)().isRTL,m=(0,o.Z)({root:{borderBottom:".5px solid rgba(112, 124, 151, 0.25)",borderTop:".5px solid rgba(112, 124, 151, 0.25)","&:first-child":(0,r.Z)({borderRadius:d?"0 10px 10px 0":"10px 0 0 10px"},d?"borderRight":"borderLeft",".5px solid rgba(112, 124, 151, 0.25)"),"&:last-child":(0,r.Z)({borderRadius:d?"10px 0 0 10px":"0 10px 10px 0"},d?"borderLeft":"borderRight",".5px solid rgba(112, 124, 151, 0.25)"),textAlign:d?"right":"left"},body:{fontSize:14}})();return(0,c.jsx)(i.Z,(0,a.Z)((0,a.Z)({},n),{},{classes:m,children:t}))}},60316:function(e,t,n){"use strict";n.d(t,{S:function(){return l}});var a=n(1413),r=n(45987),s=(n(72791),n(43486)),i=n(80184),o=["children"],l=function(e){var t=e.children,n=(0,r.Z)(e,o);return(0,i.jsx)(s.Z,(0,a.Z)((0,a.Z)({},n),{},{children:t}))}},32461:function(e,t,n){"use strict";n.d(t,{C:function(){return y}});var a=n(1413),r=n(4942),s=n(72791),i=n(85159),o=n(43594),l=n(38596),c=n(6330),u=n(94026),d=n(70629),m=n(40084),p=n(28182),f=n(90218),h=n(80184),g=function(e,t){for(var n in e)if("children"!==n&&e[n]!==t[n])return!1;return!0},v=(0,l.Z)((function(e){var t,n;return(0,c.Z)({paper:(t={overflow:function(e){return e.cropRounded?"hidden":"visible"},borderRadius:"16px"},(0,r.Z)(t,e.breakpoints.up("md"),{minWidth:function(e){return e.minWidth?"".concat(e.minWidth,"px"):"446px"},maxWidth:function(e){return e.maxWidth?"".concat(e.maxWidth,"px"):"auto"}}),(0,r.Z)(t,e.breakpoints.down("sm"),{width:function(e){return e.paperWidth?"".concat(e.paperWidth,"px"):"100%"},maxWidth:function(e){return e.paperWidth?"".concat(e.paperWidth,"px"):"600px"},overflow:function(e){return e.scrollable?"scroll":"visible"},margin:"10px"}),t),contentRoot:{padding:function(t){return t.noPadding?0:d.tq?e.spacing(2):e.spacing(3)},overflow:"visible"},container:{position:function(e){return e.scrollable?"static":"fixed"},height:function(e){return e.scrollable?"auto":"100%"},top:0,bottom:0,left:0,right:0,overflow:"auto"},scrollPaper:{maxHeight:"3000px"},dialogRootTitle:{padding:d.tq?"12px 16px":"16px 24px"},root:(n={},(0,r.Z)(n,'&:has(> div[style*="opacity: 0"])',{pointerEvents:"none"}),(0,r.Z)(n,"overflowY",(function(e){return e.scrollable?"auto":"hidden"})),n)})})),x=function(e){var t=e.handleModalOpen,n=e.open,r=e.title,s=e.children,l=e.noMaxHeight,c=e.className,d=void 0===c?"":c,g=e.containerClasses,x=void 0===g?"":g,y=(0,f.K)().isRTL,b=(0,m.m)().isDarkMode,_=v(e);return(0,h.jsxs)(o.Z,{BackdropProps:{style:{backgroundColor:b?"rgba(0,0,0, .5)":"rgba(255,255,255, .5)",backdropFilter:"blur(3px)"}},onClose:t,"aria-labelledby":"simple-dialog-title",open:n,className:(0,p.Z)(d,{"rtl-dialog":y}),classes:(0,a.Z)({root:_.root,paper:_.paper,container:"".concat(_.container," ").concat(x)},(0,a.Z)({},l?{}:{paperScrollPaper:_.scrollPaper})),children:[r&&(0,h.jsx)(i.Z,{classes:{root:_.dialogRootTitle},children:r}),(0,h.jsx)(u.Z,{classes:{root:_.contentRoot},children:s})]})};x.defaultProps={title:"",minWidth:446,maxWidth:1920,noPadding:!1,cropRounded:!1,scrollable:!1};var y=s.memo(x,g)},53148:function(e,t,n){"use strict";n.d(t,{qE:function(){return c},Rz:function(){return W},bu:function(){return ct},zx:function(){return m},XZ:function(){return ze},Af:function(){return Ye},o$:function(){return Z},YG:function(){return S},ev:function(){return We},kX:function(){return N},cZ:function(){return A},fS:function(){return O},$N:function(){return U},NI:function(){return we},D8:function(){return Te},AZ:function(){return Le},Ik:function(){return nt},Bu:function(){return at},v2:function(){return Y},sN:function(){return Ce},R9:function(){return ft},P_:function(){return v},tl:function(){return X},Os:function(){return mt},J2:function(){return ge},Y8:function(){return pe},Ee:function(){return Ze},iG:function(){return Ge},DU:function(){return dt},aW:function(){return it},Od:function(){return Pe},x4:function(){return j},iA:function(){return ne.i},RM:function(){return ue},pj:function(){return oe.p},xJ:function(){return te},ss:function(){return se},SC:function(){return ie.S},ez:function(){return ye},nv:function(){return Me},u:function(){return G},Cx:function(){return x.C},ZP:function(){return ht}});var a=n(86676),r=n(1413),s=n(45987),i=(n(72791),n(70272)),o=n(80184),l=["letter"];function c(e){var t=e.letter,n=void 0===t?"":t,a=(0,s.Z)(e,l);return(0,o.jsx)(i.Z,(0,r.Z)((0,r.Z)({},a),{},{children:n}))}var u=n(26513),d=["children"],m=function(e){var t=e.children,n=(0,s.Z)(e,d);return(0,o.jsx)(u.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},p=n(22617),f=n(62130),h=["severity","handleClose","message"];function g(e){return(0,o.jsx)(f.Z,(0,r.Z)({elevation:6,variant:"filled"},e))}var v=function(e){var t=e.severity,n=e.handleClose,a=e.message,i=(0,s.Z)(e,h);return(0,o.jsx)(p.Z,(0,r.Z)((0,r.Z)({},i),{},{onClose:n,children:(0,o.jsx)(g,{onClose:n,severity:t,children:a})}))},x=n(32461),y=n(6330),b=n(38317),_=n(38192),C=n(1370),E=["children","value","index"],S=(0,b.Z)((function(e){return(0,y.Z)({root:{display:"flex",alignItems:"center",justifyContent:"center"},indicator:{backgroundColor:e.palette.primary.main,height:"3px",borderRadius:"1px"},scroller:{display:"flex",justifyContent:"center"},flexContainer:{borderBottom:"1px solid #DDE0EB"}})}))(_.Z),Z=(0,b.Z)((function(e){return(0,y.Z)({root:{textTransform:"none",minWidth:72,fontWeight:e.typography.fontWeightMedium,color:"#000",fontSize:"18px",fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:not(:last-child)":{marginRight:e.spacing(2)},"&:hover":{color:e.palette.primary.main,opacity:1},"&$selected":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium},"&:focus":{color:e.palette.primary.main}},selected:{}})}))((function(e){return(0,o.jsx)(C.Z,(0,r.Z)({disableRipple:!0},e))}));function j(e){var t=e.children,n=e.value,a=e.index,i=(0,s.Z)(e,E);return(0,o.jsx)("div",(0,r.Z)((0,r.Z)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},i),{},{children:n===a&&(0,o.jsx)("div",{children:t})}))}var k=n(20269),w=["children"],N=function(e){var t=e.children,n=(0,s.Z)(e,w);return(0,o.jsx)(k.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},I=n(94026),T=["children"],A=function(e){var t=e.children,n=(0,s.Z)(e,T);return(0,o.jsx)(I.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},D=n(46169),M=["children"],O=function(e){var t=e.children,n=(0,s.Z)(e,M);return(0,o.jsx)(D.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},R=n(85159),L=["children"],U=function(e){var t=e.children,n=(0,s.Z)(e,L);return(0,o.jsx)(R.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},F=n(62876),P=n(38596),B=["children"],H=(0,P.Z)((0,y.Z)({tooltip:{backgroundColor:"#f4f4f4",paddingLeft:"16px",paddingRight:"16px",paddingTop:"10px",paddingBottom:"10px",lineHeight:1,fontSize:"12px",fontWeight:500,borderRadius:"10px",color:"#2D2D2D"}})),G=function(e){var t=e.children,n=(0,s.Z)(e,B),a=H();return(0,o.jsx)(F.ZP,(0,r.Z)((0,r.Z)({},n),{},{classes:{tooltip:a.tooltip},children:t}))},K=n(75097),V=["children"],Y=function(e){var t=e.children,n=(0,s.Z)(e,V);return(0,o.jsx)(K.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},q=n(4942),Q=n(28182),z=(0,P.Z)((function(e){return(0,y.Z)({avatarColor:function(e){return{backgroundColor:e.color?e.color:""}},root:function(t){var n;return n={},(0,q.Z)(n,e.breakpoints.down("sm"),{width:t.smallSize&&"".concat(t.smallSize,"px"),height:t.smallSize&&"".concat(t.smallSize,"px")}),(0,q.Z)(n,"width",t.size&&"".concat(t.size,"px")),(0,q.Z)(n,"height",t.size&&"".concat(t.size,"px")),n}})}));function W(e){var t=e.color,n=e.src,a=e.letter,r=e.alt,s=e.className,i=void 0===s?"":s,l=e.smallSize,u=e.size,d=z({color:t,smallSize:l,size:u});return(0,o.jsx)(c,{src:n,letter:a,alt:r,className:(0,Q.Z)(d.avatarColor,i),classes:{root:d.root}})}var J=n(51625),X=function(e){var t=Object.assign({},e);return(0,o.jsx)(J.Z,(0,r.Z)({dir:"ltr"},t))},$=n(48583),ee=["children"],te=function(e){var t=e.children,n=(0,s.Z)(e,ee);return(0,o.jsx)($.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},ne=n(24224),ae=n(9773),re=["children"],se=function(e){var t=e.children,n=(0,s.Z)(e,re);return(0,o.jsx)(ae.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},ie=n(60316),oe=n(11210),le=n(46593),ce=["children"],ue=function(e){var t=e.children,n=(0,s.Z)(e,ce);return(0,o.jsx)(le.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},de=n(28912),me=["children"],pe=function(e){var t=e.children,n=(0,s.Z)(e,me);return(0,o.jsx)(de.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},fe=n(95269),he=["children"],ge=function(e){var t=e.children,n=(0,s.Z)(e,he);return(0,o.jsx)(fe.ZP,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},ve=n(63928),xe=["children"],ye=function(e){var t=e.children,n=(0,s.Z)(e,xe);return(0,o.jsx)(ve.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},be=n(51859),_e=["children"],Ce=function(e){var t=e.children,n=(0,s.Z)(e,_e);return(0,o.jsx)(be.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},Ee=n(92475),Se=["children"],Ze=function(e){var t=e.children,n=(0,s.Z)(e,Se);return(0,o.jsx)(Ee.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},je=n(66828),ke=["children"],we=function(e){var t=e.children,n=(0,s.Z)(e,ke);return(0,o.jsx)(je.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},Ne=n(94135),Ie=["children"],Te=function(e){var t=e.children,n=(0,s.Z)(e,Ie);return(0,o.jsx)(Ne.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},Ae=n(93188),De=["children"],Me=function(e){var t=e.children,n=(0,s.Z)(e,De);return(0,o.jsx)(Ae.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},Oe=n(95480),Re=["children"],Le=function(e){var t=e.children,n=(0,s.Z)(e,Re);return(0,o.jsx)(Oe.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},Ue=n(43264),Fe=["children"],Pe=function(e){e.children;var t=(0,s.Z)(e,Fe);return(0,o.jsx)(Ue.Z,(0,r.Z)({},t))},Be=n(14900),He=["children"],Ge=function(e){e.children;var t=(0,s.Z)(e,He);return(0,o.jsx)(Be.Z,(0,r.Z)({},t))},Ke=n(80908),Ve=["children"],Ye=function(e){e.children;var t=(0,s.Z)(e,Ve);return(0,o.jsx)(Ke.Z,(0,r.Z)({},t))},qe=n(85247),Qe=["children"],ze=function(e){var t=e.children,n=(0,s.Z)(e,Qe);return(0,o.jsx)(qe.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))};function We(e){var t=e.title,n=e.children,a=e.text,r=e.textClassName,s=void 0===r?"":r,i=e.wrapperClassnames,l=void 0===i?"":i;return(0,o.jsxs)("div",{className:(0,Q.Z)("mx-2.5 mb-4 rounded-10 bg-white p-3.5 dark:border-sm dark:border-zinc-700 dark:bg-kdark-lighter ",l),children:[(0,o.jsx)("h4",{className:"mb-2.5 text-sm font-medium text-kgrey",children:t}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"flex h-9 w-9 flex-shrink-0 items-center justify-center rounded-full bg-kgrey-bgDashboardItem dark:bg-black",children:n}),(0,o.jsx)("p",{className:(0,Q.Z)("mx-4 text-2xl font-semibold leading-5 text-primary-dark",s),children:a})]})]})}var Je=n(86776),Xe=n(14987),$e=function(e){return(0,Q.Z)(" bg-primary-dark rounded-lg text-white px-5 py-2 border border-transparent  transition-colors  disabled:opacity-50",{"hover:border-primary-dark hover:bg-white hover:text-primary-dark":!e})},et=function(e){return(0,Q.Z)("bg-kgrey-bg rounded-xl text-sm md:text-base font-poppins text-center px-4 py-2  transition dark:bg-kdark-dark333 dark:text-white disabled:opacity-50",{"hover:bg-primary-200 dark:hover:bg-primary-200":!e})},tt=function(e){return(0,Q.Z)("bg-transparent rounded-xl text-sm md:text-base font-poppins text-center px-4 py-2  transition dark:bg-primary-300 dark:text-white",{"hover:bg-primary-200 dark:hover:bg-primary-200":!e})};function nt(e){var t=e.isDisabled,n=e.type,a=e.className,r=e.children,s=e.isSubmitting,i=e.color,l=e.iconComponent,c=e.iconClassNames,u=e.onClick;return(0,o.jsx)("button",{className:(0,Q.Z)(function(){switch(i){case"primary":return $e(!!t);case"transparent":return tt(!!t);default:return et(!!t)}}(),a,{"relative overflow-hidden":s,"!hover:bg":t}),type:"button"===n?"button":"submit",disabled:t,onClick:u,children:(0,o.jsxs)("div",{className:(0,Q.Z)({"cursor-not-allowed":t,"flex items-center":l}),children:[l?(0,o.jsx)("div",{className:(0,Q.Z)("mx-2.5",c),children:l}):null,r,s?(0,o.jsx)(Xe.Z,{tiled:!0,withOverlay:!0}):null]})})}function at(e){var t=e.title,n=e.meta,a=void 0===n?null:n,r=e.handleSearch,s=void 0===r?function(){}:r,i=e.query,l=void 0===i?"":i,c=e.placeholder,u=void 0===c?"":c,d=e.btnHandler,m=void 0===d?function(){}:d,p=e.btnText,f=void 0===p?"":p,h=e.isPermitted,g=void 0!==h&&h;return(0,o.jsxs)("div",{className:"flex-center-between rounded-t-10 bg-kgrey-bg px-5 pt-3 pb-3 font-medium dark:bg-kdark-lighter",children:[(0,o.jsx)("h3",{className:"dark:text-white",children:t}),a||(0,o.jsxs)("div",{className:"meta flex-center-x",children:[(0,o.jsx)("div",{children:(0,o.jsx)(Je.P,{handleSearch:s,query:l,placeholder:u})}),f?(0,o.jsx)(nt,{isDisabled:!g,className:"mx-4 !bg-white hover:text-primary disabled:opacity-60 dark:!bg-primary-300",onClick:m,children:f}):null]})]})}nt.defaultProps={isDisabled:!1,type:"button",className:"",isSubmitting:!1,color:"default",iconComponent:null,iconClassNames:"",onClick:function(){}};var rt=n(90218),st=["children","disabled","className"],it=function(e){var t=e.children,n=e.disabled,a=e.className,i=(0,s.Z)(e,st),l=(0,rt.K)().isRTL;return(0,o.jsx)("button",(0,r.Z)((0,r.Z)({disabled:n,className:(0,Q.Z)("inline-block rounded-10 bg-kgrey-bg py-2 px-4 text-base  disabled:opacity-60 dark:bg-primary-300 dark:text-white",{"hover:bg-primary-200 dark:hover:bg-primary-200":!n,"ml-5":!l,"mr-5":l},a)},i),{},{children:(0,o.jsx)("div",{className:(0,Q.Z)({"cursor-not-allowed":n}),children:t})}))},ot=n(2451),lt=["children"],ct=function(e){var t=e.children,n=(0,s.Z)(e,lt);return(0,o.jsx)(ot.Z,(0,r.Z)((0,r.Z)({},n),{},{children:t}))},ut=n(92112);function dt(){return(0,o.jsx)("div",{className:"flex-centered h-[18px] w-[18px] rounded-full bg-primary-dark-150",children:(0,o.jsx)(ut.NO,{})})}function mt(e){var t=e.text;return(0,o.jsxs)("div",{className:"bill-feature flex-center-y mb-4 last:mb-0",children:[(0,o.jsx)(dt,{}),(0,o.jsx)("span",{className:"ml-2.5 text-xs text-kgrey-2d2d2d dark:text-white",children:t})]})}var pt=["children","color","size","shape","fullWidth","className"],ft=function(e){var t=e.children,n=e.color,a=void 0===n?"default":n,i=e.size,l=void 0===i?"default":i,c=e.shape,u=void 0===c?"rounded":c,d=e.fullWidth,m=void 0!==d&&d,p=e.className,f=(0,s.Z)(e,pt);return(0,o.jsx)("button",(0,r.Z)((0,r.Z)({className:(0,Q.Z)("transition disabled:!pointer-events-none disabled:!bg-kgrey disabled:!bg-kgrey-menuText/10 disabled:!text-kdark",{"bg-kgrey-bg text-kdark hover:bg-kgrey":"default"===a,"h-7 text-13px leading-7":"default"===l,"h-[38px] text-sm leading-[38px]":"bigger"===l,"rounded-full":"rounded"===u,"rounded-10":"square"===u,"px-5":!m&&"default"===l,"w-full":m,"bg-kred-red-200 text-kred-red hover:bg-kred-red-400":"secondary"===a,"border border-transparent bg-primary-dark text-white hover:border-primary-dark hover:bg-white hover:text-primary-dark":"primary"===a},p)},f),{},{children:t}))},ht=a.Z},21033:function(e,t,n){"use strict";var a=n(15671),r=n(43144),s=n(60136),i=n(29388),o=n(72791),l=n(64880),c=n(91523),u=n(77683),d=n(97368),m=n(26513),p=n(36512),f=n(67025),h=n(80184),g=function(e){(0,s.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={redirect:!1,hasError:!1,eventId:""},e}return(0,r.Z)(n,[{key:"componentDidCatch",value:function(e,t){var n=this;console.error("ErrorBoundary caught an error",e,t),u.$e((function(a){a.setTag("Custom-Tag","ErrorBoundry"),a.setExtras(t);var r=u.Tb(e);n.setState({eventId:r})}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.isCompact,n=void 0!==t&&t;return this.state.redirect?(0,h.jsx)(l.l_,{to:"/"}):this.state.hasError?(0,h.jsx)(h.Fragment,{children:n?(0,h.jsx)(f.Z,{className:"bg-disabled",style:{height:"40px",width:"40px"},children:(0,h.jsx)(p.Z,{color:"secondary"})}):(0,h.jsxs)("div",{className:"py-4 text-center dark:bg-kgrey-2d2d2d dark:text-white",children:[(0,h.jsx)("h1",{className:"mb-2 font-semibold dark:text-white",children:"Unexpected Error occured."}),(0,h.jsxs)("p",{className:"mb-2 dark:text-white",children:["Please press"," ",(0,h.jsx)(c.rU,{to:"/",className:"underline hover:no-underline dark:text-white",children:"here"})," ","to go HomePage."]}),(0,h.jsx)("p",{className:"mb-2 dark:text-white",children:"Please inform us about this error"}),(0,h.jsx)(m.Z,{variant:"contained",color:"secondary",onClick:function(){return d.jp({eventId:e.state.eventId})},children:"Send Error report!"})]})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(o.Component);t.Z=g},37099:function(e,t,n){"use strict";var a=n(45987),r=n(15671),s=n(43144),i=n(60136),o=n(29388),l=n(93433),c=n(1413),u=n(15861),d=n(64687),m=n.n(d),p=n(72791),f=n(28182),h=n(26181),g=n.n(h),v=n(48046),x=n(66364),y=n.n(x),b=n(4245),_=n(80266),C=n(17173),E=n(80184),S=["disableOptions","className","label","isMulti","placeholder","options","field","optionLabel","optionValue","form","isSearchable","isClearable","menuPlacement","loadOptionsUrl","loadOptionsKey","loadOptionsParams","filterParams","onCreateOption","SelectComponent","isLoading","reverse","defaultOption","onChange","onClearChange","pageCount","customStylesProps","innerRef","labelClasses","reFocusAfterChange","t","required"],Z=function(){var e=(0,u.Z)(m().mark((function e(t,n,a,r,s,i,o,u,d){var p,f,h,v,x,C,E,S,Z,j,k,w=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=w.length>9&&void 0!==w[9]?w[9]:10,e.next=3,_.hi.request.get((0,_.kB)(r,(0,c.Z)({page:a,limit:p,filter:i(t)},"function"==typeof o?o(t):o)));case 3:return f=e.sent,h=f.data,v=h.count,x=h&&g()(h,"next"),C=x&&x.indexOf("?"),E=x&&x.slice(C),S=b.parse(E),Z=S&&Number(S.page)-1,j=v%p==0?v/p:Math.floor(v/p)+1,k=[],k=d?s&&y()(u)?g()(h,s,[]).reverse():s&&!y()(u)?y()(g()(h,s,[]))||null===Z?[].concat((0,l.Z)(g()(h,s,[]).reverse()),[u]):(0,l.Z)(g()(h,s,[]).reverse()):h.reverse():s&&y()(u)?g()(h,s,[]):s&&!y()(u)?!y()(g()(h,s,[]))&&Z?(0,l.Z)(g()(h,s,[])):[].concat((0,l.Z)(g()(h,s,[])),[u]):h,e.abrupt("return",{options:k,hasMore:Z<j&&null!==Z,additional:{page:Z+1}});case 15:case"end":return e.stop()}}),e)})));return function(t,n,a,r,s,i,o,l,c){return e.apply(this,arguments)}}(),j=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var a;return(0,r.Z)(this,n),(a=t.call(this,e)).selectRef=p.createRef(),a.state={loading:!1},a}return(0,s.Z)(n,[{key:"componentDidUpdate",value:function(e,t,n){var a=this,r=this.props,s=r.loadOptionsUrl,i=r.loadOptionsParams,o=r.isCached,l=void 0!==o&&o;s===e.loadOptionsUrl&&e.loadOptionsParams===i||l||this.setState({loading:!0},(function(){a.setState({loading:!1})}))}},{key:"render",value:function(){var e=this.props,t=e.disableOptions,n=e.className,r=e.label,s=e.isMulti,i=e.placeholder,o=e.options,u=e.field,d=e.optionLabel,m=e.optionValue,p=e.form,h=p.errors,g=p.setFieldValue,x=p.setFieldTouched,y=p.touched,b=e.isSearchable,_=e.isClearable,C=e.menuPlacement,j=e.loadOptionsUrl,k=e.loadOptionsKey,w=e.loadOptionsParams,N=void 0===w?{}:w,I=e.filterParams,T=void 0===I?function(){return{}}:I,A=e.onCreateOption,D=e.SelectComponent,M=e.isLoading,O=e.reverse,R=void 0!==O&&O,L=e.defaultOption,U=void 0===L?{}:L,F=e.onChange,P=e.onClearChange,B=e.pageCount,H=e.customStylesProps,G=e.innerRef,K=void 0===G?null:G,V=e.labelClasses,Y=void 0===V?"":V,q=e.reFocusAfterChange,Q=void 0!==q&&q,z=e.t,W=e.required,J=void 0!==W&&W,X=(0,a.Z)(e,S),$=(0,f.Z)("field-container",y[u.name]&&h[u.name]&&"has-error",n),ee=this.state.loading;return(0,E.jsx)("div",{className:$,children:(0,E.jsxs)("div",{className:"ant-row ant-form-item ",children:[r&&(0,E.jsxs)("div",{className:"".concat(Y),children:[r,J?(0,E.jsx)("sup",{children:"*"}):null]}),!ee&&(0,E.jsx)(v.n9,(0,c.Z)({noOptionsMessage:function(){return z("no_options")},loadingMessage:function(){return"".concat(z("loading"),"...")},styles:{indicatorSeparator:function(e){return{display:"none"}}}&&H,id:u.name,name:u.name,className:(0,f.Z)("w-full",{reFocusAfterChange:Q}),debounceTimeout:300,onChange:function(e){g(u.name,e),"function"==typeof F&&F(e),"function"==typeof P&&null===e&&P(null)},onBlur:function(){x(u.name,!0)},getValue:function(e){return e[m]},getOptionLabel:function(e){return"function"==typeof d?d(e):e[d]},getOptionValue:function(e){return"function"==typeof m?m(e):e[m]},value:u.value,additional:{page:1},tabIndex:0,selectRef:Q?K:this.selectRef,loadOptions:function(e,t,n){var a=n.page;return Z(e,t,a,j,k,T,N,U,R,B)},isOptionDisabled:function(e){return null==t?void 0:t.reduce((function(e,t){return[].concat((0,l.Z)(e),[t.id])}),[]).includes(e.id)},isMulti:s,options:o,placeholder:i,isSearchable:b,isClearable:_,menuPlacement:C,onCreateOption:A,SelectComponent:D,isLoading:M},X)),y[u.name]&&h[u.name]&&(0,E.jsx)("span",{className:"text-xs text-red-500",children:h[u.name]})]})})}}]),n}(p.Component);j.defaultProps={className:null,optionValue:"id",isSearchable:!1,menuPlacement:"bottom"},t.Z=(0,C.Zh)()(j)},45069:function(e,t,n){"use strict";var a=n(1413),r=n(29439),s=n(45987),i=n(72791),o=n(66770),l=n.n(o),c=n(1288),u=(n(86009),n(28182)),d=n(40084),m=n(80184),p=["form","field","onChange","keywords","option"],f={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],[{color:["#fff"]}],["clean"]],clipboard:{matchVisual:!1}},h=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];t.Z=function(e){var t=e.form,n=t.setFieldValue,o=t.errors,g=e.field,v=g.name,x=g.value,y=(e.onChange,e.keywords),b=e.option,_=(0,s.Z)(e,p),C=i.useState(x),E=(0,r.Z)(C,2),S=E[0],Z=E[1],j=(0,i.useState)(""),k=(0,r.Z)(j,2),w=k[0],N=k[1],I=(0,d.m)().isDarkMode;return(0,i.useEffect)((function(){Z((function(e){return"".concat(e," ").concat(w)}))}),[w]),(0,i.useEffect)((function(){Z(x)}),[b]),(0,i.useEffect)((function(){n(v,S)}),[S]),(0,m.jsxs)(c.Z,{container:!0,spacing:3,children:[(0,m.jsx)(c.Z,{item:!0,xs:12,sm:9,children:(0,m.jsx)(l(),(0,a.Z)((0,a.Z)({theme:"snow",value:S,onChange:Z,modules:f,formats:h},_),{},{className:(0,u.Z)({"border border-kred-pink":v in o,dark_quill:I})}))}),(0,m.jsx)(c.Z,{item:!0,xs:12,sm:3,children:(0,m.jsxs)("div",{className:"vars-column",children:[(0,m.jsx)("div",{className:"vars-column__title",children:"Variables"}),(0,m.jsx)("div",{className:"vars-column__content",children:y.map((function(e){return(0,m.jsx)("div",{className:"vars-column__item mb-4",onClick:function(){return N(e.code)},children:e.name},e.code)}))})]})})]})}},77917:function(e,t,n){"use strict";n.d(t,{X4:function(){return A},mO:function(){return Y},z4:function(){return ge},em:function(){return xe},Kk:function(){return le},Qp:function(){return L},Mg:function(){return P},wi:function(){return J},UO:function(){return ee},mg:function(){return ae}});var a=n(45987),r=n(93433),s=n(1413),i=n(15861),o=n(64687),l=n.n(o),c=n(72791),u=n(28182),d=n(48046),m=n(26181),p=n.n(m),f=n(80266),h=n(4245),g=n(66364),v=n.n(g),x=n(17173),y=n(80184),b=["disableOptions","className","label","isMulti","loadOptionsKey","placeholder","options","field","optionLabel","form","isSearchable","menuPlacement","loadOptionsUrl","optionValue","isClearable","loadOptionsParams","filterParams","onCreateOption","SelectComponent","isLoading","onChange","reverse","defaultOption","onClearChange","pageCount"],_=function(){var e=(0,i.Z)(l().mark((function e(t,n,a,i,o,c,u,d,m){var g,x,y,b,_,C,E,S,Z,j,k,w,N,I=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g=a.page,x=I.length>9&&void 0!==I[9]?I[9]:10,y=(0,f.kB)(i,(0,s.Z)({page:g,limit:x,filter:o(t)},"function"==typeof c?c(t):c)),e.next=5,f.hi.request.get(y);case 5:return b=e.sent,_=b.data,C=_.count,E=_&&p()(_,"next"),S=E&&E.indexOf("?"),Z=E&&E.slice(S),j=h.parse(Z),k=j&&Number(j.page)-1,w=C%x==0?C/x:Math.floor(C/x)+1,N=[],N=m?"function"==typeof u?u(_):u&&v()(d)?p()(_,u,[]).reverse():u&&!v()(d)?v()(p()(_,u,[]))||null===k?[].concat((0,r.Z)(p()(_,u,[]).reverse()),[d]):(0,r.Z)(p()(_,u,[]).reverse()):_.reverse():"function"==typeof u?u(_):u&&v()(d)?p()(_,u,[]):u&&!v()(d)?!v()(p()(_,u,[]))&&k?(0,r.Z)(p()(_,u,[])):[].concat((0,r.Z)(p()(_,u,[])),[d]):_,e.abrupt("return",{options:N,hasMore:k<w&&null!==k,additional:{page:k+1}});case 17:case"end":return e.stop()}}),e)})));return function(t,n,a,r,s,i,o,l,c){return e.apply(this,arguments)}}(),C=function(e){var t=e.disableOptions,n=void 0===t?[]:t,i=e.className,o=void 0===i?"":i,l=e.label,c=e.isMulti,m=e.loadOptionsKey,p=e.placeholder,f=e.options,h=e.field,g=e.optionLabel,v=e.form,C=v.errors,E=v.setFieldValue,S=v.setFieldTouched,Z=v.touched,j=e.isSearchable,k=e.menuPlacement,w=e.loadOptionsUrl,N=e.optionValue,I=e.isClearable,T=e.loadOptionsParams,A=void 0===T?{}:T,D=e.filterParams,M=void 0===D?function(){}:D,O=e.onCreateOption,R=e.SelectComponent,L=e.isLoading,U=e.onChange,F=e.reverse,P=void 0!==F&&F,B=e.defaultOption,H=void 0===B?{}:B,G=e.onClearChange,K=e.pageCount,V=(0,a.Z)(e,b),Y=(0,u.Z)("field-container",Z[h.name]&&C[h.name]&&"has-error",o),q=(0,x.$G)().t;return(0,y.jsx)("div",{className:Y,children:(0,y.jsxs)("div",{children:[l&&(0,y.jsx)("div",{children:l}),(0,y.jsx)(d.n9,(0,s.Z)({noOptionsMessage:function(){return q("no_options")},loadingMessage:function(){return"".concat(q("loading"),"...")},styles:{indicatorSeparator:function(e){return{display:"none"}}},id:h.name,name:h.name,debounceTimeout:300,onChange:function(e){E(h.name,e),"function"==typeof U&&U(e),"function"==typeof G&&null===e&&G()},onBlur:function(){return S(h.name,!0)},getValue:function(e){return e[N]},getOptionLabel:function(e){return"function"==typeof g?g(e):e[g]},getOptionValue:function(e){return"function"==typeof N?N(e):e[N]},value:h.value,additional:{page:1},loadOptions:function(e,t,n){var a=n.page;return _(e,t,a,w,M,A,m,H,P,K)},isOptionDisabled:function(e){return n.reduce((function(e,t){return[].concat((0,r.Z)(e),[t.id])}),[]).includes(e.id)},isMulti:c,options:f,placeholder:p,isSearchable:j,isClearable:I,menuPlacement:k,onCreateOption:O,SelectComponent:R,isLoading:L},V)),Z[h.name]&&C[h.name]&&(0,y.jsx)("div",{className:"ant-form-explain",children:C[h.name]})]})})},E=n(15671),S=n(43144),Z=n(60136),j=n(29388),k=n(81694),w=n.n(k),N=["disableOptions","className","label","isMulti","placeholder","options","field","optionLabel","optionValue","form","isSearchable","isClearable","menuPlacement","loadOptionsUrl","loadOptionsKey","loadOptionsParams","filterParams","onCreateOption","SelectComponent","isLoading","reverse","defaultOption","onChange","onClearChange","pageCount","customStylesProps"],I=function(){var e=(0,i.Z)(l().mark((function e(t,n,a,i,o,c,u,d,m){var g,x,y,b,_,C,E,S,Z,j,k,w,N=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g=N.length>9&&void 0!==N[9]?N[9]:10,e.next=3,f.hi.request.get((0,f.kB)(i,(0,s.Z)({page:a,limit:g,filter:c(t)},"function"==typeof u?u(t):u)));case 3:return x=e.sent,y=x.data,b=y.count,_=y&&p()(y,"next"),C=_&&_.indexOf("?"),E=_&&_.slice(C),S=h.parse(E),Z=S&&Number(S.page)-1,j=b%g==0?b/g:Math.floor(b/g)+1,k=[],w=function e(t,n){if(!(n.sub_departments.length>0))return[].concat((0,r.Z)(t),[n]);for(;n.sub_departments.length>0;)return[].concat((0,r.Z)(t),[n],(0,r.Z)(n.sub_departments.reduce(e,[])))},k=m?o&&v()(d)?p()(y,o,[]).reverse():o&&!v()(d)?v()(p()(y,o,[]))||null===Z?[].concat((0,r.Z)(p()(y,o,[]).reverse()),[d]):(0,r.Z)(p()(y,o,[]).reverse()):y.reverse():o&&v()(d)?p()(y,o,[]).reduce(w,[]):o&&!v()(d)?v()(p()(y,o,[]))||null===Z?[].concat((0,r.Z)(p()(y,o,[]).reduce(w,[])),[d]):(0,r.Z)(p()(y,o,[]).reduce(w,[])):y,e.abrupt("return",{options:k,hasMore:Z<j&&null!==Z,additional:{page:Z+1}});case 16:case"end":return e.stop()}}),e)})));return function(t,n,a,r,s,i,o,l,c){return e.apply(this,arguments)}}(),T=function(e){(0,Z.Z)(n,e);var t=(0,j.Z)(n);function n(e){var a;return(0,E.Z)(this,n),(a=t.call(this,e)).state={loading:!1},a}return(0,S.Z)(n,[{key:"componentDidUpdate",value:function(e,t,n){var a=this,r=this.props,s=r.loadOptionsUrl,i=r.loadOptionsParams,o=r.isCached,l=void 0!==o&&o;s===e.loadOptionsUrl&&e.loadOptionsParams===i||l||this.setState({loading:!0},(function(){a.setState({loading:!1})}))}},{key:"render",value:function(){var e=this.props,t=e.disableOptions,n=e.className,i=e.label,o=e.isMulti,l=e.placeholder,c=e.options,u=e.field,m=e.optionLabel,p=e.optionValue,f=e.form,h=f.errors,g=f.setFieldValue,v=f.setFieldTouched,x=f.touched,b=e.isSearchable,_=e.isClearable,C=e.menuPlacement,E=e.loadOptionsUrl,S=e.loadOptionsKey,Z=e.loadOptionsParams,j=void 0===Z?{}:Z,k=e.filterParams,T=void 0===k?function(){return{}}:k,A=e.onCreateOption,D=e.SelectComponent,M=e.isLoading,O=e.reverse,R=void 0!==O&&O,L=e.defaultOption,U=void 0===L?{}:L,F=e.onChange,P=e.onClearChange,B=e.pageCount,H=e.customStylesProps,G=(0,a.Z)(e,N),K=w()("field-container",x[u.name]&&h[u.name]&&"has-error",n);return(0,y.jsx)("div",{className:K,children:(0,y.jsxs)("div",{className:"ant-row ant-form-item",children:[i&&(0,y.jsx)("div",{className:"ant-label",children:i}),!this.state.loading&&(0,y.jsx)(d.n9,(0,s.Z)({styles:{indicatorSeparator:function(e){return{display:"none"}}}&&H,id:u.name,name:u.name,debounceTimeout:300,onChange:function(e){g(u.name,e),"function"==typeof F&&F(e),"function"==typeof P&&null===e&&P(null)},onBlur:function(){return v(u.name,!0)},getValue:function(e){return e[p]},getOptionLabel:function(e){return"function"==typeof m?m(e):e[m]},getOptionValue:function(e){return"function"==typeof p?p(e):e[p]},value:u.value,additional:{page:1},loadOptions:function(e,t,n){var a=n.page;return I(e,t,a,E,S,T,j,U,R,B)},isOptionDisabled:function(e){return t.reduce((function(e,t){return[].concat((0,r.Z)(e),[t.id])}),[]).includes(e.id)},isMulti:o,options:c,placeholder:l,isSearchable:b,isClearable:_,menuPlacement:C,onCreateOption:A,SelectComponent:D,isLoading:M},G)),x[u.name]&&h[u.name]&&(0,y.jsx)("div",{className:"ant-form-explain",children:h[u.name]})]})})}}]),n}(c.Component);T.defaultProps={title:"",className:null,optionValue:"id",isSearchable:!1,menuPlacement:"bottom",disableOptions:[],loadOptionsKey:"items"};var A=T,D=n(37099),M=n(45069),O=n(29439),R=n(90218),L=(0,c.forwardRef)((function(e,t){var n=e.label,a=void 0===n?"":n,r=e.required,i=e.name,o=e.classNames,l=void 0===o?"":o,d=e.placeholder,m=void 0===d?"":d,p=e.type,f=void 0===p?"text":p,h=e.value,g=e.onChange,v=void 0===g?function(){}:g,b=e.onBlur,_=void 0===b?function(){}:b,C=e.error,E=e.helperText,S=e.disabled,Z=void 0!==S&&S,j=(0,c.useState)(!1),k=(0,O.Z)(j,2),w=k[0],N=k[1],I=(0,x.$G)().t,T=(0,R.K)().isRTL;return(0,y.jsxs)("div",{className:(0,u.Z)("mb-4",l),children:[!!a&&(0,y.jsxs)("label",{className:"ml-6 mb-2 block text-xs font-light text-kgrey-welcome",children:[(0,y.jsx)("span",{children:a}),r?(0,y.jsx)("sup",{children:"*"}):null]}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)("input",(0,s.Z)((0,s.Z)({name:i,type:w?"text":f,className:(0,u.Z)("kennekt-input rounded-lg border border-kgrey-inputBd px-6 py-3.5 text-xs outline-none transition dark:border-white/30 w-full placeholder-current placeholder-kgrey-welcome focus:border-primary focus:shadow-lg dark:bg-kdark/70",C&&"border-red-500",{"bg-kgrey-bgmenu":Z}),placeholder:m},void 0!==h?{value:h}:{}),{},{onChange:function(e){v(e)},ref:t,disabled:Z,onBlur:function(e){_(e)}})),"password"===f?(0,y.jsx)("span",{className:(0,u.Z)("absolute top-2/4 z-10 -translate-y-2/4 cursor-pointer text-xs text-kgrey-welcome transition hover:text-primary",{"left-2":T,"right-2":!T}),onClick:function(){return N((function(e){return!e}))},children:I(w?"hide":"show")}):null]}),C?(0,y.jsx)("span",{className:"text-xs text-red-500",children:E}):null]})})),U=["name","value","onChange"],F=["classNames","label","field","form","type","required","onChangeHandler","onBlur","disabled","inputElementClassNames","labelClasses","characterLimit","characterCount"],P=function(e){var t=e.classNames,n=e.label,r=e.field,i=r.name,o=r.value,l=r.onChange,c=(0,a.Z)(r,U),d=e.form,m=d.touched,p=d.errors,f=e.type,h=void 0===f?"text":f,g=e.required,v=e.onChangeHandler,x=e.onBlur,b=e.disabled,_=e.inputElementClassNames,C=void 0===_?"":_,E=e.labelClasses,S=void 0===E?"":E,Z=e.characterLimit,j=e.characterCount,k=(0,a.Z)(e,F),w=(0,u.Z)("border  border-transparent rounded-lg text-xs px-6 py-3.5 outline-none transition focus:border-primary focus:shadow-lg w-full placeholder-current placeholder-kgrey dark:bg-kdark hover:border-primary",C,p[i]&&m[i]&&"border-red-500",{"pointer-events-none bg-kgrey-disabled-bg dark:border-kgrey-inputBd":b,"bg-kgrey-light-grey-1":!b});return(0,y.jsxs)("div",{className:(0,u.Z)("mb-4",t),children:[n?(0,y.jsxs)("label",{className:(0,u.Z)({"ml-2 mb-2 block text-sm font-light text-kgrey-menuText":!S},S),htmlFor:i,children:[(0,y.jsx)("span",{children:n}),g?(0,y.jsx)("sup",{children:"*"}):null]}):null,(0,y.jsx)("div",{className:"relative",children:"textarea"===h?(0,y.jsx)("textarea",(0,s.Z)((0,s.Z)((0,s.Z)({id:i,name:i,value:o,className:w,disabled:b,onChange:function(e){l(e),"function"==typeof v&&v(e)}},k),c),{},{onBlur:x})):(0,y.jsx)("input",(0,s.Z)((0,s.Z)((0,s.Z)({id:i,type:h,name:i,value:o,className:w,disabled:b,onChange:function(e){Z&&e.target.value.length>Z||(l(e),"function"==typeof v&&v(e))}},k),c),{},{onBlur:x}))}),(0,y.jsxs)("div",{className:"flex justify-between",children:[p[i]&&m[i]?(0,y.jsx)("span",{className:"text-xs text-red-500",children:p[i]}):null,j&&Z?(0,y.jsxs)("span",{className:"mt-1 text-xs text-kgrey-menuText",children:[j,"/",Z]}):null]})]})};P.defaultProps={disabled:!1};var B=n(89908),H=n(38596),G=n(6330),K=["form","field","onChange","isDateTimeSet","dateValue"],V=(0,H.Z)((0,G.Z)({root:{}}));function Y(e){var t=V(),n=(0,x.$G)().t,r=e.form.setFieldValue,i=e.field.name,o=e.onChange,l=e.isDateTimeSet,u=void 0!==l&&l,d=e.dateValue,m=void 0===d?"":d,p=(0,a.Z)(e,K),f=c.useState(v()(m)?new Date:new Date(m)),h=(0,O.Z)(f,2),g=h[0],b=h[1];return(0,c.useEffect)((function(){!v()(m)&&b(new Date(m))}),[m]),(0,y.jsx)(B.x,(0,s.Z)((0,s.Z)({okLabel:n("ok"),cancelLabel:n("cancel"),value:u?g:null,className:"custom-date-picker",classes:{root:t.root}},p),{},{onChange:o?function(e){b(e),r(i,e),o()}:function(e){b(e),r(i,e)}}))}var q=n(75737),Q=n.n(q),z=(n(98404),n(40084)),W=["label","required","name","classNames","placeholder","type","value","setPhoneValue","error","helperText","additionalInputClasses"],J=(0,c.forwardRef)((function(e,t){var n=e.label,r=e.required,i=e.name,o=e.classNames,l=void 0===o?"":o,c=(e.placeholder,e.type,e.value),d=e.setPhoneValue,m=void 0===d?function(){}:d,p=e.error,f=e.helperText,h=e.additionalInputClasses,g=(0,a.Z)(e,W),v=(0,z.m)().isDarkMode,b=(0,x.$G)().t;return(0,y.jsxs)("div",{className:(0,u.Z)("mb-4",l),children:[(0,y.jsxs)("label",{className:"ml-6 mb-2 block text-xs font-light text-kgrey-welcome",children:[n,r?(0,y.jsx)("sup",{children:"*"}):null]}),(0,y.jsx)("div",{dir:"ltr",className:"relative",children:(0,y.jsx)(Q(),(0,s.Z)((0,s.Z)({country:"us",searchPlaceholder:b("search")},c?{value:c}:{}),{},{onChange:function(e,t,n){m(i,e)},containerClass:(0,u.Z)({"phone-input-dark":v}),inputClass:(0,u.Z)("!border !border-kgrey-inputBd !dark:border-white/30 !rounded-lg !text-xs !px-14 !py-3.5 !outline-none !transition !focus:border-primary !focus:shadow-lg !w-full !placeholder-current !placeholder-kgrey-welcome !dark:bg-kdark/70 !h-auto",p&&"!border-red-500",h)},g))}),p?(0,y.jsx)("span",{className:"text-xs text-red-500",children:f}):null]})}));J.defaultProps={required:!1,classNames:"",placeholder:"",type:"phone",value:"",additionalInputClasses:"",error:!1,helperText:""},J.displayName="KntPhoneInput";var X=["name","value","onChange"],$=["classNames","label","field","form","type","required","onChangeHandler","disabled","labelClasses"],ee=function(e){var t=e.classNames,n=e.label,r=e.field,i=r.name,o=r.value,l=(r.onChange,(0,a.Z)(r,X),e.form),c=l.touched,d=l.errors,m=(e.type,e.required),p=e.onChangeHandler,f=e.disabled,h=e.labelClasses,g=void 0===h?"":h,v=(0,a.Z)(e,$),b=(0,u.Z)("!border  !border-transparent !rounded-lg !text-xs !px-14 !py-3.5 !outline-none !transition !focus:border-primary !focus:shadow-lg !w-full !placeholder-current !placeholder-kgrey dark:!bg-kdark hover:!border-primary !h-auto",d[i]&&"!border-red-500",{"!pointer-events-none !bg-kgrey-disabled-bg":f,"!bg-kgrey-light-grey-1":!f}),_=(0,z.m)().isDarkMode,C=(0,x.$G)().t;return(0,y.jsxs)("div",{className:(0,u.Z)("mb-4 hover:!border-primary",t,_?"dark-mode-react-tel-input":""),children:[(0,y.jsxs)("label",{className:(0,u.Z)("ml-2 mb-2 block text-sm font-light text-kgrey-menuText dark:text-white",g),htmlFor:i,children:[(0,y.jsx)("span",{children:n}),m?(0,y.jsx)("sup",{children:"*"}):null]}),(0,y.jsx)("div",{dir:"ltr",className:"relative",children:(0,y.jsx)(Q(),(0,s.Z)((0,s.Z)({searchPlaceholder:C("search"),country:"us"},o?{value:o}:{}),{},{onChange:function(e,t,n){"function"==typeof p&&p(i,e)},containerClass:(0,u.Z)({"phone-input-dark":_}),inputClass:b},v))}),d[i]&&c[i]?(0,y.jsx)("span",{className:"text-xs text-red-500",children:d[i]}):null]})};ee.defaultProps={disabled:!1};var te=n(52001),ne=["options","field","form"],ae=function(e){var t=e.options,n=e.field,r=e.form,i=(0,a.Z)(e,ne);return(0,y.jsx)(te.ZP,(0,s.Z)((0,s.Z)({},i),{},{options:t,name:n.name,className:"my-react-select-container",classNamePrefix:"my-react-select-prefix",value:n.value,onChange:function(e){return r.setFieldValue(n.name,e)},onBlur:n.onBlur,theme:function(e){return(0,s.Z)((0,s.Z)({},e),{},{colors:(0,s.Z)((0,s.Z)({},e.colors),{},{primary:"#00A09D"})})}}))},re=n(70629),se=n(13266),ie=["name","value","onChange"],oe=["classNames","label","field","form","type","required","innerRef","onChangeHandler","disabled","inputElementClassNames","labelClasses","onBlur"],le=function(e){var t=e.classNames,n=e.label,r=e.field,i=r.name,o=r.value,l=r.onChange,c=(0,a.Z)(r,ie),d=e.form,m=d.touched,p=d.errors,f=e.type,h=void 0===f?"text":f,g=e.required,v=e.innerRef,x=e.onChangeHandler,b=e.disabled,_=e.inputElementClassNames,C=void 0===_?"":_,E=e.labelClasses,S=void 0===E?"":E,Z=e.onBlur,j=(0,a.Z)(e,oe),k=(0,u.Z)("border  border-transparent rounded-lg text-xs px-6 py-3.5 outline-none transition focus:border-primary focus:shadow-lg w-full placeholder-current placeholder-kgrey dark:bg-kdark hover:border-primary",C,p[i]&&m[i]&&"border-red-500",{"pointer-events-none bg-kgrey-disabled-bg":b,"bg-kgrey-light-grey-1":!b});return(0,y.jsxs)("div",{className:(0,u.Z)("mb-4",t),children:[n?(0,y.jsxs)("label",{className:(0,u.Z)({"ml-2 mb-2 block text-sm font-light text-kgrey-menuText":!S},S),htmlFor:i,children:[(0,y.jsx)("span",{children:n}),g?(0,y.jsx)("sup",{children:"*"}):null]}):null,(0,y.jsx)("div",{className:"relative",children:"textarea"===h?(0,y.jsx)(se.Z,(0,s.Z)((0,s.Z)((0,s.Z)({name:i,value:o,className:k,autoComplete:"off",maxRows:re.tq?2:5,id:i,disabled:b,ref:v,onChange:function(e){l(e),"function"==typeof x&&x(e)}},j),c),{},{onBlur:Z})):(0,y.jsx)("input",(0,s.Z)((0,s.Z)({id:i,type:h,name:i,value:o,className:k,ref:v,disabled:b,onChange:function(e){l(e),"function"==typeof x&&x(e)}},j),c))}),p[i]&&m[i]?(0,y.jsx)("span",{className:"text-xs text-red-500",children:p[i]}):null]})};le.defaultProps={disabled:!1};var ce=n(93188),ue=n(44279),de=n(37024),me=n(12692),pe=n(763),fe=["form","field","onChange","dateValue","required","label"],he=(0,H.Z)((function(){return{textField:{borderRadius:"12px",paddingBottom:0,width:"100%","& input":{padding:"12px"},"& .MuiInputBase-adornedEnd":{paddingRight:"5px"},"& .MuiOutlinedInput-root":{borderRadius:"12px"},"& .MuiOutlinedInput-notchedOutline":{borderWidth:0}},inputLabel:{color:"#9e9e9e",fontSize:"16px"}}}));function ge(e){var t=(0,x.$G)().t,n=he(),r=e.form.setFieldValue,i=e.field.name,o=e.onChange,l=e.dateValue,d=void 0===l?"":l,m=e.required,p=void 0!==m&&m,f=e.label,h=(0,a.Z)(e,fe),g=c.useState((0,pe.isEmpty)(d)?null:new Date(d)),v=(0,O.Z)(g,2),b=v[0],_=v[1];return(0,c.useEffect)((function(){!(0,pe.isEmpty)(d)&&_(new Date(d))}),[d]),(0,y.jsxs)("div",{className:"mb-4 flex flex-col",children:[f?(0,y.jsxs)("label",{className:(0,u.Z)("ml-2 mb-2 block text-sm font-light text-kgrey-menuText"),htmlFor:i,children:[(0,y.jsx)("span",{children:f}),p?(0,y.jsx)("sup",{children:"*"}):null]}):null,(0,y.jsx)(me.M,(0,s.Z)((0,s.Z)({okLabel:t("ok"),cancelLabel:t("cancel"),shouldDisableDate:function(e){return!!e&&e.toDate()>new Date},value:b,className:"custom-date-picker",TextFieldComponent:function(e){return(0,y.jsx)(ce.Z,(0,s.Z)((0,s.Z)({},e),{},{variant:"outlined",className:(0,u.Z)(n.textField,"border-none bg-kgrey-light-grey-1 dark:bg-kdark"),placeholder:"dd/mm/yyyy",InputProps:{endAdornment:(0,y.jsx)(ue.Z,{position:"start",children:(0,y.jsx)(de.Z,{fontSize:"small",color:"action"})})},InputLabelProps:{shrink:!0,className:n.inputLabel}}))}},h),{},{onChange:o?function(e){_(e),r(i,e),o()}:function(e){_(e),r(i,e)}}))]})}var ve=n(37611),xe=function(e){var t=e.type,n=e.selectProps,a=e.name,r=e.required,i=void 0!==r&&r,o=e.onInputChange,l=e.value,c=void 0===l?"":l;return(0,y.jsxs)("div",{className:"input-with-select flex w-full gap-x-0.5",children:[(0,y.jsx)("div",{className:"react-select-dropdown w-1/5",children:(0,y.jsx)(ve.Z,(0,s.Z)({customStylesProps:f.KS,customStyles:"KntTwilioStyle"},n))}),(0,y.jsx)(L,{name:a,required:i,type:t,value:c,onChange:function(e){if("tel"===t){var n=e.target.value.replace(/[^0-9+\-\s()]/g,""),a=(0,s.Z)((0,s.Z)({},e),{},{target:(0,s.Z)((0,s.Z)({},e.target),{},{value:n}),currentTarget:(0,s.Z)((0,s.Z)({},e.currentTarget),{},{value:n})});null==o||o(a)}else null==o||o(e)},classNames:"w-4/5 mb-1.5"})]})};D.Z,M.Z},22035:function(e,t,n){"use strict";n.d(t,{k8:function(){return o},q5:function(){return l}});var a=n(1413),r=n(9478),s=n(70629),i={id:0,label:r.Z.CLIENT,value:r.Z.CLIENT,name:r.Z.CLIENT},o=[{id:1,label:r.Z.STAFF,value:r.Z.STAFF,name:r.Z.STAFF},i],l={menu:function(e){return(0,a.Z)((0,a.Z)({},e),{},{width:150,right:-30})},option:function(e,t){return(0,a.Z)((0,a.Z)({},e),{},{backgroundColor:t.isDisabled?void 0:t.isSelected||t.isFocused?"#00A09D":void 0,"&:hover":{backgroundColor:"#B3F1EB",color:"#000"}})},control:function(e,t){return(0,a.Z)((0,a.Z)({},e),{},{minHeight:s.tq?"24px":"40px",height:s.tq?"24px":"40px",boxShadow:t.isFocused?"0 0 0 2px #00D0BD":"0 0 0 0 transparent",borderRadius:s.tq?"5px":"10px",backgroundColor:"#f4f4f4",borderColor:t.isActive||t.isFocused||t.isSelected?"#00D0BD":"#f4f4f4","&:hover":{borderColor:"#00D0BD"},paddingLeft:"3px"})},singleValue:function(e,t){return(0,a.Z)((0,a.Z)({},e),{},{fontSize:s.tq?"10px":"12px"})},indicatorsContainer:function(e,t){return(0,a.Z)((0,a.Z)({},e),{},{padding:"4px"})},valueContainer:function(e,t){return(0,a.Z)((0,a.Z)({},e),{},{height:s.tq?"16px":"34px",lineHeight:s.tq?"16px":"34px",backgroundColor:"rgb(0, 208, 189, .2)",borderRadius:s.tq?"3px":"10px",padding:s.tq?"2px":"2px 8px"})},indicatorSeparator:function(e,t){return(0,a.Z)((0,a.Z)({},e),{},{display:"none"})},dropdownIndicator:function(e,t){return(0,a.Z)((0,a.Z)({},e),{},{padding:"4px"})}}},12395:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});n(72791);var a=n(80184);function r(){return(0,a.jsx)("svg",{width:"9",height:"8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6.232 7c-.77 1.333-2.694 1.333-3.464 0L.603 3.25c-.77-1.333.192-3 1.732-3h4.33c1.54 0 2.502 1.667 1.732 3L6.232 7Z",fill:"#C3EDE9"})})}},63176:function(e,t,n){"use strict";n.d(t,{S:function(){return N}});var a=n(1413),r=n(52001),s=n(12395),i=n(22035),o=n(70629),l=n(28182),c=n(21033),u=n(15861),d=n(29439),m=n(64687),p=n.n(m),f=n(72791),h=n(706),g=n(54623),v=n(80266),x=n(17173),y=n(40084);var b,_,C=n(45987),E=n(29657),S=n(80184),Z=["children","data"],j=["data","children"];(_=b||(b={})).SingleValue=function(e){e.children;var t,n=e.data,r=(0,C.Z)(e,Z);return(0,S.jsx)(E.c.SingleValue,(0,a.Z)((0,a.Z)({data:n},r),{},{children:(0,S.jsxs)("div",{className:"flex w-full items-center justify-center gap-x-0.5 text-sm font-normal",children:[(0,S.jsx)("div",{className:"h-4 w-6 px-0.5",children:(0,S.jsx)("img",{className:"h-full w-full object-cover",src:null==n||null===(t=n.icon)||void 0===t?void 0:t.thumbnail,alt:null==n?void 0:n.label})}),null==n?void 0:n.shortLabel]})}))},_.Option=function(e){var t,n=e.data,r=e.children,s=(0,C.Z)(e,j);return(0,S.jsx)(E.c.Option,(0,a.Z)((0,a.Z)({data:n},s),{},{children:(0,S.jsxs)("div",{className:"flex w-full items-center gap-x-0.5 text-sm font-normal",children:[(0,S.jsx)("img",{className:"h-4 w-6 px-0.5",src:null==n||null===(t=n.icon)||void 0===t?void 0:t.thumbnail,alt:null==n?void 0:n.label})," ",r]})}))};var k=(0,a.Z)((0,a.Z)({},i.q5),{},{menu:function(e){return(0,a.Z)((0,a.Z)({},e),{},{width:150,right:-50,zIndex:20})},valueContainer:function(e){return(0,a.Z)((0,a.Z)({},e),{},{padding:0,width:"100%"})},singleValue:function(e){return(0,a.Z)((0,a.Z)({},e),{},{width:"100%",overflow:"visible",textOverflow:"unset"})},indicatorsContainer:function(e){return(0,a.Z)((0,a.Z)({},e),{},{display:"none"})}});function w(e){var t=e.isRegistering,n=e.customLanguageSelect,a=function(e){var t=e.customLanguageSelect,n=e.isRegistering,a=(0,f.useState)(null),r=(0,d.Z)(a,2),s=r[0],i=r[1],o=(0,y.m)().setLanguage,l=(0,x.$G)().i18n,c=v.tO.get("i18nextLng"),m=(0,h.b)({url:"/my/profile/",method:"patch",dynamicValues:!0,cb:{success:function(e,t){var n=(null==t?void 0:t[0]).accountLanguageChangeSuccessHandler;null==n||n()},error:function(e){}}}).fetchData,b=(0,h.b)({url:"/system-languages/"}),_=b.response,C=b.fetchData,E=b.loading,S=(0,f.useMemo)((function(){var e;return null==_||null===(e=_.results)||void 0===e?void 0:e.map((function(e){return{value:null==e?void 0:e.id,label:null==e?void 0:e.name,icon:null==e?void 0:e.icon,shortLabel:null==e?void 0:e.short_name,is_default:null==e?void 0:e.is_default}}))}),[_]);return(0,f.useEffect)((function(){(0,u.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:case"end":return e.stop()}}),e)})))()}),[]),(0,f.useEffect)((function(){i(t?null==S?void 0:S.find((function(e){return(null==e?void 0:e.shortLabel)===(null==t?void 0:t.language)})):null==S?void 0:S.find((function(e){return(null==e?void 0:e.shortLabel)===c})))}),[t,c,S]),{isLanguageLoading:E,defaultLanguage:null==S?void 0:S.find((function(e){return e.is_default})),LANGUAGE_OPTIONS:S,changedLanguage:s,handleLanguageChange:function(){return function(e){if(e){var a;if(t)return void(null==t||null===(a=t.changeLanguage)||void 0===a||a.call(t,null==e?void 0:e.shortLabel));if(v.tO.set("selected_language",JSON.stringify(e)),n)return o(e),l.changeLanguage(null==e?void 0:e.shortLabel),void(0,g.r)(null==e?void 0:e.shortLabel);m({values:{language:null==e?void 0:e.value},accountLanguageChangeSuccessHandler:function(){o(e),l.changeLanguage(null==e?void 0:e.shortLabel),(0,g.r)(null==e?void 0:e.shortLabel)}})}}}}}({isRegistering:t,customLanguageSelect:n}),i=a.isLanguageLoading,c=a.LANGUAGE_OPTIONS,m=a.changedLanguage,_=a.defaultLanguage,C=a.handleLanguageChange;return(0,S.jsx)("div",{className:(0,l.Z)({"react-select-dropdown":!n},{"ml-4 w-16":!o.tq,"ml-2 w-16":o.tq}),children:(0,S.jsx)(r.ZP,{isLoading:i,className:(0,l.Z)({"case-type-select-container":!n}),classNamePrefix:"case-type-select",options:c,components:{DropdownIndicator:s.m,SingleValue:b.SingleValue,Option:b.Option},value:null!=m?m:_,onChange:C(),isSearchable:!1,styles:k})})}var N=function(e){return(0,S.jsx)(c.Z,{isCompact:!0,children:(0,S.jsx)(w,(0,a.Z)({},e))})}},26e3:function(e,t,n){"use strict";n.d(t,{H$:function(){return g},cm:function(){return x}});n(72791);var a=n(96263),r=n.n(a),s=n(40084),i=n(28182),o=n(78820),l=n(40071),c=n(16856),u=n(17425),d=n(39126),m=n(17173),p=n(64880),f=n(90218),h=n(80184);var g=function(e,t,n){var a,r=t&&t.toLowerCase(),s=e&&e.toLowerCase(),i=s.indexOf(r);if(String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!1,writable:!1,value:function(e,t){return t=t||0,this.indexOf(e,t)===t}}),-1===i)return e;if(s.startsWith(r))a=e;else if(e.length<=n)a=e;else if(e.length>n){var o=e.slice(i);a=o.length>n?"...".concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return t||(t=100),n||(n="..."),e&&e.length>t?e.substring(0,t-n.length)+n:e}(o,n)):"...".concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return null==n&&(n=100),null==a&&(a="..."),e&&e.length>n?e.substring(0,n-t.length)+a:e}(e.slice(-n),r,n))}else a=e;return a.replace(/\n/g," ")},v=function(e){var t=e.icon,n=e.text;(0,f.K)().isRTL;return(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)("span",{className:"font-semibold text-kblue",children:t}),(0,h.jsx)("span",{className:"mx-2 font-light",children:n})]})};function x(e){var t=e.last_message_type,n=e.last_message_text,a=e.last_message_author,f=e.draftMessage,x=(0,m.$G)().t,y="".concat(a.first_name[0].toUpperCase()).concat(a.last_name[0].toUpperCase()),b=(0,s.m)(),_=b.searchQuery,C=b.groupSearchQuery,E=(0,p.TH)().pathname.includes("case-messages")?_:C;return(0,h.jsxs)("div",{className:"flex items-center overflow-hidden text-sm",children:[(0,h.jsxs)("div",{className:(0,i.Z)("user-name font-semibold text-kblue",{uppercase:!f}),children:[f?x("draft"):y,":"]}),(0,h.jsx)("div",{className:"last-message mx-2 truncate font-light transition-colors dark:text-white",children:function(e,t){if(E){var n=g(e,E,25),a=E.split(/\s/).filter((function(e){return e}));return(0,h.jsx)(r(),{highlightClassName:"highlighted",searchWords:a,autoEscape:!0,textToHighlight:n})}if(f)return(0,h.jsx)("span",{className:"text-kred-pink",children:f.text});switch(null==t?void 0:t.toLowerCase()){case"audio":return(0,h.jsx)(v,{icon:(0,h.jsx)(o.aRZ,{}),text:x("audio_message")});case"video":return(0,h.jsx)(v,{icon:(0,h.jsx)(u.swV,{}),text:x("video_message")});case"location":return(0,h.jsx)(v,{icon:(0,h.jsx)(l.UXH,{}),text:x("location_message")});case"file":return(0,h.jsx)(v,{icon:(0,h.jsx)(o.xNt,{}),text:x("file_message")});case"contact":return(0,h.jsx)(v,{icon:(0,h.jsx)(c.e5n,{}),text:x("contact_message")});case"image":return(0,h.jsx)(v,{icon:(0,h.jsx)(d.vGR,{}),text:x("image_message")});default:return e}}(n,t)})]})}},14987:function(e,t,n){"use strict";n.d(t,{K:function(){return h},Z:function(){return m}});var a=n(1413),r=n(45987),s=(n(72791),n(35720)),i=n(28182),o=n(38596),l=n(40084),c=n(80184),u=["full","tiled","withOverlay"],d=(0,o.Z)((function(e){return{colorPrimary:{color:e.palette.primary.main}}}));var m=function(e){var t=e.full,n=e.tiled,o=e.withOverlay,m=(0,r.Z)(e,u),p=(d(),(0,l.m)().isDarkMode);return(0,c.jsx)(c.Fragment,{children:n?(0,c.jsx)("div",{className:(0,i.Z)("absolute inset-0 flex items-center justify-center text-primary",o&&"".concat(p?"bg-dark":"bg-white","  bg-opacity-70")),children:(0,c.jsx)(s.Z,(0,a.Z)({},m))}):(0,c.jsx)("div",{className:(0,i.Z)(t&&"flex h-screen w-screen items-center justify-center  text-primary"),children:(0,c.jsx)(s.Z,(0,a.Z)({},m))})})},p=n(38302),f=n(42541);function h(e){return(0,c.jsxs)(f.Z,{position:"relative",display:"inline-flex",children:[(0,c.jsx)(s.Z,(0,a.Z)({variant:"determinate"},e)),(0,c.jsx)(f.Z,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:(0,c.jsx)(p.Z,{className:"dark:text-kdark-dark333",variant:"caption",component:"div",color:"initial",children:"".concat(Math.round(e.value),"%")})})]})}},66128:function(e,t,n){"use strict";n.d(t,{cP:function(){return te},qb:function(){return _.Z},zx:function(){return Qn},sm:function(){return et},Dy:function(){return ra},sJ:function(){return U},EF:function(){return W},SV:function(){return b},bA:function(){return qn},$_:function(){return Bn},ph:function(){return ma},y5:function(){return _n},_S:function(){return S},a1:function(){return ye},Ik:function(){return ie.Ik},j6:function(){return ha},$K:function(){return Ct},aN:function(){return C.Z},tY:function(){return ua},oL:function(){return va},Pj:function(){return fa},Mj:function(){return Se},YE:function(){return Pn},k6:function(){return Xn},Yk:function(){return Wn},EU:function(){return $n},AF:function(){return ta},jH:function(){return da},Si:function(){return N}});var a=n(1413),r=n(15671),s=n(43144),i=n(60136),o=n(29388),l=n(72791),c=n(77683),u=n(26513),d=n(36512),m=n(67025),p=n(77470),f=n(64880),h=n(17173),g=n(80184),v=(0,l.memo)((function(e){e.eventId;var t=e.resetErrorBoundary,n=(0,h.$G)().t;return(0,g.jsxs)("div",{className:"flex items-center justify-center gap-x-2 py-4 text-center dark:bg-kgrey-2d2d2d dark:text-white",children:[(0,g.jsx)("h1",{className:"font-semibold dark:text-white",children:"Unexpected Error"}),(0,g.jsx)("div",{className:"flex-centered flex-col ",children:(0,g.jsx)(u.Z,{variant:"contained",size:"small",onClick:t,children:n("dismiss")})})]})})),x=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={hasError:!1,eventId:"",retry:1},e.errorHandlerCallback=function(t,n){console.error("ErrorBoundaryProClass caught an error",t,n),c.$e((function(a){a.setTag("Custom-Tag","ErrorBoundry"),a.setExtras(n);var r=c.Tb(t);e.setState({eventId:r})}))},e}return(0,s.Z)(n,[{key:"render",value:function(){var e,t=this,n=this.props,r=n.isCompact,s=void 0!==r&&r,i=n.resetKeys,o=n.FallbackComponent,l=n.children,c=n.onResetHandler,u=void 0===c?function(){window.location.reload()}:c,d=this.state.eventId;return(0,g.jsx)(p.ErrorBoundary,{resetKeys:[null!=i?i:null===(e=this.props.location)||void 0===e?void 0:e.pathname],onError:this.errorHandlerCallback,fallbackRender:function(e){e.error;var t=e.resetErrorBoundary;return o?(0,g.jsx)(o,{}):s?(0,g.jsx)(y,{resetErrorBoundary:t}):(0,g.jsx)(v,{eventId:d,resetErrorBoundary:t})},onReset:function(){console.log("error state has been resetted"),t.setState((function(e){return(0,a.Z)((0,a.Z)({},e),{},{retry:e.retry+1})})),2===t.state.retry&&u()},children:l})}}]),n}(l.PureComponent);function y(e){var t=e.resetErrorBoundary;return(0,g.jsxs)(m.Z,{onClick:t,className:"bg-disabled flex items-center gap-x-2",children:[(0,g.jsx)(d.Z,{className:"!text-orange-400"}),(0,g.jsxs)("h3",{className:"text-xs",children:["Unexpected Error ",(0,g.jsx)("span",{className:"cursor-pointer text-blue-400",children:" dismiss."})]})]})}var b=(0,f.EN)(x),_=(n(96165),n(37611)),C=n(14987),E=n(53540);var S=function(e){var t=e.text;return(0,E.ZP)(t)},Z=n(29439),j=n(41170),k=n.n(j),w=(new(k())({bitRate:128}),function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isRecording:!1,blobURL:"",isBlocked:!1,stream:null,mp3Recorder:new(k())({bitRate:128})},e.start=function(){e.state.isBlocked||e.state.mp3Recorder.start().then((function(){e.setState({isRecording:!0})})).catch((function(e){return console.error(e)}))},e.stop=function(){var t=e.props.onStop;e.state.mp3Recorder.stop().getMp3().then((function(n){var a,r=(0,Z.Z)(n,2),s=(r[0],r[1]),i=URL.createObjectURL(s);e.setState({blobURL:i,isRecording:!1}),t(s),null===(a=e.state.stream)||void 0===a||a.getTracks()[0].stop()})).catch((function(e){return console.log(e)}))},e.cancelRecording=function(){var t;e.state.isRecording&&e.state.mp3Recorder.stop().getMp3().catch((function(e){return console.error("Error cancelling recording:",e)})),null===(t=e.state.stream)||void 0===t||t.getTracks().forEach((function(e){return e.stop()}))},e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.cancelRecording()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.command&&"none"!==this.props.command&&e.command!==this.props.command&&("start"===this.props.command?navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){t.setState({isBlocked:!1}),t.setState({stream:e}),t[t.props.command]()})).catch((function(e){t.setState({isBlocked:!0}),e.toString().includes("NotFoundError: Requested device not found")?alert("Mic not detected"):e.toString().includes("Permission denied")?alert("Unblock microphone usage for this site please"):alert("Error recording audio")})):this[this.props.command]())}},{key:"render",value:function(){return null}}]),n}(l.Component));function N(e){return(0,g.jsx)(b,{isCompact:!0,children:(0,g.jsx)(w,(0,a.Z)({},e))})}var I=n(38596),T=n(6330),A=n(38192),D=(0,I.Z)((function(e){return(0,T.Z)({root:{backgroundColor:"dark"===e.palette.type?"rgb(0, 208, 189, .1)":"#f4f4f4",borderRadius:function(e){return e.roundedTop?"10px 10px 0 0 ":"10px"},position:"relative",padding:"5px"},indicator:{backgroundColor:"transparent"}})}));function M(e){var t=D(e);return(0,g.jsx)(A.Z,(0,a.Z)({classes:t},e))}M.defaultProps={roundedTop:!1};var O=n(38317),R=n(1370),L=n(70629),U={Tabs:M,Tab:(0,O.Z)((function(e){return(0,T.Z)({root:{fontWeight:500,fontFamily:"Poppins",fontSize:"".concat(L.tq?"13":"16","px"),borderRadius:"10px",transition:"all, .2s",textTransform:"none",lineHeight:1,paddingTop:"12px",paddingBottom:"12px",color:"dark"===e.palette.type?"white":"#000",minHeight:"0","&:hover":{backgroundColor:"rgb(0, 208, 189, .2)"},"&$selected":{backgroundColor:"rgb(0, 208, 189, .2)"},"&:not(:last-child)":{marginRight:"20px"}},selected:{}})}))((function(e){return(0,g.jsx)(R.Z,(0,a.Z)({},e))}))},F=n(82941),P=n(57232),B=function(e){var t=e.emoji,n=e.size,a=function(e){return(0,F.$w)(e,"apple",P)},r=a(t),s=a("");return(0,g.jsx)(F.dy,{emoji:r||s,size:n})},H=n(28182);function G(e){var t=e.reactedUsers,n=e.inModal,a=void 0!==n&&n,r=e.fileType,s=void 0===r?"":r,i=(0,l.useState)(a),o=(0,Z.Z)(i,2),c=o[0],u=o[1],d=c?t:t.slice(0,5);return(0,g.jsxs)("div",{className:(0,H.Z)("flex flex-wrap items-center truncate py-2",{"w-[350px]":"VIDEO"===s||"IMAGE"===s||"FILE"===s||"LOCATION"===s,"w-[290px]":"AUDIO"===s||"CONTACT"===s}),children:[d.filter((function(e){return!e.emoji.startsWith("U")})).map((function(e,t){return(0,g.jsxs)("div",{className:"chat-emoji-custom mb-1.5 mr-2 flex transform cursor-pointer items-center rounded-2xl bg-white px-2 py-1 leading-none shadow-md transition hover:-translate-y-1 active:shadow-none active:shadow-inner dark:bg-white/20",children:[(0,g.jsx)("div",{className:"chat-emoji__unicode ",children:(0,g.jsx)(B,{emoji:e.emoji,size:20})}),(0,g.jsx)("div",{className:"chat-emoji__count ml-2 text-sm font-bold  text-kdark dark:text-white",children:(null==e?void 0:e.users.length)>1&&(null==e?void 0:e.users.length)})]},t)})),(0,g.jsx)(g.Fragment,{children:t.length>5&&!a&&(0,g.jsx)("div",{onClick:function(e){e.stopPropagation(),u((function(e){return!e}))},className:"chat-emoji-custom mb-1.5 mr-2 flex transform cursor-pointer items-center rounded-2xl bg-white px-3 py-1.5 text-15px leading-none tracking-wider shadow-md transition hover:-translate-y-1 active:shadow-none active:shadow-inner dark:bg-white/20 dark:text-white",children:"..."})})]})}var K=n(4942),V=n(16178),Y=n(39126),q=n(40084),Q=[{colons:":+1:",emoticons:[],id:"+1",name:"Thumbs Up Sign",native:"",short_names:["+1","thumbsup"],skin:1,unified:"1f44d",imageUrl:""},{colons:":hearts:",emoticons:[],id:"hearts",name:"Black Heart Suit",native:"",short_names:["hearts"],skin:null,unified:"2665-fe0f",imageUrl:""},{colons:":clap:",emoticons:[],id:"clap",name:"Clapping Hands Sign",native:"",short_names:["clap"],skin:1,unified:"1f44f",imageUrl:""},{colons:":handshake:",emoticons:[],id:"handshake",name:"Handshake",native:"",short_names:["handshake"],skin:1,unified:"1f91d",imageUrl:""},{colons:":confused:",emoticons:[],id:"confused",name:"Confused Face",native:"",short_names:["confused"],skin:null,unified:"1f615",imageUrl:""},{colons:":-1:",emoticons:[],id:"-1",name:"Thumbs Down Sign",native:"",short_names:["-1","thumbsdown"],skin:1,unified:"1f44e",imageUrl:""},{colons:":rage:",emoticons:[],id:"rage",name:"Pouting Face",native:"",short_names:["rage"],skin:null,unified:"1f621",imageUrl:""}],z=function(e,t){return(0,g.jsx)(m.Z,{"aria-owns":"emoji-all","aria-haspopup":"true",onClick:function(){return e(t)},children:(0,g.jsx)(Y.evw,{})})},W={MessageReactions:function(e){var t=e.reactedUsers,n=e.fileType,a=void 0===n?"":n,r=e.clickHandler;return(0,g.jsx)("div",{className:"-mb-2 max-w-full",onClick:r,children:(0,g.jsx)(G,{fileType:a,reactedUsers:t})})},EPicker:l.forwardRef((function(e,t){var n,a=(0,V.D4)().reactToEmoji,r=e.messageId,s=e.isComponentVisible,i=e.custom_uuid,o=e.renderReacted,c=e.coordinates,u=e.isOwnMsg,d=e.reactedUsers,m=e.classnames,p=document.querySelector("#message-".concat(r)),f=document.querySelector(".chat__body");(0,l.useEffect)((function(){s||y(!1)}),[s]);var h=(0,V.IC)(!1),v=h.ref,x=h.isComponentVisible,y=h.setIsComponentVisible,b=(0,q.m)().isDarkMode;return(0,g.jsx)("div",{className:(0,H.Z)("chat-bubble__react-emoji-wrp",m&&m),ref:t,style:(0,K.Z)({top:null==c?void 0:c.top},"".concat(u?"right":"left"),0),onClick:function(e){e.stopPropagation()},children:s&&(0,g.jsxs)("div",{className:"chat-bubble__react-emoji flex items-center bg-white dark:bg-kdark",children:[(0,g.jsx)("div",{className:"chat-bubble__react-emoji-custom",children:(0,g.jsx)(F.cW,{perLine:7,showSkinTones:!1,onSelect:function(e){return a({emoji:e,reacted_users:d,renderReacted:o,messageId:r,custom_uuid:i})},theme:b?"dark":"light",include:["custom"],custom:Q})}),(0,g.jsxs)("div",{className:"chat-bubble__react-emoji-more",children:[!x&&z(y,!0),x&&z(y,!1),(0,g.jsx)("span",{ref:v,children:x&&(0,g.jsx)(F.cW,{style:(n={position:"absolute",right:0},(0,K.Z)(n,function(e,t){var n=t.getBoundingClientRect(),a=e.getBoundingClientRect(),r=L.tq?105:116,s=a.top-r+355;return n.height>s?"top":"bottom"}(p,f),"43px"),(0,K.Z)(n,"width","300px"),n),showPreview:!1,theme:b?"dark":"light",showSkinTones:!1,onSelect:function(e){return a({emoji:e,reacted_users:d,renderReacted:o,messageId:r,custom_uuid:i})}})})]})]})})})),EmojiList:G,EmojiCustom:B},J=n(53527),X=n(80301),$=n(78820),ee=n(56355),te={DeleteButton:J.m,EditButton:X.w,ViewButton:function(e){var t=e.clickHandler,n=e.isDisabled,a=void 0!==n&&n;return(0,g.jsx)("div",{className:(0,H.Z)({"cursor-not-allowed":a}),children:(0,g.jsx)(m.Z,{onClick:t,className:"transition hover:text-primary",disabled:a,children:(0,g.jsx)($.w8I,{size:"18px",className:(0,H.Z)("text-primary",{"!text-kgrey":a})})})})},ReAssignButton:function(e){var t=e.clickHandler,n=e.isDisabled,a=void 0!==n&&n;return(0,g.jsx)("div",{className:(0,H.Z)({"cursor-not-allowed":a}),children:(0,g.jsx)(m.Z,{className:"group ",disabled:a,onClick:t,children:(0,g.jsx)(ee.VRY,{size:"18px",className:"text-kgrey transition group-hover:text-primary"})})})}},ne=n(9478);"".concat(ne.Z.PUBLIC_ASSETS,"sprite/sprite.svg");var ae=n(13889),re=n(54579),se=n(81914),ie=n(53148);se.Z,re.Z,re.Z,re.Z,re.Z,re.Z,re.Z,(0,I.Z)((0,T.Z)({nullPaddings:{padding:0},paperRoot:{height:"100%"}}));var oe=n(95269),le=n(91523),ce=n(87818),ue=n(31519),de=n(97689),me=n(70272),pe=n(87087);n(19713);function fe(){var e,t,n,a,r,s=(0,de.a)().company,i=(0,q.m)(),o=i.navCollapsed,l=i.isDarkMode,c=null==s||null===(e=s.company)||void 0===e?void 0:e.name,u=null==s||null===(t=s.company)||void 0===t?void 0:t.icon,d=null==s||null===(n=s.company)||void 0===n?void 0:n.icon_dark,m=null==s||null===(a=s.company)||void 0===a?void 0:a.logo,p=null==s||null===(r=s.company)||void 0===r?void 0:r.logo_dark;return(0,g.jsx)("div",{className:"flex h-full items-center font-bold text-primary ",children:m?(0,g.jsx)("div",{className:(0,H.Z)("flex-shrink-0 overflow-hidden ",{"lg:-top-14px absolute lg:-left-[16px] lg:right-0 lg:h-[60px]":m&&!o}),children:o?(0,g.jsx)("div",{className:"mr-2",children:u?(0,g.jsx)(g.Fragment,{children:l?(0,g.jsx)(me.Z,{alt:c,src:d?null==d?void 0:d.thumbnail_150:null==u?void 0:u.thumbnail_150}):(0,g.jsx)(me.Z,{alt:c,src:null==u?void 0:u.thumbnail_150})}):(0,g.jsx)(me.Z,{alt:c,src:"",children:null==c?void 0:c[0]})}):(0,g.jsx)(g.Fragment,{children:l?(0,g.jsx)(pe.LazyLoadImage,{effect:"blur",src:L.tq?d?null==d?void 0:d.url:null==u?void 0:u.url:p?null==p?void 0:p.url:null==m?void 0:m.url,alt:"Company Logo",wrapperClassName:(0,H.Z)("h-full",{"w-full":m&&!L.tq}),className:(0,H.Z)("h-full object-contain align-middle",{"w-full":m&&!L.tq})}):(0,g.jsx)(pe.LazyLoadImage,{effect:"blur",src:L.tq?null==u?void 0:u.url:null==m?void 0:m.url,alt:"Company Logo",wrapperClassName:(0,H.Z)("h-full",{"w-full":m&&!L.tq}),className:(0,H.Z)("h-full object-contain align-middle",{"w-full":m&&!L.tq})})})}):(0,g.jsxs)(g.Fragment,{children:[u?(0,g.jsx)("div",{className:(0,H.Z)(" mr-2 flex-shrink-0 overflow-hidden rounded-full",{"h-10 w-10":!L.tq,"ml-2 h-8 w-8":L.tq}),children:(0,g.jsx)(pe.LazyLoadImage,{src:l&&d?null==d?void 0:d.thumbnail_150:null==u?void 0:u.thumbnail_150,effect:"blur",alt:"",wrapperClassName:"h-full",className:"h-full object-cover"})}):(0,g.jsx)(g.Fragment,{children:o?(0,g.jsx)("div",{className:"mr-2",children:(0,g.jsx)(me.Z,{alt:c,src:"",children:null==c?void 0:c[0]})}):""}),(0,g.jsx)("div",{className:"max-w-[229px] truncate",children:!o&&!L.tq&&c})]})})}var he="".concat(ne.Z.PUBLIC_ASSETS,"img/");function ge(){var e,t,n=(0,q.m)(),a=n.isDarkMode,r=n.companyId,s=n.navCollapsed,i=(0,ce.v9)((function(e){return(0,ue.tI)(e)})),o=a?"logo-kennekt-dark-1.svg":"logo-kennekt-1.svg",l=L.tq?"".concat(he,"/apple-icon-120x120.png"):"".concat(he).concat(o),c=null==i||null===(e=i.company)||void 0===e||null===(t=e.logo)||void 0===t?void 0:t.thumbnail_150;return(0,g.jsxs)(le.rU,{className:(0,H.Z)("h-full focus:outline-none focus:ring focus:ring-primary-300 dark:border-white/20",{"flex-centered border-r border-kgrey-border-solid pr-2":L.tq,"lg:pr-5":!s&&!c,"lg:pr-4":!s&&!c,"lg:w-[221px]":!s,relative:c}),to:function(){return function(e,t){return null===t?"/add-business":void 0===e?"/pending-page":"/"}(r,i)},children:[(0,g.jsx)("div",{className:(0,H.Z)(" ",{"h-6 w-6":L.tq,"flex-centered h-full":Boolean(i),"h-[18px]":!Boolean(i)}),children:Boolean(i)?(0,g.jsx)(fe,{}):(0,g.jsx)("img",{src:l,alt:"Kennekt",className:"object-contain"})}),Boolean(i)?null:(0,g.jsx)("div",{className:(0,H.Z)("mt-1 text-8px leading-none tracking-[4px] text-kgrey",{hidden:L.tq}),children:"business"})]})}var ve=n(85880),xe=n(58617),ye=function(e){var t=e.isActive,n=void 0!==t&&t,a=e.classes,r=void 0===a?"":a,s=e.handler,i=void 0===s?function(){}:s,o=e.children;return(0,g.jsx)("div",{className:(0,H.Z)("icon text-grey flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-sm bg-kgrey-icon-bg transition-colors group-hover:text-primary dark:bg-kgrey-bg/10 dark:text-white/50",r,n&&"text-kdark-text"),onClick:i,children:o})};function be(){var e=(0,q.m)(),t=e.navCollapsed,n=e.toggleSidebar,a=e.collapseSidebar;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"group flex h-full items-center justify-center border-r border-kgrey-border-solid pl-2 pr-2 dark:border-white/20 md:pl-5 md:pr-5",children:[(0,g.jsx)("div",{className:"hidden h-full cursor-pointer items-center justify-center  font-poppins sm:flex",onClick:a,children:(0,g.jsx)(ye,{children:t?(0,g.jsx)("span",{className:"dark:text-white",children:(0,g.jsx)(ve.SCc,{size:"12px"})}):(0,g.jsx)("span",{className:"dark:text-white",children:(0,g.jsx)(xe.PSe,{size:"14px"})})})}),(0,g.jsx)(ye,{handler:n,classes:"sm:hidden dark:text-white",children:(0,g.jsx)(ve.SCc,{size:"12px"})})]})})}var _e=n(17425);function Ce(){var e=(0,q.m)(),t=e.toggleDark,n=e.isDarkMode;return(0,g.jsx)("div",{className:"group flex h-full cursor-pointer items-center pl-2 lg:pl-5",onClick:t,children:(0,g.jsx)(ye,{children:n?(0,g.jsx)("span",{className:"text-white group-hover:text-primary",children:(0,g.jsx)(Y.qtR,{size:"15px"})}):(0,g.jsx)("span",{className:"text-black group-hover:text-primary",children:(0,g.jsx)(_e.BUV,{size:"11px"})})})})}var Ee=n(7692),Se=l.memo((function(e){var t=e.query,n=e.handleInput,a=e.disabled,r=e.customPlaceholder,s=(0,h.$G)().t;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("input",{type:"search",className:(0,H.Z)("w-full bg-kgrey-bg dark:bg-kdark-lighter h-full rounded-10 pl-4 pr-10 text-sm outline-none absolute inset-0 border border-transparent placeholder-gray-300 dark:border-white/20 dark:text-white"),placeholder:null!=r?r:s("search_cases"),value:t,onChange:n,disabled:a}),(0,g.jsx)("div",{className:"icon absolute top-1/2 right-[10px] -translate-y-1/2 dark:text-white",children:(0,g.jsx)(Ee.Goc,{})})]})}));function Ze(){var e=(0,h.$G)().t,t=(0,V.A3)(),n=t.query,a=t.setQuery,r=t.searchQuery,s=(0,q.m)(),i=s.setSearchQuery,o=s.searchQuery,c=s.isAppAvailable,u=(0,V.tv)(),d=u.history,m=u.path,p=(0,l.useState)(!1),f=(0,Z.Z)(p,2),v=f[0],x=f[1];(0,l.useEffect)((function(){i(r)}),[r]),(0,l.useEffect)((function(){o.length||a("")}),[o]);var y=(0,l.useCallback)((function(){n.length,x((function(e){return!e}))}),[n]),b=(0,l.useCallback)((function(e){m.includes("case")||"/"===m||d.push("/case-messages/");var t=e.target.value.replace(/(#)/gi,"");a(t)}),[m]);return(0,g.jsxs)("div",{className:"relative flex h-full items-center border-r border-kgrey-border-solid pl-2 pr-2 font-poppins dark:border-white/20 lg:pl-5 lg:pr-5",children:[(0,g.jsx)("div",{className:"relative hidden h-[32px] w-[200px] lg:block",children:(0,g.jsx)(Se,{handleInput:b,query:n,disabled:!c})}),(0,g.jsx)(ye,{classes:"lg:hidden dark:text-white",children:(0,g.jsx)(Ee.Goc,{onClick:function(){return x(!0)}})}),(0,g.jsx)(ie.Cx,{handleModalOpen:y,open:Boolean(v),title:e("search_cases_secondary"),children:(0,g.jsx)("div",{className:"relative h-[32px] w-full",children:(0,g.jsx)(Se,{handleInput:b,query:n})})})]})}var je=n(93433),ke=n(27945),we=n(84200),Ne=n(42124),Ie=n(13925),Te=n(12082),Ae=n(21658),De=n(97892),Me=n.n(De),Oe=n(19053),Re=n(763);var Le=n(28829),Ue=n(60762),Fe=n(86053),Pe=n(90218);function Be(e){e.state;var t=e.setState,n=e.setFieldValue,r=e.errors,s=(0,V.h9)({recurring:!1}),i=s.checked,o=s.handleChange,c=(0,h.$G)().t,u=(0,Pe.K)().isRTL,d=function(e){var t=e.checked,n=e.setFieldValue,r=e.setState,s=(0,l.useState)({recurring:{},recurringOptions:[],recurOption:null,showCustomRecurring:!1}),i=(0,Z.Z)(s,2),o=i[0],c=i[1],u=(0,h.$G)().t,d=o.recurringOptions,m=o.recurOption,p=o.recurring,f=o.showCustomRecurring,g=(0,l.useState)(Me()().hour(8).minute(0)),v=(0,Z.Z)(g,2),x=v[0],y=v[1],b=new Date,_=b.getDay(),C=b.getDate(),E=u((0,Oe.u)(Ae.Pu[_])),S=(0,Ae.qC)(Me()(new Date("".concat(b.getFullYear(),"-").concat(b.getMonth()+1,"-").concat(C)))),j="".concat(u(Ae.er[S.weekOrder-1])," ").concat(u((0,Oe.u)(S.day))),k=function(e){return c((function(t){return(0,a.Z)((0,a.Z)({},t),{},{recurring:e})}))};return(0,l.useEffect)((function(){(0,Ae.Er)({moment:Me(),selectedTime:x,setRecurOption:k,recurOption:m,currentWeekday:E,currentDayObj:S,ON_WEEK_DAY:j,handler:c})}),[m,x]),(0,l.useEffect)((function(){t.recurring?(setTimeout((function(){n("recurring",(0,Re.isEmpty)(p)?null:p,!0)}),0),r((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isRecurringSet:!0})}))):(setTimeout((function(){n("recurring",null,!0)}),0),r((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isRecurringSet:!1})})),c((function(e){return(0,a.Z)((0,a.Z)({},e),{},{recurOption:null})})))}),[p,n,t.recurring]),(0,l.useEffect)((function(){(0,Ae.wj)({handler:c,moment:Me(),currentWeekday:E,ON_WEEK_DAY:j,translate:u})}),[]),{onCloseRecurrDialog:function(){c((function(e){return(0,a.Z)((0,a.Z)({},e),{},{showCustomRecurring:!1})}))},showCustomRecurring:f,selectedTime:x,setSelectedTime:y,recurringOptions:d,handleInput:function(e){var t=e.target,n=t.name,r=t.value;c((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,K.Z)({},n,r))}))},recurOption:m,ON_WEEK_DAY:j,currentDay:_,currentMonthDate:C,currentDayObj:S,setRecurringState:c,recurring:p}}({checked:i,setState:t,setFieldValue:n}),m=d.onCloseRecurrDialog,p=d.showCustomRecurring,f=d.selectedTime,v=d.setSelectedTime,x=d.recurringOptions,y=d.handleInput,b=d.recurOption,_=d.ON_WEEK_DAY,C=d.currentDay,E=d.currentMonthDate,S=d.currentDayObj,j=d.setRecurringState,k=d.recurring;return(0,g.jsxs)("div",{className:"react-select-dropdown mb-4",children:[(0,g.jsx)("div",{className:"flex items-center",children:(0,g.jsx)(ie.D8,{control:(0,g.jsx)(Fe.k,{checked:i.recurring,onChange:o,name:"recurring"}),label:c("recurring_case")})}),i.recurring&&(0,g.jsxs)("div",{className:"mt-2 flex",children:[(0,g.jsx)("div",{className:(0,H.Z)("mb-4 flex-1 overflow-hidden",{"pl-4":u,"pr-4":!u}),children:(0,g.jsxs)(ie.NI,{className:"w-full",children:[!b&&(0,g.jsx)(ie.AZ,{className:"!translate-x-3 !translate-y-3.5",children:c("select_frequency")}),(0,g.jsx)(ie.nv,{error:r.recurring,helperText:c((0,Oe.u)(r.recurring)),select:!0,fullWidth:!0,value:b,name:"recurOption",onChange:y,size:"small",variant:"outlined",className:"cc-recurring-timepicker",children:x.map((function(e){return(0,g.jsx)(ie.sN,{value:e.value,children:b===e.value&&"CUSTOM_VALUE"!==b?e.text:e.name},e.value)}))})]})}),(0,g.jsx)("div",{className:"mb-5 w-1/4",children:(0,g.jsx)(Le.j,{variant:"inline",value:f,onChange:v,inputVariant:"outlined",size:"small",autoOk:!0,fullWidth:!0,className:"cc-recurring-timepicker"})}),(0,g.jsx)(ie.Cx,{handleModalOpen:m,open:p,maxWidth:315,minWidth:315,children:(0,g.jsx)(Ue.t,{recurring:k,currentDay:C,currentMonthDate:E,currentDayObj:S,onCloseRecurrDialog:m,stateHandler:j,recurringOptions:x,selectedTime:f,ON_WEEK_DAY:_})})]})]})}var He=(0,l.forwardRef)((function(e,t){var n=e.isSubmitting,r=e.values,s=e.setFieldValue,i=e.state,o=e.data_fields,c=e.data_fields_names,u=e.data_fields_errors,d=e.setState,m=e.titleRef,p=e.departmentRef,f=e.resetForm,v=e.client_company,x=e.hasToShowGuard,y=e.formValuesSetter,b=e.errors,_=(0,q.m)().caseType,E=(0,h.$G)().t,S=((0,Pe.K)().isRTL,(0,l.useState)({isSubDepChanged:!1,membersShow:!1})),j=(0,Z.Z)(S,2),k=j[0],w=j[1],N=(0,l.useState)("all"),I=(0,Z.Z)(N,2),T=I[0],A=I[1],D=(0,l.useState)(!1),M=(0,Z.Z)(D,2),O=M[0],R=M[1],L=k.isSubDepChanged,U=i.data_fields_names_persisted,F=Object.values(u).includes(!0),P=l.useRef([]),B=r.department,G=r.sub_department;(0,l.useEffect)((function(){var e;null!=B&&B.assign_required&&null!=B&&null!==(e=B.default_assignees)&&void 0!==e&&e.length&&s("assignee_ids",null==B?void 0:B.default_assignees),B||s("assignee_ids","")}),[B]),(0,l.useEffect)((function(){var e=Object.keys(G).filter((function(e){return"1"!==e})).filter((function(e){var t,n;return null===(t=G[e])||void 0===t||null===(n=t.default_assignees)||void 0===n?void 0:n.length})).reduce((function(e,t){var n;return[].concat((0,je.Z)(e),(0,je.Z)(null===(n=G[t])||void 0===n?void 0:n.default_assignees))}),[]);e.length&&s("assignee_ids",null!=B&&B.default_assignees?[].concat((0,je.Z)(null==B?void 0:B.default_assignees),(0,je.Z)(e)):e),B||s("assignee_ids",""),e.length||s("assignee_ids",null!=B&&B.default_assignees?null==B?void 0:B.default_assignees:"")}),[G]),(0,l.useEffect)((function(){var e,t;null!=r&&null!==(e=r.title)&&void 0!==e&&e.length||null===(t=m.current)||void 0===t||!t.length||null===m.current||s("title",m.current)}),[r,m.current]),(0,l.useEffect)((function(){L&&(0,we.oJ)({values:r,setState:d,data_fields_names_persisted:U})}),[L,r]),(0,l.useEffect)((function(){var e=["title","department","assignee_ids","recurring","member_list","exception_member_list","due_date"];_===ne.Z.CLIENT&&e.push("client_company","client_user");var t=Object.keys(r).filter((function(t){if((Array.isArray(r[t])?r[t].length:r[t])&&e.includes(t))return r[t]}));y(t)}),[r]);var K=(0,l.useCallback)((function(){f(),m.current="",d((function(e){return(0,a.Z)((0,a.Z)({},e),{},{data_fields:[],data_fields_names:{},data_fields_errors:{},data_fields_names_persisted:{}})}))}),[m.current]);return(0,g.jsx)(Ne.M,{utils:Ie.Z,children:(0,g.jsxs)("div",{className:"font-poppins",children:[(0,g.jsx)(Te.zS,{resetForm:K}),(0,g.jsx)(Te.GY,{}),(0,g.jsxs)("div",{children:[(0,g.jsx)(Te.yK,{titleRef:m}),(0,g.jsx)(Te.AN,{values:r,client_company:v,setState:d,setFieldValue:s,state:i,titleRef:m}),(0,g.jsx)(Te.DH,{setFieldValue:s,titleRef:m,setState:d,data_fields_errors:u,data_fields_names:c,departmentRef:p,state:i,setFormState:w,values:r,data_fields:o,subDepIdsRef:P,setAssigneeTypeValue:A}),(0,g.jsx)(Te.ti,{values:r,assigneeTypeValue:T,setAssigneeTypeValue:A}),(0,g.jsx)(Te.wT,{state:i,setState:d}),(0,g.jsx)(Te.hf,{}),(0,g.jsxs)("button",{className:"!mb-6 flex w-full items-center justify-between font-light transition hover:text-primary focus:text-primary",onClick:function(){return R((function(e){return!e}))},type:"button",children:[(0,g.jsx)("span",{children:E("additional_options")}),(0,g.jsx)("span",{className:(0,H.Z)("transition",{"rotate-180":O}),children:(0,g.jsx)(Y.IAR,{})})]}),O?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Te.lR,{state:i,setState:d,setFieldValue:s,setFormState:w}),(0,g.jsx)(Be,{errors:b,state:i,setState:d,setFieldValue:s}),(0,g.jsx)(Te.KL,{state:i,setState:d,setFieldValue:s,values:r})]}):null]}),(0,g.jsxs)("div",{className:"flex items-center",children:[n&&(0,g.jsx)(C.Z,{tiled:!0,withOverlay:!0}),(0,g.jsx)(Te.ax,{isSubmitting:n,values:r,isThereDataFieldsError:F,memberingType:i.memberingType,membersShow:k.membersShow,scrollToRequiredElement:function(){setTimeout((function(){(0,we.gc)()}),100)},handleCancelClick:x})]})]})})})),Ge=n(26181),Ke=n.n(Ge),Ve=n(86375),Ye=n(66364),qe=n.n(Ye),Qe=n(80180),ze=n(83027);function We(e){var t=e.modalHandler,n=e.hasToShowGuard,a=e.formValuesSetter,r=(0,q.m)(),s=r.companyId,i=r.caseType,o=r.selectedCaseFilter,c=(0,de.a)().userData.id,u=(0,V.eC)().showNotification,d=o[i],m=(0,l.useRef)(null),p=(0,V.Kx)(),f=p.changeUrlParams,h=p.query,v=p.removeQueryParams,x="".concat(null==h?void 0:h.caseTitle," | From Client Case - ").concat(null==h?void 0:h.caseId),y=(0,l.useRef)(h.caseTitle?x:null),b=(0,l.useState)({department:{},data_fields:[],data_fields_names:{},data_fields_errors:{},data_fields_names_persisted:{},isDateTimeSet:!1,client_company:{},client_user:{},selected_client_company:{},statuses:[],status:null,memberingType:"Extra",isRecurringSet:!1}),_=(0,Z.Z)(b,2),C=_[0],E=_[1],S=C.data_fields,j=C.data_fields_names,k=C.data_fields_errors,w=C.status,N=C.client_company,I=C.memberingType;(0,Ve.zN)(E,C);var T="AllBusinessCases-".concat(null==w?void 0:w.id,"-").concat(i,"-").concat(d?d.id:"normal"),A=(0,Qe.v)({deleteData:!0,method:"delete",url:"",entity:"cases",name:T,cb:{success:function(){},error:function(){},finally:function(){}}}).handleLocalDelete;return(0,g.jsx)("div",{children:(0,g.jsx)(ke.Z.Main,{entity:"cases",name:T,url:"/".concat(s,"/cases/as_business/"),method:"post",primaryKey:"id",sendAsFormData:!1,prependData:!1,appendData:!1,fields:[{name:"title",required:!0,onSubmitKey:"",value:h.caseTitle?x:""},{name:"description",onSubmitValue:function(e,t){return Ke()(t,"title")},onSubmitKey:""},{name:"department",required:!0,onSubmitValue:function(e,t){return(0,we.fI)(t)},onSubmitKey:"",type:"object"},{name:"sub_department",onSubmitValue:function(e,t){return n=(0,we.B2)({values:t,departmentRef:m}),a=Object.keys(n)[0],isNaN(n[a])?{}:n;var n,a},onSubmitKey:"",type:"object"},{name:"data_field",onSubmitValue:function(e,t){return(0,we.Z1)({data_fields:S,data_fields_names:j})},required:Object.values(k).includes(!0),onSubmitKey:""},{name:"priority",value:{name:"Normal",code:"NORMAL"},onSubmitValue:function(e){return Ke()(e,"code")},onSubmitKey:"",type:"object"},{name:"temp_sub",value:null,onSubmitKey:""},{name:"due_date",onSubmitValue:function(e){return C.isDateTimeSet?Me()(e).utc().format():null},onSubmitKey:""},{name:"client_company",onSubmitValue:function(e){return"object"==typeof e?Ke()(e,"id"):s},value:i===ne.Z.CLIENT?qe()(C.client_company)?null:C.client_company:{id:s},required:!0,onSubmitKey:"",type:"object"},{name:"client_user",onSubmitValue:function(e){return"object"==typeof e?Ke()(e,"id"):c},value:i===ne.Z.CLIENT?qe()(C.client_user)?null:C.client_user:{id:c},required:!0,onSubmitKey:"",type:"object"},{name:"assignee_ids",onSubmitValue:function(e){return(0,je.Z)(new Set(e&&e.length?e.map((function(e){return e.user.id})):[]))},value:null,type:"object",onSubmitKey:""},{name:"status",value:C.statuses[0],onSubmitValue:function(e){return Ke()(e,"id")},required:!0,onSubmitKey:"",type:"object"},{name:"member_list",onSubmitValue:function(e,t){return(0,we.LZ)(e,t,I)},onSubmitKey:"",type:"object"},{name:"exception_member_list",onSubmitValue:function(e,t){return(0,we.cP)(e,t,c,I)},onSubmitKey:"",type:"object"},{name:"recurring",value:null,onSubmitValue:function(e){return C.isRecurringSet?e:null},required:C.isRecurringSet,onSubmitKey:"",type:"object"},{name:"complete_status",onSubmitValue:function(e){return C.isDateTimeSet?Ke()(e,"id"):null},required:C.isDateTimeSet,onSubmitKey:"",type:"object"},{name:"related_to_type",value:"CASE",onSubmitKey:""},{name:"related_to_id",value:h.caseId?Number(h.caseId):null,onSubmitKey:""}],onSuccess:function(e,n){var a,r,s,l;v();e.priority;var c=e.status,u=void 0===c?{}:c,d=e.id,m=void 0===d?null:d;e.assignee_ids,e.department,e.sub_department;setTimeout((function(){f({status:null==u?void 0:u.id,case:m},!0)}),500);var p=null===(a=o[i])||void 0===a||null===(r=a.filter_json)||void 0===r?void 0:r.query_web;p&&"department"in p&&!p.department.includes(null==e||null===(s=e.department)||void 0===s||null===(l=s.id)||void 0===l?void 0:l.toString())&&A(e.id),t(),n()},onError:function(e,t){var n,a;u({message:null==e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message,variant:"error"})},children:function(e){var t=e.isSubmitting,r=e.values,s=e.setFieldValue,i=e.resetForm,o=e.errors;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(He,{values:r,errors:o,setFieldValue:s,resetForm:i,isSubmitting:t,state:C,data_fields:S,data_fields_names:j,data_fields_errors:k,setState:E,titleRef:y,departmentRef:m,client_company:N,hasToShowGuard:n,formValuesSetter:a})})}})})}function Je(e){return(0,g.jsx)(b,{children:(0,g.jsx)(We,(0,a.Z)({},e))})}Me().extend(ze);var Xe=n(45987),$e=["toggleHandler","isOpen","featureHandler","isLoading","hasLoader","maxWidth","noPadding","title","titleClassNames"];function et(e){var t=e.toggleHandler,n=e.isOpen,a=e.featureHandler,r=e.isLoading,s=void 0!==r&&r,i=e.hasLoader,o=void 0!==i&&i,l=e.maxWidth,c=e.noPadding,u=void 0!==c&&c,d=e.title,m=e.titleClassNames,p=(0,Xe.Z)(e,$e),f=(0,h.$G)().t;return(0,g.jsx)(g.Fragment,{children:n?(0,g.jsxs)(ie.Cx,{handleModalOpen:t,open:n,maxWidth:l,noPadding:u,children:[(0,g.jsx)(ie.$N,{id:"alert-dialog-title",className:m,children:d}),(0,g.jsxs)(ie.kX,{children:[(0,g.jsx)(ie.zx,{onClick:t,autoFocus:!0,variant:"contained",children:f("no")}),(0,g.jsx)(ie.zx,{onClick:function(){return a(p)},variant:"contained",color:"secondary",classes:{root:"!mx-1.5"},children:f("yes")})]}),o?(0,g.jsx)(g.Fragment,{children:s&&(0,g.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70",children:(0,g.jsx)(C.Z,{})})}):null]}):null})}function tt(){var e=(0,V.dF)().WhiteModal,t=(0,h.$G)().t,n=(0,q.m)(),a=n.openCaseCreatePopup,r=n.showCaseCreatePopup,s=(0,V.Kx)().removeQueryParams,i=(0,V.tv)(),o=i.location,c=i.history,u=(0,V.Tn)(),d=u.formValues,m=u.guardOpen,p=u.setGuardOpen,f=u.formValuesSetter,v=o.pathname.includes("/case-messages"),x=(0,l.useCallback)((function(){d.length?p(!0):r(!1)}),[d]),y=(0,l.useCallback)((function(){p(!1),f([]),r()}),[a]),b=(0,l.useCallback)((function(){p((function(e){return!e}))}),[]),_=(0,l.useCallback)((function(){v||c.push("/case-messages"),r(!0)}),[v]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("button",{className:"group flex h-full cursor-pointer items-center border-r border-kgrey-border-solid pl-2 pr-2 dark:border-white/20 lg:border-none lg:pl-5 lg:pr-5",onClick:_,children:[(0,g.jsx)("span",{className:"text-primary",children:(0,g.jsx)(Ee.RWX,{size:"17px"})}),(0,g.jsx)("div",{className:"hidden px-2 text-base leading-none text-kdark-text transition-colors group-hover:text-primary dark:text-white lg:block",children:t("create_case")})]}),(0,g.jsx)(e,{handleModalOpen:function(){d.length?p(!0):(r(),s())},open:a,maxWidth:446,scrollable:!0,children:(0,g.jsx)(Je,{modalHandler:r,hasToShowGuard:x,formValuesSetter:f})}),(0,g.jsx)(et,{featureHandler:y,isOpen:m,toggleHandler:b,title:t("cancel_unsaved_changes_confirmation")})]})}var nt=(0,I.Z)((function(e){return(0,T.Z)({avatarColor:function(e){return{backgroundColor:e.color?e.color:""}},root:(0,K.Z)({},e.breakpoints.down("sm"),{width:"32px",height:"32px"})})}));function at(){var e,t,n,a,r,s,i=(0,de.a)().userData,o=nt({color:null==i?void 0:i.color}),l="".concat(null==i?void 0:i.first_name," ").concat(null==i?void 0:i.last_name),c=null==i||null===(e=i.avatar)||void 0===e?void 0:e.thumbnail_150,u=(t={firstName:null==i?void 0:i.first_name,lastName:null==i?void 0:i.last_name},n=t.firstName,a=t.lastName,r=null==n?void 0:n[0].toUpperCase(),s=null==a?void 0:a[0].toUpperCase(),r&&s?"".concat(r).concat(s):"");return(0,g.jsx)("div",{className:"h-8 w-8 overflow-hidden rounded-full bg-kgrey-bg lg:h-10 lg:w-10",children:(0,g.jsx)(ie.qE,{src:c,letter:u,alt:l,className:o.avatarColor,classes:{root:o.root}})})}var rt=n(76188),st=n(77917),it=n(81724),ot=n(32380),lt=n(74569),ct=n.n(lt),ut=n(80266),dt=ot.Z.entity.formRequest;function mt(e){var t=e.modalHandler,n=(0,h.$G)().t,r=(0,ce.I0)(),s=(0,de.a)().userData,i=((0,f.k6)(),(0,V.lm)()),o=i.notifVisible,c=i.setNotifVisible,u=i.handleNotificationClose,d=i.Notification,m=(0,l.useRef)(null),p=(0,l.useMemo)((function(){return it.Ry({old_password:it.Z_().min(6,n("password_validation")).required(n("old_password_required")),new_password:it.Z_().min(6,n("password_validation")).required(n("password_required")),new_password_confirm:it.Z_().oneOf([it.iH("new_password")],n("password_not_same")).required(n("password_confirmation_required"))})}),[n]),v=(0,rt.TA)({initialValues:{old_password:"",new_password:"",new_password_confirm:""},validationSchema:p,onSubmit:function(e,n){var i=n.setFieldError,o=n.setSubmitting,l=(0,a.Z)({},e);delete l.new_password_confirm,r(dt({entity:"change_password",name:"change_password",url:"/my/change-password/",method:"put",params:{},values:l,cb:{success:function(n){ct().post("".concat(ne.Z.API_ROOT,"/user/auth/"),{username:s.username,password:e.new_password}).then((function(e){var n=e.data;o(!1),c(!0),ut.tO.set("token",n.token),r(ot.Z.auth.Login.success(n)),setTimeout((function(){t()}),1e3)})).catch((function(e){r(ot.Z.auth.Login.failure({error:e}))}))},error:function(e){var t,n,a;i("token",null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message),Object.keys(null==e||null===(a=e.response)||void 0===a?void 0:a.data).forEach((function(t){var n,a,r;i(t,null==e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a[t][0]),"old_password"===t&&(null==m||null===(r=m.current)||void 0===r||r.focus())})),o(!1)},finally:function(){}}}))}});return(0,l.useEffect)((function(){null!=m&&m.current&&(null==m||m.current.focus())}),[]),(0,g.jsxs)("div",{children:[(0,g.jsxs)("form",{onSubmit:v.handleSubmit,children:[(0,g.jsx)("div",{className:"mb-6 text-xl font-semibold",children:n("change_password")}),(0,g.jsx)(st.Qp,{name:"old_password",placeholder:n("old_password"),label:n("old_password"),required:!0,onChange:v.handleChange,type:"password",value:v.values.old_password,error:v.touched.old_password&&Boolean(v.errors.old_password),helperText:v.touched.old_password&&v.errors.old_password,ref:m}),(0,g.jsx)(st.Qp,{name:"new_password",placeholder:n("password"),label:n("password"),required:!0,onChange:v.handleChange,type:"password",value:v.values.new_password,error:v.touched.new_password&&Boolean(v.errors.new_password),helperText:v.touched.new_password&&v.errors.new_password}),(0,g.jsx)(st.Qp,{name:"new_password_confirm",placeholder:n("confirm_password"),label:n("password_confirmation"),required:!0,onChange:v.handleChange,type:"password",value:v.values.new_password_confirm,error:v.touched.new_password_confirm&&Boolean(v.errors.new_password_confirm),helperText:v.touched.new_password_confirm&&v.errors.new_password_confirm,classNames:"mb-8"}),(0,g.jsx)("button",{disabled:v.isSubmitting,className:"bg-primary py-3.5 uppercase transition w-full rounded-lg text-center text-sm font-light text-white hover:bg-primary-dark",children:v.isSubmitting?n("changing_password_please_wait"):n("change_password")})]}),(0,g.jsx)(d,{severity:"info",anchorOrigin:{vertical:"bottom",horizontal:"center"},handleClose:u,open:o,message:n("password_changed_success"),autoHideDuration:1e3})]})}var pt=n(23853),ft=n(16856);function ht(){var e=(0,h.$G)().t,t=(0,de.a)().userData,n=(0,f.k6)(),a=(0,V.dF)(),r=a.open,s=a.modalHandler,i=a.WhiteModal,o=[{icon:(0,g.jsx)(xe.fbd,{}),text:e("profile"),handler:function(){n.push("/user-profile")}},{icon:(0,g.jsx)(ft.h9I,{}),text:e("change_password"),handler:function(){s()}},{icon:(0,g.jsx)(pt.xqh,{}),text:e("logout"),handler:function(){n.push("/logout")}}];return(0,g.jsxs)("div",{className:"user-popover rounded-xl bg-white font-poppins",children:[(0,g.jsxs)("div",{className:"user-popover__header bg-primary-dark px-4 py-2 text-white",children:[(0,g.jsx)("div",{className:"user-popover__name mb-1 text-sm font-semibold",children:"".concat(t.first_name," ").concat(t.last_name)}),(0,g.jsx)("div",{className:"user-popover__email text-xs font-medium text-white/80",children:t.username})]}),(0,g.jsx)("div",{className:"user-popover__nav dark:bg-kdark",children:o.map((function(e){return(0,g.jsxs)("div",{className:"user-popover__nav-item group flex cursor-pointer items-center p-3 transition hover:text-primary",onClick:e.handler,children:[(0,g.jsx)("div",{className:"user-popover__icon flex-centered mr-3 h-6 w-6 rounded bg-kgrey/10 text-kgrey-menuText group-hover:text-primary",children:e.icon}),(0,g.jsx)("div",{className:"user-popover__text text-xs font-medium",children:e.text})]},e.text)}))}),(0,g.jsx)(i,{handleModalOpen:s,open:r,children:(0,g.jsx)(mt,{modalHandler:s})})]})}var gt=n(92112),vt=n(84373),xt=n(35741),yt=n(46572),bt=n.n(yt),_t=n(35720),Ct=function(e){var t=e.setPage,n=void 0===t?function(){}:t;return(0,g.jsx)(bt(),{offset:{bottom:-500},partialVisibility:!0,onChange:function(e){e&&n(e)},children:function(){return(0,g.jsx)("div",{className:"case-spinner flex items-center justify-center",children:(0,g.jsx)(_t.Z,{})})}})},Et=(0,I.Z)((0,T.Z)({radioRoot:{padding:L.tq?"0px":"6px"}}));function St(e){var t=e.title,n=e.selected,a=e.handleTemplateClick,r=Et(),s=(0,Pe.K)().isRTL;return(0,g.jsxs)("div",{className:(0,H.Z)("filter-item mb-3 flex items-center rounded-10 border  border-transparent transition hover:bg-primary-200","dark:border-white/20 dark:bg-kdark dark:text-white dark:hover:bg-primary-200",{"bg-primary-lighter dark:bg-primary-200":n,"bg-kgrey-bg":!n,"pr-3.5":s}),onClick:a,children:[(0,g.jsx)(ie.Y8,{color:"primary",checked:n,classes:{root:r.radioRoot}}),(0,g.jsx)("div",{className:"",children:(0,g.jsx)(h.cC,{i18nKey:(0,Oe.u)(t),defaults:t})})]})}var Zt=n(99362);function jt(e){var t=e.handleModalOpen,n=(0,h.$G)().t,a=(0,l.useState)(1),r=(0,Z.Z)(a,2),s=r[0],i=r[1],o=(0,q.m)(),c=o.companyId,u=o.caseType,d=(0,Zt.H)(),m=d.onFilterTemplateClick,p=d.loading,f=d.selectedCaseFilter,v=null==f?void 0:f[u];return(0,g.jsxs)("div",{className:"w-full text-left",children:[(0,g.jsxs)("div",{className:"flex-center-between mb-4",children:[(0,g.jsx)("button",{onClick:t,className:(0,H.Z)("rounded-md border px-2 py-1 transition hover:border-primary hover:text-primary",{"text-xs":L.tq}),children:n("filter_setup")}),(0,g.jsx)("p",{className:(0,H.Z)(" transition hover:text-primary",{"text-primary":!v,"text-kgrey":v,"text-xs":L.tq,"text-base":!L.tq}),onClick:function(){return v?m(null):window.location.reload()},children:n("all_cases")})]}),(0,g.jsx)("div",{className:"h-[180px]",children:(0,g.jsx)(ha,{className:"rct-scroll",style:{height:"180px"},children:c?(0,g.jsx)(xt.Z.All,{entity:"case-filters",name:"AllCaseFilters-".concat(c,"-").concat(u),url:"/".concat(c,"/case-filters/"),appendData:!0,params:{limit:10,page:s,extra:{is_staff:u===ne.Z.STAFF?"true":"false"}},children:function(e){var t=e.items,n=e.isFetched,a=e.meta,r=n&&(null==a?void 0:a.current_page)&&(null==a?void 0:a.last_page)&&(null==a?void 0:a.current_page)<(null==a?void 0:a.last_page),s=(0,je.Z)(t);return(0,g.jsxs)(g.Fragment,{children:[s.map((function(e){return(0,g.jsx)(St,{title:e.title,selected:e.is_selected,handleTemplateClick:function(){return m(e)}},e.id)})),!n&&(0,g.jsx)("div",{style:{textAlign:"center"},children:(0,g.jsx)(C.Z,{})}),p?(0,g.jsx)(C.Z,{withOverlay:!0,tiled:!0}):null,n&&r?(0,g.jsx)(Ct,{setPage:function(){return a&&a.current_page&&i((null==a?void 0:a.current_page)+1)}}):null]})}}):null})})]})}function kt(e){return(0,g.jsx)(b,{children:(0,g.jsx)(jt,(0,a.Z)({},e))})}function wt(e){var t=e.handleModalOpen,n=(0,h.$G)().t,r=(0,q.m)(),s=r.caseType,i=r.selectedCaseFilter,o=(0,Zt.H)().onFilterTemplateClick,l=(0,V.eC)().showNotification,c=null==i?void 0:i[s],u=(0,V.TA)({onLongPress:function(){c&&(o(null),l({message:"Filter has been reset",variant:"info"}))}},{shouldPreventDefault:!1,delay:500});return(0,g.jsxs)("div",(0,a.Z)((0,a.Z)({className:(0,H.Z)("filter-templates-button cursor-pointer flex items-center  bg-kgrey-bg text-kdark-text group transition hover:bg-primary-dark dark:bg-kdark dark:text-white dark:hover:bg-primary-dark relative dark:border dark:border-white/20",{"ml-5 h-8 w-[230px] rounded-10  px-4":!L.tq," flex-centered ml-2 h-6 w-6 rounded-sm":L.tq}),role:"button"},u),{},{children:[(0,g.jsx)(gt.wH,{className:"text-kgrey-dark-2 transition group-hover:text-white"}),!L.tq&&(0,g.jsx)("span",{className:"mx-2  w-4/5 truncate transition group-hover:text-white",children:null!=c&&c.title?(0,g.jsx)(h.cC,{i18nKey:(0,Oe.u)(null==c?void 0:c.title),defaults:null==c?void 0:c.title}):n("all_cases")}),!L.tq&&(0,g.jsx)(vt.OId,{className:"ml-auto transition group-hover:rotate-180 group-hover:text-white"}),(0,g.jsx)("div",{className:(0,H.Z)("filter-templates-dropdown  absolute border border-transparent bg-white dark:border-white/20 dark:bg-kdark dark:text-white  top-full translate-y-6 opacity-0 rounded-xl drop-shadow-lg  transition",{"left-2/4 -ml-[100px] w-[200px] p-2":L.tq,"left-0 w-[334px] p-6":!L.tq}),children:(0,g.jsx)(kt,{handleModalOpen:t})})]}))}var Nt=n(98144);var It=function(e){var t,n=e.caseData,a=(0,q.m)().unreadMessagesCount,r=n.department,s=n.sub_department,i=n.title,o=n.last_message_type,l=n.last_message_text,c=n.last_message_author,u=n.case_number,d=n.last_message_time,m=n.id,p=null==n||null===(t=n.status)||void 0===t?void 0:t.id,f=n.priority,h=n.draft_message,v=n.assignee_ids,x=n.related_to_id,y=n.recurring_id,b=n.has_linked_case,_=null==a?void 0:a[m];return(0,g.jsx)("div",{className:"mb-2",children:(0,g.jsx)(Nt.y,{case_number:u,caseTitle:i,department:r,sub_department:s,last_message_author:c,last_message_time:d,last_message_type:o,last_message_text:l,hasUnread:_,caseId:m,statusId:p,pin_time:n.pin_time,priority:f,draftMessage:h,assigneeIds:v,isDragging:!1,isRecentCase:!0,hasLinkedCase:b,relatedTo:x,recurringId:y})})};function Tt(){var e=(0,q.m)().companyId;return(0,g.jsx)("div",{children:(0,g.jsx)(ha,{className:"rct-scroll",style:{height:"400px"},autoHide:!0,children:(0,g.jsx)(xt.Z.All,{entity:"recent-cases",name:"AllRecentCases-".concat(e),url:"/".concat(e,"/widgets/cases/as_business/"),params:{limit:10,page:1,extra:{ordering:"last_view_time"}},replaceIds:!0,children:function(e){var t=e.items,n=e.isFetched,a=(0,je.Z)(t);return(0,g.jsxs)(g.Fragment,{children:[a.map((function(e){return(0,g.jsx)(It,{caseData:e},e.id)})),!n&&(0,g.jsx)("div",{style:{textAlign:"center"},children:(0,g.jsx)(C.Z,{})})]})}})})})}function At(){return(0,g.jsx)(b,{children:(0,g.jsx)(Tt,{})})}function Dt(){var e=(0,V.IC)(!1),t=e.ref,n=e.isComponentVisible,a=e.setIsComponentVisible,r=(0,V.Kx)().query,s=(0,h.$G)().t,i=(0,Pe.K)().isRTL;return(0,l.useEffect)((function(){null!=r&&r.case&&a(!1)}),[r]),(0,g.jsxs)("div",{className:(0,H.Z)(" group relative flex cursor-pointer items-center",{"ml-4":!L.tq,"ml-2":L.tq}),onClick:function(){return a(!0)},children:[(0,g.jsx)(ye,{children:(0,g.jsx)(gt.xk,{className:"text-kgrey transition group-hover:text-primary"})}),!L.tq&&(0,g.jsx)("div",{className:"mx-2 hidden text-base text-kdark-text transition group-hover:text-primary dark:text-white xl:block",children:s("recent_case")}),n?(0,g.jsx)("div",{ref:t,className:(0,H.Z)("absolute w-96 shadow-recent-panel-2top-full rounded-xl bg-white  z-20 translate-y-64 p-6 transition dark:bg-kdark-dark333",{"right-0 ":!i,"left-0":i}),children:(0,g.jsx)(At,{})}):null]})}var Mt=n(63176),Ot=n(52001),Rt=n(12395),Lt=n(22035);function Ut(){var e=(0,q.m)(),t=e.caseType,n=e.setCaseType,r=(0,V.Kx)(),s=r.removeQueryParams,i=r.query,o=(0,h.$G)().t,l=Lt.k8.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{label:o(e.label.toLowerCase())})}));return(0,g.jsx)("div",{className:(0,H.Z)("react-select-dropdown",{"ml-4 w-24":!L.tq,"ml-2 w-14":L.tq}),children:(0,g.jsx)(Ot.ZP,{className:"case-type-select-container",classNamePrefix:"case-type-select",options:l,components:{DropdownIndicator:Rt.m},value:l.find((function(e){return e.value===t})),onChange:function(e){!function(e){qe()(i)||s(),e&&n(e.value)}(e)},isSearchable:!1,styles:Lt.q5})})}var Ft,Pt=n(30168),Bt=n(52554),Ht=n(64923),Gt=function(e){var t=e.title,n=e.fixedHeight,a=e.hasFixedContentHeight,r=e.wrapperContentClasses,s=void 0===r?"":r,i=e.children;return(0,Ht.BX)("div",{className:"filter-wrapper rounded-lg",children:[(0,Ht.tZ)("div",{className:(0,H.Z)("filter-wrapper__head rounded-t-lg bg-kgrey-bg px-5 py-3 text-base font-medium leading-none","dark:bg-kdark-lighter"),children:t}),(0,Ht.tZ)("div",{className:(0,H.Z)("filter-wrapper__content min-h-[400px] rounded-b-lg bg-kgrey-light-grey-2 py-4 pl-5 pr-2","dark:bg-kdark-dark333",{"pr-2":a,"pr-6":!a},s),css:(0,Bt.iv)(Ft||(Ft=(0,Pt.Z)(["\n\t\t\t\t\theight: ",";\n\t\t\t\t"])),a?n+"px":"auto"),children:a?(0,Ht.tZ)(ae.$B,{className:"rct-scroll",style:{height:n?n-60+"px":"auto"},autoHide:!0,children:i}):(0,Ht.tZ)("div",{children:i})})]})},Kt=n(9321);function Vt(e){var t=e.title,n=(e.id,e.onClick),a=e.active,r=void 0!==a&&a,s=e.selected,i=void 0!==s&&s,o=e.isDefault,c=void 0!==o&&o,u=e.onRemove,d=(0,h.$G)().t;return(0,l.useEffect)((function(){i&&n()}),[i]),(0,g.jsxs)("div",{className:(0,H.Z)("nc-template-item mb-3 flex cursor-pointer items-center pr-3"),children:[(0,g.jsxs)("div",{className:(0,H.Z)("nc-template-item__body rounded-10 transition hover:bg-kgrey-light-grey-5 flex-center-between flex-grow px-4 py-2.5 text-sm leading-none"," dark:bg-kdark ",{"!bg-primary-dark text-white":r,"bg-kgrey-light-grey-3":!r}),onClick:n,children:[(0,g.jsx)("span",{children:(0,g.jsx)(h.cC,{i18nKey:(0,Oe.u)(t),defaults:t})}),i&&r?(0,g.jsx)("span",{children:d("selected_lower")}):null]}),i||r||c?null:(0,g.jsx)("div",{onClick:u,children:(0,g.jsx)(gt.aN,{className:"mx-2 flex-shrink-0 cursor-pointer transition hover:text-kred-pink"})})]})}function Yt(e){var t=e.handleModalOpen,n=e.open,a=(0,h.$G)().t,r=(0,q.m)(),s=r.companyId,i=r.caseType,o=(0,l.useState)(!1),c=(0,Z.Z)(o,2),u=c[0],d=c[1],m=(0,V.eC)().showNotification,p=(0,Qe.v)({entity:"case-filters",name:"AllCaseFilters-".concat(s,"-").concat(i),method:"delete",url:"/".concat(s,"/case-filters/").concat(null==n?void 0:n.id,"/"),deleteData:!0,id:null==n?void 0:n.id,cb:{success:function(e){t(null),d(!1),m({message:a("successfully_deleted"),variant:"success"})},error:function(e){d(!1)},finally:function(){}}}).handleRequest,f=function(){t(null)};return(0,g.jsx)("div",{className:"relative",children:(0,g.jsxs)(ie.Cx,{handleModalOpen:f,open:Boolean(n),children:[(0,g.jsx)(ie.$N,{id:"alert-dialog-title",children:a("are_you_sure_to_delete_filter_item",{filter:a((0,Oe.u)(null==n?void 0:n.title))})}),(0,g.jsxs)(ie.kX,{children:[(0,g.jsx)(ie.zx,{onClick:f,autoFocus:!0,variant:"contained",children:a("cancel")}),(0,g.jsx)(ie.zx,{onClick:function(){n&&(d(!0),p())},variant:"contained",color:"secondary",children:a("delete")})]}),u&&(0,g.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70",children:(0,g.jsx)(C.Z,{})})]})})}function qt(e){return(0,g.jsx)(b,{children:(0,g.jsx)(Yt,(0,a.Z)({},e))})}var Qt=n(90790);function zt(){(0,h.$G)().t;var e=(0,q.m)(),t=e.companyId,n=e.caseType,r=(0,l.useState)(1),s=(0,Z.Z)(r,2),i=s[0],o=s[1],c=(0,q.m)(),u=c.setActiveFilterTemplate,d=c.activeFilterTemplate,m=(0,Ve.tz)(),p=m.showDeletePopup,f=m.handleDeleteTemplate,v=(0,Ve.Zo)().onFilterTemplateDragEnd;return(0,g.jsx)(Qt.Z5,{onDragEnd:v,children:(0,g.jsx)(Qt.bK,{droppableId:"AllCaseFilters-".concat(t,"-").concat(n),children:function(e){return(0,g.jsxs)("div",(0,a.Z)((0,a.Z)({className:"nc-templates relative pb-4"},e.droppableProps),{},{ref:e.innerRef,children:[(0,g.jsx)(xt.Z.All,{entity:"case-filters",name:"AllCaseFilters-".concat(t,"-").concat(n),url:"/".concat(t,"/case-filters/"),appendData:!0,params:{limit:10,page:i,extra:{is_staff:n===ne.Z.STAFF?"true":"false"}},children:function(t){var n=t.items,r=t.isFetched,s=t.meta,i=(0,je.Z)(n),l=r&&(null==s?void 0:s.current_page)&&(null==s?void 0:s.last_page)&&(null==s?void 0:s.current_page)<(null==s?void 0:s.last_page);return(0,g.jsxs)(g.Fragment,{children:[i.map((function(e,t){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(Qt._l,{draggableId:e.id.toString(),index:t,children:function(t){return(0,g.jsx)("div",(0,a.Z)((0,a.Z)((0,a.Z)({},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,children:(0,g.jsx)(Vt,{title:e.title,id:e.id,selected:e.is_selected,active:e.id===(null==d?void 0:d.id),isDefault:e.is_default,onClick:function(){return u(e)},onRemove:function(){return f(e)}},e.id)}))}},e.id)})})),e.placeholder,!r&&(0,g.jsx)("div",{style:{textAlign:"center"},children:(0,g.jsx)(C.Z,{})}),r&&l&&(0,g.jsx)(Ct,{setPage:function(){return s&&s.current_page&&o((null==s?void 0:s.current_page)+1)}})]})}}),(0,g.jsx)(qt,{handleModalOpen:f,open:p})]}))}})})}var Wt=n(7161),Jt=(n(42978),n(666),n(58365)),Xt=n(11528),$t=n(62942),en=n(74332),tn=function(e){switch(e){case"UZ":return Jt.Z;case"RU":return Xt.Z;case"EN":return $t.default;case"AR":return en.Z}};var nn=function(e){var t=e.setFieldValue,n=(0,h.$G)(),a=n.t,r=n.i18n,s=(0,Ve.Z9)((function(){})),i=s.state,o=s.setDateState,c=s.resetDatePicker,u=s.initDateState,d=s.open,m=s.setOpen,p=s.handleDatePickerOpen,f=s.formatCaseRangeDate,v=s.dateState,x=s.today;(0,l.useEffect)((function(){var e,n;t("start_date",f(null==v||null===(e=v[0])||void 0===e?void 0:e.startDate)),t("end_date",f(null==v||null===(n=v[0])||void 0===n?void 0:n.endDate))}),[v]);var y=(0,q.m)().isDarkMode,b=(0,Pe.K)().isRTL;return(0,g.jsxs)("div",{className:"dropdown mb-4",children:[(0,g.jsx)("div",{className:"mb-2 text-sm leading-none text-kgrey-menuText dark:text-white",children:a("by_case_creation_date")}),(0,g.jsx)("div",{className:"w-full",children:(0,g.jsxs)("div",{className:"relative z-0 h-14 rounded-lg",children:[(0,g.jsx)("div",{className:(0,H.Z)("absolute top-2 left-4 z-10 text-xs font-light text-[#7A8693] dark:text-white",{"left-4":!b,"right-4":b}),children:a("from_to")}),(0,g.jsx)("span",{className:(0,H.Z)("absolute bottom-3 z-20 text-primary",{"right-5":!b,"left-5":b}),children:(0,g.jsx)(ee.smD,{})}),i.dateRange?(0,g.jsx)("span",{className:"absolute right-5 top-2 z-20 text-kgrey cursor-pointer transition-colors hover:text-kdark ",onClick:function(){o([u]),c(t)},children:(0,g.jsx)(ve.hhk,{})}):null,(0,g.jsx)("input",{type:"text",onClick:function(){return m(!0)},value:i.dateRange,readOnly:!0,placeholder:a("select_date"),className:"absolute h-full w-full rounded-lg outline-none bg-kgrey-filter-bg dark:bg-kdark-lighter dark:text-white border border-kgrey-light-grey-4 px-4 pt-6 pb-2 text-kdark transition focus:border-primary focus:ring focus:ring-primary z-0 focus:ring-opacity-30"}),(0,g.jsx)(ie.Cx,{handleModalOpen:p,open:d,minWidth:332,maxWidth:332,noPadding:!0,cropRounded:!0,children:(0,g.jsx)("div",{className:"overlay-hidden -mt-5 rounded-lg",dir:"ltr",children:(0,g.jsx)(Wt.C0,{locale:tn(r.language),editableDateInputs:!0,onChange:function(e){var n,a;o([e.selection]),t("start_date",f(null==e||null===(n=e.selection)||void 0===n?void 0:n.startDate)),t("end_date",f(null==e||null===(a=e.selection)||void 0===a?void 0:a.endDate))},moveRangeOnFirstSelection:!1,ranges:v,className:(0,H.Z)("filter-date-range-picker dark:bg-kdark-dark333",{"filter-date-range-picker__dark":y}),rangeColors:["#00D0BD"],maxDate:x})})})]})})]})},an=n(37099);function rn(){var e=(0,h.$G)().t,t=(0,q.m)(),n=t.companyId,a=t.caseType;return(0,g.jsxs)("div",{className:"dropdown mb-4",children:[(0,g.jsx)("div",{className:"mb-2 text-sm leading-none text-kgrey-menuText dark:text-white",children:e("status")}),(0,g.jsx)("div",{className:"w-full",children:(0,g.jsx)(rt.gN,{component:an.Z,customStylesProps:ut.C2,title:"Status",optionLabel:"title",optionValue:"id",loadOptionsUrl:"/".concat(n,"/my/company/case_statuses/"),loadOptionsParams:function(e){return{extra:{search:e,is_staff:a===ne.Z.STAFF?"true":""}}},reverse:!0,isSearchable:!L.tq,name:"filter_status",loadOptionsKey:"",placeholder:e("all"),maxMenuHeight:220,isMulti:!0,isCached:!0})})]})}function sn(){var e=(0,h.$G)().t,t=(0,q.m)().companyId;return(0,g.jsxs)("div",{className:"dropdown mb-4",children:[(0,g.jsx)("div",{className:"mb-2 text-sm leading-none text-kgrey-menuText dark:text-white",children:e("priority")}),(0,g.jsx)("div",{className:"w-full",children:(0,g.jsx)(rt.gN,{component:an.Z,optionLabel:"name",optionValue:"code",loadOptionsUrl:"/".concat(t,"/cases/as_business/priorities/"),loadOptionsParams:function(e){return{extra:{search:e}}},isSearchable:!L.tq,name:"priority",loadOptionsKey:"choices",customStylesProps:ut.C2,placeholder:e("all"),isMulti:!0,isCached:!0})})]})}function on(e){var t=e.setFieldValue,n=e.isThereAnySubdepartments,r=e.values,s=(0,h.$G)().t,i=(0,q.m)(),o=i.companyId,l=i.isStaff,c=(0,Ve.Z9)((function(){})),u=c.setDepartments,d=c.makeFlatSubdepartments;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"dropdown mb-4",children:[(0,g.jsx)("div",{className:"mb-2 text-sm leading-none text-kgrey-menuText dark:text-white",children:s("department")}),(0,g.jsx)("div",{className:"w-full",children:(0,g.jsx)(rt.gN,{component:an.Z,title:"Department",optionLabel:"name",optionValue:"id",loadOptionsUrl:"/".concat(o,"/departments/"),loadOptionsParams:function(e){return{extra:{search:e,is_staff:l?"true":"false",ordering:"name"}}},isSearchable:!L.tq,name:"department",loadOptionsKey:"results",placeholder:s("all"),isMulti:!0,customStylesProps:(0,a.Z)((0,a.Z)({},ut.C2),{},{multiValueLabel:function(e){return(0,a.Z)((0,a.Z)({},e),{},{wordBreak:"break-all",whiteSpace:"initial"})}}),onChange:function(e){t("sub_department",void 0),u(e?e.map((function(e){return e.id})):[],[])},isCached:!0})})]}),n?(0,g.jsxs)("div",{className:"dropdown mb-4",children:[(0,g.jsx)("div",{className:"mb-2 text-sm leading-none text-kgrey-menuText dark:text-white",children:s("sub_department")}),(0,g.jsx)("div",{className:"w-full",children:(0,g.jsx)(rt.gN,{component:st.X4,title:"Sub Department",optionLabel:function(e){return"".concat(Ke()(e,"department.name")," [").concat(Ke()(e,"name"),"]")},optionValue:"id",customStylesProps:(0,a.Z)((0,a.Z)({},ut.C2),{},{multiValueLabel:function(e){return(0,a.Z)((0,a.Z)({},e),{},{wordBreak:"break-all",whiteSpace:"initial"})}}),loadOptionsUrl:"/".concat(o,"/departments/sub_departments/"),loadOptionsParams:function(e){return{extra:{search:e,department_ids:Ke()(r,"department").reduce((function(e,t){return[].concat((0,je.Z)(e),[t.id])}),[]).join(","),ordering:"name"}}},onChange:function(e){e?d(e,r.department):u(((null==r?void 0:r.department)||[]).map((function(e){return e.id})),[])},name:"sub_department",loadOptionsKey:"results",placeholder:s("all"),isMulti:!0,isSearchable:!L.tq,isCached:!0})})]}):null]})}function ln(){var e=(0,h.$G)().t,t=[{label:e("all"),value:""},{label:e("individual"),value:"true"},{label:e("business"),value:"false"}];return(0,g.jsxs)("div",{className:"dropdown mb-4",children:[(0,g.jsx)("div",{className:"mb-2 text-sm leading-none text-kgrey-menuText dark:text-white",children:e("client_type")}),(0,g.jsx)("div",{className:"w-full",children:(0,g.jsx)(rt.gN,{component:st.mg,className:"basic-single",classNamePrefix:"select",isClearable:!0,isSearchable:!0,name:"client_type",options:t,styles:ut.C2})})]})}function cn(e){var t=e.setFieldValue,n=e.values,a=(0,q.m)().companyId,r=(0,h.$G)().t;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"dropdown mb-4",children:[(0,g.jsx)("div",{className:"mb-2 text-sm leading-none text-kgrey-menuText dark:text-white",children:r("client_company")}),(0,g.jsx)("div",{className:"w-full",children:(0,g.jsx)(rt.gN,{component:an.Z,customStylesProps:ut.C2,title:"Client List",optionLabel:function(e){return e.is_individual&&e.owner?"".concat(null==e?void 0:e.owner.first_name," ").concat(null==e?void 0:e.owner.last_name,"  (").concat(e.name,")"):e.name},optionValue:"id",loadOptionsUrl:"/".concat(a,"/client_companies/"),loadOptionsParams:function(e){return{extra:{search:e}}},isSearchable:!L.tq,name:"client_company",loadOptionsKey:"results",placeholder:r("select_client"),onChange:function(e){t("client_user",void 0)},isCached:!0})})]}),!qe()(Ke()(n,"client_company"))&&(0,g.jsxs)("div",{className:"dropdown mb-4",children:[(0,g.jsx)("div",{className:"mb-2 text-sm leading-none text-kgrey-menuText dark:text-white",children:r("client_user")}),(0,g.jsx)("div",{className:"w-full",children:(0,g.jsx)(rt.gN,{component:an.Z,customStylesProps:ut.C2,title:"Client User",optionLabel:function(e){return"".concat(e.first_name," ").concat(e.last_name)},optionValue:"id",loadOptionsUrl:"/".concat(a,"/client_companies/").concat(Ke()(n,"client_company.id"),"/employee/"),loadOptionsParams:function(e){return{extra:{search:e}}},isSearchable:!L.tq,name:"client_user",loadOptionsKey:"results",placeholder:r("select_client_user")})})]})]})}function un(e){var t=e.label,n=e.name,a=e.placeholder,r=(0,q.m)().companyId;return(0,g.jsxs)("div",{className:"dropdown mb-4",children:[(0,g.jsx)("div",{className:"mb-2 text-sm leading-none text-kgrey-menuText dark:text-white",children:t}),(0,g.jsx)("div",{className:"max-w-[305px]",children:(0,g.jsx)(rt.gN,{component:an.Z,customStylesProps:ut.C2,title:t,labelClasses:"truncate",optionLabel:function(e){return"".concat(Ke()(e,"user.first_name")," ").concat(Ke()(e,"user.last_name"))},optionValue:"id",loadOptionsUrl:"/".concat(r,"/members/"),loadOptionsParams:function(e){return{extra:{search:e}}},isSearchable:!L.tq,name:n,loadOptionsKey:"results",placeholder:a,isMulti:!0,isCached:!0})})]})}var dn=[{label:"All",value:"all"},{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"}];function mn(){return(0,g.jsxs)("div",{className:"dropdown mb-4",children:[(0,g.jsx)("div",{className:"mb-2 text-sm leading-none text-kgrey-menuText dark:text-white",children:"Rating"}),(0,g.jsx)("div",{className:"w-full",children:(0,g.jsx)(rt.gN,{component:st.mg,className:"basic-single",classNamePrefix:"select",isClearable:!0,isSearchable:!0,name:"rate",options:dn,styles:ut.C2})})]})}function pn(e){var t=e.title,n=e.className,a=void 0===n?"":n;return(0,g.jsx)("div",{className:(0,H.Z)("add-filter-item flex cursor-pointer items-center justify-between rounded-10 border border-transparent bg-primary-lighter px-3.5 py-2.5 text-sm leading-none text-kdark-text-2 transition hover:bg-primary dark:border-white dark:bg-kdark dark:text-white",a),children:(0,g.jsx)("div",{className:"add-filter-item__text",children:t})})}var fn=n(62625);function hn(e){var t=e.children,n=e.onRemove,a=void 0===n?function(){}:n,r=e.alignment,s=void 0===r?"center":r,i=e.className,o=void 0===i?"":i,l=e.iconClassName,c=void 0===l?"":l,u=e.removeIcon,d=void 0!==u&&u;return(0,g.jsxs)("div",{className:(0,H.Z)("filtem-wrapper flex  justify-between",o,{"items-center":"center"===s,"items-start":"top"===s}),children:[(0,g.jsx)("div",{className:"filter-wrapper__input flex-grow ",children:t}),d?null:(0,g.jsx)("div",{className:(0,H.Z)("filter-wrapper__delete relative mx-2 cursor-pointer transition hover:text-kred-pink ",c),children:(0,g.jsx)("div",{onClick:a,children:(0,g.jsx)(gt.aN,{})})})]})}function gn(e){var t,n,r,s=e.setFieldValue,i=e.isThereAnySubdepartments,o=e.values,c=(0,h.$G)().t,u=(0,Ve.tz)().removeFilterItemFromTemplate,d=(0,q.m)().activeFilterTemplate,m=function(e){u(e),"due_date"===e&&(s("start_date",null),s("end_date",null)),"client_company"===e&&s("client_user",null),"department"===e&&s("sub_department",null),"status"===e&&s("filter_status",null),s(e,null)},p=null!==(t=null==d?void 0:d.fields_json)&&void 0!==t?t:[],f=function(e){switch(e){case"due_date":return(0,g.jsx)(hn,{onRemove:function(){return m("due_date")},iconClassName:"top-1",children:(0,g.jsx)(nn,{setFieldValue:s})});case"status":return(0,g.jsx)(hn,{onRemove:function(){return m("status")},iconClassName:"top-1",children:(0,g.jsx)(rn,{})});case"priority":return(0,g.jsx)(hn,{onRemove:function(){return m("priority")},iconClassName:"top-1",children:(0,g.jsx)(sn,{})});case"department":return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(hn,{onRemove:function(){return m("department")},alignment:"top",className:"relative",iconClassName:"relative top-9",children:(0,g.jsx)(on,{values:o,setFieldValue:s,isThereAnySubdepartments:i})})});case"client_type":return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(hn,{onRemove:function(){return m("client_type")},iconClassName:"top-1",children:(0,g.jsx)(ln,{})})});case"client_company":return(0,g.jsx)(hn,{onRemove:function(){return m("client_company")},iconClassName:"top-9",alignment:"top",children:(0,g.jsx)(cn,{setFieldValue:s,values:o})});case"member":return(0,g.jsx)(hn,{onRemove:function(){return m("member")},iconClassName:"top-1",children:(0,g.jsx)(un,{label:c("staff_access"),name:"member",placeholder:c("select_staff",{calculatedStaffAccessType:""})})});case"assignees":return(0,g.jsx)(hn,{onRemove:function(){return m("assignees")},iconClassName:"top-1",children:(0,g.jsx)(un,{label:c("assigned_to"),name:"assignees",placeholder:c("select_assignee")})});case"assigned_by":return(0,g.jsx)(hn,{onRemove:function(){return m("assigned_by")},iconClassName:"top-1",children:(0,g.jsx)(un,{label:c("assigned_by"),name:"assigned_by",placeholder:c("select_assigned_by")})});case"rate":return(0,g.jsx)(hn,{onRemove:function(){return m("rate")},iconClassName:"top-1",children:(0,g.jsx)(mn,{})});case"unread":return(0,g.jsx)(hn,{onRemove:function(){return m("unread")},className:"!mb-4",removeIcon:null==d?void 0:d.is_default,children:(0,g.jsx)(pn,{title:c("unread")})},"unread");case"unresponded":return(0,g.jsx)(hn,{onRemove:function(){return m("unresponded")},className:"!mb-4",removeIcon:null==d?void 0:d.is_default,children:(0,g.jsx)(pn,{title:c("unresponded")})},"unresponded");case"expired":return(0,g.jsx)(hn,{onRemove:function(){return m("expired")},className:"!mb-4",removeIcon:null==d?void 0:d.is_default,children:(0,g.jsx)(pn,{title:c("overdue")})},"expired");case"pinned":return(0,g.jsx)(hn,{onRemove:function(){return m("pinned")},className:"!mb-4",removeIcon:null==d?void 0:d.is_default,children:(0,g.jsx)(pn,{title:c("pinned")})},"pinned");case"tagged":return(0,g.jsx)(hn,{onRemove:function(){return m("tagged")},className:"!mb-4",removeIcon:null==d?void 0:d.is_default,children:(0,g.jsx)(pn,{title:c("tagged")})},"tagged");case"scheduled":return(0,g.jsx)(hn,{onRemove:function(){return m("scheduled")},className:"!mb-4",removeIcon:null==d?void 0:d.is_default,children:(0,g.jsx)(pn,{title:c("scheduled")})},"scheduled");default:return null}};return(0,g.jsx)("div",{children:d?(0,g.jsxs)(g.Fragment,{children:[d.is_default?null:(0,g.jsxs)("div",{className:"flex ",children:[(0,g.jsxs)("div",{className:"case-form__input-row mx-2 mb-4 flex-grow",children:[(0,g.jsx)(rt.gN,{label:c("filter_title"),name:"title",component:st.Mg,placeholder:c("type_template_name"),required:!0,classNames:"mb-2",autoFocus:!0,maxLength:40,inputElementClassNames:"!py-2.5 border-kgrey-light-grey-4"}),(0,g.jsx)("div",{className:"amount flex justify-end text-xs text-kgrey",children:"".concat(null!==(n=null===(r=o.title)||void 0===r?void 0:r.length)&&void 0!==n?n:0,"/40")})]}),d.fields_json.length>1?(0,g.jsxs)("div",{className:"case-form__input-row ",children:[(0,g.jsx)("div",{className:"mx-2 mb-2 block text-sm font-light text-kgrey-menuText",children:c("filtering_type")}),(0,g.jsx)("div",{className:"!w-28",children:(0,g.jsx)(rt.gN,{component:st.mg,className:"basic-single",classNamePrefix:"select",defaultValue:fn.nv[0],name:"filter_type",styles:ut.C2,options:fn.nv.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{label:c(e.value)})}))})})]}):null]}),(0,g.jsx)(g.Fragment,{children:d.is_default?(0,g.jsxs)("div",{className:"case-form__input-row-wrap",children:[(0,g.jsx)(pn,{title:c("unread_and_assigned_to_me"),className:"pointer-events-none !mb-2"}),(0,g.jsx)("div",{className:"!mb-2 !text-xs",children:c("or_uppercase")}),(0,g.jsx)(pn,{title:c("draft"),className:"pointer-events-none !mb-2"}),(0,g.jsx)("div",{className:"!mb-2 !text-xs",children:c("or_uppercase")}),(0,g.jsx)(pn,{title:c("overdue_and_assigned_to_me"),className:"pointer-events-none !mb-2"}),(0,g.jsx)("div",{className:"!mb-2 !text-xs",children:c("or_uppercase")}),(0,g.jsx)(pn,{title:c("overdue_and_assigned_by_me"),className:"pointer-events-none !mb-2"}),(0,g.jsx)("div",{className:"!mb-2 !text-xs",children:c("or_uppercase")}),(0,g.jsx)(pn,{title:c("unresponded_and_assigned_to_me"),className:"pointer-events-none !mb-2"})]}):(0,g.jsx)("div",{className:"react-select-dropdown",children:p.map((function(e){return(0,g.jsx)(l.Fragment,{children:f(e.name)},e.name)}))})})]}):(0,g.jsx)("div",{className:"text-center",children:c("please_select_template_filter")})})}function vn(e){var t=e.title,n=e.onClick;return(0,g.jsxs)("div",{className:"add-filter-item border-kgrey-grey-6 text-kdark-grey-1 !mb-4 flex cursor-pointer items-center justify-between rounded-10 border bg-kgrey-light-grey-3 !px-3.5 !py-1.5 text-sm leading-none transition hover:bg-kgrey-light-grey-5 dark:bg-kdark",onClick:n,children:[(0,g.jsx)("div",{className:"add-filter-item__text",children:t}),(0,g.jsx)("div",{className:"add-filter-item__icon",children:(0,g.jsx)(gt.ip,{})})]})}function xn(e){var t=e.setFieldValue,n=(0,h.$G)().t,a=(0,q.m)(),r=a.activeFilterTemplate,s=a.caseType,i=(0,Ve.tz)().appendFilterToTemplate,o=fn.sb.filter((function(e){var t;return!(null!=r&&null!==(t=r.fields_json)&&void 0!==t&&t.find((function(t){return t.name===e.name})))})),l=(r?o:fn.sb).filter((function(e){return!("client_company"===e.name&&s===ne.Z.STAFF||"client_type"===e.name&&s===ne.Z.STAFF)}));return(0,g.jsx)("div",{className:"!pr-4",children:r?(0,g.jsx)(g.Fragment,{children:l.map((function(e){return(0,g.jsx)(vn,{title:n((0,Oe.u)(e.title)),onClick:function(){i(e),"unread"!==e.name&&"unresponded"!==e.name&&"pinned"!==e.name&&"expired"!==e.name&&"tagged"!==e.name&&"scheduled"!==e.name||t(e.name,!0)}},e.name)}))}):(0,g.jsx)("div",{className:"text-center",children:n("please_select_to_add_filter")})})}function yn(e){var t,n=e.handleModalOpen,a=(0,h.$G)().t,r=(0,Kt.Z)(),s=(0,Z.Z)(r,2),i=s[0],o=s[1].height,c=(0,q.m)(),u=c.activeFilterTemplate,d=c.isAdmin,m=(0,Ve.Z9)(n),p=m.initialValues,f=m.onSubmit,v=m.goToAllCasesPage,x=(0,Ve.tz)(),y=x.isImmediateApply,b=x.addNewFilterTemplate,_=x.saveAndApply,C=null==u||null===(t=u.fields_json)||void 0===t?void 0:t.length,E=(0,l.useMemo)((function(){return it.Ry().shape({title:it.Z_().required(a("required")).max(40,a("maximum_character_validation",{maximum:40}))})}),[a]);return(0,g.jsx)(rt.J9,{onSubmit:function(e,t){f(e,t,y)},initialValues:p,enableReinitialize:!0,validationSchema:E,children:function(e){var t=e.handleSubmit,r=e.values,s=e.setFieldValue,l=(e.resetForm,e.isSubmitting),c=Array.isArray(r.department)&&r.department.filter((function(e){return e.sub_departments_count>0}));return(0,g.jsx)("form",{onSubmit:t,children:(0,g.jsxs)("div",{className:"new-c-filter w-[1086px] p-6 pt-1 font-poppins",ref:i,children:[(0,g.jsxs)("div",{className:"new-c-filter__header flex-center-between mb-4",children:[(0,g.jsx)("div",{className:"new-c-filter__heading text-base font-bold text-kdark-text-2 dark:text-white",children:a("filter_setup")}),(0,g.jsxs)("div",{className:"new-c-filter__actions",children:[d?(0,g.jsx)(ie.Ik,{className:"mr-5 border border-kgrey text-kgrey",color:"default",onClick:v,children:a("all_cases")}):null,(0,g.jsx)(ie.Ik,{className:"mr-5 border border-kgrey text-kgrey",color:"default",onClick:n,children:a("cancel")}),null!=u&&u.is_default?null:(0,g.jsx)(ie.Ik,{type:"submit",className:"mr-4 disabled:!opacity-80 dark:text-white dark:hover:bg-primary-300 dark:focus:ring-primary-300",isSubmitting:l,color:"primary",isDisabled:!C,onClick:_,children:a("save_apply")}),(0,g.jsx)(ie.Ik,{className:"disabled:!opacity-80 dark:text-white dark:hover:bg-primary-300 dark:focus:ring-primary-300",type:"submit",isSubmitting:l,isDisabled:!C,color:"primary",children:a("save_filter")})]})]}),(0,g.jsxs)("div",{className:"new-c-filter__content flex justify-between",children:[(0,g.jsxs)("div",{className:"new-c-filter__column relative w-[316px]",children:[(0,g.jsx)(Gt,{title:a("filter_template_list"),wrapperContentClasses:"pb-12 ",hasFixedContentHeight:!0,fixedHeight:o?o-127:0,children:(0,g.jsx)(zt,{})}),(0,g.jsx)("div",{className:"absolute left-0 bottom-4 z-10 flex w-full justify-center",children:(0,g.jsxs)("button",{className:" group flex items-center",type:"button",onClick:b,children:[(0,g.jsx)(gt.ip,{}),(0,g.jsx)("span",{className:"kgrey-dark-text-2 text-md ml-2 transition group-hover:text-primary-dark",children:a("add_new_filter_template")})]})})]}),(0,g.jsx)("div",{className:"new-c-filter__column w-[370px]",children:(0,g.jsx)(Gt,{title:a("edit_filter"),children:(0,g.jsx)(gn,{setFieldValue:s,isThereAnySubdepartments:!!c.length,values:r})})}),(0,g.jsx)("div",{className:"new-c-filter__column w-[316px]",children:u&&u.is_default?null:(0,g.jsx)(Gt,{title:a("available_filter_options"),hasFixedContentHeight:!0,fixedHeight:o?o-127:0,children:(0,g.jsx)(xn,{setFieldValue:s})})})]})]})})}})}function bn(e){return(0,g.jsx)(b,{children:(0,g.jsx)(yn,(0,a.Z)({},e))})}function _n(){var e=(0,l.useState)(null),t=(0,Z.Z)(e,2),n=t[0],a=t[1],r=(0,l.useState)(!1),s=(0,Z.Z)(r,2),i=s[0],o=s[1],c=(0,q.m)(),u=c.searchQuery,d=c.companyId,m=c.isAppAvailable,p=(0,V.tv)().location,f=(0,de.a)().companies,h=(0,Pe.K)().isRTL,v=function(){o((function(e){return!e}))},x=Boolean(n),y=x?"user-profile":void 0,b=p.pathname.includes("/case-messages"),_=m&&(!u.length||d);return(0,g.jsxs)("div",{className:"flex h-full",children:[(0,g.jsxs)("div",{className:"flex flex-grow items-center pt-1 pb-1 md:pt-3.5 md:pb-3.5 lg:justify-between",children:[(0,g.jsxs)("div",{className:(0,H.Z)("flex h-full",{"items-center":L.tq}),children:[(0,g.jsx)(ge,{}),(0,g.jsx)(be,{}),d?(0,g.jsx)(Ze,{}):null,b&&(0,g.jsx)(wt,{handleModalOpen:v}),_?(0,g.jsx)(tt,{}):null]}),(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)(Mt.S,{isRegistering:!1}),(0,g.jsx)(Ce,{}),m&&(0,g.jsx)(Dt,{}),b&&(0,g.jsx)(Ut,{})]})]}),d||1===f.length?(0,g.jsx)("button",{className:(0,H.Z)("flex flex-shrink-0 cursor-pointer items-center ",{"lg:pl-7":!h,"lg:pr-7":h}),color:"primary",type:"button",onClick:function(e){a(e.currentTarget)},children:(0,g.jsx)(at,{})}):null,(0,g.jsx)(oe.ZP,{id:y,open:x,anchorEl:n,onClose:function(){a(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,g.jsx)(ht,{})}),(0,g.jsx)(ie.Cx,{handleModalOpen:v,open:Boolean(i),minWidth:362,paperWidth:1086,noPadding:!0,scrollable:!0,children:(0,g.jsx)(bn,{handleModalOpen:v})})]})}var Cn=n(40071),En=n(11975),Sn=["icon","text","noArrow","isRounded","classNames","scrollToLeftMostUnread"];function Zn(e){var t=e.icon,n=e.text,r=e.noArrow,s=void 0===r||r,i=e.isRounded,o=void 0===i||i,c=e.classNames,u=void 0===c?"":c,d=e.scrollToLeftMostUnread,m=void 0===d?function(){}:d,p=(0,Xe.Z)(e,Sn),v=(0,q.m)(),x=v.toggleChatPanel,y=v.toggleSidebar,b=v.groupsUnreadCountData,_=v.unreadMessagesCount,C=v.companyId,E=v.areUnreadsFetched,S=v.caseType,j=(0,Pe.K)().isRTL,k=(0,de.a)(),w=k.companies,N=k.company,I=(0,h.$G)().t,T=(0,f.TH)(),A=(0,l.useState)(!1),D=(0,Z.Z)(A,2),M=D[0],O=D[1],R="/news/news-list"===p.to?T.pathname.includes("news"):T.pathname===p.to,U=T.pathname.includes("case-messages"),F="/switch-business"===p.to,P=(0,l.useMemo)((function(){return Object.values(_||{}).reduce((function(e,t){return e+t}),0)}),[_]),B=(0,l.useMemo)((function(){return E.group&&E["Staff"===S?"staff":"client"]}),[S,E.group,E.staff,E.client]),G=(0,V.bK)({url:"/".concat(C,"/no_unread_left_for_company/")}),K=G.fetchData,Y=G.loading;G.response;(0,l.useEffect)((function(){var e=w.some((function(e){return!e.is_selected&&e.company.unread_cases_count>0}));F&&O(e)}),[w,N]),(0,l.useEffect)((function(){!F||!B||Object.keys(b).length||Object.keys(null!=_?_:{}).length||Y||K()}),[b,_]);var Q=function(e){var t=0;null!==e&&(t=Object.values(e).reduce((function(e,t){return e+t}),0));return t}(b),z=P>0&&"cases"===n||Q>0&&"chats"===n||M&&F;return(0,g.jsx)(le.OL,(0,a.Z)((0,a.Z)({},p),{},{onClick:function(){return x(!1)},children:(0,g.jsxs)("div",{className:(0,H.Z)("group flex items-center justify-between px-3.5 py-2 transition-colors",R&&"bg-primary-200 ",{"rounded-xl":o},u),onClick:function(){return L.tq?y():void(U&&m())},children:[(0,g.jsxs)("div",{className:"icon-text-wr flex w-11/12 items-center",children:[(0,g.jsx)(ye,{isActive:R,children:(0,g.jsx)("div",{className:(0,H.Z)("fit-icon-size h-3.5 w-3.5 transition-colors group-hover:text-kdark-text dark:group-hover:text-white",R&&"dark:text-white",!R&&"text-kgrey",{"text-primary":z}),children:t})}),(0,g.jsx)("div",{className:(0,H.Z)("flex-grow truncate font-poppins  text-sm font-semibold transition-colors group-hover:text-kdark-text dark:group-hover:text-white ",{"text-primary":z,"text-kdark-text dark:text-white":R&&!z,"text-kgrey-menuText":!R&&!z,"pl-2":!j,"pr-2":j}),children:I(n)})]}),s&&(0,g.jsx)("div",{className:"menu-item__arrow flex-shrink-0  group-hover:text-primary",children:(0,g.jsx)(Ee.lU2,{})})]})}))}function jn(e){var t=e.type,n=void 0===t?"default":t,a=e.timeLeft,r=e.handleShowWidget,s=(0,h.$G)().t,i=(0,Pe.K)().isRTL,o=(0,V.tv)().history,l=(0,q.m)().isAppAvailable,c=" ".concat(a.days," ").concat(s("days")," ").concat(0===a.days?"".concat(a.hours," ").concat(s("hours")," ").concat(a.minutes," ").concat(s("minutes")):"");return(0,g.jsx)("div",{className:"b-widget mb-4 px-5",children:(0,g.jsxs)("div",{className:(0,H.Z)("b-widget__content  rounded-10 p-2.5",{"bg-kgrey-widget-bg":"default"===n,"bg-kred-billing-warn":"warning"===n}),children:[(0,g.jsx)("div",{className:"b-widget__trial-info mb-8 text-center text-xs text-kgrey",children:a.days<=0?(0,g.jsx)(g.Fragment,{children:s("upgrade_your_business")}):(0,g.jsx)(h.cC,{i18nKey:"billing_widget_info",values:{timeLeftInfo:c},components:{timeLeftInfoComponent:(0,g.jsx)("strong",{className:"font-bold text-primary-dark"})}})}),(0,g.jsxs)("div",{className:"b-widget__bottom flex-center-between",children:[l?(0,g.jsx)("div",{onClick:function(){return r()},className:"b-widget__dismiss cursor-pointer text-xs text-kgrey-menuText transition hover:text-primary-dark",children:s("dismiss")}):null,(0,g.jsx)("div",{className:(0,H.Z)("b-widget__upgrade cursor-pointer text-xs text-primary-dark underline hover:no-underline",{"ml-auto":!i,"mr-auto":i}),onClick:function(){return o.push("/payments/billing")},children:s("upgrade_plan")})]})]})})}var kn="".concat(ne.Z.PUBLIC_ASSETS,"img/");function wn(e){var t=e.timeLeft,n=e.type,a=void 0===n?"default":n,r=(0,V.tv)().history,s=(0,q.m)().isAppAvailable,i=(0,h.$G)().t,o="".concat(t.days," ").concat(t.days>1?i("days"):i("day")," ").concat(0===t.days?"".concat(t.hours," ").concat(i("hours")," ").concat(t.minutes," ").concat(i("minutes")):"");return(0,g.jsxs)("div",{className:"b-widget px-5",children:[(0,g.jsx)("div",{className:"b-widget__trial-info mb-8 text-center text-xs text-kgrey",children:s?(0,g.jsx)(h.cC,{i18nKey:"billing_trial_info",values:{timeLeftInfo:o},components:{timeLeftInfoComponent:(0,g.jsx)("strong",{className:"font-bold text-primary-dark"})}}):(0,g.jsx)("div",{className:"font-medium text-kred-pink",children:i("your_trial_finished")})}),(0,g.jsxs)("div",{className:(0,H.Z)("b-widget__content rounded-10 p-2.5",{"bg-kgrey-widget-bg":"default"===a,"bg-kred-billing-warn":"warning"===a}),children:[(0,g.jsx)("div",{className:"b-widget__img mx-auto -mt-6 mb-3.5 h-[70px] w-[118px]",children:(0,g.jsx)("img",{src:"".concat(kn,"img-trial-widget.png"),alt:"",className:"h-auto max-w-full"})}),(0,g.jsx)("div",{className:"b-widget__text mb-3 text-center text-sm text-kdark dark:text-white",children:i("choose_right_plan")}),(0,g.jsx)(ie.R9,{fullWidth:!0,color:"primary",shape:"square",size:"bigger",onClick:function(){return r.push("/payments/billing")},children:i("start_with_plan")})]})]})}var Nn=n(77676),In=["icon","text","noArrow","isRounded","classNames","scrollToLeftMostUnread"];function Tn(e){var t=e.icon,n=e.text,r=e.noArrow,s=void 0===r||r,i=e.isRounded,o=void 0===i||i,l=e.classNames,c=void 0===l?"":l,u=(e.scrollToLeftMostUnread,(0,Xe.Z)(e,In)),d=(0,q.m)(),m=d.toggleChatPanel,p=d.navCollapsed,h=(0,f.TH)().pathname===u.to;return(0,g.jsx)("div",{onClick:function(){return m(!1)},children:(0,g.jsxs)("div",{className:(0,H.Z)("group flex items-center justify-between px-3.5 py-2 transition-colors",h&&"bg-primary-200 ",{"rounded-xl":o},c),children:[(0,g.jsxs)(le.OL,(0,a.Z)((0,a.Z)({},u),{},{className:"icon-text-wr flex items-center",children:[(0,g.jsx)(ye,{isActive:h,children:(0,g.jsx)("div",{className:(0,H.Z)("fit-icon-size h-3.5 w-3.5 transition-colors group-hover:text-primary",h&&"dark:text-white",!h&&"text-kgrey"),children:t})}),!p&&(0,g.jsx)("div",{className:(0,H.Z)("px-2 font-poppins  text-sm font-semibold text-kgrey-menuText transition-colors group-hover:text-primary dark:text-white"),children:n})]})),s&&(0,g.jsx)("div",{className:"menu-item__arrow flex-shrink-0  group-hover:text-primary",children:(0,g.jsx)(Ee.lU2,{})})]})})}function An(e){var t=e.className,n=void 0===t?"":t;return(0,g.jsx)("svg",{className:n,width:"42",height:"43",viewBox:"0 0 42 43",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,g.jsx)("path",{d:"M21.7893 12.4229L21.1153 13.1616L21.0794 13.1289L21.0469 13.0928L21.7893 12.4229ZM32.4398 42.898C31.9438 43.1409 31.3448 42.9357 31.1019 42.4397L27.1436 34.3569C26.9007 33.8609 27.1059 33.2619 27.6019 33.019C28.0979 32.7761 28.6969 32.9813 28.9398 33.4773L32.4583 40.662L39.643 37.1435C40.139 36.9006 40.738 37.1058 40.9809 37.6018C41.2238 38.0978 41.0186 38.6968 40.5226 38.9397L32.4398 42.898ZM0.520904 0.522795C7.42684 1.58911 12.9188 4.38904 16.6796 6.91558C18.5613 8.17975 20.015 9.37903 21.0019 10.2662C21.4956 10.71 21.8731 11.0761 22.1295 11.334C22.2578 11.463 22.3558 11.5649 22.423 11.636C22.4566 11.6716 22.4826 11.6994 22.5007 11.719C22.5098 11.7289 22.5169 11.7366 22.5221 11.7423C22.5246 11.7451 22.5267 11.7474 22.5284 11.7492C22.5292 11.7501 22.5298 11.7508 22.5304 11.7515C22.5307 11.7518 22.531 11.7521 22.5311 11.7523C22.5314 11.7526 22.5317 11.7529 21.7893 12.4229C21.0469 13.0928 21.0471 13.093 21.0473 13.0932C21.0473 13.0932 21.0474 13.0934 21.0475 13.0934C21.0475 13.0935 21.0475 13.0935 21.0473 13.0933C21.047 13.0929 21.0462 13.092 21.0449 13.0906C21.0423 13.0877 21.0378 13.0828 21.0313 13.0759C21.0185 13.0619 20.998 13.0399 20.9699 13.0102C20.9138 12.9509 20.8274 12.861 20.7114 12.7443C20.4793 12.5109 20.1288 12.1706 19.6649 11.7536C18.7368 10.9193 17.3568 9.77994 15.5643 8.57573C11.9767 6.16551 6.75814 3.50956 0.215711 2.49937L0.520904 0.522795ZM21.7893 12.4229C22.4633 11.6841 22.4636 11.6844 22.464 11.6847C22.4642 11.6849 22.4646 11.6853 22.465 11.6857C22.4658 11.6864 22.4669 11.6874 22.4682 11.6886C22.4707 11.6909 22.4742 11.6942 22.4787 11.6982C22.4875 11.7064 22.5 11.718 22.516 11.7329C22.548 11.7628 22.5941 11.8062 22.6532 11.8627C22.7714 11.9758 22.9416 12.1414 23.1549 12.3563C23.5812 12.7861 24.1805 13.4141 24.881 14.2151C26.2805 15.8152 28.0931 18.1158 29.7395 20.9155C33.0193 26.4926 35.7265 34.2066 32.946 42.324L31.054 41.6759C33.5612 34.3561 31.1631 27.2816 28.0155 21.9294C26.4484 19.2645 24.7168 17.0653 23.3756 15.5318C22.7058 14.7659 22.1355 14.1686 21.735 13.7648C21.5348 13.563 21.3771 13.4097 21.2709 13.3081C21.2177 13.2573 21.1775 13.2194 21.1512 13.1949C21.138 13.1826 21.1284 13.1736 21.1224 13.1681C21.1193 13.1653 21.1172 13.1634 21.1161 13.1623C21.1155 13.1617 21.1151 13.1614 21.115 13.1613C21.1149 13.1612 21.115 13.1613 21.115 13.1613C21.1151 13.1614 21.1153 13.1616 21.7893 12.4229Z",fill:"#00A09D"})})}var Dn="".concat(ne.Z.PUBLIC_ASSETS,"img/");function Mn(){var e=(0,Pe.K)().isRTL;return(0,g.jsxs)("div",{className:"px-4",children:[(0,g.jsxs)("div",{className:"mb-3.5 flex items-center text-sm text-kgrey",children:[(0,g.jsx)("div",{children:(0,g.jsx)(h.cC,{i18nKey:"scan_qr_code",components:{PrimaryText:(0,g.jsx)("span",{className:"block font-medium text-primary-dark"})}})}),(0,g.jsx)("div",{className:"mt-4 ml-4",children:(0,g.jsx)(An,{})})]}),(0,g.jsxs)("div",{className:"flex items-center ",children:[(0,g.jsxs)("div",{className:(0,H.Z)({"ml-8":e,"mr-8":!e}),children:[(0,g.jsxs)("a",{href:"https://apps.apple.com/us/app/kennekt-business-messenger/id1570637878",target:"blank",className:"flex h-9 items-center rounded bg-primary-dark p-2 no-underline duration-100 ease-linear hover:scale-105",children:[(0,g.jsx)(Y.t8I,{size:"14",color:"white"}),(0,g.jsxs)("div",{className:"ml-2",children:[(0,g.jsx)("div",{className:"text-7px font-light leading-3 text-white",children:"Download on the"}),(0,g.jsx)("div",{className:"text-10px font-bold leading-3 text-white",children:"App Store"})]})]}),(0,g.jsxs)("a",{href:"https://play.google.com/store/apps/details?id=com.kennekt.businessmobile\n",target:"blank",className:"mt-2 box-border flex h-9 items-center rounded border-sm border-kgrey p-2 no-underline duration-100 ease-linear hover:scale-105",children:[(0,g.jsx)(ee.Wfz,{size:"14",color:"#00A09D"}),(0,g.jsxs)("div",{className:"ml-2",children:[(0,g.jsx)("div",{className:"text-7px font-light leading-3 text-kgrey",children:"Get it on"}),(0,g.jsx)("div",{className:"text-10px font-bold leading-3  text-kdark dark:text-white",children:"Google Play"})]})]})]}),(0,g.jsx)("div",{className:"hidden h-20 w-20 bg-kgrey md:inline-block",children:(0,g.jsx)(pe.LazyLoadImage,{src:"".concat(Dn,"/qr-mobile-apps.png"),effect:"blur"})})]})]})}function On(e){var t=e.className,n=void 0===t?"":t;return(0,g.jsxs)("svg",{className:n,width:"13",height:"12",viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,g.jsx)("rect",{x:"5.53845",y:"12",width:"5.53846",height:"8.30769",rx:"1.44",transform:"rotate(-180 5.53845 12)",fill:"currentColor"}),(0,g.jsx)("rect",{x:"12.9231",y:"12",width:"5.53846",height:"12",rx:"1.44",transform:"rotate(-180 12.9231 12)",fill:"currentColor"})]})}var Rn=7,Ln=Nn.Z.getStatusIds,Un=[{text:"dashboard",iconComponent:(0,g.jsx)(gt.mF,{}),to:"/dashboard",type:"asRouterLink",isAvailableInNoPayment:!1,availableForAll:!0},{text:"cases",iconComponent:(0,g.jsx)(On,{}),to:"/case-messages",type:"asRouterLink",isAvailableInNoPayment:!1,availableForAll:!0},{text:"chats",iconComponent:(0,g.jsx)(Y.S8K,{}),to:"/group-chat",type:"asRouterLink",isAvailableInNoPayment:!1,availableForAll:!0},{text:"contacts",iconComponent:(0,g.jsx)(gt.r2,{}),to:"/contacts",type:"asRouterLink",isAvailableInNoPayment:!1,availableForAll:!0}],Fn=[{text:"billing_invoices",to:"/payments/billing",isAvailableInNoPayment:!0,availableForAll:!1,activeLink:"payments"},{text:"business_profile",to:"/business-profile",isAvailableInNoPayment:!0,availableForAll:!0,activeLink:"business-profile"},{text:"clients",to:"/clients-management/clients",isAvailableInNoPayment:!1,availableForAll:!0,activeLink:"clients"},{text:"csv_management",to:"/csv",isAvailableInNoPayment:!1,availableForAll:!0,activeLink:"csv"},{text:"departments",to:"/departments?is-staff=true",isAvailableInNoPayment:!1,availableForAll:!0,activeLink:"departments"},{text:"staff",to:"/staffs-management",isAvailableInNoPayment:!0,availableForAll:!0,activeLink:"staffs"}];function Pn(){var e,t,n=(0,q.m)(),a=n.navCollapsed,r=n.navToggled,s=n.toggleSidebar,i=n.companyId,o=n.unreadCasesCountByStatus,c=n.isAppAvailable,u=n.isAdmin,d=n.isDarkMode,m=(0,h.$G)().t,p=(0,Pe.K)().isRTL,f=(0,de.a)(),v=f.company,x=f.userData,y=f.companies,b="ACTIVE"===(null==v||null===(e=v.company)||void 0===e?void 0:e.status),_=null==v||null===(t=v.company)||void 0===t?void 0:t.default_company_for_all,C=null==x?void 0:x.show_qr_code_in_business,E=JSON.parse(ut.tO.get("paymentWidget")||"true"),S=(0,ce.v9)((function(e){return Ln(e,i)})),j=(0,V.t$)(),k=j.timeLeft,w=j.subscription,N=(0,l.useState)(E),I=(0,Z.Z)(N,2),T=I[0],A=I[1],D=k.days<3,M=window.location.href,O=M.includes("qa")||!1;(0,l.useEffect)((function(){E||A(D)}),[D,E]);var R=(0,l.useCallback)((function(){if(!qe()(o&&S)){var e=Object.keys(o),t=S.filter((function(t){return e.includes(t.toString())}));(0,we.$3)(t[0])}}),[o,S]),L=(0,l.useCallback)((function(){A(!1),ut.tO.set("paymentWidget","false")}),[]);return(0,g.jsx)("div",{className:"flex-shrink-0 font-poppins",children:(0,g.jsxs)(En.M7,{collapsed:a,toggled:r,onToggle:s,breakPoint:"sm",rtl:p,children:[(0,g.jsxs)(En.TZ,{children:[i?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Zn,{icon:(0,g.jsx)(vt.F_J,{}),text:m("switch_business"),to:"/switch-business",isRounded:!1,classNames:"mb-4"}),Un.filter((function(e){return c?e:e.isAvailableInNoPayment})).map((function(e){return(0,g.jsx)(Zn,{icon:e.iconComponent,text:e.text,to:e.to,scrollToLeftMostUnread:R},e.to)})),(0,g.jsx)(En.v2,{iconShape:"circle",children:(0,g.jsx)(En.Wd,{title:m("business_settings"),className:(0,H.Z)({"pro-sidebar_submenu":d}),icon:(0,g.jsx)(Cn.zfW,{}),children:Fn.filter((function(e){return c?O?e:"/csv"!==e.to:e.isAvailableInNoPayment})).filter((function(e){return u?e:e.availableForAll})).map((function(e){return(0,g.jsx)("li",{className:"mb-2",children:(0,g.jsx)(le.OL,{to:e.to,className:(0,H.Z)("business-settings-link block font-medium text-sm leading-none !text-kgrey-dark-3 inline-block hover:!text-kdark-text",{active:M.includes(e.activeLink),"dark:hover:!text-white":!M.includes(e.activeLink)}),children:m(e.text)})},e.text)}))})}),!_&&(0,g.jsx)(Zn,{icon:(0,g.jsx)($.Zs0,{}),text:"KENNEKT Support",to:"/support",isRounded:!1,classNames:"mb-4"})]}):(null==y?void 0:y.length)>0&&!a?(0,g.jsx)("p",{className:"ml-4 text-primary",children:m("please_select_business")}):null,!a&&C?(0,g.jsx)("div",{className:"mt-auto",children:(0,g.jsx)(Mn,{})}):null]}),(0,g.jsxs)(En.ZW,{className:(0,H.Z)({"pt-10":T&&u}),children:[u&&!a&&b&&(0,g.jsx)(g.Fragment,{children:"PRO"===(null==w?void 0:w.subscription_type)?(0,g.jsx)(g.Fragment,{children:T?(0,g.jsx)(jn,{handleShowWidget:L,type:k.days<Rn?"warning":"default",timeLeft:k}):null}):(0,g.jsx)(wn,{timeLeft:k,type:k.days<Rn?"warning":"default"})}),(0,g.jsx)(Tn,{icon:(0,g.jsx)(Cn.MDt,{}),text:m("logout"),to:"/logout",noArrow:!1})]})]})})}function Bn(){var e=(0,h.$G)().t;return(0,g.jsx)("div",{className:"flex flex-col  items-center justify-center py-6 text-kgrey-variant-2 sm:flex-row sm:justify-between",children:(0,g.jsxs)("div",{className:"mb-4 text-sm font-medium sm:mb-0",children:[e("all_rights_reserved"),(0,g.jsx)("strong",{className:"uppercase  text-kdark dark:text-white",children:"Kennekt"})," "," ",(new Date).getFullYear()]})})}var Hn,Gn=n(52417),Kn=n(81039),Vn=n(92005),Yn=ct().CancelToken,qn=(0,l.forwardRef)((function(e,t){e.uploadMeta;var n=e.setUploadMeta,r=e.cancelSending,s=e.setCancelSending,i=e.setFile,o=e.isFromPendingPage,c=void 0!==o&&o,d=e.classNames,m=void 0===d?"":d,p=e.isBusinessProfile,f=void 0!==p&&p,v=e.field,x=void 0===v?"":v,y=e.accept,b=(0,h.$G)().t,_=(0,l.useState)(null),C=(0,Z.Z)(_,2),E=C[0],S=C[1],j=(0,ce.v9)((function(e){return(0,ue.tI)(e)})),k=(0,q.m)().companyId,w=(0,de.a)().token;(0,l.useEffect)((function(){n(f?{progress:E,field:x}:E)}),[E]),(0,l.useEffect)((function(){if(r){Hn("Operation canceled by the user.")}}),[r]);var N="".concat(ne.Z.API_ROOT,"/").concat(c?null==j?void 0:j.company.id:k,"/upload/");return(0,g.jsx)("div",{children:(0,g.jsx)(Kn.Z,{beforeUpload:function(e){var t=new FileReader,n=e,r=(0,Vn.x0)();t.onloadend=function(){c&&i((function(e){return[{id:r,name:n.name,file:n}].concat((0,je.Z)(e))}))},t.readAsDataURL(n),(0,a.Z)((0,a.Z)({},e),{},{uid:e.uid,type:e.type,name:e.name,key:e.key,size:e.size,lastModified:e.lastModified})},accept:y,ref:t,customRequest:function(e){var t=e.file,n=e.filename,r=e.headers,o=void 0===r?{Authorization:"Token ".concat(w)}:r,l=new FormData;return"string"==typeof n&&l.append(n,t),ct().post(N,l,{headers:o,onUploadProgress:function(e){var t,n,a=e.total,r=e.loaded;t={percent:Number(Math.round(r/a*100).toFixed(2))},n=t.percent,S(Number(n))},cancelToken:new Yn((function(e){Hn=e}))}).then((function(e){!function(e,t,n){S(null),f?i((function(t){return(0,a.Z)((0,a.Z)({},t),{},(0,K.Z)({},x,e))})):c||i(e)}(e.data)})).catch((function(e){!function(e){console.log("err",e),s(!1),S(null)}(e)})),{abort:function(){console.log("upload progress is aborted.")}}},children:(0,g.jsx)(u.Z,{dir:"ltr",variant:"outlined",className:"pending-upload__btn ".concat(m),color:"default",endIcon:(0,g.jsx)(Gn.Z,{}),children:b("upload")})})})}));function Qn(e){var t=e.onClickHandler,n=void 0===t?function(){}:t,a=e.type,r=void 0===a?"button":a,s=e.variant,i=void 0===s?"outlined":s,o=e.children,l=e.className,c=void 0===l?"":l,u=e.color,d=void 0===u?"default":u,m=e.disabled,p=void 0!==m&&m,f="";switch(i){case"outlined":f+="border border-kgrey text-kgrey  rounded-lg px-5 py-2 transition hover:border-primary hover:text-primary";break;case"contained":f+="bg-primary-dark rounded-lg !text-white px-5 py-2 border border-transparent hover:border-primary-dark transition-colors hover:bg-white hover:text-primary-dark enabled:opacity-100 disabled:opacity-50 disabled:pointer-events-none"}if("primary"===d)f+=" border-primary !text-primary hover:!border-primary-dark hover:!text-primary-dark";return(0,g.jsx)("button",{type:r,className:(0,H.Z)(f,c),onClick:n,disabled:p,children:o})}qn.displayName="FileUploader",qn.defaultProps={isFromPendingPage:!1,classNames:"",isBusinessProfile:!1,field:""};var zn=n(11210),Wn=(0,O.Z)((function(){return{}}))(zn.p),Jn=n(24224),Xn=(0,O.Z)((function(){return{root:{borderCollapse:"separate",borderSpacing:"0 8px"}}}))(Jn.i),$n=(0,O.Z)((function(){return{head:{backgroundColor:"#fafafa",paddingBottom:"16px","&:first-child":{borderRadius:"0 0 0 10px"},"&:last-child":{borderRadius:"0 0  10px 0"},border:"none 0",fontSize:"14px",color:"#727891"}}}))(zn.p),ea=n(60316),ta=(0,O.Z)((function(){return{root:{border:"none 0"}}}))(ea.S);function na(e){var t,n,r,s=e.values,i=e.isSubmitting,o=e.setCustomRequiredFields,c=(0,h.$G)().t,u="customIndustry"===(null===(t=s.industry)||void 0===t?void 0:t.id),d="customSubIndustry"===(null===(n=s.sub_industry)||void 0===n?void 0:n.id);return(0,l.useEffect)((function(){o((function(e){return(0,a.Z)((0,a.Z)({},e),{},{custom_industry:u})}))}),[u,o]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{children:(0,g.jsx)(rt.gN,{label:c("enter_new_business_name"),name:"name",component:st.Mg,placeholder:c("enter_new_business_name"),inputElementClassNames:"dark:bg-kdark-lighter dark:text-white",required:!0})}),(!u||!s.custom_industry||0===s.custom_industry.length)&&(0,g.jsxs)("div",{className:"react-select-dropdown mb-4",children:[(0,g.jsxs)("label",{className:"ml-6 mb-2 block text-xs font-light text-kgrey-welcome",children:[(0,g.jsx)("span",{children:c("industry")}),(0,g.jsx)("sup",{children:"*"})]}),(0,g.jsx)(rt.gN,{component:an.Z,customStylesProps:ut.gb,name:"industry",placeholder:c("industry_name_placeholder","industry"),optionLabel:"name",optionValue:"id",isSearchable:!0,isClearable:!0,loadOptionsKey:"results",loadOptionsUrl:"/industries/",defaultOption:{name:c("suggest_industry",{industry:c("industry")}),id:"customIndustry"},loadOptionsParams:function(e){return{extra:{search:e}}},onChange:function(e){}})]}),s.industry&&!u&&(0,g.jsxs)("div",{className:"react-select-dropdown mb-4",children:[(0,g.jsx)("label",{className:"ml-6 mb-2 block text-xs font-light text-kgrey-welcome",children:(0,g.jsx)("span",{children:c("sub_industry")})}),(0,g.jsx)(rt.gN,{component:an.Z,customStylesProps:ut.gb,name:"sub_industry",placeholder:c("sub_industry_name_placeholder"),optionLabel:"name",optionValue:"id",isSearchable:!0,isClearable:!0,defaultOption:{name:c("suggest_industry",{industry:c("sub_industry")}),id:"customSubIndustry"},loadOptionsKey:"results",loadOptionsUrl:"/industries/".concat(null===(r=s.industry)||void 0===r?void 0:r.id,"/sub_industries/"),loadOptionsParams:function(e){return{extra:{search:e}}},onChange:function(e){}})]}),u&&(0,g.jsx)("div",{children:(0,g.jsx)(rt.gN,{label:c("custom_industry"),name:"custom_industry",component:st.Mg,placeholder:c("enter_custom_industry"),inputElementClassNames:"dark:bg-kdark-lighter dark:text-white",required:!0})}),(u||d)&&(0,g.jsx)("div",{children:(0,g.jsx)(rt.gN,{label:c("custom_sub_industry",{required:"".concat(u?"(".concat(c("optional_hint"),")"):"")}),name:"custom_sub_industry",component:st.Mg,placeholder:c("enter_custom_sub_industry"),inputElementClassNames:"dark:bg-kdark-lighter dark:text-white"})}),(0,g.jsxs)("div",{className:"flex items-center justify-end",children:[i&&(0,g.jsx)(C.Z,{tiled:!0,withOverlay:!0}),(0,g.jsx)("button",{className:"rounded-lg bg-primary-dark px-5 py-2 text-white border border-transparent hover:border-primary-dark transition-colors hover:bg-white hover:text-primary-dark disabled:pointer-events-none disabled:opacity-50 dark:text-white dark:hover:bg-primary-300 dark:focus:ring-primary-300",type:"submit",disabled:i,children:c("create_new_business")})]})]})}var aa=n(92017);function ra(e){var t=e.type,n=e.onSuccess,a=(0,V.tv)(),r=a.history,s=(a.location,(0,aa.y)()),i=s.loadAllBusiness,o=s.loadUserCompaniesRequest,c=(0,V.eC)().showNotification,u=(0,h.$G)().t,d=(0,l.useState)({custom_industry:!1}),m=(0,Z.Z)(d,2),p=m[0],f=m[1];return(0,g.jsx)("div",{children:(0,g.jsx)(ke.Z.Main,{entity:"business",name:"AllBusiness",url:"/user/company/",method:"post",primaryKey:"id",sendAsFormData:!1,prependData:!0,fields:[{name:"name",required:!0,value:"",onSubmitKey:""},{name:"industry",onSubmitValue:function(e,t){return t&&"custom_industry"in t?t.custom_industry?null:Ke()(e,"id"):null},onSubmitKey:"",required:!0,type:"object",value:null},{name:"sub_industry",onSubmitValue:function(e,t){return t.custom_sub_industry?null:Ke()(e,"id")},onSubmitKey:"",type:"object",value:null},{name:"custom_industry",value:null,required:p.custom_industry,onSubmitValue:function(e){return p.custom_industry?e:null},onSubmitKey:""},{name:"custom_sub_industry",value:null,onSubmitKey:""},{name:"is_business",value:!0,onSubmitKey:""}],onSuccess:function(e,a){"page"===t&&(r.push("/pending-page"),o()),"popup"===t&&(i(),"function"==typeof n&&n()),a()},onError:function(e,t){var n,a;c({message:null==e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message,variant:"error"}),t()},children:function(e){var n=e.isSubmitting,a=e.values;return(0,g.jsxs)(g.Fragment,{children:["popup"===t?(0,g.jsx)("h1",{className:"mb-4 text-xl font-semibold dark:text-white",children:u("create_new_business")}):null,(0,g.jsx)(na,{setCustomRequiredFields:f,isSubmitting:n,values:a})]})}})})}ra.defaultProps={onSuccess:function(){}};var sa=n(7993),ia=n(49078);var oa={width:"100%",height:"100%"},la=function(e){var t=e.data,n=(e.branches,e.currentCompany),a=(0,ia.y)().isLoaded,r=(0,l.useState)(null),s=(0,Z.Z)(r,2),i=(s[0],s[1]),o=(0,l.useState)({lat:+n.company.lat||+t[0].latLng.lat,lng:+n.company.lng||+t[0].latLng.lng}),c=(0,Z.Z)(o,2),u=c[0],d=c[1],m=(0,l.useState)(null),p=(0,Z.Z)(m,2),f=p[0],h=p[1],v=(0,l.useCallback)((function(e){for(var n=new window.google.maps.LatLngBounds,a=0;a<t.length;a++)n.extend(new window.google.maps.LatLng(t[a].latLng.lat,t[a].latLng.lng));e.fitBounds(n),i(e)}),[]),x=(0,l.useCallback)((function(e){i(null)}),[]);return(0,l.useEffect)((function(){f&&d({lat:f.latLng.lat,lng:f.latLng.lng})}),[f]),(0,g.jsx)(g.Fragment,{children:a?(0,g.jsx)(sa.b6,{mapContainerStyle:oa,center:{lat:u.lat,lng:u.lng},zoom:10,onLoad:v,onUnmount:x,children:(0,g.jsxs)(g.Fragment,{children:[t.map((function(e){return(0,g.jsx)(sa.Jx,{draggable:!0,position:{lat:e.latLng.lat,lng:e.latLng.lng},onClick:function(){h(e)}},e.name)})),f?(0,g.jsx)(sa.nx,{position:{lat:f.latLng.lat,lng:f.latLng.lng},onCloseClick:function(){h(null)},children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h3",{children:"".concat(n.company.name," / ").concat(f.isMain?"Main branch":f.companyName)}),(0,g.jsx)("div",{children:f.name})]})}):null]})}):(0,g.jsx)("p",{children:"Loading map"})})};function ca(e){var t=e.branches,n=e.currentCompany,r=(0,l.useState)([(0,a.Z)((0,a.Z)({},n.company),{},{isMain:!0})].concat((0,je.Z)(t)).reduce((function(e,t){return t.lat&&t.lat?[].concat((0,je.Z)(e),[{companyName:t.name,name:(n=t,"".concat(n.address?n.address:"No Address")),latLng:{lat:+t.lat,lng:+t.lng},isMain:!!t.isMain}]):(0,je.Z)(e);var n}),[])),s=(0,Z.Z)(r,2),i=s[0];s[1];return(0,g.jsx)("div",{className:"h-full w-full",children:(0,g.jsx)("div",{className:"h-full w-full",children:(0,g.jsx)(la,{branches:t,currentCompany:n,data:i})})})}function ua(e){return(0,g.jsx)(b,{children:(0,g.jsx)(ca,(0,a.Z)({},e))})}var da=function(e){var t=e.className,n=void 0===t?"":t;return(0,g.jsx)("sup",{className:n,children:"*"})};function ma(e){var t=e.resetForm,n=e.title,a=e.isEditing,r=void 0!==a&&a,s=(0,h.$G)().t;return(0,g.jsxs)("div",{className:"case-create-header  flex-center-between -ml-6 -mr-6 mb-5 border-b border-black/10 px-4 pb-4",children:[(0,g.jsx)("h2",{className:"text-base font-medium",children:n}),r?null:(0,g.jsx)("button",{className:"text-sm text-kgrey-dark-2 underline hover:no-underline",onClick:t,type:"button",children:s("clear")})]})}var pa=n(63524);function fa(){return(0,g.jsx)("div",{className:"case-scheduled__icon -mt-1 items-start text-xl text-kgrey-menuText",children:(0,g.jsx)(pa.lPB,{})})}function ha(e){var t=(0,q.m)().isDarkMode;return(0,g.jsx)(ae.ZP,(0,a.Z)((0,a.Z)({},e),{},{renderThumbVertical:function(e){return(0,g.jsx)("div",(0,a.Z)((0,a.Z)({},e),{},{style:(0,a.Z)((0,a.Z)({},e.style),{},{backgroundColor:t?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.2)"})}))},children:e.children}))}var ga=["toggleHandler","isOpen","featureHandler","isLoading","hasLoader","maxWidth","title","titleClassNames","icon","secondaryBtnText","primaryBtnText","type","helperText"];function va(e){var t=e.toggleHandler,n=e.isOpen,a=e.featureHandler,r=e.isLoading,s=void 0!==r&&r,i=e.hasLoader,o=void 0!==i&&i,l=e.maxWidth,c=e.title,u=e.titleClassNames,d=e.icon,m=e.secondaryBtnText,p=e.primaryBtnText,f=e.type,v=e.helperText,x=void 0===v?"":v,y=(0,Xe.Z)(e,ga),b=(0,h.$G)().t;return(0,g.jsx)(g.Fragment,{children:n?(0,g.jsxs)(ie.Cx,{handleModalOpen:t,open:n,maxWidth:l,children:[(0,g.jsxs)(ie.$N,{id:"alert-dialog-title",className:u,children:[(0,g.jsx)("div",{className:(0,H.Z)("mx-auto mb-2.5 flex h-12 w-12 place-content-center items-center justify-center rounded-full p-2",{"bg-red-500/10 text-kred-red":"error"===f,"bg-kgrey-bg text-primary":"success"===f}),children:d}),(0,g.jsx)("h3",{className:"text-center font-medium",children:c}),(0,g.jsx)("p",{className:"py-2.5 text-sm",children:x})]}),(0,g.jsxs)(ie.kX,{children:[(0,g.jsx)(ie.zx,{onClick:t,autoFocus:!0,variant:"contained",children:null!=m?m:b("cancel")}),(0,g.jsx)(ie.zx,{onClick:function(){return a(y)},variant:"contained",color:"error"===f?"secondary":"primary",classes:{root:(0,H.Z)("!mx-1.5",{"!bg-primary-dark !text-white":"success"===f})},children:null!=p?p:b("yes")})]}),o?(0,g.jsx)(g.Fragment,{children:s&&(0,g.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70",children:(0,g.jsx)(C.Z,{})})}):null]}):null})}},82486:function(e,t,n){"use strict";n.d(t,{B:function(){return a},f:function(){return r}});var a=50;function r(e,t){return{search:e,ordering:"last_message_time",unread:t?"true":""}}},94370:function(e,t,n){"use strict";n.d(t,{R:function(){return g},m:function(){return v}});var a,r=n(29439),s=n(72791),i=n(93433),o=n(1413);!function(e){e.SET_BOTTOM_LOADING="SET_BOTTOM_LOADING"}(a||(a={}));var l={allowToLoad:!1,direction:null,isSetSearchReply:!1,replyLoading:!1,scrollToMsgId:null,activeEntity:null,isInBottom:!1,socketState:"Uninstantiated",typingUsers:[],isMsgHasBeenIndicated:!1,isLastPageFetched:!1,isFirstPageFetched:!1,groupSearchOpen:!1,lastReadMessageId:null,mentionUsersList:[],isBottomLoading:!1},c=function(e,t){switch(t.type){case a.SET_BOTTOM_LOADING:return(0,o.Z)((0,o.Z)({},e),{},{isBottomLoading:t.payload});case"ALLOW_LOAD":return(0,o.Z)((0,o.Z)({},e),{},{allowToLoad:t.payload});case"SET_DIRECTION":return(0,o.Z)((0,o.Z)({},e),{},{direction:t.payload});case"SET_SEARCH_REPLY":return(0,o.Z)((0,o.Z)({},e),{},{isSetSearchReply:t.payload});case"SET_REPLY_LOADING":return(0,o.Z)((0,o.Z)({},e),{},{replyLoading:t.payload});case"SET_SCROLL_TO_MSG_ID":return(0,o.Z)((0,o.Z)({},e),{},{scrollToMsgId:t.payload});case"SET_IS_SCROLL_IN_BOTTOM":return(0,o.Z)((0,o.Z)({},e),{},{isInBottom:t.payload});case"SET_CHAT_SOCKET_STATE":return(0,o.Z)((0,o.Z)({},e),{},{socketState:t.payload});case"SET_TYPING_USERS":var n=e.typingUsers.filter((function(e){return e.user_id!==t.payload.user_id}));return(0,o.Z)((0,o.Z)({},e),{},{typingUsers:[].concat((0,i.Z)(n),[t.payload])});case"UNSET_TYPING_USERS":var r=e.typingUsers.filter((function(e){return e.user_id!==t.payload.user_id}));return(0,o.Z)((0,o.Z)({},e),{},{typingUsers:r});case"SET_MSG_HAS_BEEN_INDICATED":return(0,o.Z)((0,o.Z)({},e),{},{isMsgHasBeenIndicated:t.payload});case"SET_IS_LAST_PAST_FETCHED":return(0,o.Z)((0,o.Z)({},e),{},{isLastPageFetched:t.payload});case"SET_IS_FIRST_PAST_FETCHED":return(0,o.Z)((0,o.Z)({},e),{},{isFirstPageFetched:t.payload});case"SET_LAST_READ_MESSAGE_ID":return(0,o.Z)((0,o.Z)({},e),{},{lastReadMessageId:t.payload});case"SET_MENTION_USERS_LIST":return(0,o.Z)((0,o.Z)({},e),{},{mentionUsersList:t.payload});default:return e}},u=n(40084),d=n(16178),m=n(28843),p=n(80266),f=n(80184),h=(0,s.createContext)(null),g=function(e){var t=e.children,n=e.entityId,i=e.entityType,o=(0,s.useReducer)(c,l),g=(0,r.Z)(o,2),v=g[0],x=g[1],y=(0,u.m)(),b=y.searchQuery,_=y.groupMessageSearchQuery,C=y.isLastPageLoadedTriggered,E=(0,s.useRef)(null),S=(0,d.Kx)().query,Z=(0,s.useMemo)((function(){return new Audio}),[]),j=v.allowToLoad,k=v.direction,w=v.isSetSearchReply,N=v.replyLoading,I=v.scrollToMsgId,T=v.isInBottom,A=v.socketState,D=v.typingUsers,M=v.isMsgHasBeenIndicated,O=v.isLastPageFetched,R=v.isFirstPageFetched,L=v.lastReadMessageId,U=v.mentionUsersList,F=v.isBottomLoading,P=(0,s.useMemo)((function(){return"true"===(null==S?void 0:S.isScheduledChat)}),[null==S?void 0:S.isScheduledChat]),B=(0,m.pA)({isScheduled:P,entityType:i,entityId:n}),H=(0,s.useMemo)((function(){return T}),[T]),G=(0,s.useCallback)((function(e){x({type:a.SET_BOTTOM_LOADING,payload:e})}),[]),K=(0,s.useCallback)((function(e){return x({type:"ALLOW_LOAD",payload:e})}),[]),V=(0,s.useCallback)((function(e){return x({type:"SET_DIRECTION",payload:e})}),[]),Y=(0,s.useCallback)((function(e){return x({type:"SET_REPLY_LOADING",payload:e})}),[]),q=(0,s.useCallback)((function(e){x({type:"SET_SEARCH_REPLY",payload:e})}),[]),Q=(0,s.useCallback)((function(e){return x({type:"SET_SCROLL_TO_MSG_ID",payload:e})}),[]),z=(0,s.useCallback)((function(e){return x({type:"SET_IS_SCROLL_IN_BOTTOM",payload:e})}),[]),W=(0,s.useCallback)((function(e){return x({type:"SET_CHAT_SOCKET_STATE",payload:e})}),[]),J=(0,s.useCallback)((function(e){return x({type:"SET_TYPING_USERS",payload:e})}),[]),X=(0,s.useCallback)((function(e){return x({type:"UNSET_TYPING_USERS",payload:e})}),[]),$=(0,s.useCallback)((function(e){return x({type:"SET_MSG_HAS_BEEN_INDICATED",payload:e})}),[]),ee=(0,s.useCallback)((function(e){return x({type:"SET_IS_LAST_PAST_FETCHED",payload:e})}),[]),te=(0,s.useCallback)((function(e){return x({type:"SET_IS_FIRST_PAST_FETCHED",payload:e})}),[]),ne=(0,s.useCallback)((function(e){return x({type:"SET_LAST_READ_MESSAGE_ID",payload:e})}),[]),ae=(0,s.useCallback)((function(e){return x({type:"SET_MENTION_USERS_LIST",payload:e})}),[]),re=(0,s.useCallback)((function(e){e&&document.querySelector("#message-".concat(e))&&!b.length||setTimeout((function(){ee(!1)}),500),e&&Q(e)}),[ee,Q,b]);(0,s.useEffect)((function(){_.length&&C&&ee(!1)}),[_,C]),(0,s.useEffect)((function(){return function(){setTimeout((function(){Z.pause(),Z.remove(),p.tO.remove("audioContinueTime")}),0)}}),[Z]);var se=(0,s.useCallback)((function(){var e;null==E||null===(e=E.current)||void 0===e||e.scrollToIndex({index:"LAST",align:"end",behavior:"auto",offset:100})}),[]),ie=(0,s.useMemo)((function(){return{entityId:n,allowToLoad:j,direction:k,setAllowToLoad:K,setDirection:V,setReplyLoading:Y,isSetSearchReply:w,replyLoading:N,setIsSetSearchReply:q,setScrollToMsgId:Q,scrollToMsgId:I,messagesLimit:25,state:v,isInBottom:H,setScrollPosition:z,entityType:i,entityName:B,socketState:A,setSocketState:W,typingUsers:D,setTypingUsers:J,unsetTypingUsers:X,setIsMsgHasBeenIndicated:$,isMsgHasBeenIndicated:M,setIsLastPageFetched:ee,setIsFirstPageFetched:te,isLastPageFetched:O,isFirstPageFetched:R,setScrollToMessageHandler:re,setLastReadMessageId:ne,lastReadMessageId:L,virtuosoRef:E,scrollToBottom:se,mentionUsersList:U,setMentionUsersList:ae,isScheduledChat:P,onGoingAudioPlayer:Z,setBottomLoading:G,isBottomLoading:F}}),[n,j,k,K,V,Y,w,N,q,Q,I,v,H,z,i,B,A,W,D,J,X,$,M,ee,te,O,R,re,ne,L,E,se,U,ae,P,Z,G,F]);return(0,f.jsx)(h.Provider,{value:ie,children:t})},v=function(){var e=(0,s.useContext)(h);if(!e)throw new Error("useChatContext must be used within the CaseContextProvider");return e}},24560:function(e,t,n){"use strict";n.d(t,{G:function(){return d},O:function(){return m}});var a=n(29439),r=n(72791),s=n(1413),i={message:"",reply:null,editingMessage:null,uploadMeta:{},cancelSending:!1,command:null,time:0,timerId:0,cancel:!1,tempFile:null,editProgress:null,editCancelUpload:!1,editFileResponse:null,tempMessageEvent:null,editMsgType:{msgType:null,fileType:null},clipboardFile:!1,cancelAudioUpload:!1,audioUploadProgress:{},coords:null,replyEditCancel:!1,isDelayedMessage:!1,isMentionSearching:!1,messageScheduleDate:null,openScheduleModal:!1},o=function(e,t){switch(t.type){case"SET_MESSAGE":return(0,s.Z)((0,s.Z)({},e),{},{message:t.payload});case"SET_CANCEL_SENDING":return(0,s.Z)((0,s.Z)({},e),{},{cancelSending:t.payload});case"SET_REPLY":return(0,s.Z)((0,s.Z)({},e),{},{reply:t.payload});case"SET_EDITING_MESSAGE":return(0,s.Z)((0,s.Z)({},e),{},{editingMessage:t.payload});case"SET_UPLOAD_META":return(0,s.Z)((0,s.Z)({},e),{},{uploadMeta:t.payload});case"SET_COMMAND":return(0,s.Z)((0,s.Z)({},e),{},{command:t.payload});case"SET_TIME":return(0,s.Z)((0,s.Z)({},e),{},{time:t.payload});case"SET_TIMER_ID":return(0,s.Z)((0,s.Z)({},e),{},{timerId:t.payload});case"SET_CANCEL":return(0,s.Z)((0,s.Z)({},e),{},{cancel:t.payload});case"SET_EDIT_PROGRESS":return(0,s.Z)((0,s.Z)({},e),{},{editProgress:t.payload});case"SET_EDIT_CANCEL_UPLOAD":return(0,s.Z)((0,s.Z)({},e),{},{editCancelUpload:t.payload});case"SET_TEMP_MESSAGE_EVENT":return(0,s.Z)((0,s.Z)({},e),{},{tempMessageEvent:t.payload});case"SET_CLIPBOARD_FILE":return(0,s.Z)((0,s.Z)({},e),{},{clipboardFile:t.payload});case"SET_AUDIO_CANCEL_SENDING":return(0,s.Z)((0,s.Z)({},e),{},{cancelAudioUpload:t.payload});case"SET_AUDIO_UPLOAD_PROGRESS":return(0,s.Z)((0,s.Z)({},e),{},{audioUploadProgress:t.payload});case"SET_COORDS":return(0,s.Z)((0,s.Z)({},e),{},{coords:t.payload});case"SET_REPLY_EDIT_CANCEL":return(0,s.Z)((0,s.Z)({},e),{},{replyEditCancel:t.payload});case"SET_IS_DELAYED_MESSAGE":return(0,s.Z)((0,s.Z)({},e),{},{isDelayedMessage:t.payload});case"SET_IS_MENTION_SEARCHING":return(0,s.Z)((0,s.Z)({},e),{},{isMentionSearching:t.payload});case"SET_MESSAGE_SCHEDULE_DATE":return(0,s.Z)((0,s.Z)({},e),{},{messageScheduleDate:t.payload});default:return e}},l=n(16178),c=n(80184),u=(0,r.createContext)(null),d=function(e){var t=e.children,n=(0,r.useReducer)(o,i),s=(0,a.Z)(n,2),d=s[0],m=s[1],p=d.message,f=d.editingMessage,h=d.reply,g=d.uploadMeta,v=d.cancelSending,x=d.command,y=d.time,b=d.timerId,_=d.cancel,C=d.editProgress,E=d.editCancelUpload,S=d.tempMessageEvent,Z=d.clipboardFile,j=d.cancelAudioUpload,k=d.audioUploadProgress,w=d.coords,N=d.replyEditCancel,I=d.isDelayedMessage,T=d.isMentionSearching,A=d.messageScheduleDate,D=(0,r.useRef)(null),M=(0,r.useMemo)((function(){return k}),[k]),O=(0,r.useMemo)((function(){return f}),[f]),R=(0,l.dF)(),L=R.open,U=R.modalHandler,F=(0,r.useCallback)((function(e){return m({type:"SET_EDITING_MESSAGE",payload:e})}),[]),P=(0,r.useCallback)((function(e){return m({type:"SET_AUDIO_CANCEL_SENDING",payload:e})}),[]),B=(0,r.useCallback)((function(e){return m({type:"SET_AUDIO_UPLOAD_PROGRESS",payload:e})}),[]),H=(0,r.useCallback)((function(e){return m({type:"SET_COORDS",payload:e})}),[]),G=(0,r.useCallback)((function(e){return m({type:"SET_REPLY_EDIT_CANCEL",payload:e})}),[]),K=(0,r.useCallback)((function(e){return m({type:"SET_MESSAGE",payload:e})}),[]),V=function(e){return m({type:"SET_REPLY",payload:e})},Y=(0,r.useCallback)((function(e){return m({type:"SET_COMMAND",payload:e})}),[]),q=(0,r.useCallback)((function(e){return m({type:"SET_TIME",payload:e})}),[]),Q=(0,r.useCallback)((function(e){return m({type:"SET_TIMER_ID",payload:e})}),[]),z=(0,r.useCallback)((function(e){return m({type:"SET_CANCEL",payload:e})}),[]),W=(0,r.useCallback)((function(e){return m({type:"SET_CLIPBOARD_FILE",payload:e})}),[]),J=(0,r.useCallback)((function(e){return m({type:"SET_UPLOAD_META",payload:e})}),[]),X=(0,r.useCallback)((function(e){return m({type:"SET_CANCEL_SENDING",payload:e})}),[]),$=(0,r.useCallback)((function(e){return m({type:"SET_EDIT_PROGRESS",payload:e})}),[]),ee=(0,r.useCallback)((function(e){return m({type:"SET_EDIT_CANCEL_UPLOAD",payload:e})}),[]),te=(0,r.useCallback)((function(e){return m({type:"SET_TEMP_MESSAGE_EVENT",payload:e})}),[]),ne=(0,r.useCallback)((function(e){return m({type:"SET_IS_DELAYED_MESSAGE",payload:e})}),[]),ae=(0,r.useCallback)((function(e){return m({type:"SET_IS_MENTION_SEARCHING",payload:e})}),[]),re=(0,r.useCallback)((function(e){m({type:"SET_MESSAGE_SCHEDULE_DATE",payload:e})}),[]),se=(0,r.useMemo)((function(){return{message:p,editingMessage:O,audioUploadProgress:M,reply:h,uploadMeta:g,cancelSending:v,command:x,time:y,timerId:b,cancel:_,editProgress:C,editCancelUpload:E,tempMessageEvent:S,setMessage:K,setReply:V,setEditingMessage:F,setUploadMeta:J,setCancelSending:X,setCommand:Y,setTime:q,setTimerId:Q,setCancel:z,setEditProgress:$,setEditCancelUpload:ee,setTempMessageEvent:te,initEditMsgType:D,clipboardFile:Z,setClipboardFile:W,cancelAudioUpload:j,setAudioCancelSending:P,setAudioUploadProgress:B,setCoords:H,coords:w,replyEditCancel:N,setReplyEditCancel:G,isDelayedMessage:I,setIsDelayedMessage:ne,setIsMentionSearching:ae,isMentionSearching:T,messageScheduleDate:A,setMessageScheduleDate:re,openScheduleModal:L,handleScheduleModalToggle:U}}),[p,O,M,h,g,v,x,y,b,_,C,E,S,K,V,F,J,X,Y,q,Q,z,$,ee,te,D,Z,W,j,P,B,H,w,N,G,I,ne,ae,T,A,re,L,U]);return(0,c.jsx)(u.Provider,{value:se,children:t})};function m(){var e=(0,r.useContext)(u);if(!e)throw new Error("useChatInputContext must be inside ChatInputContextProvider");return e}},39814:function(e,t,n){"use strict";n.d(t,{e:function(){return g},R:function(){return v}});var a=n(1413),r=n(4942),s=n(29439),i=n(72791),o=n(19829),l=n(9478),c=n(97689),u=n(40084),d=n(16178),m=n(94370),p=n(80184),f=(0,i.createContext)(null),h=l.Z.API_WS_DEV,g=function(e){var t=e.children,n=e.entityId,l=e.entityType,g=(0,c.a)().token,v=(0,u.m)().chatUuid,x=(0,d.bL)({entityId:n,entityType:l}).onMessage,y=(0,m.m)().setSocketState,b=(0,i.useRef)(null),_=(0,i.useState)((0,r.Z)({},n,h)),C=(0,s.Z)(_,2),E=C[0],S=C[1],Z=(0,o.ZP)(E[n]?"".concat(E[n],"?token=").concat(g):null,{retryOnError:!0,reconnectAttempts:120,reconnectInterval:5e3,onReconnectStop:function(){window.location.reload()},shouldReconnect:function(e){return!!n},onOpen:function(e){k({type:"handshake",entity_id:n,entity_type:l}),b.current=setInterval((function(){k({type:"ping",key:"".concat(l,"_").concat(n)})}),3e5)},onClose:function(e){console.log("socket closed"),clearInterval(b.current)},onError:function(e){console.log("socket error",e)},onMessage:x,share:!1}),j=Z.readyState,k=Z.sendJsonMessage,w=Z.getWebSocket,N=(0,i.useMemo)((function(){var e;return(e={},(0,r.Z)(e,o.kQ.CONNECTING,"Connecting"),(0,r.Z)(e,o.kQ.OPEN,"Open"),(0,r.Z)(e,o.kQ.CLOSING,"Closing"),(0,r.Z)(e,o.kQ.CLOSED,"Closed"),(0,r.Z)(e,o.kQ.UNINSTANTIATED,"Uninstantiated"),e)[j]}),[j]);(0,i.useEffect)((function(){y(N)}),[N]);var I=(0,i.useCallback)((function(){var e;null===(e=w())||void 0===e||e.close()}),[w]);(0,i.useEffect)((function(){var e;w()&&(null===(e=w())||void 0===e||e.close());S((0,a.Z)((0,a.Z)({},E),{},(0,r.Z)({},n,h)))}),[v,n]);var T={closeSocket:I,sendJsonMessage:k,connectionStatus:N};return(0,p.jsx)(f.Provider,{value:T,children:t})};function v(){var e=(0,i.useContext)(f);if(!e)throw new Error("useChatSocket must be used within the ChatSocketProvider");return e}},14545:function(e,t,n){"use strict";n.d(t,{Rv:function(){return a.R},mx:function(){return a.m},eo:function(){return r.e},RT:function(){return r.R},GR:function(){return s.G},O9:function(){return s.O}});var a=n(94370),r=n(39814),s=n(24560)},44740:function(e,t,n){"use strict";n.d(t,{W:function(){return C}});var a=n(1413),r=n(29439),s=n(72791),i=n(26181),o=n.n(i),l=n(77676),c=n(87818),u=n(40084),d=n(16178),m=n(14545),p=n(97689),f=n(49935),h=n(87671),g=n(80180),v=n(28843),x=n(25157),y=n(32380),b=l.Z.getAll(),_=y.Z.entities.resetEntitiesList;function C(){var e=(0,s.useRef)(!1),t=(0,d.pp)().decrementUnread,n=(0,m.RT)().sendJsonMessage,i=(0,p.a)().userData,l=(0,m.O9)().isDelayedMessage,y=(0,m.mx)(),C=y.setIsLastPageFetched,E=y.setIsFirstPageFetched,S=y.isLastPageFetched,Z=y.isFirstPageFetched,j=y.setLastReadMessageId,k=y.virtuosoRef,w=(0,u.m)(),N=w.groupMessageSearchQuery,I=w.setIsLastPageLoadedTriggered,T=w.isLastPageLoadedTriggered,A=(w.isStaff,(0,h.T)().getEntityData),D=(0,d.O4)().fetchCompanyAllUnreadCounts,M=(0,s.useState)(null),O=(0,r.Z)(M,2),R=O[0],L=O[1],U=(0,s.useRef)({isMessageHasBeenIndicated:!1,isSetSearchReply:!1,scrollToMsgId:null,groupMessageSearchQuery:"",isFirstPageFetched:!1,direction:null,totalMessagesCount:0,cursorTop:0}),F=(0,u.m)(),P=F.companyId,B=F.appDeviceUuid,H=F.groupsUnreadCountData,G=F.setGroupUnreadMessage,K=F.unreadMessagesCount,V=F.setUnreadMessagesCount,Y=F.setEntityPage,q=F.entityPage,Q=F.searchQuery,z=F.selectedCaseFilter,W=F.caseType,J=(0,d.Kx)(),X=J.query,$=J.removeOneQueryParam,ee=null==X?void 0:X.searchedMessageId,te=Number(null==X?void 0:X.status),ne=X.unread&&Number(X.unread)||null,ae=(0,s.useState)(ne),re=(0,r.Z)(ae,2),se=re[0],ie=re[1],oe=(0,c.I0)(),le=(0,d.rs)().itShouldSatisfyActiveFilter,ce=(0,m.mx)(),ue=ce.entityId,de=ce.direction,me=ce.setDirection,pe=ce.setAllowToLoad,fe=ce.scrollToMsgId,he=ce.setScrollToMsgId,ge=ce.setIsSetSearchReply,ve=ce.setReplyLoading,xe=ce.entityType,ye=ce.setScrollPosition,be=ce.isSetSearchReply,_e=ce.setIsMsgHasBeenIndicated,Ce=ce.isMsgHasBeenIndicated,Ee=ce.isScheduledChat,Se=ce.setBottomLoading,Ze=(0,d.bL)({sendJsonMessage:n,entityId:ue,entityType:xe}).sendReadAction,je="case"===xe?!(null!=K&&K[ue]):!H[ue],ke=(0,s.useState)(ue),we=(0,r.Z)(ke,2),Ne=we[0],Ie=we[1],Te=(0,v.pA)({isScheduled:Ee,entityId:ue,entityType:xe}),Ae=Ee?"/scheduled_messages/":"/messages/massive-load/cursor-based/",De=A("case",te).entityName,Me=(0,g.v)({deleteData:!0,method:"delete",url:"",entity:"cases",name:De,cb:{success:function(){},error:function(){},finally:function(){}}}).handleLocalDelete,Oe=(0,c.v9)((function(e){return b(e,{entity:"".concat(xe,"Messages"),name:Te})})),Re=Oe.items,Le=(0,d.r1)().updateEntities;(0,s.useEffect)((function(){if(Oe.items.length){var e,t=document.querySelectorAll(".msg-wrp"),n=null===(e=document.querySelector(".msg-wrp"))||void 0===e?void 0:e.closest("div:not(div[id])"),a=Array.from(t).reduce((function(e,t){return e+t.offsetHeight}),0);n&&a<n.clientHeight&&ye(!0)}}),[Oe,S]),(0,s.useEffect)((function(){var e,t,n,a,r,s=Oe.items,i=null===(e=s[0])||void 0===e?void 0:e.id,o=null!==(t=null===(n=s[s.length-1])||void 0===n?void 0:n.id)&&void 0!==t?t:null===(a=s[s.length-1])||void 0===a?void 0:a.message_id;Y({entityId:ue,cursorTop:i,cursorBot:o,isLoadedRepliedMessage:null===(r=q[ue])||void 0===r?void 0:r.isLoadedRepliedMessage})}),[Oe]),(0,s.useEffect)((function(){if(ie(ne||null),me(null),pe(!1),E(!1),C(!1),Ie(ue),ue in q){var t=q[ue].isLoadedRepliedMessage,n={entityId:ue,cursorTop:t?null:q[ue].cursorTop,cursorBot:t?null:q[ue].cursorBot,isLoadedRepliedMessage:t};Y(n)}else Y({entityId:ue,cursorTop:null,cursorBot:null,isLoadedRepliedMessage:!1});return function(){e.current=!1,oe((0,f.z4)("".concat(xe,"Messages"),Te)),oe(_({entity:"".concat(xe,"Messages")})),z[W]&&x.C.emit("refetchCasesByStatus",te)}}),[ue,ee]),(0,s.useEffect)((function(){return function(){"case"===xe&&le&&(Me(ue,"cases",De),oe((0,f.KX)("cases",De)))}}),[le,De,xe]),(0,s.useEffect)((function(){var e,t,n=null===(e=Re[Re.length-1])||void 0===e?void 0:e.id,a=null===(t=Re[0])||void 0===t?void 0:t.id;if(R){if("next"===R.dir)return void Y({entityId:ue,cursorTop:a,cursorBot:n,isLoadedRepliedMessage:q[ue].isLoadedRepliedMessage},"on page Change");Y({entityId:ue,cursorTop:a,cursorBot:n,isLoadedRepliedMessage:q[ue].isLoadedRepliedMessage},"on page Change")}}),[R]),(0,s.useEffect)((function(){ee&&(he(Number(ee)),U.current.scrollToMsgId=Number(ee))}),[ee]);var Ue=Number(o()(q,"".concat(ue,".cursorBot"))),Fe=Number(o()(q,"".concat(ue,".cursorTop"))),Pe=o()(q,"".concat(ue,".isLoadedRepliedMessage"));(0,s.useEffect)((function(){fe&&(He(fe,Ne),C(!1))}),[fe]),(0,s.useEffect)((function(){if(l)try{Y({entityId:ue,cursorTop:null,cursorBot:null,isLoadedRepliedMessage:!0}),Ge({msgId:null}),Ke({currentPage:null,goToLastPage:!0}),me(null)}catch(e){console.error("error",e)}}),[l]),(0,s.useEffect)((function(){U.current.isMessageHasBeenIndicated=Ce,U.current.isSetSearchReply=be,U.current.isFirstPageFetched=Z,U.current.groupMessageSearchQuery=N,U.current.direction=de,U.current.totalMessagesCount=null==Oe?void 0:Oe.items.length,U.current.cursorTop=Fe}),[Ce,be,fe,Z,N,de,null==Oe?void 0:Oe.items,Fe]);var Be=(0,s.useCallback)((function(e){var t=e.msgId,n=e.messageIndex,a=e.scrollType,r=void 0===a?"smooth":a,s=e.blink,i=void 0===s||s,o=e.scrollAlign,l=void 0===o?"center":o;setTimeout((function(){var e;null==k||null===(e=k.current)||void 0===e||e.scrollIntoView({index:n,behavior:r,align:l,done:function(){var e=t?document.querySelector("#message-".concat(t)):null;i&&(null==e||e.classList.add("indicate")),setTimeout((function(){e&&e.classList.contains("indicate")&&e.classList.remove("indicate"),_e(!1),pe(!0),Se(!1),je||D("case"===xe?{caseUnread:!0}:{groupUnread:!0})}),3e3)}})}),0),fe&&(he(null),U.current.scrollToMsgId=null)}),[fe,Oe,je]);var He=(0,s.useCallback)((function(e,t){var n=Oe.items.find((function(t){return(null==t?void 0:t.id)===e||(null==t?void 0:t.message_id)===e})),a=Oe.items.findIndex((function(t){return(null==t?void 0:t.id)===e||(null==t?void 0:t.message_id)===e}));n&&!Q?Be({msgId:e,messageIndex:a}):(_e(!0),Ge({msgId:e}),function(e){Ke({currentPage:e,goToLastPage:!1})}(e))}),[Oe,Be]);function Ge(e){var t=e.msgId,n=void 0===t?null:t;ge(!0),ve(!0),pe(!1),n&&Y({entityId:ue,cursorTop:q[ue].cursorTop||null,cursorBot:q[ue].cursorBot||null,isLoadedRepliedMessage:!0})}function Ke(e){var t=e.currentPage,n=e.goToLastPage,a=void 0!==n&&n;ve(!1),ie(t),a?(ge(!1),Y({entityId:ue,cursorTop:null,cursorBot:null,isLoadedRepliedMessage:!0})):Y({entityId:ue,cursorTop:null,cursorBot:null,isLoadedRepliedMessage:!0})}var Ve=(0,s.useCallback)((function(e){return function(t){return!(e||!t)&&"smooth"}}),[]);return{cursorBot:Ue,cursorTop:Fe,handlePageLoading:function(e,t,n){var a;(ne&&$("unread"),e)&&(me(t),a=Number("next"===t?o()(q,"".concat(n,".cursorTop")):o()(q,"".concat(n,".cursorBot"))),pe(!1),T&&I(!1),ge(!1),ie(a||null))},localEntityId:Ne,scrollIntoElement:Be,isLoadedRepliedMessage:Pe,messages:Oe,messageVisibleHandler:function(e,n){var a;if(e&&(null==n||!n.read_time)&&(null==n||null===(a=n.from_user)||void 0===a?void 0:a.id)!==i.id){var r=function(e){var t=e.items.length;return e.items[t-1]}(Oe),s=n.id||n.message_id,o=r.id||r.message_id;Ze({isLast:o===s,entityType:xe,entityId:ue,companyId:P,messageId:s,appDeviceUuid:B}),t({entityType:n.entity_type,entityId:n.entity_id}),j(s),Le({entity:"case"===n.entity_type?"cases":"ims-chats",entityId:n.entity_id,updatingData:{last_read_message:s}}),Le({entity:"".concat(xe,"Messages"),entityId:n.custom_uuid||0,updatingData:{read_time:Date.now()}})}},setUpdateEntityPage:L,setEntityPage:Y,entityPage:q,searchedMessageId:ee,paginationDepsRef:U,cursor:se,isLastPageFetched:S,setIsLastPageFetched:C,isFirstPageFetched:Z,setIsFirstPageFetched:E,totalMessagesCount:null==Oe?void 0:Oe.items.length,removeUnreadCountFromCaseList:function(){if("ims"===xe&&ue in H){var e=(0,a.Z)({},H);return delete e[ue],void G(e)}if(K&&"case"===xe&&ue in K){var t=(0,a.Z)({},K);delete t[ue],V(t)}},messagesUrl:Ae,handleFollowOutput:Ve}}},16178:function(e,t,n){"use strict";n.d(t,{en:function(){return Te},Dc:function(){return nt},bK:function(){return oe.b},gz:function(){return Se},pp:function(){return G},D4:function(){return k},rX:function(){return ie},bL:function(){return X},vI:function(){return se},MB:function(){return We},IC:function(){return Fe},Ng:function(){return lt},ZS:function(){return de},cX:function(){return pe},iR:function(){return st},rs:function(){return ct},Tn:function(){return ot},s6:function(){return ce.s},QY:function(){return Ke},XZ:function(){return Ae},Zp:function(){return Be},dY:function(){return Pe},aU:function(){return Je},TA:function(){return mt},SC:function(){return ue},lm:function(){return Le},eC:function(){return ne},JN:function(){return fe},e:function(){return ut},h0:function(){return Me},Kx:function(){return V.K},BH:function(){return at},tv:function(){return je},A3:function(){return Re},t$:function(){return it},h9:function(){return rt},gQ:function(){return Qe},O4:function(){return Ee},r1:function(){return F.r},dF:function(){return Ue},iP:function(){return he}});var a=n(29439),r=n(72791),s=n(24560),i=n(15861),o=n(4942),l=n(1413),c=n(64687),u=n.n(c),d=n(74569),m=n.n(d),p=n(26181),f=n.n(p),h=n(58121),g=n.n(h),v=n(66364),x=n.n(v),y=n(62794),b=n(9478),_=n(93433),C=n(46927),E=n.n(C),S=n(97689),Z=n(67051),j=n(80184);function k(){var e=(0,S.a)().userData;return{getVideoThumb:function(){return"data:image/png;base64,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"},getFileThumb:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAADmCAYAAABvebgTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM5OEMyNkY5Q0IwMjExRUE5Mzk3RDExRTI3MDhCODZGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM5OEMyNkZBQ0IwMjExRUE5Mzk3RDExRTI3MDhCODZGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Qzk4QzI2RjdDQjAyMTFFQTkzOTdEMTFFMjcwOEI4NkYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Qzk4QzI2RjhDQjAyMTFFQTkzOTdEMTFFMjcwOEI4NkYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6ddzS7AABNaklEQVR42uy9CZBl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"},getRepliedToId:function(e){return e&&e.id?e.id:null},getRepliedTo:function(e){return e||null},resetUploadMeta:function(e){var t=e.handler,n=e.metaObj,a=e.uuid,r=(0,l.Z)({},n);delete r[a],t(r)},getTypingInfo:function(e){var t=e.typingUsers,n=e.entityId,a="";x()(t)||(a=t.length>1?"are typing...":"is typing...");var r=t.filter((function(e){return+e.entity_id===n})).map((function(e){return e.user.first_name})).join(", ");return"".concat(r," ").concat(a)},insertAtCursor:function(e,t){var n;if(e.selectionStart||"0"==e.selectionStart){n=e.selectionStart;var a=e.selectionEnd;e.value=e.value.substring(0,n)+t+e.value.substring(a,e.value.length)}else e.value+=t;return n},renderTextMessage:function(e,t){var n=function(e){if((0,Z.Z)(e))return e;var t=e.trimRight().replace(/(?:\r\n|\r|\n)/g,"<br/>"),n=E()().match(e);if(!n)return t;var a="",r=0;return n.forEach((function(t,n){a+=e.slice(r,t.index),a+='<a target="_blank" class="truncate block text-kblue hover:underline" rel="noreferrer" href="'.concat(t.url,'">').concat(t.text,"</a>"),r=t.lastIndex})),(a+=e.slice(r,e.length)).trimRight().replace(/(?:\r\n|\r|\n)/g,"<br/>")}(function(e){return e.replace(/^[+]?\d{2,}?[(]?\d{2,}[)]?[-\s.]?\d{2,}?[-\s.]?\d{2,}[-\s.]?\d{0,9}$/im,(function(e,t,n){return'<a href="tel:+'+e.replace(/\D/g,"")+'">'+e+"</a>"}))}(e));return(0,j.jsx)(t,{text:n})},reactToEmoji:function(t){var n,a=t.emoji,r=t.reacted_users,s=t.renderReacted,i=t.messageId,o=t.custom_uuid,c=e.id,u=null,d=(0,_.Z)(r);if("native"in a&&(u=a.native),r&&r.length)if(null===(n=r)||void 0===n?void 0:n.find((function(e){return e.users.includes(c)&&e.emoji===u})))s({reactedUsers:r.map((function(e){return(0,l.Z)((0,l.Z)({},e),{},{users:e.users.filter((function(e){return e!==c}))})})).filter((function(e){return e.users.length})),messageId:i,emoji:u,toBeDeleted:!0,initialReactedMessage:d,custom_uuid:o});else{var m=r.reduce((function(e,t){return[].concat((0,_.Z)(e),(0,_.Z)(t.users))}),[]),p=r.reduce((function(e,t){return[].concat((0,_.Z)(e),[t.emoji])}),[]);if(!m.includes(c)&&p.includes(u)&&(r=r.map((function(e){return e.emoji===u?(0,l.Z)((0,l.Z)({},e),{},{users:[].concat((0,_.Z)(e.users),[c])}):e}))),m.includes(c)&&p.includes(u)&&(r=r.map((function(e){return(0,l.Z)((0,l.Z)({},e),{},{users:e.users.filter((function(e){return e!==c}))})})).map((function(e){return e.emoji===u?(0,l.Z)((0,l.Z)({},e),{},{users:[].concat((0,_.Z)(e.users),[c])}):e})).filter((function(e){return e.users.length}))),m.includes(c)||p.includes(u)||(r=[].concat((0,_.Z)(r),[{emoji:u,users:[c]}])),m.includes(c)&&!p.includes(u)){var f=r.map((function(e){return(0,l.Z)((0,l.Z)({},e),{},{users:e.users.filter((function(e){return e!==c}))})})).filter((function(e){return e.users.length}));r=[].concat((0,_.Z)(f),[{emoji:u,users:[c]}])}s({reactedUsers:r,messageId:i,emoji:u,initialReactedMessage:d,custom_uuid:o})}else s({reactedUsers:[{emoji:u,users:[c]}],messageId:i,emoji:u,initialReactedMessage:d,custom_uuid:o})}}}var w=n(92005),N=n(40084),I=n(94370),T=n(39814),A=n(97892),D=n.n(A),M=n(58323),O=n(49935),R=n(87818),L=n(32380),U=n(77676),F=n(71015),P=n(14545),B=n(80266);function H(){var e=(0,P.mx)(),t=e.entityType,n=e.entityId,a=(0,P.O9)(),r=(a.message,a.reply,a.editingMessage,(0,F.r)().updateEntities);function s(e){var n=JSON.parse(B.tO.get("".concat(t,"Draft"))||"{}");return e&&e in n?n[e]:n}return{getLS:s,updateEntityDraft:function(e,a){var s=null;if("add"===e&&a){var i=a.editingMessage,o=a.entityId,l=a.message,c=a.reply;s={editing_id:i?i.id:null,id:o,reply_to:c&&c.id?c.id:null,text:l}}r({entity:"case"===t?"cases":"ims-chats",entityId:n,updatingData:{draft_message:s}})},removeLS:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,a=arguments.length>1?arguments[1]:void 0,r=(0,l.Z)({},s());e in r&&delete r[e],B.tO.set("".concat(t,"Draft"),JSON.stringify(r)),"function"==typeof a&&setTimeout(a,0)},updateLS:function(e,t,n){var a=(0,l.Z)({},s());e in a&&(a[e]=(0,l.Z)((0,l.Z)({},a[e]),n)),B.tO.set("".concat(t,"Draft"),JSON.stringify(a))}}}function G(){var e=(0,F.r)().updateEntities,t=(0,N.m)(),n=t.unreadMessagesCount,a=t.setUnreadMessagesCount,r=t.groupsUnreadCountData,s=t.setGroupUnreadMessage,i=t.companyId,c=t.funcDecrementUnread,u=(0,oe.b)({url:"",dynamicUrl:!0,cb:{success:function(e,t){var r,s=null===(r=t[0])||void 0===r?void 0:r.entityId,i=e["case_".concat(s)];n&&s&&a((0,l.Z)((0,l.Z)({},n),{},(0,o.Z)({},s,i||0)))},error:function(e,t){}}}).fetchData,d=Ee().fetchCompanyAllUnreadCounts;function m(e){var t=e.unreadObj,n=e.entityId;return n in t&&t[n]>=0}return{deleteMessage:function(t){var a="case"===t.entity_type?"caseMessages":"imsMessages",s=t.entity_id;e({entity:a,entityId:t.custom_uuid||"",updatingData:{is_deleted:!0,file:null,text:""}});var o="case"===t.entity_type?"cases":"ims-chats",l=t.prev_text,c=t.prev_type;t.is_last&&e({entity:o,entityId:s,updatingData:{last_message_text:l,last_message_type:c}}),"case"===t.entity_type&&n&&s in n?u({url:"/".concat(i,"/message_counts/?entity_type=case&entity_id=").concat(s,"&as_client_company=true&case_type=client"),entityId:s}):"ims"===t.entity_type&&r&&s in r&&i&&d({groupUnread:!0})},removeUnread:function(e){var t=e.entityType,i=e.entityId;if(e.statusId,"case"===t&&n&&m({unreadObj:n,entityId:i})){var o=c(n,i);a(o)}function c(e,t){var n=(0,l.Z)({},e);return delete n[t],n}"ims"===t&&r&&m({unreadObj:r,entityId:i})&&s(c(r,i))},decrementUnread:function(e){var t=e.entityType,n=e.entityId;c(n,t)},hasUnreadCount:m}}var K=n(87671),V=n(65954),Y=n(21316),q=n(71887),Q=n(16729),z=n(28843),W=U.Z.getAll(),J=L.Z.entities.updateEntitiesSuccess;function X(e){var t,n=e.sendJsonMessage,a=e.entityId,i=e.entityType,c=(0,s.O)(),u=c.message,d=c.editingMessage,m=c.setEditingMessage,p=c.setMessage,f=c.setAudioUploadProgress,h=(c.messageScheduleDate,c.setMessageScheduleDate,c.tempMessageEvent,c.setTempMessageEvent,(0,S.a)().userData),g=(0,R.I0)(),v=(0,I.m)(),x=v.isInBottom,y=v.socketState,b=v.setTypingUsers,C=v.unsetTypingUsers,E=v.virtuosoRef,Z=v.setLastReadMessageId,j=v.isScheduledChat,k=(0,F.r)().updateEntities,w=(0,N.m)(),T=w.activeDraft,A=w.setActiveDraft,L=w.companyId,U=H(),P=U.getLS,X=U.updateEntityDraft,$=U.removeLS,ee=(0,Q.h)().incrementChatMentions,te=G().deleteMessage,ne=(0,K.T)().incrementMsgUnread,ae=(0,V.K)().query,re=P(),se=(0,r.useRef)(x),ie=(0,z.pA)({isScheduled:j,entityId:a,entityType:i}),oe=(0,R.v9)((function(e){return e.entities})),le=(0,R.v9)((function(e){return e.entity})),ce=oe["".concat(i,"Messages")],ue=null===(t=le["".concat(i,"Messages")])||void 0===t?void 0:t[ie],de=ae?null==ae?void 0:ae.status:null,me=(0,R.v9)((function(e){return W(e,{entity:"".concat(i,"Messages"),name:ie})}));(0,r.useEffect)((function(){se.current=x}),[x]);var pe=me.meta;function fe(){var e;null==E||null===(e=E.current)||void 0===e||e.scrollToIndex({index:"LAST",align:"center",behavior:"auto"})}function he(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.custom_uuid,r=(0,o.Z)({},"".concat(i,"Messages"),(0,o.Z)({},n,e)),s=(0,z.pA)({isScheduled:Boolean(null==e?void 0:e.scheduled_to),entityType:i,entityId:a});g((0,M.wB)(r)),g((0,O.hU)({id:n,entity:"".concat(i,"Messages"),name:s,appendData:!0,prependData:!1,updateData:t,deleteData:!1})),se.current&&fe()}var ge=(0,r.useCallback)((function(e){"Open"===y&&(null==n||n(e))}),[y,n]);return{onMessage:function(e){var t,r,s=JSON.parse(e.data),c=+s.entity_id===a,u={},d=(0,B.LO)(s.type);if((d===Y.K.NEW_MESSAGE||d===Y.K.STATUS_CHANGED||d===Y.K.PRIORITY_CHANGED||d===Y.K.REQUEST_MANAGER||d===Y.K.REQUEST_UPDATE)&&c){var v,x=(0,l.Z)((0,l.Z)({},s),{},{custom_uuid:null!==(v=s.custom_uuid)&&void 0!==v?v:s.sent_time.toString()});he(x,!1),(s.message_type===Y.K.ADD_MEMBER||Y.K.REMOVE_MEMBER||Y.K.LEFT_MEMBER)&&q.q.emit("onMembersUpdate"),se.current||s.from_user.id===h.id||ne(s.entity_type,s.entity_id),s.from_user_id===h.id&&c&&(Z(s.message_id),k({entity:"case"===i?"cases":"ims-chats",entityId:a,updatingData:{last_read_message:s.message_id}})),c&&function(e){var t,n;g(J({entity:"case"===i?"cases":"ims-chats",entityId:String(a),data:{last_message_text:e.text,last_message_type:e.file_type,last_message_author:{first_name:null===(t=e.from_user)||void 0===t?void 0:t.first_name,last_name:null===(n=e.from_user)||void 0===n?void 0:n.last_name},last_message_time:e.sent_time}}))}(s),"AUDIO"===x.file_type&&f({})}if(d===Y.K.USER_TAGGED){var y,_=s.custom_uuid,E=s.message_id,S=s.entity_id,j=null==s||null===(y=s.user_ids)||void 0===y?void 0:y.includes(h.id),w=null==ce?void 0:ce[_],N=!(null!=w&&w.read_time);j&&N&&L&&ee({entityId:S,messageId:E,currentMsgCompanyId:L})}if(d===Y.K.EDIT_MESSAGE&&c){var I=(0,l.Z)((0,l.Z)({},s),{},{translated_text:null,original_text:null,is_translation_shown:!1});he(I,!0),I.text||((T||a&&a in re)&&(X("reset"),A(null),$(a),null==n||n({entity_id:a,type:"delete_draft_message"}),p("")),m(null)),"AUDIO"===I.file_type&&f({})}if(d===Y.K.REACTED_MESSAGE&&c){var D=(0,l.Z)({},s);k({entity:"".concat(i,"Messages"),entityId:D.custom_uuid,updatingData:{reacted_users:D.reacted_users}})}d===Y.K.REPLIED_MESSAGE_DELETED&&(null==s||null===(t=s.messages_uuids)||void 0===t||t.forEach((function(e){k({entity:"".concat(i,"Messages"),entityId:e,updatingData:{replied_to:(0,l.Z)((0,l.Z)({},null==s?void 0:s.replied_to),{},{is_deleted:!0})}})}))),d===Y.K.MESSAGE_READ&&c&&function(e,t,n){g(J({entity:t,entityId:String(n),data:e}))}({read_time:Date.now()},"".concat(i,"Messages"),s.custom_uuid),d===Y.K.TYPING&&c&&(u=(0,l.Z)((0,l.Z)({},u),{},(0,o.Z)({},s.user_id,(0,l.Z)((0,l.Z)({},s),{},{lastTime:(new Date).getTime()}))),+s.entity_id===a&&(b(s),clearTimeout(r),r=setTimeout((function(){Object.keys(u).forEach((function(e){u[e].lastTime+3e3<(new Date).getTime()&&C(u[e])}))}),3e3))),d===Y.K.DELETE_MESSAGE&&c&&te(s)},sendChatMessage:function(e){var t=e.type,r=e.uuid,s=e.replied_to_id,o=e.replied_to,c=e.is_draft,f=e.scheduled_to,g=null!=f?f:null==d?void 0:d.scheduled_to,v={entity_id:a,entity_type:i,custom_uuid:d?d.custom_uuid:r,replied_to_id:d?d.replied_to_id:s,msgSendingChatId:null==e?void 0:e.msgSendingChatId,text:"text"===t?(0,B.le)(u):"",reacted_users:[]};d&&(v.id=d.id),g&&(v.scheduled_to=g);var x=function(e,t){return t&&e?"edit_scheduled_message":t&&!e?"scheduled_message":e?"edit_message":"message"}(d,g),b=(0,l.Z)((0,l.Z)({},v),{},{type:x,is_draft:!!c}),_=(0,l.Z)((0,l.Z)({},v),{},{replied_to:o,from_user:h,from_user_id:h.id,sent_time:D()().unix(),type:"new_message",id:null,file:null,file_type:"",edited:!!d,translated_text:null,original_text:null,is_translation_shown:!1});g&&(_.edited=!1);var C=(0,B.LO)(b.type);switch(t){case"text":case"image":var E,S,Z,j;if("text"===t&&!u)return;var k=(0,l.Z)((0,l.Z)({},_),{},{text:"text"===t?(0,B.le)(u):"",file_type:"image"===t?"IMAGE":"",file:"image"===e.type?{url:null==e||null===(E=e.preview)||void 0===E?void 0:E.imagePreviewUrl,thumbnail:null==e||null===(S=e.preview)||void 0===S?void 0:S.imagePreviewUrl,thumbnail_150:null==e||null===(Z=e.preview)||void 0===Z?void 0:Z.imagePreviewUrl,name:null==e||null===(j=e.preview)||void 0===j?void 0:j.name}:"",size:e.size,msgSendingChatId:null==e?void 0:e.msgSendingChatId});switch(C){case Y.K.MESSAGE:case Y.K.SCHEDULED_MESSAGE:he(k,!1),setTimeout((function(){return fe()}),0);break;case Y.K.EDIT_MESSAGE:case Y.K.EDIT_SCHEDULED_MESSAGE:he(k,!0),"text"===t&&m(null)}break;case"audio":var w;if(!pe&&"Open"!==y)return;var N=(0,l.Z)((0,l.Z)({},_),{},{text:"",file_type:"AUDIO",size:e.size,msgSendingChatId:null==e?void 0:e.msgSendingChatId,file:d?null==me||null===(w=me.items)||void 0===w?void 0:w.find((function(e){return(e.id?e.id:e.message_id)===d.id})):null},(0,l.Z)({},d?{id:d.id}:{}));switch(C){case Y.K.MESSAGE:case Y.K.SCHEDULED_MESSAGE:he(N,!1),setTimeout((function(){return fe()}),0);break;case Y.K.EDIT_MESSAGE:case Y.K.EDIT_SCHEDULED_MESSAGE:he(N,!0),p("")}break;case"file":var I=e.file,T="FILE";try{var A,M=(null==I||null===(A=I.file)||void 0===A?void 0:A.type).split("/")[0].toUpperCase();switch(M){case"AUDIO":case"VIDEO":case"IMAGE":T=M;break;default:T="FILE"}}catch(e){console.error("chat file send",e)}b=(0,l.Z)((0,l.Z)({},b),{},{file:I.file.response,file_type:T}),C!==Y.K.EDIT_MESSAGE&&fe();break;default:return null}var O=b.text,R="file_type"in b||O.length,L=a===b.msgSendingChatId;R&&L&&(null==n||n(b)),C!==Y.K.EDIT_MESSAGE&&fe()},sendReadAction:function(e){e.isLast;var t=e.messageId,a=e.entityId,r=e.entityType,s=e.companyId,i=e.appDeviceUuid,o={type:"read",entity_id:a,entity_type:r,time:D()().unix(),message_id:t,company_id:s,app_id:i,status_id:Number(de)};null==n||n(o)},scrollChatToBottom:fe,messages:me,sendTypingInfo:ge,areRestMessagesLoaded:pe,sendDeleteScheduledMessage:function(e){null==n||n({type:"delete_scheduled_message",id:e})},sendScheduledMessageNow:function(e,t){if(null==n||n({type:"scheduled_message_send_now",id:e}),ue){var a,r,s=(0,_.Z)(null==ue||null===(a=ue.ids)||void 0===a?void 0:a.filter((function(e){return e!==t})));g((0,O.Qy)({ids:s,entity:"".concat(i,"Messages"),name:ie,replaceIds:!0,params:null==ue?void 0:ue.params,meta:(0,l.Z)((0,l.Z)({},null==ue?void 0:ue.meta),{},{count:(null==ue||null===(r=ue.meta)||void 0===r?void 0:r.count)-1}),appendData:!1,prependData:!1,infiniteScroll:!1,isUniq:!1}))}}}}var $=n(98246),ee=n(53148),te=n(17173);function ne(){var e,t=null!==(e=(0,$.Ds)())&&void 0!==e?e:{},n=t.enqueueSnackbar,a=t.closeSnackbar,s=(0,te.$G)().t,i=function(e){return(0,j.jsx)(ee.zx,{classes:{label:"text-white"},onClick:function(){return a(e)},children:s("dismiss")})};return{showNotification:(0,r.useCallback)((function(e){var t=e.message,a=e.action,r=void 0===a?void 0:a,s=e.variant,o=void 0===s?"success":s,c=(e.persist,e.duration),u=void 0===c?3e3:c,d=e.closable,m=void 0===d||d,p=(0,l.Z)({variant:o,autoHideDuration:u},(0,l.Z)({},r||(m?{action:i}:{})));try{n(t,p)}catch(e){console.error("something went wrong",e)}}),[n])}}var ae=n(43708),re=n(52150);function se(e){var t=e.isDragging,n=void 0!==t&&t,c=k(),d=c.getFileThumb,p=c.getVideoThumb,h=c.resetUploadMeta,v=(0,s.O)(),_=v.editingMessage,C=v.reply,E=v.setEditProgress,Z=v.setUploadMeta,j=v.uploadMeta,A=v.setReply,D=v.cancelSending,M=v.editCancelUpload,O=v.clipboardFile,R=v.setClipboardFile,L=v.cancelAudioUpload,U=v.setAudioCancelSending,F=v.setAudioUploadProgress,P=v.messageScheduleDate,H=v.setMessageScheduleDate,G=(0,I.m)(),K=G.entityId,V=G.entityType,Y=G.isScheduledChat,q=(0,N.m)().companyId,Q=(0,S.a)().token,z=(0,r.useState)({uuids:{},progresses:{},cancelTokensByName:{},cancelTokensByUid:{},cancelTokensByUuid:{},initialFiles:{},lastUuid:null,audioCancelToken:null,audioUploadProgress:{}}),W=(0,a.Z)(z,2),J=W[0],$=W[1],ee=X({sendJsonMessage:(0,T.R)().sendJsonMessage,entityId:K,entityType:V}).sendChatMessage,te=ne().showNotification,se=(0,r.useRef)([]),ie=(0,r.useRef)(null),oe=_||Y?"".concat(b.Z.API_ROOT,"/").concat(q,"/upload/"):"".concat(b.Z.API_ROOT,"/messages/file-upload/"),le=(0,re.$)({handleUpload:_e}),ce=le.lastPageIsNotFetched,ue=(le.setTempFileList,le.setIsDelayedMessage,le.handleScheduledFileUpload),de=J.uuids,me=J.progresses,pe=J.initialFiles,fe=J.cancelTokensByUid,he=J.cancelTokensByUuid,ge=J.lastUuid,ve=J.audioUploadProgress,xe=J.audioCancelToken;(0,r.useEffect)((function(){$((function(e){var t=g()(e);return ge in t.initialFiles&&delete t.initialFiles[ge],ge in t.progresses&&delete t.progresses[ge],t}))}),[ge]);var ye=(0,r.useCallback)((function(e){var t=e.size>1048576?Math.trunc(e.size/1024/1024):1,a=_?null==_?void 0:_.custom_uuid:(0,w.x0)(),r=m().CancelToken.source(),s=(0,l.Z)((0,l.Z)({},e),{},{uid:e.uid,type:e.type,name:e.name,key:e.key,size:e.size,lastModified:e.lastModified}),i="".concat(n?e.name:e.uid),c="".concat(n?"cancelTokensByName":"cancelTokensByUid");return $((function(e){var t;return(0,l.Z)((0,l.Z)({},e),{},(t={uuids:(0,l.Z)((0,l.Z)({},e.uuids),{},(0,o.Z)({},i,a))},(0,o.Z)(t,c,(0,l.Z)((0,l.Z)({},e[c]),{},(0,o.Z)({},i,r))),(0,o.Z)(t,"cancelTokensByUuid",(0,l.Z)((0,l.Z)({},e.cancelTokensByUuid),{},(0,o.Z)({},a,r))),(0,o.Z)(t,"initialFiles",(0,l.Z)((0,l.Z)({},e.initialFiles),{},(0,o.Z)({},a,s))),t))})),new Promise((function(i,o){if(t<201){var c=new FileReader,u=e,m=u&&u.type.split("/")[0].length>0?u.type.split("/")[0]:"other";c.onloadend=function(){var t="image"===m?c.result:"video"===m?p():d(),n={type:"image",preview:{name:u.name,imagePreviewUrl:t},size:(e.size/1024/1024).toFixed(2),uuid:a,replied_to_id:(0,ae.V)(C),replied_to:null,scheduled_to:P},r={msgSendingChatId:K},s=(0,l.Z)((0,l.Z)({},n),r);ee(s)},c.readAsDataURL(u),i(n?{file:e,source:r,currFile:s,currentUuid:a}:e)}else o(new Error("Too big filesize")),te({message:"Sorry, There is a limit for attachment size. Please attach files less than 200 mb",variant:"info"})}))}),[C,K,_,Y,P]),be=(0,r.useCallback)((function(e){var t=e.response,a=e._file,r=e.currFile,s=e.currentUuid,i=e.type;!n&&E(null),h({handler:Z,metaObj:j,uuid:s}),n||$((function(e){var t=g()(e);return delete t.initialFiles[s],delete t.progresses[s],delete t.cancelTokensByUuid[s],delete t.cancelTokensByUid[a.uid],delete t.uuids[a.uid],t}));var o={file:(0,l.Z)((0,l.Z)({},r),{},{response:(0,l.Z)({},t)})},c=n?o.file.name:o.file.uid,u=!(null!=se&&se.current.find((function(e){return e===c}))),d={file:o,uuid:s,replied_to_id:(0,ae.V)(C),replied_to:null,scheduled_to:P},m={type:"file",msgSendingChatId:K},p=(0,l.Z)((0,l.Z)({},d),m),v=ee;f()(o,"file.name").match(/\.(avi|mp3|mp4|mpeg|ogg|mov)$/i),u&&("clipboard"!==i&&se.current.push(c),(_||Y)&&v(p),A(null))}),[Z,j,A,C,K,Y,P]);function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";ye(e).then(function(){var e=(0,i.Z)(u().mark((function e(a){var r,s,i,c,d,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.file,s=a.source,i=a.currFile,c=a.currentUuid,d=(0,B.JB)(r),e.next=4,(0,B.v4)({filename:r.name,file:r,companyId:q.toString(),entityType:"ims"===V?"ims":"case",entityId:null==K?void 0:K.toString(),fileType:d,custom_uuid:c});case 4:p=e.sent,m().post(oe,p,{headers:{Authorization:"Token "+Q},onUploadProgress:function(e){var t=e.total,n=e.loaded;$((function(e){return(0,l.Z)((0,l.Z)({},e),{},{progresses:(0,l.Z)((0,l.Z)({},e.progresses),{},(0,o.Z)({},c,Number(Math.round(n/t*100).toFixed(2))))})}))},cancelToken:s.token}).then((function(e){var a=e.data;n&&$((function(e){return(0,l.Z)((0,l.Z)({},e),{},{lastUuid:c})})),be({response:a,_file:r,currFile:i,currentUuid:c,type:t}),H(null)})).catch((function(e){console.error(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("err uploading",e)}))}(0,r.useEffect)((function(){var e=D||M,t=n?x()(fe):!x()(fe);if(e&&t){var a;"string"==typeof e&&(null==he||null===(a=he[e])||void 0===a||a.cancel("Uploading canceled by the user.")),H(null),$((function(t){var n=g()(t);return"string"==typeof e&&delete n.progresses[e],n})),"string"==typeof e&&h({handler:Z,metaObj:j,uuid:e})}}),[D,M]),(0,r.useEffect)((function(){x()(me)||Z(me)}),[me]);var Ce=r.useCallback((function(e){return!Y||P||_?ce?ue(e,!1):void e.forEach((function(e){return _e(e)})):ue(e,!0)}),[K]),Ee=(0,y.u)({onDrop:Ce,noClick:!0}),Se=Ee.getRootProps,Ze=Ee.getInputProps,je=Ee.isDragAccept,ke=Ee.isDragReject,we=function(e){var t=e.clipboardData.files[0];e.clipboardData.files.length&&(R(t),function(e){if(e.type.startsWith("image/")){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){ie.current&&(ie.current.src=null==t?void 0:t.result)}}}(t))};(0,r.useEffect)((function(){return K&&(document.onpaste=we),function(){document.removeEventListener("paste",we)}}),[K]),(0,r.useEffect)((function(){ve&&F(ve)}),[ve]),(0,r.useEffect)((function(){if(L&&xe){null==xe||xe.cancel("Uploading canceled by the user."),F({}),U(!1),$((function(e){return(0,l.Z)((0,l.Z)({},e),{},{audioCancelToken:null})}))}}),[L]);var Ne=function(){var e=(0,i.Z)(u().mark((function e(t){var n,a,r,s,i,c,d,p,f,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_?_.custom_uuid:(0,w.x0)(),a={type:"audio",size:(t.size/1024/1024).toFixed(2),uuid:n,replied_to_id:(0,ae.V)(C),replied_to:null,scheduled_to:P},r={type:t.type,size:t.size},s={msgSendingChatId:K},i=(0,l.Z)((0,l.Z)((0,l.Z)({},a),s),{},{edited:!!_}),ee(i),c="".concat(Math.random()).slice(2)+".mp3",d=(0,B.JB)(t),e.next=10,(0,B.v4)({filename:c,file:t,companyId:q.toString(),entityType:"ims"===V?"ims":"case",entityId:null==K?void 0:K.toString(),fileType:d,custom_uuid:n,repliedToId:(0,ae.V)(C)});case 10:p=e.sent,f=m().CancelToken,h=f.source(),$((function(e){return(0,l.Z)((0,l.Z)({},e),{},{audioCancelToken:h})})),m().post(oe,p,{headers:{Authorization:"Token ".concat(Q)},onUploadProgress:function(e){var t=e.total,a=e.loaded;$((function(e){return(0,l.Z)((0,l.Z)({},e),{},{audioUploadProgress:(0,l.Z)((0,l.Z)({},e.audioUploadProgress),{},(0,o.Z)({},n,Number(Math.round(a/t*100).toFixed(2))))})}))},cancelToken:h.token}).then((function(e){var t=e.data,n={file:(0,l.Z)((0,l.Z)({},r),{},{response:t})},a=(0,l.Z)((0,l.Z)({},i),{},{type:"file",file:n,scheduled_to:P});ee(a),$((function(e){return(0,l.Z)((0,l.Z)({},e),{},{audioUploadProgress:{}})})),A(null),H(null)})).catch((function(e){console.log("error audio upload",e)}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fileOnStart:ye,fileOnSuccess:be,getRootProps:Se,getInputProps:Ze,isDragAccept:je,isDragReject:ke,onProgress:function(e,t){var n=e.percent;$((function(e){return(0,l.Z)((0,l.Z)({},e),{},{progresses:(0,l.Z)((0,l.Z)({},e.progresses),{},(0,o.Z)({},n.uuid,n.percent))})}))},onError:function(e){},uuids:de,cancelTokensByUid:fe,initialFiles:pe,clipboardFile:O,setClipboardFile:R,clipboardImageRef:ie,handleClipboardClose:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e.type.startsWith("image/")&&(!Y||P||_?ce?ue([e],!1):_e(e,"clipboard"):ue([e],!0)),ie.current.src="",R(!1)},action:oe,uploadAudioFile:Ne,handleUploadStart:_e}}function ie(e){var t=(0,r.useRef)(null),n=(0,r.useState)(0),i=(0,a.Z)(n,2),o=i[0],l=i[1],c=(0,s.O)(),u=c.message,d=c.isDelayedMessage,m=c.setMessage,p=c.setTime,f=c.timerId,h=c.setTimerId,g=c.setCommand,v=c.setCancel,x=c.cancel,y=c.setIsDelayedMessage,b=c.editingMessage,_=c.messageScheduleDate,C=c.handleScheduleModalToggle,E=se({isDragging:!1}).uploadAudioFile,S=k().insertAtCursor,Z=(0,r.useState)(null),j=(0,a.Z)(Z,2),w=j[0],N=j[1],I=(0,P.mx)(),T=I.isLastPageFetched,A=I.isScheduledChat;(0,r.useEffect)((function(){p(o)}),[o]),(0,r.useEffect)((function(){!d&&w&&(E(w),N(null))}),[d]),(0,r.useEffect)((function(){A&&_&&w&&(E(w),N(null))}),[_]);return{inputRef:t,handlePressKey:function(n){if("Enter"!==n.key||!n.metaKey&&!n.ctrlKey){if(13!==n.keyCode||!n.shiftKey)return"Enter"===n.key?(n.preventDefault(),void e(n)):void 0}else if(n.target instanceof HTMLTextAreaElement){var a,r=n.target,s=r.selectionStart,i=r.selectionEnd,o=u.substring(0,s)+"\n"+u.substring(i);m(o),null!==(a=t.current)&&void 0!==a&&a.textarea&&(t.current.textarea.value=o,t.current.textarea.selectionStart=t.current.textarea.selectionEnd=s+1)}},handleStartRecordAudio:function(){var e=setInterval((function(){l((function(e){return e+1e3}))}),1e3);h(e),g("start"),p(0)},handleStopRecordAudio:function(){clearInterval(f),v(!1),g("stop"),l(0)},handleCancelRecord:function(){v(!0),clearInterval(f),g("stop"),l(0)},handleOnStopRecording:function(e){if(!x){if(A&&!_&&!b)return C(),void N(e);T||b?E(e):(y(!0),N(e))}g(null)},onEmojiClick:function(e){var n,a,r,s,i,o=e.native;S(null==t||null===(n=t.current)||void 0===n?void 0:n.textarea,o),null!=t&&t.current&&null!=t&&null!==(a=t.current)&&void 0!==a&&null!==(r=a.textarea)&&void 0!==r&&r.value&&m(null===(s=t.current)||void 0===s||null===(i=s.textarea)||void 0===i?void 0:i.value),t.current&&t.current.focus()}}}var oe=n(706),le=n(80180),ce=n(18342);function ue(e,t){var n=(0,R.I0)(),s=(0,te.$G)().t,o=(0,P.mx)(),l=o.entityType,c=o.entityId,d=o.isScheduledChat,m=(0,N.m)().companyId,p=ne().showNotification,f=(0,F.r)().updateEntities,h=X({sendJsonMessage:(0,P.RT)().sendJsonMessage,entityId:c,entityType:l}),g=h.sendDeleteScheduledMessage,v=h.sendScheduledMessageNow,x=(0,P.O9)(),y=x.handleScheduleModalToggle,b=(x.messageScheduleDate,x.setMessageScheduleDate,x.setTempMessageEvent),_=(x.tempMessageEvent,(0,z.pA)({entityId:c,entityType:l,isScheduled:d})),C=(0,ce.s)({entityId:t,entity:"".concat(l,"Messages"),entityName:_}).all,E=(0,oe.b)({url:"",dynamicUrl:!0,method:"post",cb:{success:function(e,t){var r=(0,a.Z)(t,4);!function(e){var t=e.entityId,a=e.isCase,r=e.entityName,s=e.url;n((0,O.Gx)({id:t,entity:a?"cases":"ims-chats",name:r,url:s,params:{},primaryKey:"id",relations:""}))}({entityId:r[0],isCase:r[1],entityName:r[2],url:r[3]})},error:function(e,t){}}}),S=E.fetchData,Z=(0,le.v)({entity:"case"===l?"caseMessages":"imsMessages",name:"messages",method:"delete",url:"/messages/".concat(e,"/"),deleteData:!0,id:t,cb:{success:function(e){p({message:s("message_deleted_notif"),variant:"info"}),f({entity:"case"===l?"caseMessages":"imsMessages",entityId:t||"",updatingData:{is_deleted:!0,file:null,text:""}})},error:function(e){var t,n;p({message:null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,variant:"error"})},finally:function(){}}}).handleRequest,j=(0,r.useCallback)(function(){var t=(0,i.Z)(u().mark((function t(n,a){var r,s,i,o,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null,i=document.createElement("a"),"AUDIO"!==a){t.next=11;break}return t.next=5,fetch(n);case 5:return o=t.sent,t.next=8,o.blob();case 8:l=t.sent,s=URL.createObjectURL(l),i.download="audio_".concat(e,".mp3");case 11:i.target="_blank",i.href=null!==(r=s)&&void 0!==r?r:n,i.style.display="none",document.body.append(i),i.click(),document.body.removeChild(i);case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[]);return{pinMessage:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a="case"===l,r=a?"CaseChat-".concat(t):"GroupChat-".concat(t),s=a?"/".concat(m,"/cases/as_business/").concat(t,"/"):"/".concat(m,"/ims/groups/").concat(t,"/");S(t,a,r,s,{url:"/messages/".concat(n,"/pin/")})},deleteMessage:function(){d?g(e):Z()},handleSendScheduledMessageNow:function(){v(e,t)},handleReScheduledMessage:function(){var t,n=null==C||null===(t=C.items)||void 0===t?void 0:t.find((function(t){return t.id===e}));b({type:"RE_SCHEDULE",data:{messageId:(null==n?void 0:n.id)||e,scheduled_to:null==n?void 0:n.scheduled_to}}),y()},downloadFileHandler:j}}var de=function(e,t){var n=(0,r.useRef)(!1);(0,r.useEffect)((function(){n.current?e():n.current=!0}),t)},me=n(72863);function pe(){var e=(0,P.mx)(),t=e.entityType,n=e.entityId,a=(0,N.m)(),s=a.activeDraft,i=a.setActiveDraft,c=a.searchQuery,u=a.groupSearchQuery,d=(a.companyId,a.caseType,a.selectedCaseFilter,(0,P.O9)()),m=d.message,p=d.reply,f=d.editingMessage,h=d.setMessage,g=d.setEditingMessage,v=d.setReply,x=(0,P.RT)().sendJsonMessage,y=(0,me.i)().sendJsonMessage,b=(0,V.K)().query,_=X({sendJsonMessage:x,entityId:n,entityType:t}).messages,C=H(),E=C.getLS,S=C.updateEntityDraft,Z=C.removeLS,j=C.updateLS,k=(0,R.v9)((function(e){var n;return null==e||null===(n=e.entities)||void 0===n?void 0:n["case"===t?"cases":"ims-chats"]})),w=(null==b?void 0:b.chat)||(null==b?void 0:b.case),I=(0,oe.b)({url:"",dynamicUrl:!0,cb:{success:function(e,t){F(e)},error:function(e,t){}}}),T=(I.response,I.fetchData),A=I.loading,D=(0,oe.b)({url:"",dynamicUrl:!0,cb:{success:function(e,t){G(e)},error:function(e,t){}}}),M=(D.response,D.fetchData),O=D.loading,L=E();(0,r.useMemo)((function(){return L}),[L]);function U(e){var t=e.editing_id,n=e.reply_to,a=e.isSaved,r=e.messages,s=e.activeEntityDraft,i=t||n;if(!p&&!f&&i&&a){var o=r.items.find((function(e){return e.id===i||e.message_id===i}));t&&o&&F((0,l.Z)((0,l.Z)({},o),{},{text:null==s?void 0:s.text})),!t||o||A||T({url:"/messages/".concat(i,"/")}),n&&o&&G(o),!n||o||O||M({url:"/messages/".concat(i,"/")})}}function F(e){g({id:e.id||e.message_id,text:e.text,custom_uuid:e.custom_uuid,fileType:e.file_type,replied_to_id:null})}function G(e){var t,n;v({id:e.id||e.message_id,text:e.text,file_type:e.file_type,from_user_first_name:null===(t=e.from_user)||void 0===t?void 0:t.first_name,from_user_last_name:null===(n=e.from_user)||void 0===n?void 0:n.last_name})}function K(e){var n=e.payload,a=e.isSaved,r=void 0!==a&&a,s="".concat(t,"Draft"),i=n.message,c=n.editingMessage,u=n.reply,d=n.entityId;if(void 0!==i){var m,p,f,h,g,v=JSON.parse(B.tO.get(s)),x={isSaved:!(null==k||null===(m=k[d])||void 0===m||!m.draft_message)||r,text:i,reply_to:c?null:u?u.id:null!=v&&null!==(p=v[d])&&void 0!==p&&p.reply_to?null==v||null===(f=v[d])||void 0===f?void 0:f.reply_to:null,editing_id:u?null:c?c.id:null!=v&&null!==(h=v[d])&&void 0!==h&&h.editing_id?null==v||null===(g=v[d])||void 0===g?void 0:g.editing_id:null};if(B.tO.get(s)){var y=(0,l.Z)((0,l.Z)({},v),{},(0,o.Z)({},d,x));return void B.tO.set(s,JSON.stringify(y))}var b=(0,o.Z)({},d,x);B.tO.set(s,JSON.stringify(b))}}function Y(){x({entity_id:n,type:"delete_draft_message"})}return(0,r.useEffect)((function(){w&&(g(null),v(null))}),[w]),(0,r.useEffect)((function(){var e,t=E(),a=_.items.length;if(n in t&&s){var r=t[n];0;var i=r.editing_id,o=r.reply_to,l=r.isSaved;return f||h(r.text),void(a&&U({editing_id:i,reply_to:o,isSaved:l,messages:_,activeEntityDraft:s}))}n in t&&null!==(e=t[n])&&void 0!==e&&e.text||f||h("")}),[n,f,p,s,_]),(0,r.useEffect)((function(){var e=E();if(!(n in e)&&!c&&!u&&s){0;var t=_.items.length;if(s&&t){var a=s.editing_id,r=s.reply_to,i=s.text;return h(i),void(s&&U({editing_id:a,reply_to:r,isSaved:!!i,messages:_,activeEntityDraft:s}))}}}),[n,p,s,_]),de((function(){}),[m]),(0,r.useEffect)((function(){var e,t=E(),a=(null==t||null===(e=t[n])||void 0===e?void 0:e.text)||"";n in t&&0===a.length&&s&&(S("reset"),s&&i(null),Z(n),Y())}),[n,s,m]),{saveDraft:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"chat",a=arguments.length>1?arguments[1]:void 0,r=a.message;null!=r&&r.length&&(!function(e,a){var r={entity_id:n,editing_id:f?f.id:null,entity_type:t,reply_to_id:p?p.id:null,text:e,type:"draft_message"};"user"===a&&e.length?y(r):e.length&&x(r)}(r,e),K({payload:a,isSaved:!0}),c||u||S("add",a))},getLS:E,updateEntityDraft:S,removeLS:Z,sendDeleteDraft:Y,setLS:K,updateLS:j}}function fe(){var e=(0,V.K)().query,t=Number(null==e?void 0:e.lastReadMessage),n=(null==e?void 0:e.case)||(null==e?void 0:e.chat),a=(0,r.useRef)(null),s=(0,N.m)().searchQuery;return(0,r.useEffect)((function(){return function(){a.current&&clearTimeout(a.current)}}),[n]),{afterMessagesFetchService:function(e){var n,r,i,o,l,c,u,d,m=e.data,p=e.isDelayedMessage,f=e.setIsDelayedMessage,h=e.setAllowToLoad,g=e.direction,v=e.scrollToMsgId,x=e.cursorBot,y=e.scrollIntoElement,b=e.setUpdateEntityPage,_=e.searchedMessageId,C=e.paginationDepsRef,E=e.cursor,S=e.setIsLastPageFetched,Z=e.setIsFirstPageFetched,j=e.messagesLimit,k=e.setBottomLoading,N=e.isLoadedRepliedMessage,I=e.virtuosoRef,T=null!==(n=m.results)&&void 0!==n?n:[],A=null!==(r=null==m?void 0:m.count)&&void 0!==r?r:0,D=T.findIndex((function(e){return e.id===t})),M=null===(i=T[T.length-1])||void 0===i?void 0:i.id,O=null===(o=T[0])||void 0===o?void 0:o.id,R=null===E&&"previous"!==g&&!_,L=T.length<j&&(("previous"===(null===(l=C.current)||void 0===l?void 0:l.direction)||!s.length&&!N&&E===v)&&C.current.totalMessagesCount>=T.length||null===(null===(c=C.current)||void 0===c?void 0:c.direction)&&(A<=10||!N&&!_)),U=!C.current.isFirstPageFetched||!C.current.isSetSearchReply&&!C.current.isMessageHasBeenIndicated||!C.current.isFirstPageFetched&&C.current.groupMessageSearchQuery;(R||L||p)&&(S(!0),k(!1),setTimeout((function(){h(!0)}),300)),setTimeout((function(){var e,t,n;T.length<j&&("next"===(null===(e=C.current)||void 0===e?void 0:e.direction)||N&&null===(null===(t=C.current)||void 0===t?void 0:t.direction))&&(E>(null===(n=T[T.length-1])||void 0===n?void 0:n.id)||C.current.cursorTop===E)&&Z(!0)}),0),p&&(null==I||null===(d=I.current)||void 0===d||d.scrollToIndex({index:"LAST",align:"end",behavior:"auto",offset:100})),(R||U)&&setTimeout((function(){h(!0)}),300),(L||p)&&h(!0);var F=v||(null==C||null===(u=C.current)||void 0===u?void 0:u.scrollToMsgId),P=m.results.find((function(e){return(null==e?void 0:e.id)===F})),B=m.results.findIndex((function(e){return(null==e?void 0:e.id)===F||(null==e?void 0:e.message_id)===F}));if(P){setTimeout((function(){y({msgId:F,messageIndex:B})}),300)}O<E&&b({dir:"next",uuid:(0,w.x0)()}),x<M&&b({dir:"previous",uuid:(0,w.x0)()}),p&&null===E&&f(!1),D>=0&&(a.current=window.setTimeout((function(){y({msgId:t,messageIndex:D,blink:!1,scrollType:"auto",scrollAlign:"start"})}),0))}}}function he(){var e=(0,r.useState)({width:void 0,height:void 0}),t=(0,a.Z)(e,2),n=t[0],s=t[1];return(0,r.useEffect)((function(){function e(){s({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}var ge,ve=n(72426);n(34432),n(60329),n(46730);ve.Z.initializeApp({apiKey:"AIzaSyBYL4QAhRMPghTiFm0P9dRG6za5I9pXnoc",authDomain:"konnex-client.firebaseapp.com",databaseURL:"https://konnex-client.firebaseio.com",projectId:"konnex-client",storageBucket:"konnex-client.appspot.com",messagingSenderId:"285415707623",appId:"1:285415707623:web:867663ac4a06fbe8632342"}),ve.Z.messaging.isSupported()&&(ge=ve.Z.messaging());var xe=function(){var e=(0,i.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.requestPermission();case 3:return e.next=5,ge.getToken();case 5:return t=e.sent,ge.onMessage((function(e){0})),e.abrupt("return",t);case 10:e.prev=10,e.t0=e.catch(0),console.error("fcm error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ye=(ve.Z.auth(),ve.Z.database(),L.Z.user.setUserFCM),be=n(64880),_e=n(31519);function Ce(e){return!x()(e)}function Ee(){var e=(0,N.m)(),t=e.companyId,n=e.setHasUnread,a=e.setUnreadMessagesCount,s=e.setAreUnreadsFetched,o=e.setUnreadLoadingError,c=e.setUnreadCasesCountByStatus,d=e.setGroupUnreadMessage,m=(0,oe.b)({url:"/".concat(t,"/message_counts/"),params:{extra:{as_business_company:"true",as_client_company:"true",case_type:"staff"}},cb:{success:function(e,t){var r=Te(e);a(r,!t.length),n({type:"staff",value:Ce(r)}),s({type:"staff",value:!0})},error:function(e){console.error("fetchStaffUnreadMessagesCount",e),o(e.message)}}}).fetchData,p=(0,oe.b)({url:"/".concat(t,"/message_counts/"),params:{extra:{as_business_company:"true",case_type:"client"}},cb:{success:function(e,t){var r=Te(e);a(r,!t.length),n({type:"client",value:Ce(r)}),s({type:"client",value:!0})},error:function(e){console.error("fetchClientUnreadMessagesCount",e),o(e.message)}}}).fetchData,f=(0,oe.b)({url:"",dynamicUrl:!0,cb:{success:function(e,t){var n=(null==t?void 0:t[0]).afterCompanyAllUnreadSuccess;null==n||n(e)},error:function(e){console.error("fetchAllUnreadCounts",e)}}}).fetchData;function h(){return(h=(0,i.Z)(u().mark((function e(n){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={count:"true",by_status:"true"},null!=n&&n.caseUnread&&(a.entity_type="case"),null!=n&&n.groupUnread&&(a.entity_type="ims"),e.next=5,f({url:"/v2/".concat(t,"/unreads/"),params:{extra:a},afterCompanyAllUnreadSuccess:function(e){g(e,n)}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=(0,r.useCallback)((function(e,t){x()(t)?(a((0,l.Z)((0,l.Z)({},null==e?void 0:e.unread_messages_by_client_cases),null==e?void 0:e.unread_messages_by_staff_cases)),c(null==e?void 0:e.unread_cases_by_status),d(null==e?void 0:e.unread_messages_by_chats)):(null!=t&&t.caseUnread&&(a((0,l.Z)((0,l.Z)({},null==e?void 0:e.unread_messages_by_client_cases),null==e?void 0:e.unread_messages_by_staff_cases)),c(null==e?void 0:e.unread_cases_by_status)),null!=t&&t.groupUnread&&d(null==e?void 0:e.unread_messages_by_chats)),s({type:"all",value:!0})}),[]);return{fetchCompanyAllUnreadCounts:function(e){return h.apply(this,arguments)},fetchStaffUnreadMessagesCount:m,fetchClientUnreadMessagesCount:p}}function Se(){var e=(0,N.m)().setSelectedCaseFilter;return{fetchCaseFilter:(0,oe.b)({url:"",dynamicUrl:!0,params:{extra:{is_selected:"true"}},cb:{success:function(t){var n,a=(n={},(0,o.Z)(n,b.Z.CLIENT,t.results.find((function(e){return!e.is_staff&&e.is_selected}))||null),(0,o.Z)(n,b.Z.STAFF,t.results.find((function(e){return e.is_staff&&e.is_selected}))||null),n);a&&(B.tO.set("selectedCaseFilter",JSON.stringify(a)),e({filter:a,caseType:null,isInitialDispatch:!0}))},error:function(){}}}).fetchData}}var Ze=n(7982),je=function(){var e=(0,be.TH)(),t=(0,be.k6)(),n=(0,be.UO)(),s=(0,be.$B)(),i=(0,r.useState)(e.pathname),o=(0,a.Z)(i,2),l=o[0],c=o[1];return(0,r.useEffect)((function(){c(e.pathname)}),[e.pathname]),{history:t,location:e,path:l,params:n,match:s}},ke=n(54623),we=n(25157),Ne=L.Z.auth.GetMe.request,Ie=L.Z.user.loadUserCompaniesRequest;function Te(e){return Object.keys(e).reduce((function(t,n){var a=n.split("_")[1];return(0,l.Z)((0,l.Z)({},t),{},(0,o.Z)({},a,e[n]))}),{})}var Ae=function(){var e=(0,R.I0)(),t=(0,N.m)(),n=t.companyId,s=t.setAppDeviceUuid,o=t.setNetworkState,l=t.setSelectedCaseFilter,c=t.caseType,d=t.isDarkMode,m=t.setInitialStatusReverseState,p=t.setSettingsData,f=t.settingsData,h=t.isShowMobilePrompt,g=t.setIsShowMobilePrompt,v=t.setUnreadMessagesCount,y=t.setIsInternetDisconnected,b=t.isInternetDisconnected,_=t.networkState,C=t.setLanguage,E=(0,te.$G)().i18n,Z=(0,S.a)(),j=Z.userData,k=Z.isAuthentificated,I=(0,R.v9)((function(e){return(0,_e.tI)(e)})),T=Ee().fetchCompanyAllUnreadCounts,A=Se().fetchCaseFilter,D=(0,Ze.g)(),M=D.fetchBusinessSettings,O=D.fetchCasesMentionList,L=D.fetchCasesScheduledMessageCount,U=(0,be.k6)(),F=je().location;function P(e){var t=B.tO.get(e);return t?JSON.parse(t):null}(0,oe.b)({url:"/messages/mark-as-delivered/",method:"post",initialLoad:!0}),(0,r.useEffect)((function(){B.tO.set("darkMode",d.toString())}),[d]),(0,r.useEffect)((function(){var e;!f||null!=f&&null!==(e=f.settings_json)&&void 0!==e&&e.isMobilePromptShown||h||g(!0)}),[f,h,g]),(0,r.useEffect)((function(){k&&(B.tO.set("caseType",c),(F.pathname.includes("signin")||F.pathname.includes("signup"))&&U.push("/dashboard"))}),[c,k]),(0,r.useEffect)((function(){s((0,w.x0)());var e=function(){o("online")},t=function(){o("offline"),y(!0)};return window.addEventListener("online",e),window.addEventListener("offline",t),function(){window.removeEventListener("online",e),window.removeEventListener("offline",t)}}),[]),(0,r.useEffect)((function(){return b&&"online"===_&&(y(!1),setTimeout((0,i.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return e.next=4,O();case 4:return e.next=6,L();case 6:if(F.pathname.includes("case-messages")){e.next=9;break}return e.abrupt("return");case 9:we.C.emit("forceUpdateCasesList");case 10:case"end":return e.stop()}}),e)}))),500)),function(){clearInterval(undefined)}}),[b,_,F]),function(){var e=(0,S.a)(),t=e.userData,n=e.isAuthentificated,s=(0,R.I0)(),o=(0,r.useState)(null),l=(0,a.Z)(o,2),c=l[0],d=l[1],m=(0,oe.b)({url:"/web-devices/",method:"post",values:c}).fetchData;(0,r.useEffect)((function(){c&&m()}),[c]),(0,r.useEffect)((function(){(0,i.Z)(u().mark((function e(){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=12;break}return e.prev=1,e.next=4,xe();case 4:a=e.sent,s(ye(a)),a&&t&&d({registration_id:a,username:t.username,is_web:!0,is_business_app:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("firebase token get error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()}),[t])}(),(0,r.useEffect)((function(){null!==B.tO.get("token")&&e(Ne())}),[Ne]),(0,r.useEffect)((function(){n&&(0,i.Z)(u().mark((function e(){var t,a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v({}),e.next=3,T();case 3:return t=P("casesReverseData"),a=P("settingsData"),t&&"object"==typeof t&&!x()(t)&&m(t),a&&p(a),e.next=9,M();case 9:return e.next=11,O();case 11:return e.next=13,L();case 13:if(!(r=P("selectedCaseFilter"))){e.next=17;break}return l({filter:s=r,caseType:null,isInitialDispatch:!0}),P("selectedCaseFilter")||B.tO.set("selectedCaseFilter",JSON.stringify(s)),e.abrupt("return");case 17:return e.next=19,A({url:"/".concat(n,"/case-filters/")});case 19:case"end":return e.stop()}var s}),e)})))()}),[n]),(0,r.useEffect)((function(){var t,a;x()(j)||n||(e(Ie()),C(null==j?void 0:j.language),E.changeLanguage(null==j||null===(t=j.language)||void 0===t?void 0:t.short_name),(0,ke.r)(null==j||null===(a=j.language)||void 0===a?void 0:a.short_name))}),[j,n,E]),(0,r.useEffect)((function(){null===I&&U.push("add-business"),"INACTIVE"===(null==I?void 0:I.company.status)&&U.push("pending-page")}),[I])},De=n(4245);function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"page",t=(0,be.TH)(),n=(0,be.k6)(),a=De.parse(t.search),s=function(t){var r=(0,l.Z)((0,l.Z)({},a),{},(0,o.Z)({},e,t));n.push({search:De.stringify(r)})},i=(0,r.useCallback)((function(){var t=(0,l.Z)({},a);delete t[e],n.push({search:De.stringify(t)})}),[a]);return{location:t,history:n,urlQuery:a,handlePage:function(e,t){s(t)},page:Number(a[e]),removePage:i,handlePageChange:s}}var Oe=n(22553);function Re(){var e=(0,r.useState)(""),t=(0,a.Z)(e,2),n=t[0],s=t[1],i=(0,Oe.Z)(n,300),o=(0,a.Z)(i,1)[0];return(0,r.useMemo)((function(){return{query:n,setQuery:s,searchQuery:o}}),[o,n])}var Le=function(){var e=(0,r.useState)(!1),t=(0,a.Z)(e,2),n=t[0],s=t[1];return{Notification:ee.P_,notifVisible:n,setNotifVisible:s,handleNotificationClose:function(e,t){"clickaway"!==t&&s(!1)}}};function Ue(){var e=(0,r.useState)(!1),t=(0,a.Z)(e,2),n=t[0],s=t[1],i=(0,r.useCallback)((function(){s((function(e){return!e}))}),[]);return{WhiteModal:ee.Cx,open:n,modalHandler:i}}function Fe(e){var t=(0,r.useState)(e),n=(0,a.Z)(t,2),s=n[0],i=n[1],o=(0,r.useRef)(null),l=function(e){"Escape"===e.key&&i(!1)},c=function(e){o.current&&!o.current.contains(e.target)&&i(!1)};return(0,r.useEffect)((function(){return document.addEventListener("keydown",l,!0),document.addEventListener("click",c,!0),function(){document.removeEventListener("keydown",l,!0),document.removeEventListener("click",c,!0)}})),{ref:o,isComponentVisible:s,setIsComponentVisible:i}}function Pe(){var e=(0,R.I0)();return{reloadEntityOne:function(t){var n=t.entityId,a=t.entity,r=t.name,s=t.url,i=t.params,o=void 0===i?{}:i,l=t.primaryKey,c=void 0===l?"id":l,u=t.relations,d=void 0===u?"":u;e((0,O.Gx)({id:n,entity:a,name:r,url:s,params:o,primaryKey:c,relations:d}))}}}function Be(){var e=(0,R.I0)();return{reloadEntityAll:function(t){var n=t.entity,a=t.name,r=t.url,s=t.params,i=void 0===s?{page:1,limit:10}:s,o=t.primaryKey,l=void 0===o?"id":o,c=t.relations,u=void 0===c?"":c,d=t.dataKey,m=void 0===d?"results":d,p=t.metaKey,f=void 0===p?"":p,h=t.appendData,g=void 0!==h&&h,v=t.prependData,x=void 0===v||v,y=t.infiniteScroll,b=void 0===y||y,_=t.isUniq,C=void 0===_||_,E=t.reverse,S=void 0!==E&&E,Z=t.cb,j=void 0===Z?{success:function(e){}}:Z,k=t.replaceIds,w=void 0===k||k;e((0,O.am)({entity:n,name:a,url:r,params:i,primaryKey:l,relations:u,dataKey:m,metaKey:f,appendData:g,prependData:x,infiniteScroll:b,isUniq:C,reverse:S,cb:j,replaceIds:w}))}}}var He,Ge=U.Z.getOne();function Ke(e){var t=e.entityId,n=e.entity,a=e.entityName;return(0,R.v9)((function(e){return Ge(e,{id:t,entity:n,name:a})}))}function Ve(){clearInterval(He)}var Ye=null,qe=null;function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Cases",t=(0,r.useState)(!1),n=(0,a.Z)(t,2),s=n[0],i=n[1],o=(0,N.m)().unreadCasesCountByStatus,l=Object.keys(o).length,c=function(){document[Ye]?i(!0):i(!1)};return(0,r.useEffect)((function(){return document.addEventListener(qe,c,!1),l>0&&(Ve(),function(e){e||(e={});var t=e.delay||0,n=e.message||"",a=e.notifyOffPage||!1,r=e.timeout||!1,s=e.title||document.title;function i(){document.title===s?document.title=n:document.title=s}He=a?setInterval((function(){document.hidden&&i()}),t):setInterval((function(){i()}),t),r&&setTimeout(Ve,r)}({title:"KENNEKT | ".concat(e),message:"".concat(l," unread cases"),delay:1200,notifyOffPage:!0})),function(){Ve(),document.removeEventListener(qe,c)}}),[l]),{unreadCasesQuantity:l,isHidden:s}}void 0!==document.hidden?(Ye="hidden",qe="visibilitychange"):void 0!==document.msHidden?(Ye="msHidden",qe="msvisibilitychange"):void 0!==document.webkitHidden&&(Ye="webkitHidden",qe="webkitvisibilitychange");var ze=n(90218);function We(e,t){var n=(0,ze.K)().isRTL,a=(0,r.useRef)();(0,r.useEffect)((function(){var r=null==t?void 0:t.current;if(r&&r.addEventListener){a.current!==i&&(a.current=i);var s=function(e){null!=a&&a.current&&a.current(e)};return r.addEventListener("mousedown",s),function(){r.removeEventListener("mousedown",s)}}function i(t){var a=t.clientX,r=(t.clientY,document.querySelector(".chat-panel"));function s(e){var t=null==r?void 0:r.getBoundingClientRect();if(r&&t){var s=n?t.width-(a-e.clientX):t.width+(a-e.clientX);r.style.width="".concat(s,"px")}a=e.clientX,e.clientY}window.addEventListener("mousemove",s),window.addEventListener("mouseup",(function t(){window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",t);var n=null==r?void 0:r.getBoundingClientRect();"number"==typeof(null==n?void 0:n.width)&&e(n.width)}))}}),[t,n])}function Je(e){var t=e.isSetPassword,n=void 0!==t&&t,a=e.isEmailConfirmation,s=void 0!==a&&a,i=e.isChangePassword,o=void 0!==i&&i,l=(0,R.I0)(),c=(0,R.v9)((function(e){return(0,_e.KT)(e)})),u=(0,N.m)(),d=u.setRegisterInfo,m=u.setHasUnread,p=u.setAreUnreadsFetched,f=u.toggleDark,h=u.isDarkMode,g=u.setIsAppAvailable,v=u.setCaseType,x=(0,V.K)().query,y=(0,be.UO)(),_=(0,be.k6)();(0,oe.b)({url:"/user/unauth/",method:"delete",initialLoad:!0,cb:{success:function(e,t){},error:function(e,t){}}});var C=(0,oe.b)({url:"/web-devices/".concat(c,"/"),method:"delete"}).fetchData;(0,r.useEffect)((function(){setTimeout((function(){l(L.Z.auth.Logout.request({cb:function(){C(),l({type:"LOGOUT/SUCCESS"}),B.tO.remove("selectedBusiness"),B.tO.remove("company"),B.tO.remove("selectedCaseFilter"),B.tO.remove("caseType"),B.tO.remove("token"),B.tO.remove("caseDraft"),B.tO.remove("imsDraft"),B.tO.remove("paymentWidget"),B.tO.remove("casesReverseData"),B.tO.remove("settingsData"),B.tO.remove("darkMode"),g(!1),v(b.Z.STAFF),h&&f(),d(null),["staff","client","group","all"].forEach((function(e){p({type:e,value:!1})})),["staff","client"].forEach((function(e){m({type:e,value:!1})})),n?setTimeout((function(){_.push("/app/set-password/".concat(y.code,"?type=accept&username=").concat(x.username))}),300):o?setTimeout((function(){_.push("/change-password/?username=".concat(x.username,"&code=").concat(x.code))}),300):s?setTimeout((function(){_.push("/app/sts/".concat(y.code))}),300):null!=x&&x.resignin&&(_.push("/signin"),localStorage.clear(),document.location.reload())}}))}),300)}),[])}var Xe=b.Z.GMAP_API_KEY,$e="https://maps.googleapis.com/maps/api/js",et="https://maps.googleapis.com/maps/api/geocode/json";var tt=function(e){var t,n,a,r,s,i,o,l,c,u,d,m,p={city:"",state:"",zip:"",country:"",houseNumber:"",street:"",lat:"function"==typeof(null===(t=e.geometry)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.lat)?null===(a=e.geometry)||void 0===a||null===(r=a.location)||void 0===r?void 0:r.lat():null===(s=e.geometry)||void 0===s||null===(i=s.location)||void 0===i?void 0:i.lat,lng:"function"==typeof(null===(o=e.geometry)||void 0===o||null===(l=o.location)||void 0===l?void 0:l.lng)?null===(c=e.geometry)||void 0===c||null===(u=c.location)||void 0===u?void 0:u.lng():null===(d=e.geometry)||void 0===d||null===(m=d.location)||void 0===m?void 0:m.lng,plain:function(){return(this.houseNumber?"".concat(this.houseNumber,", "):"")+(this.street?"".concat(this.street):"")}};return Array.isArray(null==e?void 0:e.address_components)?(e.address_components.forEach((function(e){var t=e.types,n=e.long_name;t.includes("locality")&&(p.city=n),t.includes("route")&&(p.street=n),t.includes("street_number")&&(p.houseNumber=n),t.includes("administrative_area_level_1")&&(p.state=n),t.includes("postal_code")&&(p.zip=n),t.includes("country")&&(p.country=n)})),p):p};function nt(e){var t=(0,r.useRef)(null),n=(0,r.useState)({}),s=(0,a.Z)(n,2),i=s[0],o=s[1],l=function(){var e;return null!==(e=window)&&void 0!==e&&e.google?Promise.resolve():function(e){return new Promise((function(t){var n=document.createElement("script");Object.assign(n,{type:"text/javascript",async:!0,src:e}),n.addEventListener("load",(function(){return t(n)})),document.head.appendChild(n)}))}("".concat($e,"?key=").concat(Xe,"&libraries=places&v=weekly&language=en"))},c=function(){if(t.current){var e=new window.google.maps.places.Autocomplete(t.current);e.setFields(["address_component","geometry"]),e.addListener("place_changed",(function(){return function(e){var n=e.getPlace(),a=tt(n);t.current.value=a.plain(),o(a)}(e)}))}};return(0,r.useEffect)((function(){var t;void 0===e?l().then((function(){return c()})):e&&null!==(t=window)&&void 0!==t&&t.google&&c()}),[e,c]),{searchInputRef:t,placeAddress:i,findMyLocation:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var n,a,r,s;n=e.coords,a=n.latitude,r=n.longitude,s="".concat(et,"?key=").concat(Xe,"&latlng=").concat(a,",").concat(r,"&language=en"),t.current&&(t.current.value="Getting your location..."),fetch(s).then((function(e){return e.json()})).then((function(e){var n=e.results[0],a=tt(n);o(a),t.current&&(t.current.value=a.plain())}))}))}}}function at(){var e=(0,R.v9)((function(e){return e.entity})),t=(0,R.I0)();return{getEntityData:function(t,n){var a,r,s,i,o,l;return{entity:t,entityName:n,ids:null===(a=e[t])||void 0===a||null===(r=a[n])||void 0===r?void 0:r.ids,meta:null===(s=e[t])||void 0===s||null===(i=s[n])||void 0===i?void 0:i.meta,params:null===(o=e[t])||void 0===o||null===(l=o[n])||void 0===l?void 0:l.params}},reOrder:function(e){var t=e.list,n=e.startIndex,r=e.endIndex,s=Array.from(t),i=Array.from(t),o=i.splice(n,1),l=(0,a.Z)(o,1)[0];return i.splice(r,0,l),{newIds:i,prevIds:s}},modifyEntityIds:function(e){var n=e.ids,a=e.entity,r=e.entityName,s=e.params,i=e.meta;t((0,O.Qy)({ids:n,entity:a,name:r,appendData:!1,prependData:!1,params:s,meta:i,infiniteScroll:!1,isUniq:!1,replaceIds:!0}))},reOrderStatusList:function(e,t){return t.map((function(t,n){return(0,l.Z)((0,l.Z)({},e.find((function(e){return e.id===t}))),{},{order_number:n})}))},removingEntityId:function(e){var t=e.list,n=e.index,a=e.isDragging,r=e.entityId,s=Array.from(t),i=Array.from(t);return a&&n?(i.splice(n,1),{prevSourceIds:s,nextSourceIds:i}):{prevSourceIds:s,nextSourceIds:i.filter((function(e){return e!==r}))}},insertingEntityId:function(e){var t=e.list,n=e.index,a=e.newEntityId,r=Array.from(null!=t?t:[]),s=Array.from(null!=t?t:[]).filter((function(e){return e!==a}));return s.splice(n||0,0,a),{prevDestinationIds:r,nextDestinationIds:s}}}}function rt(e){var t=Object.keys(e).reduce((function(t,n){return(0,l.Z)((0,l.Z)({},t),{},(0,o.Z)({},n,e[n]))}),{}),n=(0,r.useState)(t),s=(0,a.Z)(n,2),i=s[0],c=s[1],u=(0,r.useCallback)((function(e){c((0,l.Z)((0,l.Z)({},i),{},(0,o.Z)({},e.target.name,e.target.checked)))}),[i]);return{checked:i,handleChange:u,setChecked:c}}function st(){var e=(0,r.useState)(!1),t=(0,a.Z)(e,2),n=t[0],s=t[1],i=(0,r.useState)(null),o=(0,a.Z)(i,2),l=o[0],c=o[1];return{loading:n,visible:l,toggleLoading:function(){return s((function(e){return!e}))},showVisible:function(e){return c(e)},closePopup:function(){return c(null)}}}function it(){var e=(0,N.m)().companyId,t=(0,S.a)().companies,n=(0,r.useState)(null),s=(0,a.Z)(n,2),i=s[0],o=s[1],l=(0,r.useState)({days:0,hours:0,minutes:0}),c=(0,a.Z)(l,2),u=c[0],d=c[1];return(0,r.useEffect)((function(){if(e&&t.length){var n=t.find((function(t){return t.company.id===e})),a=null==n?void 0:n.company.comp_subscription;if(a){var r=(0,B.$4)(null==a?void 0:a.end_date);d({days:+r[0],hours:+r[1],minutes:+r[2]}),o(a)}}}),[e,t]),{timeLeft:u,subscription:i}}function ot(){var e=(0,r.useState)([]),t=(0,a.Z)(e,2),n=t[0],s=t[1],i=(0,r.useState)(!1),o=(0,a.Z)(i,2),l=o[0],c=o[1],u=(0,r.useCallback)((function(e){e.length&&s(e),n.length&&!e.length&&s([])}),[n]);return{formValues:n,guardOpen:l,setGuardOpen:c,formValuesSetter:u}}function lt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,be.UO)(),a=ne().showNotification,s=(0,r.useRef)(!1),i=(0,oe.b)({url:"",dynamicUrl:!0,cb:{success:function(t,n){a({message:(null==t?void 0:t.message)||"Successfully Confirmed",variant:"success"}),e()},error:function(t,n){var r,s;a({message:(null==t||null===(r=t.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"The request is incorrect",variant:"error"}),e()}}}).fetchData;(0,r.useEffect)((function(){"code"in n&&!s.current&&(s.current=!0,i({url:"".concat(t?"/transfer":"","/sts/").concat(n.code,"/")}))}),[n.code])}function ct(){var e,t,n,a,s,i,o,l,c,u,d,m=(0,N.m)(),p=m.selectedCaseFilter,f=m.caseType,h=m.chatsMentionList,g=m.unreadMessagesCount,v=((0,S.a)().userData,(0,V.K)().query),x=Number(null==v?void 0:v.case),y=p[f],b=!(null!=h&&null!==(e=h[x])&&void 0!==e&&e.length),_=!(null!=g&&g[x]),C=!1,E=!!y&&(null==y||null===(t=y.filter_json)||void 0===t?void 0:t.unread),Z=null!==(n=null==y||null===(a=y.filter_json)||void 0===a||null===(s=a.query_web)||void 0===s?void 0:s.priority)&&void 0!==n?n:null,j=null!==(i=null==y||null===(o=y.filter_json)||void 0===o||null===(l=o.query_web)||void 0===l?void 0:l.assignees)&&void 0!==i?i:null,k=(null==y||null===(c=y.filter_type)||void 0===c?void 0:c.value)||"and",w="and"===k,I="or"===k,T=null==y||null===(u=y.filter_json)||void 0===u?void 0:u.pinned,A=null==y||null===(d=y.filter_json)||void 0===d?void 0:d.tagged,D=[],M=[];E&&(D.push(E),M.push(_)),A&&(D.push(A),M.push(b)),w&&D.length&&D.every((function(e){return!!e}))&&(C=M.every((function(e){return!!e}))),I&&D.length&&D.some((function(e){return!!e}))&&(C=M.some((function(e){return!!e})));var O=null==y?void 0:y.id,R=(0,r.useCallback)((function(e){return!!j&&j.includes(null==e?void 0:e.toString())}),[j]);return{hasUnreadFilter:E,selectedFilterTemplate:y,priorityFilter:Z,assigneeFilter:j,selectedFilterTemplateId:O,filterType:k,andFilterType:w,hasPinnedFilter:T,itShouldSatisfyActiveFilter:C,isRemovedUserInAssigneeFilterList:R}}function ut(e){var t,n=e.pageKey,a=void 0===n?"page":n,s=e.entity,i=e.entityName,l=(0,V.K)(),c=l.query,u=l.changeUrlParams,d=null==c?void 0:c[a],m=(0,R.v9)((function(e){return f()(e,"entity.".concat(s,".").concat(i),"")})),p=null==m||null===(t=m.ids)||void 0===t?void 0:t.length;return{forwardToPreviousPage:(0,r.useCallback)((function(){p&&p<2&&d&&u((0,o.Z)({},a,parseInt(d)-1))}),[p,d,a,u])}}function dt(e){(function(e){return e&&"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()}function mt(e){var t=e.onLongPress,n=e.onClick,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=s.delay,o=void 0===i?300:i,c=s.shouldPreventDefault,u=void 0===c||c,d=(0,r.useState)(!1),m=(0,a.Z)(d,2),p=m[0],f=m[1],h=(0,r.useRef)(),g=(0,r.useRef)(),v=(0,r.useCallback)((function(e){var n=(0,l.Z)({},e);u&&e.target&&(e.target.addEventListener("touchend",dt,{passive:!1}),g.current=e.target),h.current=setTimeout((function(){t(n),f(!0)}),o)}),[t,o,u]),x=(0,r.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];h.current&&clearTimeout(h.current),t&&!p&&(null==n||n(e)),f(!1),u&&g.current&&g.current.removeEventListener("touchend",dt)}),[u,n,p]);return{onMouseDown:function(e){return v(e)},onTouchStart:function(e){return v(e)},onMouseUp:function(e){return x(e)},onMouseLeave:function(e){return x(e,!1)},onTouchEnd:function(e){return x(e)}}}},706:function(e,t,n){"use strict";n.d(t,{b:function(){return m}});var a=n(15861),r=n(29439),s=n(64687),i=n.n(s),o=n(72791),l=n(66364),c=n.n(l),u=n(80266),d=n(97689),m=function(e){var t=e.url,n=e.method,s=void 0===n?"get":n,l=e.values,m=void 0===l?{}:l,p=e.params,f=void 0===p?{}:p,h=e.initialLoad,g=void 0!==h&&h,v=e.cb,x=void 0===v?{success:function(e,t){},error:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){}))}:v,y=e.dynamicUrl,b=e.dynamicValues,_=(0,d.a)().userData,C=(0,o.useState)(void 0),E=(0,r.Z)(C,2),S=E[0],Z=E[1],j=(0,o.useState)(null),k=(0,r.Z)(j,2),w=k[0],N=k[1],I=(0,o.useState)(!1),T=(0,r.Z)(I,2),A=T[0],D=T[1],M=function(){var e=(0,a.Z)(i().mark((function e(){var n,a,r,o,l,c,d,p,h,g=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(D(!0),n=g.length,a=new Array(n),r=0;r<n;r++)a[r]=g[r];return e.prev=2,l=a.find((function(e){return"object"==typeof e&&"url"in e&&e.url})),c=a.find((function(e){return"object"==typeof e&&"values"in e&&e.values})),d=null!==(o=null==l?void 0:l.params)&&void 0!==o?o:f,e.next=8,u.hi.request[s]((0,u.kB)(y?null==l?void 0:l.url:t,d),b?c.values:m);case 8:return p=e.sent,h=p.data,Z(h),x.success(h,a),D(!1),e.abrupt("return");case 16:e.prev=16,e.t0=e.catch(2),N(e.t0),D(!1),x.error(e.t0,a);case 21:return e.prev=21,e.finish(21);case 23:case"end":return e.stop()}}),e,null,[[2,16,21,23]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){!c()(_)&&g&&M()}),[_]),{response:S,error:w,loading:A,fetchData:M}}},18342:function(e,t,n){"use strict";n.d(t,{s:function(){return o}});var a=n(87818),r=n(77676),s=r.Z.getAll(),i=r.Z.getOne();function o(e){var t=e.entityId,n=void 0===t?0:t,r=e.entity,o=e.entityName,l=(0,a.v9)((function(e){return s(e,{id:n,entity:r,name:o})}));return{one:(0,a.v9)((function(e){return i(e,{id:n,entity:r,name:o})})),all:l}}},65954:function(e,t,n){"use strict";n.d(t,{K:function(){return l}});var a=n(4942),r=n(1413),s=n(4245),i=n(64880),o=n(72791);function l(){var e=(0,i.TH)(),t=(0,i.k6)(),n=s.parse(e.search),l=(0,o.useRef)(t.push).current,c=(0,o.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=(0,r.Z)((0,r.Z)({},n),e);l({search:s.stringify(t?e:a)})}),[n,l]),u=(0,o.useCallback)((function(e){var t=(0,r.Z)({},n),i=Object.keys(t).filter((function(t){return t!==e})).reduce((function(e,n){return(0,r.Z)((0,r.Z)({},e),{},(0,a.Z)({},n,t[n]))}),{});l({search:s.stringify(i)})}),[n,l]),d=(0,o.useCallback)((function(e){var t=(0,r.Z)({},n),i=Object.keys(t).filter((function(t){return!e.includes(t)})).reduce((function(e,n){return(0,r.Z)((0,r.Z)({},e),{},(0,a.Z)({},n,t[n]))}),{});l({search:s.stringify(i)})}),[n,l]),m=(0,o.useCallback)((function(){l({search:s.stringify({})})}),[l]);return{changeUrlParams:c,query:n,removeQueryParams:m,handleSort:function(e,t){var i,o=(0,r.Z)((0,r.Z)({},n),{},(i={},(0,a.Z)(i,t,e),(0,a.Z)(i,"page",1),i));l({search:s.stringify(o)})},removeOneQueryParam:u,removeMultipleParams:d}}},90218:function(e,t,n){"use strict";n.d(t,{K:function(){return s}});var a=n(72791),r=n(17173);function s(){var e=(0,r.$G)().i18n,t=(0,a.useMemo)((function(){return e.dir(e.language.toLowerCase())}),[e.language]),n=(0,a.useMemo)((function(){return"rtl"===t}),[t]);return{languageDirection:t,isRTL:n}}},71015:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});var a=n(1413),r=n(87818),s=n(32380).Z.entities.updateEntitiesSuccess;function i(){var e=(0,r.I0)();return{updateEntities:function(t){var n=t.entity,r=t.entityId,i=t.updatingData;e(s({entity:n,entityId:String(r),data:(0,a.Z)({},i)}))}}}},38145:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});n(72791);var a=n(80184);function r(e){var t=e.className,n=void 0===t?"":t;return(0,a.jsx)("svg",{width:"6",height:"24",className:n,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 21a3 3 0 10-6 0 3 3 0 006 0zm0-9a3 3 0 10-6 0 3 3 0 006 0zM3 0a3 3 0 110 6 3 3 0 010-6z"})})}},92112:function(e,t,n){"use strict";n.d(t,{N_:function(){return S},ip:function(){return d},os:function(){return o},NO:function(){return b},$P:function(){return x},r2:function(){return D},bl:function(){return C},mF:function(){return p},Dj:function(){return E},CX:function(){return A},yl:function(){return Z},WC:function(){return j},wH:function(){return c},aN:function(){return m},vP:function(){return T},KZ:function(){return f},hc:function(){return v},fu:function(){return k},Gv:function(){return g},KT:function(){return _},Dg:function(){return r},xk:function(){return u},HF:function(){return w},lI:function(){return s},tK:function(){return I},FO:function(){return N},Wn:function(){return l},Yi:function(){return i},i_:function(){return h},Qy:function(){return M}});n(38145),n(72791);var a=n(80184);function r(e){var t=e.className,n=void 0===t?"":t;return(0,a.jsx)("svg",{width:"13",height:"13",className:n,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M7.6.632a.437.437 0 01.31.128l4.33 4.33a.438.438 0 010 .62c-.42.42-.938.514-1.315.514-.155 0-.293-.016-.402-.034L7.78 8.932c.072.291.119.588.14.886.04.615-.028 1.477-.63 2.079a.438.438 0 01-.619 0L4.197 9.422l-2.785 2.784c-.17.171-1.066.79-1.237.619-.17-.17.448-1.067.619-1.237l2.784-2.785-2.474-2.475a.438.438 0 010-.619c.601-.602 1.463-.67 2.078-.63.299.021.595.068.886.14L6.81 2.48a2.426 2.426 0 01-.035-.404c0-.377.095-.895.516-1.315a.437.437 0 01.308-.128z"})})}function s(e){var t=e.className,n=void 0===t?"":t;return(0,a.jsxs)("svg",{width:"22",height:"22",xmlns:"http://www.w3.org/2000/svg",className:n,fill:"currentColor",children:[(0,a.jsx)("path",{d:"M11 22c6.075 0 11-4.925 11-11S17.075 0 11 0 0 4.925 0 11s4.925 11 11 11z",fill:"currentColor",className:n}),(0,a.jsx)("path",{d:"M6.426 14.435c.027.11.714 2.676 4.574 2.676s4.547-2.567 4.574-2.676a.305.305 0 00-.145-.338.309.309 0 00-.366.046c-.012.012-1.195 1.135-4.063 1.135-2.869 0-4.052-1.123-4.063-1.134a.306.306 0 00-.365-.05.306.306 0 00-.146.341zM7.333 10.389c.844 0 1.528-.958 1.528-2.139 0-1.181-.684-2.139-1.528-2.139-.843 0-1.527.958-1.527 2.139 0 1.181.684 2.139 1.527 2.139zM14.667 10.389c.844 0 1.528-.958 1.528-2.139 0-1.181-.684-2.139-1.528-2.139s-1.528.958-1.528 2.139c0 1.181.684 2.139 1.528 2.139z",fill:"#4F5660"})]})}function i(e){var t=e.className,n=void 0===t?"":t;return(0,a.jsx)("svg",{width:"17",height:"17",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:n,children:(0,a.jsx)("path",{d:"M15.956 1.044a.643.643 0 00-.675-.148L1.14 6.039a.643.643 0 000 1.202L6.66 9.446l4.075-4.089.907.907-4.095 4.094 2.211 5.523a.643.643 0 00.598.405.643.643 0 00.592-.425L16.09 1.72a.643.643 0 00-.135-.675z",fill:"currentColor"})})}function o(e){var t=e.className,n=void 0===t?"":t;return(0,a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:n,xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M11.9933 11.4467C14.5007 11.4467 16.5333 9.41407 16.5333 6.9067C16.5333 4.39933 14.5007 2.3667 11.9933 2.3667C9.48596 2.3667 7.45333 4.39933 7.45333 6.9067C7.45333 9.41407 9.48596 11.4467 11.9933 11.4467Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M8 17.7667C8.01386 17.3979 8.13676 17.0414 8.35318 16.7424C8.56959 16.4433 8.8698 16.2152 9.21586 16.0868C9.56192 15.9583 9.93828 15.9354 10.2974 16.0208C10.6565 16.1062 10.9822 16.2962 11.2333 16.5667L13.8067 19.3334L18.3667 14.2467C16.483 12.9914 14.2634 12.336 12 12.3667C10.4299 12.327 8.8702 12.6317 7.4305 13.2594C5.9908 13.8872 4.70608 14.8226 3.66667 16.0001C3.57874 16.1173 3.53188 16.2602 3.53334 16.4067V20.0001C3.53318 20.3468 3.66815 20.6801 3.90961 20.929C4.15107 21.1779 4.48002 21.323 4.82667 21.3334H10.54L8.49334 19.1334C8.32424 18.9499 8.19349 18.7345 8.10877 18.4998C8.02406 18.2651 7.98708 18.0159 8 17.7667Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M19.1733 21.3333C19.52 21.3229 19.8489 21.1778 20.0904 20.9289C20.3318 20.68 20.4668 20.3468 20.4667 20V17.4933L17.0467 21.3333H19.1733Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M22.5133 12.4134C22.4479 12.3542 22.3714 12.3087 22.2882 12.2793C22.2051 12.25 22.1169 12.2374 22.0289 12.2424C21.9408 12.2473 21.8546 12.2697 21.7753 12.3082C21.696 12.3467 21.625 12.4006 21.5667 12.4667L13.82 21.1334L10.3533 17.4067C10.2964 17.3402 10.227 17.2855 10.1489 17.2458C10.0709 17.2061 9.98581 17.1821 9.89852 17.1753C9.81123 17.1685 9.72346 17.179 9.64021 17.2061C9.55696 17.2332 9.47987 17.2765 9.41333 17.3334C9.35085 17.3953 9.30125 17.4691 9.2674 17.5503C9.23356 17.6316 9.21613 17.7187 9.21613 17.8067C9.21613 17.8947 9.23356 17.9818 9.2674 18.0631C9.30125 18.1443 9.35085 18.2181 9.41333 18.28L13.8667 23.08L22.56 13.3334C22.6721 13.2035 22.7298 13.0354 22.7211 12.864C22.7124 12.6927 22.638 12.5312 22.5133 12.4134Z",fill:"currentColor"})]})}function l(e){var t=e.className,n=void 0===t?"":t;return(0,a.jsxs)("svg",{width:"19",className:n,height:"21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("rect",{x:"19",y:".128",width:"20.308",height:"19",rx:"4",transform:"rotate(90 19 .128)",fill:"#333",fillOpacity:".05"}),(0,a.jsx)("path",{d:"M6.73 11.467c0 .157.058.307.161.419a.537.537 0 0 0 .392.173.537.537 0 0 0 .392-.173.614.614 0 0 0 .163-.42V8.159l.716.766a.536.536 0 0 0 .39.166.537.537 0 0 0 .387-.173.613.613 0 0 0 .162-.414.615.615 0 0 0-.155-.417L7.675 6.31a.537.537 0 0 0-.392-.174.537.537 0 0 0-.391.174L5.229 8.086a.627.627 0 0 0-.007.845.523.523 0 0 0 .79-.007l.717-.766v3.309ZM12.27 9.098a.614.614 0 0 0-.162-.42.537.537 0 0 0-.391-.173.537.537 0 0 0-.392.174.614.614 0 0 0-.162.419v3.308l-.717-.766a.557.557 0 0 0-.18-.132.523.523 0 0 0-.61.125.627.627 0 0 0 .007.845l1.662 1.777a.537.537 0 0 0 .392.173.537.537 0 0 0 .391-.173l1.663-1.777a.615.615 0 0 0 .155-.417.613.613 0 0 0-.162-.413.537.537 0 0 0-.387-.174.536.536 0 0 0-.39.166l-.716.766V9.098Z",fill:"#A5A7B2"})]})}function c(e){var t=e.className,n=void 0===t?"":t;return(0,a.jsxs)("svg",{className:n,width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14Zm0 1A8 8 0 1 0 8-.001 8 8 0 0 0 8 16Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M7 11.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5Zm-2-3a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-2-3a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Z",fill:"currentColor"})]})}function u(e){var t=e.className,n=void 0===t?"":t;return(0,a.jsxs)("svg",{width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[(0,a.jsx)("circle",{cx:"7",cy:"7",r:"6",stroke:"currentColor",strokeWidth:"2"}),(0,a.jsx)("path",{d:"M9.813 7H7.25A.25.25 0 0 1 7 6.75V4.812",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}function d(){return(0,a.jsxs)("svg",{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{opacity:".01",fill:"#00A09D",d:"M0 0h20v20H0z"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.667 10a8.333 8.333 0 1 1 16.667 0 8.333 8.333 0 0 1-16.667 0Zm1.667 0a6.667 6.667 0 1 0 13.333 0 6.667 6.667 0 0 0-13.333 0Z",fill:"#00A09D"}),(0,a.jsx)("path",{d:"M12.5 9.167h-1.666V7.5a.833.833 0 0 0-1.667 0v1.667H7.5a.833.833 0 1 0 0 1.666h1.667V12.5a.833.833 0 1 0 1.667 0v-1.667H12.5a.833.833 0 1 0 0-1.666Z",fill:"#00A09D"})]})}function m(e){var t=e.className,n=void 0===t?"":t;return(0,a.jsxs)("svg",{width:"14",height:"15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[(0,a.jsx)("path",{d:"M5.444 10.177V7.882M8.556 10.177V7.882",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),(0,a.jsx)("path",{d:"M0 4h14c-.31 0-.464 0-.594.017a2 2 0 0 0-1.722 1.722c-.017.13-.017.285-.017.594v3.608c0 1.886 0 2.829-.586 3.414-.586.586-1.529.586-3.414.586H6.333c-1.885 0-2.828 0-3.414-.586-.586-.585-.586-1.528-.586-3.414V6.333c0-.31 0-.464-.017-.594A2 2 0 0 0 .594 4.017C.464 4 .31 4 0 4Z",fill:"currentColor",fillOpacity:".2",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),(0,a.jsx)("path",{d:"M5.498 1.283c.088-.08.283-.153.555-.204C6.325 1.028 6.658 1 7 1c.343 0 .675.028.947.079.272.051.467.123.556.204",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function p(e){var t=e.className,n=void 0===t?"":t;return(0,a.jsx)("svg",{width:"12",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:(0,a.jsx)("path",{d:"M1.333 6.583h3.5c.321 0 .584-.262.584-.583V1.333A.585.585 0 0 0 4.833.75h-3.5a.585.585 0 0 0-.583.583V6c0 .32.262.583.583.583Zm0 4.667h3.5c.321 0 .584-.262.584-.583V8.333a.585.585 0 0 0-.584-.583h-3.5a.585.585 0 0 0-.583.583v2.334c0 .32.262.583.583.583Zm5.834 0h3.5c.32 0 .583-.262.583-.583V6a.585.585 0 0 0-.583-.583h-3.5A.585.585 0 0 0 6.583 6v4.667c0 .32.263.583.584.583Zm-.584-9.917v2.334c0 .32.263.583.584.583h3.5c.32 0 .583-.263.583-.583V1.333a.585.585 0 0 0-.583-.583h-3.5a.585.585 0 0 0-.584.583Z",fill:"currentColor"})})}function f(e){var t=e.className,n=void 0===t?"":t;return(0,a.jsx)("svg",{className:n,width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M8.85875 0.577499C8.62667 0.358079 8.31939 0.235821 8 0.235821C7.68061 0.235821 7.37334 0.358079 7.14125 0.577499L1.08625 6.3C0.900853 6.47544 0.753228 6.68689 0.652421 6.92139C0.551614 7.15589 0.499748 7.4085 0.500001 7.66375V14.6263C0.500332 15.1233 0.698023 15.5999 1.04962 15.9513C1.40121 16.3026 1.87794 16.5 2.375 16.5H4.25C4.74728 16.5 5.2242 16.3025 5.57583 15.9508C5.92746 15.5992 6.125 15.1223 6.125 14.625V11.5C6.125 11.3342 6.19085 11.1753 6.30806 11.0581C6.42527 10.9408 6.58424 10.875 6.75 10.875H9.25C9.41576 10.875 9.57473 10.9408 9.69194 11.0581C9.80915 11.1753 9.875 11.3342 9.875 11.5V14.625C9.875 15.1223 10.0725 15.5992 10.4242 15.9508C10.7758 16.3025 11.2527 16.5 11.75 16.5H13.625C14.1223 16.5 14.5992 16.3025 14.9508 15.9508C15.3025 15.5992 15.5 15.1223 15.5 14.625V7.6625C15.4999 7.40737 15.4478 7.15494 15.3468 6.92066C15.2457 6.68639 15.098 6.47519 14.9125 6.3L8.85875 0.574999V0.577499Z",fill:"#A5A7B2"})})}function h(e){var t=e.className,n=void 0===t?"":t;return(0,a.jsxs)("svg",{className:n,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M8.15 7.94445C9.99095 7.94445 11.4833 6.45206 11.4833 4.61111C11.4833 2.77016 9.99095 1.27778 8.15 1.27778C6.30905 1.27778 4.81667 2.77016 4.81667 4.61111C4.81667 6.45206 6.30905 7.94445 8.15 7.94445Z",fill:"#A5A7B2"}),(0,a.jsx)("path",{d:"M9.13334 17.6778C8.94974 17.4962 8.82994 17.26 8.79188 17.0046C8.75382 16.7492 8.79955 16.4883 8.92223 16.2611L9.21667 15.7056L8.61111 15.5222C8.36418 15.4449 8.1492 15.2892 7.9988 15.0786C7.8484 14.8681 7.77081 14.6142 7.77778 14.3556V13.2167C7.77731 12.9591 7.8597 12.7083 8.01277 12.5012C8.16583 12.2941 8.38146 12.1418 8.62778 12.0667L9.23334 11.8833L8.94445 11.3278C8.82537 11.1037 8.78006 10.8477 8.81497 10.5963C8.84989 10.3449 8.96325 10.111 9.13889 9.92778C8.71149 9.87175 8.28105 9.84206 7.85 9.83889C6.57685 9.80892 5.31277 10.0603 4.14791 10.575C2.98306 11.0897 1.94614 11.8551 1.11111 12.8167V17.1222C1.11111 17.2696 1.16965 17.4109 1.27383 17.5151C1.37802 17.6192 1.51933 17.6778 1.66667 17.6778H9.13334Z",fill:"#A5A7B2"}),(0,a.jsx)("path",{d:"M18.7222 13.0333L17.6111 12.7C17.5341 12.4256 17.426 12.1609 17.2889 11.9111L17.8444 10.8778C17.8659 10.8394 17.8738 10.7949 17.8667 10.7515C17.8596 10.7082 17.8381 10.6684 17.8056 10.6389L17 9.82778C16.969 9.79758 16.9294 9.77766 16.8867 9.7707C16.8439 9.76374 16.8001 9.77009 16.7611 9.78889L15.7333 10.3444C15.4803 10.207 15.2142 10.0953 14.9389 10.0111L14.6 8.9C14.5851 8.85903 14.5579 8.82368 14.522 8.79881C14.4862 8.77395 14.4436 8.76078 14.4 8.76111H13.2444C13.2011 8.76232 13.1592 8.77683 13.1244 8.80267C13.0897 8.82851 13.0637 8.86443 13.05 8.90556L12.7167 10.0167C12.436 10.0983 12.1657 10.212 11.9111 10.3556L10.9056 9.8C10.8665 9.77922 10.8218 9.77126 10.778 9.77724C10.7341 9.78323 10.6932 9.80285 10.6611 9.83333L9.84444 10.6333C9.81229 10.6643 9.7911 10.7049 9.78408 10.749C9.77707 10.7931 9.7846 10.8383 9.80555 10.8778L10.3611 11.8889C10.2123 12.1398 10.0912 12.4062 10 12.6833L8.88889 13.0222C8.84686 13.0344 8.80997 13.06 8.78388 13.0951C8.75779 13.1302 8.74394 13.1729 8.74444 13.2167V14.3556C8.74394 14.3993 8.75779 14.442 8.78388 14.4771C8.80997 14.5123 8.84686 14.5378 8.88889 14.55L10 14.8889C10.0833 15.161 10.195 15.4235 10.3333 15.6722L9.77778 16.7278C9.75683 16.7672 9.74929 16.8124 9.75631 16.8565C9.76332 16.9006 9.78451 16.9412 9.81667 16.9722L10.6444 17.7778C10.6765 17.8083 10.7174 17.8279 10.7613 17.8339C10.8052 17.8398 10.8498 17.8319 10.8889 17.8111L11.9278 17.2556C12.175 17.3885 12.4358 17.4947 12.7056 17.5722L13.0389 18.7111C13.0529 18.7531 13.0797 18.7897 13.1156 18.8156C13.1515 18.8415 13.1946 18.8555 13.2389 18.8556H14.3778C14.4211 18.8543 14.463 18.8398 14.4978 18.814C14.5326 18.7882 14.5586 18.7522 14.5722 18.7111L14.9056 17.5722C15.1721 17.4956 15.4293 17.3894 15.6722 17.2556L16.7222 17.8111C16.7613 17.8319 16.806 17.8398 16.8498 17.8339C16.8937 17.8279 16.9346 17.8083 16.9667 17.7778L17.7778 16.9722C17.8083 16.9401 17.8279 16.8992 17.8339 16.8554C17.8398 16.8115 17.8319 16.7669 17.8111 16.7278L17.2556 15.6833C17.3885 15.4399 17.4946 15.1829 17.5722 14.9167L18.6833 14.5778C18.7251 14.5644 18.7618 14.5386 18.7885 14.5039C18.8153 14.4691 18.8309 14.4271 18.8333 14.3833V13.2333C18.8347 13.1931 18.8251 13.1532 18.8055 13.1179C18.7859 13.0827 18.7571 13.0535 18.7222 13.0333ZM13.8167 15.6556C13.4494 15.6567 13.0901 15.5488 12.7843 15.3455C12.4784 15.1423 12.2397 14.8529 12.0984 14.5139C11.9571 14.175 11.9196 13.8017 11.9905 13.4414C12.0615 13.0811 12.2378 12.75 12.4971 12.4899C12.7564 12.2298 13.087 12.0526 13.4471 11.9805C13.8072 11.9085 14.1805 11.9449 14.5199 12.0852C14.8593 12.2254 15.1494 12.4633 15.3536 12.7685C15.5577 13.0738 15.6667 13.4328 15.6667 13.8C15.6667 14.2912 15.4719 14.7623 15.1252 15.1101C14.7784 15.4579 14.3078 15.6541 13.8167 15.6556Z",fill:"#A5A7B2"})]})}function g(e){var t=e.className,n=void 0===t?"":t;return(0,a.jsx)("svg",{className:n,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M15.7143 4.10714V14.6429C15.7141 14.7321 15.7474 14.8182 15.8075 14.8841C15.8676 14.9501 15.9503 14.9911 16.0392 14.9992C16.128 15.0073 16.2167 14.9818 16.2877 14.9277C16.3588 14.8736 16.407 14.795 16.4229 14.7071L16.4286 14.6429V5H17.3214C17.6351 5.00001 17.9374 5.11798 18.1681 5.33049C18.3989 5.54299 18.5413 5.8345 18.5671 6.14714L18.5714 6.25V14.8214C18.5715 15.4144 18.3446 15.9849 17.9374 16.4159C17.5302 16.8469 16.9734 17.1057 16.3814 17.1393L16.25 17.1429H3.75C3.15705 17.1429 2.58655 16.916 2.15555 16.5088C1.72455 16.1016 1.46572 15.5449 1.43215 14.9529L1.42857 14.8214V4.10714C1.42859 3.79344 1.54655 3.4912 1.75906 3.26044C1.97157 3.02967 2.26307 2.88724 2.57572 2.86143L2.67857 2.85714H14.4643C14.778 2.85716 15.0802 2.97512 15.311 3.18763C15.5418 3.40014 15.6842 3.69164 15.71 4.00429L15.7143 4.10714V14.6429V4.10714ZM6.96214 9.28857H5.17857C4.86487 9.28858 4.56263 9.40655 4.33187 9.61906C4.1011 9.83156 3.95867 10.1231 3.93286 10.4357L3.92857 10.5386V12.3214C3.92859 12.6351 4.04655 12.9374 4.25906 13.1681C4.47157 13.3989 4.76307 13.5413 5.07572 13.5671L5.17857 13.5714H6.96214C7.27597 13.5714 7.57829 13.4533 7.80908 13.2407C8.03986 13.028 8.18222 12.7363 8.20786 12.4236L8.21143 12.3214V10.5386C8.2116 10.2247 8.09371 9.92233 7.88119 9.69141C7.66866 9.46049 7.37705 9.31797 7.06429 9.29214L6.96214 9.28857ZM12.6786 12.5H10.1786L10.1057 12.505C9.97749 12.5226 9.85999 12.5861 9.77494 12.6837C9.68988 12.7812 9.64302 12.9063 9.64302 13.0357C9.64302 13.1651 9.68988 13.2902 9.77494 13.3878C9.85999 13.4853 9.97749 13.5488 10.1057 13.5664L10.1786 13.5714H12.6786L12.7514 13.5664C12.8797 13.5488 12.9972 13.4853 13.0822 13.3878C13.1673 13.2902 13.2141 13.1651 13.2141 13.0357C13.2141 12.9063 13.1673 12.7812 13.0822 12.6837C12.9972 12.5861 12.8797 12.5226 12.7514 12.505L12.6786 12.5ZM5.17857 10.36H6.96214C7.00228 10.36 7.04123 10.3736 7.07272 10.3985C7.10421 10.4233 7.1264 10.4581 7.13572 10.4971L7.14072 10.5386V12.3214C7.14065 12.3617 7.127 12.4007 7.10198 12.4322C7.07696 12.4637 7.04203 12.4858 7.00286 12.495L6.96214 12.5H5.17857C5.13834 12.4999 5.09931 12.4863 5.06781 12.4613C5.03631 12.4362 5.01417 12.4013 5.005 12.3621L5 12.3214V10.5386C4.99991 10.4982 5.01348 10.459 5.03852 10.4274C5.06355 10.3957 5.09857 10.3735 5.13786 10.3643L5.17857 10.36H6.96214H5.17857ZM12.6786 9.28857H10.1786L10.1057 9.29286C9.97695 9.30992 9.85877 9.37319 9.77317 9.47088C9.68757 9.56857 9.64038 9.69404 9.64038 9.82393C9.64038 9.95382 9.68757 10.0793 9.77317 10.177C9.85877 10.2747 9.97695 10.3379 10.1057 10.355L10.1786 10.36H12.6786L12.7514 10.355C12.8802 10.3379 12.9984 10.2747 13.084 10.177C13.1696 10.0793 13.2168 9.95382 13.2168 9.82393C13.2168 9.69404 13.1696 9.56857 13.084 9.47088C12.9984 9.37319 12.8802 9.30992 12.7514 9.29286L12.6786 9.28857ZM12.6786 6.06929H4.46429L4.39143 6.07429C4.26321 6.09193 4.14571 6.1554 4.06065 6.25296C3.9756 6.35052 3.92874 6.47557 3.92874 6.605C3.92874 6.73443 3.9756 6.85949 4.06065 6.95705C4.14571 7.05461 4.26321 7.11807 4.39143 7.13571L4.46429 7.14071H12.6786L12.7514 7.13571C12.8797 7.11807 12.9972 7.05461 13.0822 6.95705C13.1673 6.85949 13.2141 6.73443 13.2141 6.605C13.2141 6.47557 13.1673 6.35052 13.0822 6.25296C12.9972 6.1554 12.8797 6.09193 12.7514 6.07429L12.6786 6.06929Z",fill:"#A5A7B2"})})}function v(e){var t=e.className,n=void 0===t?"":t;return(0,a.jsx)("svg",{className:n,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M13.1662 12.9169C13.9331 12.4906 13.8337 10.8481 12.945 9.24562C12.5637 8.55562 12.095 7.99687 11.6262 7.60625C11.0657 8.02223 10.3868 8.24783 9.68875 8.25C8.98968 8.24845 8.30952 8.02283 7.74812 7.60625C7.27937 7.99687 6.81187 8.55625 6.42937 9.24562C5.54 10.8475 5.44187 12.4906 6.21062 12.9169C6.55312 13.1119 6.91437 12.9656 7.28687 12.6069C7.21714 12.9934 7.18221 13.3854 7.1825 13.7781C7.1825 15.6144 7.895 17.0981 8.77187 17.0981C9.30062 17.0981 9.5625 16.5575 9.68812 15.7306C9.81312 16.5519 10.0756 17.0981 10.6006 17.0981C11.4737 17.0981 12.1919 15.6137 12.1919 13.7781C12.1919 13.3656 12.1531 12.9719 12.0869 12.6075C12.4619 12.9669 12.8219 13.1156 13.1656 12.9181L13.1662 12.9169ZM9.6875 7.625C10.0421 7.63029 10.3942 7.56501 10.7234 7.43294C11.0525 7.30087 11.3521 7.10466 11.6047 6.85573C11.8573 6.60679 12.0578 6.3101 12.1947 5.98293C12.3315 5.65575 12.4019 5.30463 12.4018 4.94998C12.4017 4.59534 12.331 4.24426 12.1939 3.91718C12.0569 3.59011 11.8561 3.29356 11.6033 3.0448C11.3506 2.79604 11.0508 2.60004 10.7216 2.4682C10.3924 2.33637 10.0402 2.27133 9.68562 2.27687C8.9835 2.28785 8.31386 2.57454 7.82131 3.07503C7.32876 3.57552 7.05281 4.24965 7.05306 4.95186C7.0533 5.65407 7.32972 6.32801 7.82263 6.82815C8.31553 7.3283 8.98537 7.61451 9.6875 7.625ZM15.0587 9.32125C15.6299 9.30455 16.172 9.06595 16.5701 8.65607C16.9682 8.24619 17.1908 7.69731 17.1908 7.12594C17.1908 6.55456 16.9682 6.00569 16.5701 5.59581C16.172 5.18593 15.6299 4.94732 15.0587 4.93062C14.4763 4.93071 13.9178 5.16214 13.5061 5.57402C13.0943 5.9859 12.863 6.54447 12.8631 7.12687C12.8632 7.70927 13.0946 8.26778 13.5065 8.67954C13.9184 9.0913 14.477 9.32258 15.0594 9.3225L15.0587 9.32125ZM17.7337 10.6525C17.42 10.085 17.0362 9.62625 16.6512 9.30562C16.1907 9.64684 15.6332 9.83189 15.06 9.83375C14.5875 9.83375 14.1475 9.70437 13.7625 9.49C14.0725 10.1731 14.2644 10.865 14.3 11.4837C14.3587 12.4312 14.0625 13.1337 13.47 13.4619C13.343 13.5316 13.2049 13.579 13.0619 13.6019C13.0262 13.8469 13.0019 14.1019 13.0019 14.3706C13.0019 15.8787 13.5862 17.0969 14.3069 17.0969C14.7406 17.0969 14.9569 16.6531 15.0594 15.9744C15.1612 16.6494 15.3769 17.0969 15.8094 17.0969C16.525 17.0969 17.1156 15.8781 17.1156 14.3719C17.1156 14.0325 17.0825 13.7094 17.0281 13.4094C17.3356 13.705 17.6319 13.8269 17.9144 13.6644C18.5437 13.3144 18.4625 11.9656 17.7331 10.6519L17.7337 10.6525ZM4.31625 9.32125C4.75033 9.321 5.17458 9.19206 5.53538 8.95072C5.89619 8.70938 6.17733 8.36648 6.34327 7.96537C6.50922 7.56427 6.55251 7.12296 6.46767 6.69726C6.38283 6.27155 6.17368 5.88056 5.86666 5.57371C5.55963 5.26686 5.16852 5.05793 4.74276 4.97333C4.31701 4.88874 3.87573 4.93228 3.47472 5.09845C3.07371 5.26462 2.73097 5.54596 2.48984 5.9069C2.2487 6.26784 2.12 6.69217 2.12 7.12625C2.12016 7.70868 2.35161 8.26721 2.76345 8.67905C3.17529 9.09089 3.73382 9.32233 4.31625 9.3225V9.32125ZM5.90062 13.46C4.90562 12.9069 4.81437 11.2575 5.61562 9.48875C5.21958 9.71359 4.77229 9.83262 4.31687 9.83437C3.71937 9.83437 3.17187 9.63437 2.72312 9.30562C2.33875 9.62562 1.95562 10.0844 1.64062 10.6512C0.911248 11.9662 0.831248 13.315 1.46125 13.6637C1.7425 13.825 2.03937 13.7044 2.345 13.41C2.28886 13.7273 2.26063 14.049 2.26062 14.3712C2.26062 15.8787 2.845 17.0962 3.56562 17.0962C3.99937 17.0962 4.21562 16.6525 4.31812 15.9744C4.42125 16.6494 4.63687 17.0969 5.06812 17.0969C5.785 17.0969 6.37437 15.8781 6.37437 14.3719C6.37437 14.1012 6.34937 13.8456 6.31375 13.6006C6.1691 13.5778 6.02952 13.53 5.90125 13.4594L5.90062 13.46Z",fill:"#A5A7B2"})})}function x(e){var t=e.className,n=void 0===t?"":t;return(0,a.jsx)("svg",{width:"20",height:"21",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:(0,a.jsx)("path",{d:"M15.714 4.607v10.536a.357.357 0 0 0 .709.064l.006-.064V5.5h.892a1.25 1.25 0 0 1 1.246 1.147l.004.103v8.572a2.321 2.321 0 0 1-2.19 2.318l-.131.003H3.75a2.321 2.321 0 0 1-2.318-2.19l-.004-.131V4.607a1.25 1.25 0 0 1 1.148-1.245l.102-.005h11.786a1.25 1.25 0 0 1 1.246 1.148l.004.102v10.536V4.607ZM6.962 9.79H5.178a1.25 1.25 0 0 0-1.245 1.147l-.005.103v1.783a1.25 1.25 0 0 0 1.148 1.245l.102.005h1.784a1.25 1.25 0 0 0 1.246-1.148l.003-.102v-1.783a1.25 1.25 0 0 0-1.147-1.247l-.102-.003ZM12.678 13h-2.5l-.072.005a.536.536 0 0 0 0 1.062l.072.005h2.5l.073-.005a.536.536 0 0 0 0-1.062L12.68 13Zm-7.5-2.14h1.784a.179.179 0 0 1 .174.137l.005.042v1.783a.179.179 0 0 1-.138.173L6.962 13H5.178a.178.178 0 0 1-.173-.138L5 12.822v-1.783a.178.178 0 0 1 .138-.174l.04-.005h1.784-1.784Zm7.5-1.071h-2.5l-.072.004a.536.536 0 0 0 0 1.062l.072.005h2.5l.073-.005a.536.536 0 0 0 0-1.062l-.072-.004Zm0-3.22H4.464l-.073.006a.536.536 0 0 0 0 1.061l.073.005h8.215l.072-.005a.536.536 0 0 0 0-1.061l-.072-.005Z",fill:"currentColor"})})}l.defaultProps={className:""};var y=n(1413);function b(e){return(0,a.jsx)("svg",(0,y.Z)((0,y.Z)({width:"8",height:"6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,a.jsx)("path",{d:"M2.799 5.868.353 3.437a.357.357 0 0 1-.103-.264c0-.108.034-.195.103-.264l.542-.527a.327.327 0 0 1 .256-.117c.102 0 .193.039.27.117l1.641 1.64L6.578.507A.372.372 0 0 1 6.85.39c.103 0 .188.039.256.117l.542.527a.357.357 0 0 1 .103.264.357.357 0 0 1-.103.264l-4.32 4.306a.334.334 0 0 1-.265.117.334.334 0 0 1-.263-.117Z",fill:"#00A09D"})}))}function _(e){return(0,a.jsxs)("svg",(0,y.Z)((0,y.Z)({width:"21",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",children:[(0,a.jsx)("path",{d:"M17.586 1.868C16.48.606 14.477.065 11.916.065H4.484a1.064 1.064 0 0 0-1.05.897L.338 20.59a.638.638 0 0 0 .63.737h4.588l1.153-7.309-.036.23a1.06 1.06 0 0 1 1.047-.898h2.18c4.284 0 7.637-1.74 8.617-6.773.03-.149.055-.294.076-.435-.123-.066-.123-.066 0 0 .292-1.86-.002-3.127-1.008-4.273",fill:"#27346A"}),(0,a.jsx)("path",{d:"M8.465 5.47a.933.933 0 0 1 .402-.09h5.826c.69 0 1.334.045 1.922.14a8.078 8.078 0 0 1 1.174.28c.289.097.558.21.805.34.292-1.86-.002-3.126-1.008-4.272C16.478.606 14.477.065 11.916.065H4.484c-.524 0-.969.38-1.05.897L.338 20.588a.638.638 0 0 0 .63.738h4.588l2.39-15.16a.931.931 0 0 1 .518-.695Z",fill:"#27346A"}),(0,a.jsx)("path",{d:"M18.518 6.576c-.98 5.032-4.333 6.773-8.617 6.773h-2.18a1.06 1.06 0 0 0-1.047.897L5.24 23.334a.558.558 0 0 0 .551.646H9.66a.93.93 0 0 0 .92-.785l.037-.198.729-4.62.047-.255a.93.93 0 0 1 .918-.785h.58c3.746 0 6.68-1.522 7.537-5.925.358-1.84.173-3.375-.774-4.454a3.695 3.695 0 0 0-1.059-.817c-.022.142-.047.286-.076.435Z",fill:"#2790C3"}),(0,a.jsx)("path",{d:"M17.569 5.732a7.132 7.132 0 0 0-.462-.118 8.734 8.734 0 0 0-.491-.094 12.092 12.092 0 0 0-1.923-.14H8.867a.929.929 0 0 0-.919.786L6.71 14.017l-.036.23a1.06 1.06 0 0 1 1.047-.898h2.181c4.283 0 7.637-1.74 8.617-6.773.029-.149.054-.293.076-.435a5.29 5.29 0 0 0-1.026-.409",fill:"#1F264F"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",transform:"translate(.325)",d:"M0 0h20.35v24H0z"})})})]}))}function C(e){return(0,a.jsxs)("svg",(0,y.Z)((0,y.Z)({width:"25",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[(0,a.jsx)("path",{d:"M21.5 7.596c0-.993-.059-1.296-.224-1.605a1.227 1.227 0 0 0-.519-.517c-.307-.165-.61-.224-1.603-.224H5.846c-.993 0-1.296.059-1.605.224a1.227 1.227 0 0 0-.518.519c-.165.307-.223.61-.223 1.603v8.808c0 .993.058 1.296.223 1.605.117.221.298.402.52.517.307.166.61.224 1.603.224h13.308c.993 0 1.296-.058 1.605-.224.221-.116.402-.297.517-.518.165-.308.224-.611.224-1.604V7.596Zm1.5 0v8.808c0 1.338-.14 1.823-.4 2.31-.262.49-.646.875-1.135 1.136-.489.26-.975.4-2.31.4H5.845c-1.339 0-1.823-.14-2.31-.4a2.725 2.725 0 0 1-1.136-1.135c-.261-.488-.4-.974-.4-2.31v-8.81c0-1.338.139-1.823.4-2.31.26-.491.645-.875 1.134-1.136.489-.261.975-.4 2.31-.4h13.31c1.337 0 1.822.139 2.31.4.49.261.874.645 1.135 1.134.26.489.4.975.4 2.31l.002.003Z",fill:"#2D2D2D"}),(0,a.jsx)("path",{d:"M2 7.5h21V9H2V7.5Zm0 3h21V12H2v-1.5ZM5 15h6v1.5H5V15Z",fill:"#2D2D2D"})]}))}function E(e){var t=e.className;return(0,a.jsxs)("svg",{width:"24",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[(0,a.jsx)("path",{d:"M12 18.55 6.5 12h11L12 18.55ZM10 2h4v2h-4V2Zm0 3h4v2h-4V5Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M10 8h4v5.5h-4V8ZM3 20h18v2H3v-2Z",fill:"currentColor"})]})}var S=function(e){return(0,a.jsxs)("svg",(0,y.Z)((0,y.Z)({"data-name":"plus_circle [#1427]",xmlns:"http://www.w3.org/2000/svg",width:17.364,height:17.364},e),{},{children:[(0,a.jsx)("path",{"data-name":"plus_circle [#1427] (Background)",fill:"none",d:"M0 0h17.364v17.364H0z"}),(0,a.jsx)("path",{"data-name":"plus_circle [#1427]",d:"M8.682 14.194a5.662 5.662 0 01-5.788-5.513 5.662 5.662 0 015.788-5.512 5.662 5.662 0 015.788 5.512 5.662 5.662 0 01-5.788 5.513zm0-9.922a4.529 4.529 0 00-4.63 4.41 4.529 4.529 0 004.63 4.41 4.53 4.53 0 004.631-4.41 4.53 4.53 0 00-4.631-4.413zm0 6.615a.566.566 0 01-.579-.551v-1.1H6.946a.552.552 0 110-1.1h1.158v-1.1a.579.579 0 011.157 0v1.1h1.158a.552.552 0 110 1.1H9.261v1.1a.566.566 0 01-.578.55z",fill:"#fff"})]}))};var Z=function(e){return(0,a.jsx)("svg",(0,y.Z)((0,y.Z)({xmlns:"http://www.w3.org/2000/svg",width:"15.999",height:"16",viewBox:"0 0 15.999 16"},e),{},{children:(0,a.jsx)("path",{d:"M9.61,16a1.658,1.658,0,0,1-1.18-.489L.245,7.326A.84.84,0,0,1,0,6.737V1.669A1.671,1.671,0,0,1,1.67,0H6.736a.832.832,0,0,1,.589.242L9.979,2.9l2.767,2.768,2.765,2.764a1.672,1.672,0,0,1,0,2.36l-2.288,2.288L10.79,15.512A1.658,1.658,0,0,1,9.61,16ZM2.5,1.669a.836.836,0,0,0-.835.835V6.217a.42.42,0,0,0,.122.3L9.02,13.741a.836.836,0,0,0,1.18,0L13.741,10.2a.837.837,0,0,0,0-1.18L6.513,1.791a.419.419,0,0,0-.3-.122ZM4.016,4.851a.835.835,0,1,1,.835-.835A.836.836,0,0,1,4.016,4.851Z",transform:"translate(0 0)",fill:"#fff"})}))};var j=function(e){return(0,a.jsx)("svg",(0,y.Z)((0,y.Z)({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"12.2"},e),{},{children:(0,a.jsx)("path",{d:"M3.578 12.2a.765.765 0 01-.778-.753V8.811a.7.7 0 011.4 0v1.28a.765.765 0 00.778.753h6.844a.766.766 0 00.778-.753V2.109a.766.766 0 00-.778-.753H4.978a.765.765 0 00-.778.753v1.28a.7.7 0 01-1.4 0V.753A.765.765 0 013.578 0h9.644A.766.766 0 0114 .753v10.694a.766.766 0 01-.778.753zM7.284 9a.736.736 0 01.029-1.036l1.224-1.186H.7a.678.678 0 110-1.356h7.837l-1.28-1.239a.68.68 0 010-.958.735.735 0 01.99 0l2.42 2.343a.736.736 0 010 1.065l-2.42 2.343a.711.711 0 01-.495.191A.719.719 0 017.284 9zm-.027-.024L7.284 9l.029.029z",fill:"currentColor"})}))};var k=function(e){return(0,a.jsx)("svg",(0,y.Z)((0,y.Z)({xmlns:"http://www.w3.org/2000/svg",width:"12.286",height:"12.286"},e),{},{children:(0,a.jsx)("path",{"data-name":"script [#1603]",d:"M7.372 12.286H2.457A2.46 2.46 0 010 9.829v-.615A.615.615 0 01.614 8.6h1.843V2.457A2.46 2.46 0 014.915 0h4.914a2.46 2.46 0 012.457 2.457v.614a.615.615 0 01-.614.614H9.829v6.144a2.46 2.46 0 01-2.457 2.457zM4.915 1.229a1.23 1.23 0 00-1.229 1.228V8.6h2.458a1.23 1.23 0 011.228 1.229v1.229A1.231 1.231 0 008.6 9.829v-8.6zm-3.686 8.6a1.23 1.23 0 001.228 1.229h3.686v-.614a.615.615 0 00-.614-.614zm8.6-8.6v1.228h1.229a1.23 1.23 0 00-1.23-1.228z",fill:"#fff"})}))};var w=function(e){return(0,a.jsxs)("svg",(0,y.Z)((0,y.Z)({id:"minus-sign",xmlns:"http://www.w3.org/2000/svg",width:"11",height:"11",viewBox:"0 0 11 11"},e),{},{children:[(0,a.jsx)("path",{id:"Path_10256","data-name":"Path 10256",d:"M80.969,135.77H77.523a.586.586,0,0,0,0,1.171h3.446a.586.586,0,0,0,0-1.171Z",transform:"translate(-73.746 -130.856)",fill:"#fff"}),(0,a.jsx)("path",{id:"Path_10257","data-name":"Path 10257",d:"M5.5,0A5.5,5.5,0,1,0,11,5.5,5.5,5.5,0,0,0,5.5,0Zm0,9.857A4.56,4.56,0,0,1,1.143,5.5,4.56,4.56,0,0,1,5.5,1.143,4.56,4.56,0,0,1,9.857,5.5,4.56,4.56,0,0,1,5.5,9.857Z",fill:"#fff"})]}))};function N(e){return(0,a.jsx)("svg",(0,y.Z)((0,y.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,a.jsx)("path",{d:"M5.24997 5.25C5.24997 5.05109 5.17095 4.86032 5.0303 4.71967C4.88965 4.57902 4.69888 4.5 4.49997 4.5C4.30106 4.5 4.11029 4.57902 3.96964 4.71967C3.82899 4.86032 3.74997 5.05109 3.74997 5.25V18.4395L2.03097 16.719C1.96124 16.6493 1.87846 16.594 1.78735 16.5562C1.69624 16.5185 1.59859 16.4991 1.49997 16.4991C1.40136 16.4991 1.3037 16.5185 1.2126 16.5562C1.12149 16.594 1.0387 16.6493 0.968971 16.719C0.899239 16.7887 0.843925 16.8715 0.806186 16.9626C0.768447 17.0537 0.749023 17.1514 0.749023 17.25C0.749023 17.3486 0.768447 17.4463 0.806186 17.5374C0.843925 17.6285 0.899239 17.7113 0.968971 17.781L3.96897 20.7795L3.97947 20.79C4.12028 20.9273 4.30965 21.0034 4.50632 21.0017C4.703 21 4.89103 20.9207 5.02947 20.781L8.02947 17.781C8.1703 17.6404 8.2495 17.4496 8.24964 17.2505C8.24978 17.0515 8.17085 16.8606 8.03022 16.7197C7.88959 16.5789 7.69878 16.4997 7.49975 16.4996C7.30073 16.4994 7.1098 16.5784 6.96897 16.719L5.24997 18.4395V5.25ZM11.25 6C11.0511 6 10.8603 5.92098 10.7196 5.78033C10.579 5.63968 10.5 5.44891 10.5 5.25C10.5 5.05109 10.579 4.86032 10.7196 4.71967C10.8603 4.57902 11.0511 4.5 11.25 4.5H12.75C12.9489 4.5 13.1396 4.57902 13.2803 4.71967C13.421 4.86032 13.5 5.05109 13.5 5.25C13.5 5.44891 13.421 5.63968 13.2803 5.78033C13.1396 5.92098 12.9489 6 12.75 6H11.25ZM11.25 10.5C11.0511 10.5 10.8603 10.421 10.7196 10.2803C10.579 10.1397 10.5 9.94891 10.5 9.75C10.5 9.55109 10.579 9.36032 10.7196 9.21967C10.8603 9.07902 11.0511 9 11.25 9H15.75C15.9489 9 16.1397 9.07902 16.2803 9.21967C16.421 9.36032 16.5 9.55109 16.5 9.75C16.5 9.94891 16.421 10.1397 16.2803 10.2803C16.1397 10.421 15.9489 10.5 15.75 10.5H11.25ZM11.25 15C11.0511 15 10.8603 14.921 10.7196 14.7803C10.579 14.6397 10.5 14.4489 10.5 14.25C10.5 14.0511 10.579 13.8603 10.7196 13.7197C10.8603 13.579 11.0511 13.5 11.25 13.5H18.75C18.9489 13.5 19.1397 13.579 19.2803 13.7197C19.421 13.8603 19.5 14.0511 19.5 14.25C19.5 14.4489 19.421 14.6397 19.2803 14.7803C19.1397 14.921 18.9489 15 18.75 15H11.25ZM10.5 18.75C10.5 18.9489 10.579 19.1397 10.7196 19.2803C10.8603 19.421 11.0511 19.5 11.25 19.5H21.75C21.9489 19.5 22.1397 19.421 22.2803 19.2803C22.421 19.1397 22.5 18.9489 22.5 18.75C22.5 18.5511 22.421 18.3603 22.2803 18.2197C22.1397 18.079 21.9489 18 21.75 18H11.25C11.0511 18 10.8603 18.079 10.7196 18.2197C10.579 18.3603 10.5 18.5511 10.5 18.75Z",fill:"currentColor"})}))}function I(e){return(0,a.jsx)("svg",(0,y.Z)((0,y.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,a.jsx)("path",{d:"M5.24997 20.2502C5.24997 20.4491 5.17095 20.6398 5.0303 20.7805C4.88965 20.9211 4.69888 21.0002 4.49997 21.0002C4.30106 21.0002 4.11029 20.9211 3.96964 20.7805C3.82899 20.6398 3.74997 20.4491 3.74997 20.2502V7.06066L2.03097 8.78116C1.96124 8.8509 1.87846 8.90621 1.78735 8.94395C1.69624 8.98169 1.59859 9.00111 1.49997 9.00111C1.30081 9.00111 1.1098 8.92199 0.968971 8.78116C0.828141 8.64033 0.749023 8.44933 0.749023 8.25016C0.749023 8.051 0.828141 7.85999 0.968971 7.71916L3.96897 4.72066L3.97947 4.71016C4.12047 4.57322 4.30977 4.49737 4.50632 4.49905C4.70287 4.50074 4.89084 4.57982 5.02947 4.71916L8.02947 7.71916C8.0992 7.7888 8.15454 7.87148 8.19231 7.9625C8.23009 8.05352 8.24957 8.15109 8.24964 8.24963C8.24971 8.34818 8.23037 8.44577 8.19272 8.53685C8.15507 8.62792 8.09985 8.71068 8.03022 8.78041C7.96059 8.85015 7.8779 8.90548 7.78688 8.94326C7.69587 8.98103 7.5983 9.00051 7.49975 9.00058C7.40121 9.00065 7.30361 8.98131 7.21254 8.94366C7.12147 8.90601 7.0387 8.8508 6.96897 8.78116L5.24997 7.06066V20.2502ZM11.25 6.00016C11.0511 6.00016 10.8603 5.92115 10.7196 5.78049C10.579 5.63984 10.5 5.44908 10.5 5.25016C10.5 5.05125 10.579 4.86049 10.7196 4.71983C10.8603 4.57918 11.0511 4.50016 11.25 4.50016H12.75C12.9489 4.50016 13.1396 4.57918 13.2803 4.71983C13.421 4.86049 13.5 5.05125 13.5 5.25016C13.5 5.44908 13.421 5.63984 13.2803 5.78049C13.1396 5.92115 12.9489 6.00016 12.75 6.00016H11.25ZM11.25 10.5002C11.0511 10.5002 10.8603 10.4211 10.7196 10.2805C10.579 10.1398 10.5 9.94908 10.5 9.75016C10.5 9.55125 10.579 9.36049 10.7196 9.21983C10.8603 9.07918 11.0511 9.00016 11.25 9.00016H15.75C15.9489 9.00016 16.1397 9.07918 16.2803 9.21983C16.421 9.36049 16.5 9.55125 16.5 9.75016C16.5 9.94908 16.421 10.1398 16.2803 10.2805C16.1397 10.4211 15.9489 10.5002 15.75 10.5002H11.25ZM11.25 15.0002C11.0511 15.0002 10.8603 14.9211 10.7196 14.7805C10.579 14.6398 10.5 14.4491 10.5 14.2502C10.5 14.0513 10.579 13.8605 10.7196 13.7198C10.8603 13.5792 11.0511 13.5002 11.25 13.5002H18.75C18.9489 13.5002 19.1397 13.5792 19.2803 13.7198C19.421 13.8605 19.5 14.0513 19.5 14.2502C19.5 14.4491 19.421 14.6398 19.2803 14.7805C19.1397 14.9211 18.9489 15.0002 18.75 15.0002H11.25ZM10.5 18.7502C10.5 18.9491 10.579 19.1398 10.7196 19.2805C10.8603 19.4211 11.0511 19.5002 11.25 19.5002H21.75C21.9489 19.5002 22.1397 19.4211 22.2803 19.2805C22.421 19.1398 22.5 18.9491 22.5 18.7502C22.5 18.5513 22.421 18.3605 22.2803 18.2198C22.1397 18.0792 21.9489 18.0002 21.75 18.0002H11.25C11.0511 18.0002 10.8603 18.0792 10.7196 18.2198C10.579 18.3605 10.5 18.5513 10.5 18.7502Z",fill:"currentColor"})}))}function T(e){return(0,a.jsx)("svg",(0,y.Z)((0,y.Z)({stroke:"currentColor",fill:"currentColor",strokeWidth:"0",version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24",height:"h-full",width:"w-full",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,a.jsx)("path",{d:"M19.707 5.293c-.391-.391-1.023-.391-1.414 0l-1.551 1.551c-.345-.688-.987-1.02-1.604-1.02-.449 0-.905.152-1.356.453l-2.672 1.781c-.753.503-2.206.942-3.11.942-1.654 0-3 1.346-3 3v2c0 1.237.754 2.302 1.826 2.76l-1.533 1.533c-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293s.512-.098.707-.293l2.527-2.527c.697.174 1.416.455 1.875.762l2.672 1.781c.451.301.907.453 1.356.453.898 0 1.863-.681 1.863-2.176v-8.586l2.707-2.707c.391-.391.391-1.023 0-1.414zm-4.816 2.648l.104-.062.005.121v1.293l-2 2v-2.091l1.891-1.261zm-7.891 4.059c0-.552.448-1 1-1 1.211 0 2.907-.495 4-1.146v2.439l-2.83 2.83c-.413-.077-.814-.123-1.17-.123-.552 0-1-.448-1-1v-2zm3.301 3.406l1.699-1.699v2.439c-.481-.287-1.075-.542-1.699-.74zm4.693 2.714l-.104-.062-1.89-1.26v-4.091l2-2v7.293l-.006.12z"})}))}function A(e){var t=e.className,n=void 0===t?"":t;return(0,a.jsx)("svg",{id:"Capa_1",enableBackground:"new 0 0 512 512",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",className:n,children:(0,a.jsxs)("g",{children:[(0,a.jsx)("g",{children:(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{fill:"currentColor",d:"m159.867 8.78-86.66 86.65h86.66z"}),(0,a.jsx)("path",{fill:"currentColor",d:"m190.409 181.88v133.3c0 33.84 27.53 61.37 61.37 61.37h173.1v90.45c0 8.28-6.72 15-15 15h-256.96l35.53-43.82c10.28-12.68 12.39-30.4 5.36-45.13-6.2-12.99-18.67-21.93-32.72-23.85v-57.51c0-23.48-19.1-42.57-42.57-42.57h-54.1v-143.69h110.44c8.28 0 15-6.72 15-15v-110.43h220.02c8.28 0 15 6.72 15 15v105.51h-173.1c-33.84 0-61.37 27.53-61.37 61.37z"})]})}),(0,a.jsx)("path",{fill:"currentColor",d:"m300.71 231.11c0 6.81-5.97 12.57-13.02 12.57-2.83 0-7.71.02-12.18.05-.06-13.12-.02-8.01-.07-25.2h12.25c7.05 0 13.02 5.76 13.02 12.58z"}),(0,a.jsx)("path",{fill:"currentColor",d:"m368.11 218.53h-12.64c.02 9.83.04 24.17.04 29.91 0 6.83.04 20.57.07 30.04 4.75-.03 10.03-.07 13.02-.12 15.07-.27 21.82-15.17 21.82-29.83 0-14.5-5.86-30-22.31-30zm0 0h-12.64c.02 9.83.04 24.17.04 29.91 0 6.83.04 20.57.07 30.04 4.75-.03 10.03-.07 13.02-.12 15.07-.27 21.82-15.17 21.82-29.83 0-14.5-5.86-30-22.31-30zm112.51-68.02h-228.84c-17.3 0-31.37 14.07-31.37 31.37v133.3c0 17.3 14.07 31.37 31.37 31.37h228.84c17.3 0 31.38-14.07 31.38-31.37v-133.3c0-17.3-14.08-31.37-31.38-31.37zm-192.93 113.17c-2.84 0-7.78.02-12.28.05v24.8c0 5.52-4.47 10-10 10-5.52 0-10-4.48-10-10v-80c0-5.44 4.42-10 10-10h22.28c18.2 0 33.02 14.61 33.02 32.58 0 17.96-14.82 32.57-33.02 32.57zm81.26 34.67c-6.46.11-22.61.18-23.3.18-5.32 0-10.2-4.02-10.2-11.3v-78.62c0-.03 0-.06 0-.06-.01-5.53 4.47-10.02 10-10.02h22.66c25.3 0 42.31 20.09 42.31 50 0 28.45-17.45 49.4-41.47 49.82zm95.47-60.58c5.52 0 10 4.48 10 10s-4.48 10-10 10h-19.85v30.76c0 5.52-4.47 10-10 10-5.52 0-10-4.48-10-10v-80c0-5.52 4.48-10 10-10h32.43c5.52 0 10 4.48 10 10s-4.48 10-10 10h-22.43v19.24zm-96.31-19.24h-12.64c.02 9.83.04 24.17.04 29.91 0 6.83.04 20.57.07 30.04 4.75-.03 10.03-.07 13.02-.12 15.07-.27 21.82-15.17 21.82-29.83 0-14.5-5.86-30-22.31-30z"}),(0,a.jsx)("g",{children:(0,a.jsx)("path",{fill:"currentColor",d:"m165.147 419.288-71.405 88.062c-2.388 2.941-5.974 4.65-9.761 4.65-3.796 0-7.382-1.709-9.77-4.65l-71.405-88.062c-3.05-3.762-3.67-8.949-1.584-13.322 2.086-4.374 6.502-7.156 11.345-7.156h24.299v-87.123c0-6.938 5.622-12.568 12.568-12.568h69.084c6.946 0 12.568 5.631 12.568 12.568v87.123h24.299c4.843 0 9.259 2.782 11.345 7.156 2.087 4.373 1.467 9.56-1.583 13.322z"})})]})})}function D(){return(0,a.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M10.6905 13.1248C10.1567 13.1248 9.40712 12.9317 8.28421 12.304C6.91921 11.5387 5.86337 10.8317 4.50537 9.47717C3.19579 8.16875 2.55879 7.32175 1.66746 5.6995C0.660042 3.86725 0.831542 2.90708 1.02346 2.49642C1.25213 2.00525 1.58929 1.71183 2.02563 1.42075C2.27345 1.25853 2.5357 1.1195 2.80904 1.00542L2.88488 0.972166C3.01963 0.910916 3.22496 0.818749 3.48454 0.917333C3.65779 0.982666 3.81238 1.11567 4.05504 1.35483C4.55204 1.84483 5.23046 2.93567 5.48129 3.47233C5.64929 3.83342 5.76071 4.072 5.76129 4.33917C5.76129 4.65242 5.60379 4.89333 5.41246 5.15408L5.30629 5.29525C5.09863 5.56883 5.05254 5.64758 5.08287 5.78875C5.14354 6.07225 5.59854 6.91633 6.34579 7.66242C7.09304 8.40792 7.91263 8.83375 8.19729 8.89442C8.34487 8.92592 8.42479 8.87867 8.70771 8.66283C8.74796 8.63192 8.78937 8.60042 8.83312 8.56833C9.12479 8.35133 9.35463 8.19792 9.66029 8.19792H9.66204C9.92804 8.19792 10.1561 8.31342 10.533 8.50358C11.0253 8.75208 12.1494 9.42233 12.6423 9.91933C12.8826 10.1614 13.0156 10.3154 13.0815 10.4887C13.1801 10.7494 13.0874 10.9536 13.0267 11.0901L12.9935 11.1653C12.8785 11.4382 12.7387 11.6998 12.5758 11.947C12.2847 12.3816 11.9901 12.7182 11.499 12.9468C11.2464 13.0665 10.9699 13.1277 10.6905 13.1248Z",fill:"#A5A7B2"})})}function M(e){var t=e.onClick;return(0,a.jsxs)("svg",{onClick:t,width:"24",height:"24",className:"cursor-pointer",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("rect",{width:"24",height:"24",rx:"12",fill:"#FF0000"}),(0,a.jsx)("g",{clipPath:"url(#clip0_8042_5568)",children:(0,a.jsx)("path",{d:"M8.63965 12H15.3596",stroke:"white",strokeWidth:"0.96",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_8042_5568",children:(0,a.jsx)("rect",{width:"11.52",height:"11.52",fill:"white",transform:"translate(6.24023 6.24023)"})})})]})}},59028:function(e,t,n){"use strict";n.d(t,{Z:function(){return me},d:function(){return pe}});var a=n(1413),r=n(30168),s=n(29439),i=n(52554),o=n(16178),l=n(72791),c=n(66128),u=n(40084),d=n(9321),m=n(70629),p=n(35741),f=n(66364),h=n.n(f),g=n(9478),v=n(49185),x=n(26955),y=n(51859),b=n(53148),_=n(94370),C=n(39814),E=n(92112),S=n(40071),Z=n(78820),j=n(86375),k=n(15690),w=n(25262),N=n(26827),I=n(97689),T=n(88233),A=n(97892),D=n.n(A),M=n(17173),O=n(28182),R=n(90218),L=n(14545),U=n(80184);function F(e){switch(e){case"CRITICAL":return"border-priority-critical";case"HIGH":return"border-priority-high";case"LOW":return"border-priority-low";case"NORMAL":return"border-priority-normal";default:return"border-none"}}function P(e){var t,n,a,r,i,d,p,f,A,P,B,H,G=e.caseData,K=e.isFetched,V=(0,M.$G)().t,Y=(0,R.K)().isRTL,q=(0,o.Kx)(),Q=q.removeMultipleParams,z=q.query,W=(0,u.m)(),J=W.toggleChatPanel,X=W.setActiveDraft,$=W.activeDraft,ee=(0,_.m)(),te=ee.entityId,ne=ee.setScrollToMessageHandler,ae=ee.lastReadMessageId,re=(0,L.O9)(),se=re.message,ie=re.reply,oe=re.editingMessage,le=(0,C.R)().closeSocket,ce=(0,o.cX)(),ue=ce.saveDraft,de=ce.getLS,me=(0,I.a)(),pe=me.userData,fe=(me.company,me.token),he=(0,o.r1)().updateEntities,ge=(0,l.useState)(!1),ve=(0,s.Z)(ge,2),xe=ve[0],ye=ve[1],be=z.isSupportCase,_e=null==G||null===(t=G.status)||void 0===t?void 0:t.id,Ce=null!=G&&G.case_?null==G?void 0:G.entity_id:null==G?void 0:G.id,Ee=null==G?void 0:G.assignee_ids,Se=(0,l.useState)(null),Ze=(0,s.Z)(Se,2),je=Ze[0],ke=Ze[1],we=(0,j.GH)(),Ne=we.toggleCaseDetailsOpen,Ie=we.caseDetailsOpen,Te=we.closeCaseDetailModal,Ae=null==G?void 0:G.pin_time,De=de(),Me=(0,x.f)(null==G?void 0:G.pin_time,null==G?void 0:G.id,!0,_e),Oe=Me.open,Re=Me.handleClick,Le=Me.anchorEl,Ue=Me.handleMenuItemClick,Fe=Me.handleCloseMenu,Pe=Me.anchorElAssignee,Be=Me.handleClickAssignee,He=Me.handleCloseAssignee,Ge=Me.openAssignee,Ke=function(){ye((function(e){return!e}))},Ve=function(){Q(["status","case","searchedMessageId","hasUnreadMessage","lastReadMessage","unread","isSupportCase","isScheduledChat","activeMedia"]),J(),null==le||le(),te in De&&ue("user",{entityId:te,message:se,editingMessage:oe,reply:ie});try{he({entity:"cases",entityId:Ce,updatingData:{last_read_message:ae}})}catch(e){}},Ye=(r=null==G?void 0:G.department,i=null==G?void 0:G.sub_department,r?"".concat(null==r?void 0:r.name," ").concat(null!=i&&i.name?"/ "+(null==i?void 0:i.name):""):""),qe=function(e){var t,n;return"Case #".concat(null==e?void 0:e.case_number," | ").concat(null==e||null===(t=e.status)||void 0===t||null===(n=t.title)||void 0===n?void 0:n.toUpperCase())}(G),Qe=null;K&&!h()(G)&&(Qe={avatarSrc:null!=G&&G.sub_department?null==G||null===(d=G.sub_department)||void 0===d||null===(p=d.icon)||void 0===p?void 0:p.thumbnail:null==G||null===(f=G.department)||void 0===f||null===(A=f.icon)||void 0===A?void 0:A.thumbnail,avatarLetter:null==G||null===(P=G.department)||void 0===P||null===(B=P.name)||void 0===B?void 0:B[0],avatarAlt:null==G||null===(H=G.department)||void 0===H?void 0:H.name});(0,l.useEffect)((function(){"draft_message"in G&&null!=G&&G.draft_message&&!$&&X(null==G?void 0:G.draft_message)}),[G]);var ze=null==Ee?void 0:Ee.includes(pe.id),We=(0,o.dF)(),Je=We.open,Xe=We.modalHandler,$e=We.WhiteModal;return(0,U.jsx)(v.F,{isFetched:!0,toggleCaseDetails:function(){return Ne(te)},HeaderActions:(0,U.jsxs)(U.Fragment,{children:[!m.tq&&null!=G&&null!==(n=G.data_field)&&void 0!==n&&n.length?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(b.u,{title:V("show_data_fields"),placement:"top",children:(0,U.jsx)("button",{className:"!mr-4",onClick:function(){return ke(null==G?void 0:G.data_field)},children:(0,U.jsx)(Z.znh,{className:"inline-block text-[#A5A7B2]",size:"2em"})})}),(0,U.jsx)($e,{handleModalOpen:function(){return ke(null)},open:Boolean(je),minWidth:362,maxWidth:550,scrollable:!0,children:(0,U.jsx)(w.mz,{dataFields:je})})]}):null,(0,U.jsx)(b.u,{title:V("download_message_history"),placement:"top",children:(0,U.jsx)("button",{onClick:function(){var e=D()().utcOffset()/60,t="".concat(g.Z.API_ROOT,"/case_history/").concat(te,"/pdf/?tz=").concat(e),n=new Headers;n.append("Authorization","Token ".concat(fe)),fetch(t,{headers:n}).then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="case_#".concat(null==G?void 0:G.case_number,"_history.pdf"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(t)})).catch((function(e){console.error("Error downloading file:",e)}))},className:"mr-1",children:(0,U.jsx)(E.CX,{className:"h-6 w-6 text-[#A5A7B2] transition hover:text-primary"})})}),(0,U.jsx)(N.s,{caseId:Ce,anchorElAssignee:Pe,assigneeIds:Ee,handleClickAssignee:Be,handleCloseAssignee:He,openAssignee:Ge,isCurrentUserAssigned:ze,className:"mr-2"}),Ae?(0,U.jsx)("div",{className:"mr-4",children:(0,U.jsx)(E.Dg,{className:"text-kgrey-menuText"})}):null,be?null:(0,U.jsx)("div",{className:"more-btn w-4 cursor-pointer text-right text-kdark-dark333 transition hover:text-primary dark:text-white dark:hover:text-primary",onClick:Re,children:(0,U.jsx)(Z.fXH,{className:"inline text-3xl"})}),(0,U.jsxs)(b.v2,{id:"long-menu",anchorEl:Le,keepMounted:!0,open:Oe,onClose:Fe,children:[(0,U.jsx)(y.Z,{onClick:function(){Fe(),Ne(te)},children:V("case_details")}),(0,U.jsx)(y.Z,{onClick:Xe,children:V("change_priority")}),(0,U.jsx)(y.Z,{onClick:function(){Fe(),Ue(null!=G&&G.pin_time?"unpin":"pin")},children:null!=G&&G.pin_time?V("unpin_case"):V("pin_case")}),(0,U.jsx)(y.Z,{onClick:function(){Fe(),Ue("manager")},children:V("request_update")}),(0,U.jsx)($e,{handleModalOpen:Xe,open:Je,children:(0,U.jsx)(T.K,{onSuccess:Xe})})]}),(0,U.jsx)("button",{className:(0,O.Z)("flex-center-y border-border-solid px-4 py-2 text-kred-pink transition hover:opacity-80",{"border-l lg:ml-4":!Y,"border-r lg:mr-4":Y}),type:"button",onClick:be?Ke:Ve,children:(0,U.jsx)("div",{className:"icon ",children:(0,U.jsx)(S.bjh,{})})}),(0,U.jsx)($e,{handleModalOpen:Te,open:Boolean(Ie),minWidth:362,maxWidth:550,scrollable:!0,children:(0,U.jsx)(k.z,{caseId:Ie,closeCaseDetailModal:Te})}),(0,U.jsx)(c.sm,{featureHandler:Ve,isOpen:xe,toggleHandler:Ke,title:V("exit_message_if_from_feedback"),maxWidth:600,titleClassNames:"!p-0 !mb-4 whitespace-pre-line"})]}),mainText:Ye,secondaryText:qe,data:Qe,pinnedMessage:{title:null==G?void 0:G.title,id:null==G||null===(a=G.pinned_message)||void 0===a?void 0:a.id},casePriority:F(null==G?void 0:G.priority),scrollToHandler:ne})}function B(e){return(0,U.jsx)(c.SV,{children:(0,U.jsx)(P,(0,a.Z)({},e))})}var H,G=n(96206),K=n(46763),V=n(44740),Y=n(46572),q=n.n(Y),Q=n(42789),z=n(28843),W=n(30663),J=n(87818),X=n(64923);function $(e){var t,n=e.caseId,a=(0,M.$G)().t,c=(0,d.Z)(),f=(0,s.Z)(c,2),h=f[0],g=f[1].height,v=(0,L.O9)(),x=v.setIsDelayedMessage,y=v.isDelayedMessage,b=(0,_.m)().isScheduledChat,C=(0,o.JN)().afterMessagesFetchService,E=(0,u.m)(),S=(E.entityPage,E.unreadMessagesCount),Z=(0,Q.v)().isConfirmationRequired,j=(0,J.v9)((function(e){return e.entities})),k=(0,o.Kx)().query,w=k.unread&&Number(k.unread)||null,N=(0,l.useMemo)((function(){return!(null==S||!S[n])}),[n]),I=!(null==S||!S[n]),T=(0,l.useRef)(null),A=(0,_.m)(),D=A.entityId,R=A.isSetSearchReply,U=A.allowToLoad,F=A.setAllowToLoad,P=A.direction,B=A.messagesLimit,G=A.replyLoading,Y=A.scrollToMsgId,$=(A.state,A.setScrollPosition),ee=A.isMsgHasBeenIndicated,te=A.virtuosoRef,ne=A.entityType,ae=A.isBottomLoading,re=A.setBottomLoading,se=(0,V.W)(),ie=se.cursorTop,oe=se.cursorBot,le=se.handlePageLoading,ce=se.localEntityId,ue=se.scrollIntoElement,de=se.isLoadedRepliedMessage,me=se.messageVisibleHandler,pe=se.setUpdateEntityPage,fe=se.searchedMessageId,he=se.paginationDepsRef,ge=se.cursor,ve=se.isLastPageFetched,xe=se.setIsLastPageFetched,ye=se.isFirstPageFetched,be=se.setIsFirstPageFetched,_e=(se.totalMessagesCount,se.removeUnreadCountFromCaseList),Ce=se.messagesUrl,Ee=se.handleFollowOutput;var Se=w&&null===P,Ze=(0,z.pA)({isScheduled:b,entityType:ne,entityId:ce});return null!=j&&null!==(t=j.cases)&&void 0!==t&&t[n]?(0,X.tZ)(p.Z.All,{entity:"caseMessages",name:Ze,url:Ce,primaryKey:"custom_uuid",prependData:("next"===P||null===P)&&!R,appendData:"previous"===P&&!R,isUniq:!0,cursorBased:!0,direction:w&&null===P?"1":ge===Number(Y)?"0":"next"===P||null===P?"-1":"1",replaceIds:de&&ge===Y&&null===P||null===ge&&("next"===P||null===P)||I&&!!w,params:{limit:B,extra:{entity_id:ce,cursor:ge}},onInit:function(e){C({data:e,isDelayedMessage:y,setIsDelayedMessage:x,setAllowToLoad:F,direction:P,scrollToMsgId:Y,isMsgHasBeenIndicated:ee,cursorTop:ie,cursorBot:oe,scrollIntoElement:ue,setUpdateEntityPage:pe,searchedMessageId:fe,paginationDepsRef:he,cursor:ge,setIsLastPageFetched:xe,messagesLimit:B,setIsFirstPageFetched:be,setBottomLoading:re,isLoadedRepliedMessage:de,virtuosoRef:te})},children:function(e){var t,s=e.items,o=e.isFetched,l=e.meta,c=null!==(t=s)&&void 0!==t?t:[],u=U||!R;return(0,X.tZ)("div",{ref:h,id:"chat-body",className:(0,O.Z)("chat__body flex-grow"),children:(0,X.tZ)("div",{className:(0,O.Z)("h-full px-2 lg:px-5",{"pt-11":!b}),css:(0,i.iv)(H||(H=(0,r.Z)(["\n\t\t\t\t\t\t\t\theight: ",";\n\t\t\t\t\t\t\t"])),m.G6&&"".concat(g,"px")),children:l&&c.length>=0?(0,X.tZ)(W.OO,{followOutput:Ee(Number(null==k?void 0:k.lastReadMessage)),context:{isFetched:o,items:s,isSetSearchReply:R,direction:P,replyLoading:G,isConfirmationRequired:Z},ref:te,firstItemIndex:null==l?void 0:l.firstItemIndex,increaseViewportBy:{top:800,bottom:800},initialTopMostItemIndex:{index:Se?0:"LAST",align:Se?"start":"end",behavior:"auto",offset:Se?0:100},atTopStateChange:function(e){e&&u&&o&&!ye&&le(!0,"next",D)},atBottomStateChange:function(e){e&&($(!0),ve&&null!=S&&S[n]&&_e(),U&&o&&!ve&&(re(!0),le(!0,"previous",D))),e||$(!1)},data:c,itemContent:function(e,t){var n,r,s,i,o,l={id:1e8,name:"Error message",text:"Error occured. This message is not valid",type:"ERROR",from_user:{}},u=c.findIndex((function(e){return e.id===t.id}));Number(null==k?void 0:k.lastReadMessage)===t.id&&N&&!fe&&(T.current=null===(o=c[u+1])||void 0===o?void 0:o.id);var d=T.current&&t.id&&T.current===t.id,m=t?(null==t?void 0:t.custom_uuid)||t.id:l.id,p=(0,z.ix)({currentMsgAuthorId:t.from_user.id,prevMsgAuthorId:null===(n=c[u-1])||void 0===n?void 0:n.from_user.id,nextMsgAuthorId:null===(r=c[u+1])||void 0===r?void 0:r.from_user.id,prevMsgType:null===(s=c[u-1])||void 0===s?void 0:s.type,nextMsgType:null===(i=c[u+1])||void 0===i?void 0:i.type}),f=p.isSameFromUserWithPrev,h=p.isSameFromUserWithNext,g=(0,X.BX)(X.HY,{children:[d&&(null==c?void 0:c.length)>1?(0,X.tZ)("div",{className:"my-2 mx-0 w-full bg-kgrey-inputBg text-center text-kdark-424242 dark:bg-kdark-dark333 dark:text-white",children:a("unread_messages")}):null,(0,X.tZ)(K.J,{message:t||l,isSameFromUserWithPrev:f,isSameFromUserWithNext:h},m)]});return(0,X.tZ)(q(),{offset:{bottom:50},scrollDelay:50,onChange:function(e){me(e,t)},children:(0,X.tZ)("div",{children:g})},m)},components:{Scroller:K.bt,List:K.oM,Item:K.nN,Footer:!ve&&ae?K.K:void 0}}):(0,X.tZ)(K.JE,{})})})}}):(0,X.tZ)(K.JE,{})}function ee(e){var t=(0,l.useMemo)((function(){return e.caseId}),[e.caseId]),n=(0,l.useCallback)((function(){window.location.reload()}),[]);return(0,X.tZ)(c.SV,{resetKeys:t,onResetHandler:n,children:(0,X.tZ)($,(0,a.Z)({},e))})}var te=n(24560),ne=n(92005),ae=n(77676).Z.getOne();function re(){var e=(0,te.O)(),t=e.message,n=e.setMessage,a=e.reply,r=e.setReply,i=e.editingMessage,c=e.isDelayedMessage,d=e.setIsDelayedMessage,m=e.isMentionSearching,p=e.messageScheduleDate,f=e.setMessageScheduleDate,h=e.handleScheduleModalToggle,g=(0,_.m)(),v=g.entityId,x=g.entityType,y=g.isLastPageFetched,b=g.isScheduledChat,E=(0,C.R)().sendJsonMessage,S=(0,o.bL)({sendJsonMessage:E,entityId:v,entityType:x}).sendChatMessage,Z=(0,o.cX)(),j=Z.removeLS,k=Z.updateEntityDraft,w=Z.getLS,N=Z.sendDeleteDraft,I=(0,l.useState)(null),T=(0,s.Z)(I,2),A=T[0],D=T[1],M=w(),O=(0,u.m)(),R=O.activeDraft,L=O.setActiveDraft,F=(0,o.SC)().pinMessage,P=(0,J.v9)((function(e){return ae(e,{id:v,entity:"case"===x?"cases":"ims-chats",name:"".concat("case"===x?"CaseChat":"Group","-").concat(v,"One")})})),B=function(e){var t,s;m||(null==e||e.preventDefault(),A&&D(null),(R||v in M)&&(k("reset"),L(null),j(v),N()),i&&(null==i?void 0:i.id)===(null==P||null===(t=P.item.pinned_message)||void 0===t?void 0:t.id)&&F(null==P?void 0:P.item.id,i.id),S({type:"text",replied_to_id:a?a.id:null,replied_to:null,msgSendingChatId:v,uuid:(0,ne.x0)(),edited:!!i,is_draft:!(null===(s=P.item)||void 0===s||!s.draft_message),scheduled_to:p}),n(""),f(null),a&&r(null))};(0,l.useEffect)((function(){b&&p&&A&&B(A)}),[p]),(0,l.useEffect)((function(){!c&&A&&B(A)}),[c]);var H=(0,l.useCallback)((function(e){return e.preventDefault(),b&&!p&&!i&&t?(h(),void D(e)):y||i?void B(e):(d(!0),void D(e))}),[y,i,d,D,B,b,p]);return(0,U.jsx)(K.lv,{onFormSubmit:H})}function se(){var e=(0,o.Kx)(),t=e.query,n=e.removeQueryParams,r=(0,u.m)(),s=r.toggleChatPanel,i=r.chatPanelToggled,c=r.companyId,d=r.caseType,m=r.setCaseType,f="case"in t?t.case:void 0,h=(0,o.eC)().showNotification,v=(0,o.QY)({entity:"cases",entityId:+f,entityName:"CaseChat-".concat(f)});return(0,l.useEffect)((function(){!i&&"case"in t&&s()}),[t,i]),(0,l.useEffect)((function(){if("business_company"in(null==v?void 0:v.item)){var e=(null==v?void 0:v.item).business_company.id===(null==v?void 0:v.item).client_company.id?g.Z.STAFF:g.Z.CLIENT;d!==e&&m(e)}}),[v]),(0,U.jsx)(U.Fragment,{children:f&&c?(0,U.jsx)(p.Z.One,{id:String(f),relations:"",entity:"cases",name:"CaseChat-".concat(f),url:"/".concat(c,"/cases/").concat(t.isSupportCase?"as_client":"as_business","/").concat(f,"/"),params:{},onError:function(e){var t;404===(null==e||null===(t=e.response)||void 0===t?void 0:t.status)&&(n(),h({variant:"error",message:"You don't have access to the case"}))},children:function(e){var t=e.item,n=e.isFetched,r=(0,a.Z)({},t);return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(L.Rv,{entityId:Number(f),entityType:"case",children:(0,U.jsx)(L.GR,{children:(0,U.jsx)(L.eo,{entityId:Number(f),entityType:"case",children:(0,U.jsx)(G.g,{ChatHeader:(0,U.jsx)(B,{isFetched:n,caseData:r}),ChatBody:(0,U.jsx)(ee,{caseId:Number(f)}),ChatInput:(0,U.jsx)(re,{})})})})})})}}):null})}var ie,oe,le,ce,ue,de=n(56355),me=function(e){var t=e.children,n=(0,R.K)().isRTL,p=(0,d.Z)(),f=(0,s.Z)(p,2),g=f[0],v=f[1].height,x=(0,d.Z)(),y=(0,s.Z)(x,2),b=y[0],_=y[1].width,C=(0,u.m)(),E=C.hasVScroll,S=C.navCollapsed,Z=C.toggleChatPanel,j=C.chatPanelToggled,k=C.networkState,w=C.isInternetDisconnected,N=(0,o.Kx)().query,I=(0,o.iP)(),T=I.width,A=I.height,D=(0,o.tv)().path,M=(0,o.eC)().showNotification,L=(0,l.useState)(0),U=(0,s.Z)(L,2),F=U[0],P=U[1],B=(0,l.useState)(0),H=(0,s.Z)(B,2),G=H[0],V=H[1],Y=(0,l.useRef)(null),q="/checkout"===D;(0,o.MB)(P,Y),(0,l.useEffect)((function(){"offline"!==k||w||M({message:"Your internet is disconnected",variant:"error"}),w&&"online"===k&&M({message:"Internet connection recovered"})}),[k,w]),(0,l.useEffect)((function(){P(_)}),[_]),(0,l.useEffect)((function(){var e=S&&h()(N);V(e?F+224:F)}),[F,S,N]),(0,l.useEffect)((function(){h()(N)&&j&&Z(!1)}),[N]);return(0,X.BX)("div",(0,a.Z)((0,a.Z)({className:(0,O.Z)("inner-wrapper overflow-y-hidden",{"h-screen":!m.tq})},m.tq?{style:{height:"".concat(A,"px")}}:{}),{},{children:[(0,X.tZ)("div",{className:"app-header h-[40px] border-b border-kgrey-border-solid pl-2 pr-2 transition-colors dark:border-white/20 dark:bg-kdark lg:h-[60px] lg:pl-4 lg:pr-4",ref:g,children:(0,X.tZ)(c.y5,{})}),(0,X.BX)("div",{className:"case-wrapper flex",css:(0,i.iv)(le||(le=(0,r.Z)(["\n\t\t\t\t\theight: ","px;\n\t\t\t\t"])),A&&A-v),children:[(0,X.tZ)(c.YE,{}),(0,X.tZ)("div",{className:(0,O.Z)("app-container relative flex-grow overflow-hidden dark:bg-kdark"),css:(0,i.iv)(ce||(ce=(0,r.Z)(["\n\t\t\t\t\t\twidth: ","px;\n\t\t\t\t\t"])),T&&T-(m.tq?0:S?61:285)),children:(0,X.BX)("div",{className:(0,O.Z)("rct-app-content"),css:(0,i.iv)(ue||(ue=(0,r.Z)(["\n\t\t\t\t\t\t\t",": ","px;\n\t\t\t\t\t\t"])),n?"margin-left":"margin-right",j&&null!=N&&N.case?G:0),children:[(0,X.tZ)("div",{className:(0,O.Z)("rct-page",{"bg-kgrey-bgmenu dark:bg-kdark":q}),children:(0,X.tZ)("div",{className:"rct-page",children:E?(0,X.tZ)("div",{css:(0,i.iv)(ie||(ie=(0,r.Z)(["\n\t\t\t\t\t\theight: ","px;\n\t\t\t\t\t"])),A&&A-v),children:t}):(0,X.tZ)("div",{css:(0,i.iv)(oe||(oe=(0,r.Z)(["\n\t\t\t\t\theight: ","px;\n\t\t\t\t\toverflow-x: hidden;\n\t\t\t\t\toverflow-y: auto;\n\t\t\t\t"])),A&&A-v),children:t})})}),(0,X.BX)(K.Xe,{calculatedValueForCss:G,ref:b,children:[(0,X.tZ)("button",{className:(0,O.Z)("chat-panel__resize-handler absolute  top-1/2 z-10 hidden w-3 shadow-chat-panel flex-centered h-12 rounded-lg border bg-white text-white border-border-solid border-1 border-dotted text-kgrey hover:border-primary hover:text-primary",{"lg:block":j&&!h()(N)&&!(null!=N&&N.isScheduledChat),"-right-1":n,"-left-1 ":!n}),type:"button",ref:Y,children:(0,X.tZ)("div",{className:"relative text-xl",children:(0,X.tZ)(de.KT8,{className:"absolute left-[-5px] top-[-10px]"})})}),null!=N&&N.isScheduledChat?(0,X.tZ)("div",{className:"chat-panel__content h-full w-full border-l border-kgrey-msg/20 dark:border-white/20",children:(0,X.tZ)(se,{})}):(0,X.tZ)(X.HY,{children:(0,X.tZ)("div",{className:"chat-panel__content h-full w-full border-l border-kgrey-msg/20 dark:border-white/20",children:(0,X.tZ)(se,{})})})]})]})})]})]}))},pe=function(e){var t=e.children;return(0,U.jsxs)("div",{className:"flex h-full flex-col px-4 py-5",children:[(0,U.jsx)("div",{className:"flex-grow",children:t}),(0,U.jsx)("div",{className:"footer mt-auto",children:(0,U.jsx)(c.$_,{})})]})}},80266:function(e,t,n){"use strict";n.d(t,{KS:function(){return T},gb:function(){return I},hi:function(){return f},fm:function(){return W},C2:function(){return N},v4:function(){return le},JZ:function(){return U},pL:function(){return q},w5:function(){return J},tj:function(){return Q},JB:function(){return ue},gJ:function(){return ne},$4:function(){return ae},mp:function(){return $},kB:function(){return E},QV:function(){return te},le:function(){return pe},lZ:function(){return z},D_:function(){return g},kd:function(){return de},tO:function(){return c.Z},XV:function(){return k},LO:function(){return me.L},oH:function(){return ee}});var a,r,s=n(74569),i=n.n(s),o=n(77683),l=n(9478),c=n(70689),u=n(26181),d=n.n(u),m=n(96993),p=i().create({baseURL:l.Z.API_ROOT});p.defaults.params={},p.defaults.headers.common.Accept="application/json",p.defaults.headers.common["Content-Type"]="application/json; charset=utf-8",p.defaults.headers.platform="web",p.defaults.headers.app="business",p.defaults.headers["Accept-Language"]=null===(a=null!==(r=c.Z.get("i18nextLng"))&&void 0!==r?r:"en")||void 0===a?void 0:a.toLowerCase();p.interceptors.response.use((function(e){return e}),(function(e){var t=e.response&&e.response.status>=400&&e.response.status<500,n=e.response&&401===e.response.status,a=c.Z.get("token");return n&&a&&(m.m.push("/logout?resignin=true"),localStorage.clear(),delete p.defaults.headers.common.Authorization),t||o.$e((function(t){t.setExtra("Error URL",d()(e,"config.url")),t.setExtra("Error Message",d()(e,"response.data.message")),t.setExtra("Error Status","".concat(d()(e,"response.status")," - ").concat(d()(e,"response.statusText"))),t.setExtra("Error Full",e),o.Tb(e)})),Promise.reject(e)}));var f={request:p,subscribe:function(e){var t,n,a=c.Z.get("token"),r=e.getState();null!=r&&null!==(t=r.auth)&&void 0!==t&&t.token&&(a=null==r||null===(n=r.auth)||void 0===n?void 0:n.token),a&&(p.defaults.headers.common.Authorization="Token ".concat(a))}},h=n(97368),g={init:function(){var e="https://70db9c909cc24f07a2a8a0325208846e@o245856.ingest.sentry.io/5224260",t="main";e&&h.S1({dsn:e,environment:t,ignoreErrors:["ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications"]})}},v=n(4942),x=n(94478),y=n(32808),b=n.n(y),_=n(93629),C=n.n(_),E=function(e,t){var n=t.fields,a=void 0===n?[]:n,r=t.include,s=void 0===r?[]:r,i=t.limit,o=void 0===i?0:i,l=t.sort,c=void 0===l?"":l,u=t.filter,d=void 0===u?{}:u,m=t.page,p=void 0===m?1:m,f=t.extra,h=void 0===f?{}:f,g=(0,x.IO)(e);return a.length&&g.param("fields",a),s.length&&g.include(s),o>0&&g.param("page_size",Number(o)),c&&g.sort(c),Object.keys(d).length&&Object.keys(d).forEach((function(e){b().stringify({filter:(0,v.Z)({},e,d[e])},{encode:!1}).split("&").forEach((function(e){var t=e.split("=");2===t.length&&t[0]&&t[1]&&g.param(t[0],t[1])}))})),Object.keys(h).length&&Object.keys(h).forEach((function(e){if(e&&h[e])if(C()(h[e]))g.param(e,h[e]);else{var t=b().stringify((0,v.Z)({},e,h[e]),{encodeValuesOnly:!0}).split("=");2===t.length&&t[0]&&t[1]&&g.param(t[0],t[1])}})),p>1&&g.page(Number(p)),decodeURIComponent(g.build())},S=n(97892),Z=n.n(S),j={toYear:function(e){return Z().unix(e).year()},current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DD.MM.YYYY";return Z()().format(e)},to:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD.MM.YYYY";return Z().unix(e).format(t)},getDay:function(e,t){var n=(new Date).getDay(),a=Z().unix(t).format("YYYYMMDD"),r=Z()(a).startOf("day").add(6,"hours"),s=Number(Z()(r).format("X"));return{start:s-86400*(n-e),end:s+86399-86400*(n-e)}},toLastTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&"number"==typeof e?Z().unix(e):Z()(e),a=n.format(t?"ddd, MMM D, h:mm A":"MMM D"),r=n.format(t?"ddd, MMM D YY, h:mm A":"MMM D, YY"),s=n.format("YY"),i=(new Date).getFullYear();return s.toString()===i.toString()?a:r}},k=j,w=n(1413),N={control:function(e,t){return(0,w.Z)((0,w.Z)({},e),{},{cursor:"pointer",boxShadow:"none",border:"1px solid #d8d7d7",borderRadius:"10px",backgroundColor:"#f8fafc",":hover":{border:"1px solid #00D0BD"}})},container:function(e){return(0,w.Z)({},e)},valueContainer:function(e){return(0,w.Z)((0,w.Z)({},e),{},{padding:"2px 8px"})},dropdownIndicator:function(){return{paddingRight:"5px",color:"#99979f"}},singleValue:function(e){return{color:"#424653",fontWeight:"300",fontSize:"15px"}},indicatorSeparator:function(e){return(0,w.Z)((0,w.Z)({},e),{},{display:"none"})},placeholder:function(e){return(0,w.Z)((0,w.Z)({},e),{},{color:"#A5A7B2",fontWeight:"500",fontSize:"16px"})}},I={control:function(e,t){return(0,w.Z)((0,w.Z)({},e),{},{cursor:"pointer",border:t.isFocused?"1px solid transparent":"1px solid #e0e0e0",boxShadow:t.isFocused?"0px 0px 0 2px #00D0BD":"none",borderRadius:"8px",":hover":{border:"1px solid #00D0BD"}})},valueContainer:function(e){return(0,w.Z)((0,w.Z)({},e),{},{padding:"6px 8px"})},dropdownIndicator:function(){return{paddingRight:"5px",fill:"#99979f",color:"#99979f"}},singleValue:function(e){return{color:"#424653",fontWeight:"300",fontSize:"15px",wordBreak:"break-all"}},indicatorSeparator:function(e){return(0,w.Z)((0,w.Z)({},e),{},{display:"none"})},placeholder:function(e){return(0,w.Z)((0,w.Z)({},e),{},{color:"#8692A6",fontWeight:"300",fontSize:"12px"})},option:function(e,t){t.data;var n=t.isDisabled,a=t.isFocused;return(0,w.Z)((0,w.Z)({},e),{},{backgroundColor:a?"rgba(0, 208, 189, 0.2)!important":"white",color:n?"#ccc":"#424653"})}},T=(0,w.Z)((0,w.Z)({},I),{},{control:function(e,t){return(0,w.Z)((0,w.Z)({},e),{},{width:"100%",background:"#F8FAFC",border:"none",boxShadow:t.isFocused?"0 0 0 1px #00D0BD":"",height:46})}}),A=n(1025),D=n.n(A),M=n(74786),O=n.n(M),R=n(59e3),L=n.n(R);function U(e,t){return new Promise((function(n,a){D().parse(e,{complete:function(e){n(function(e,t){var n={inValidMessages:[],data:[]};return e.forEach((function(a,r){for(var s={},i=[],o=0;o<t.headers.length;o++){var l=t.headers[o];l.optional||i.push(l)}a.length<i.length||(a.forEach((function(a,i){var o=t.headers[i];o&&(0!==r?(o.required&&!a.length?n.inValidMessages.push(O()(o.requiredError)?o.requiredError(o.name,r+1,i+1,e):String(o.name+" is required in the "+(r+1)+" row / "+(i+1)+" column")):o.validate&&!o.validate(a)&&n.inValidMessages.push(O()(o.validateError)?o.validateError(o.name,r+1,i+1,e):String(o.name+" is not valid in the "+(r+1)+" row / "+(i+1)+" column")),o.optional&&(s[o.inputName]=a),o.isArray?s[o.inputName]=a.split(",").map((function(e){return e.trim()})):s[o.inputName]=a):o.name!==a&&n.inValidMessages.push(O()(o.headerError)?o.headerError(a):"Header name "+a+" is not correct or missing"))})),n.data.push(s))})),function(e,t){if(!e.data.length)return;t.headers.filter((function(e){return e.unique})).forEach((function(t){L()(e.data,t.inputName)||e.inValidMessages.push(O()(t.uniqueError)?t.uniqueError(t.name):String(t.name+" is not unique"))}))}(n,t),n}(e.data,t))},error:function(e,t){a({error:e,file:t})}})}))}var F=n(66364),P=n.n(F),B=function(e,t,n){return'<div class="red">'.concat(e,"  is required in <strong>row ").concat(t,"</strong> / <strong>column ").concat(n,"</strong></div>")},H=function(e,t,n,a){var r="Client Email"===e?"Email":"Client Phone"===e?"Phone":e;return'<div class="red"><strong>Row '.concat(t-1,"</strong>: ").concat(r," for <strong>").concat(a[t-1][1]," ").concat(a[t-1][2],"</strong> is not valid.</div>")},G=function(e,t,n,a){var r="Staff Email"===e?"Email":"Staff Phone"===e?"Phone":e;return'<div class="red"><strong>Row '.concat(t-1,"</strong>: ").concat(r," for <strong>").concat(a[t-1][0]," ").concat(a[t-1][1],"</strong> is not valid.</div>")},K=function(e){return'<div class="red">'.concat(e," is not unique</div>")},V=function(e){return/^(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/i.test(e)},Y=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},q={employeeCSVConfig:{headers:[{name:"First Name",inputName:"firstName",required:!0,requiredError:B},{name:"Last Name",inputName:"lastName",required:!0,requiredError:B,unique:!0,uniqueError:K},{name:"Email",inputName:"email",required:!0,requiredError:B,unique:!0,uniqueError:K,validate:Y,validateError:G},{name:"Phone",inputName:"phone",required:!0,requiredError:B,unique:!1,uniqueError:K,validate:V,validateError:G},{name:"Role",inputName:"role",required:!0,validate:function(e){return["manager","member","admin"].includes(e)},validateError:function(e,t,n){return'<div class="red">'.concat(e,'  must be one of "admin | manager | member" in <strong>row ').concat(t,"</strong> / <strong>column ").concat(n,"</strong></div>")}},{name:"Admin Privilage",inputName:"privilige",required:!0}]},clientCSVConfig:{headers:[{name:"Client Business Name",inputName:"clientBusinessName",required:!0,requiredError:B},{name:"First Name",inputName:"firstName",required:!0,requiredError:B},{name:"Last Name",inputName:"lastName",required:!0,requiredError:B,unique:!0,uniqueError:K},{name:"Email",inputName:"email",required:!0,requiredError:B,unique:!0,uniqueError:K,validate:Y,validateError:H},{name:"Phone",inputName:"phone",required:!0,requiredError:B,unique:!1,uniqueError:K,validate:V,validateError:H},{name:"Role",inputName:"role",required:!0},{name:"Admin Privilage",inputName:"privilige",required:!0}]},validateCsv:function(e){var t=e.file,n=e.Papa,a=e.configHeaderLength,r=e.CSVConfig,s=e.setCsvData,i=e.setCsvPrimaryCheckError,o=e.setLoadingImage,l=e.moreTxt,c=e.lessTxt,u=e.NotificationManager,d=e.csvFileValidator;return"csv"===t.name.slice(-3).toLowerCase()?new Promise((function(e,u){n.parse(t,{complete:function(n){var m=n.data[0].length;m===a?d(t,r).then((function(n){(0,F.isEmpty)(n.inValidMessages)?e(t):(s(n.inValidMessages.map((function(e){return e.startsWith("<div")?e:'<div class="red">'.concat(e,"</div>")})).join("")),u(new Error("Invalid csv file")),o(!1))})):(m>a?i(l):m<a&&i(c),u(new Error("Invalid csv file")),o(!1))}})})):(o(!1),u.error("Invalid file type. Download please sample of file csv"),!1)}},Q=function(e){var t=e.filter((function(e){return e.is_selected}));if(!P()(t))return e.find((function(e){return e.is_selected}));var n=e.find((function(e){var t,n;return(null===(t=e.company)||void 0===t?void 0:t.is_business)&&"ACTIVE"===(null===(n=e.company)||void 0===n?void 0:n.status)}));if(n)return n;var a=e.find((function(e){var t;return null===(t=e.company)||void 0===t?void 0:t.is_business}));return a||null};function z(e){var t=document.querySelector("#".concat(e));t&&t.scrollIntoView({block:"start",behavior:"smooth"})}function W(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function J(e){var t=e.statusId,n=e.caseType,a=e.searchQuery,r=e.selectedFilterTemplate;return"AllBusinessCases-".concat(t,"-").concat(n,"-").concat(a.length?"search":"".concat(r?r.id:"normal"))}var X=n(93433),$=function(e){var t=e.csvData,n=e.companyId,a=e.resolve,r=e.reject,s=e.setCsvData,i=e.type,o=e.file,l=e.setLoadingImage,c=(0,X.Z)(t.data.slice(1)).reduce((function(e,t){return[].concat((0,X.Z)(e),"client"===i?[{company_name:t.clientBusinessName,username:t.email}]:[{company_id:n,username:t.email}])}),[]);f.request.post(E("/".concat(n,"/check_user/"),{}),c).then((function(e){var t,n=e.data.results,c=(t="client"===i?n.filter((function(e){return e.is_member})):n.filter((function(e){return e.is_staff}))).reduce((function(e,t){return"".concat(e,' <div class="red">').concat(t.username," is already a ").concat("client"===i?"user in current client company":"staff in current business"," </div>")}),"");t.length?(s(c),r(new Error("".concat("client"===i?"Clients exist":"Staffs exist"))),l(!1)):a(o)})).catch((function(e){return console.error("err in csv validation",e)}))};function ee(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function te(e){return Math.round(100*e)/100}var ne=function(e,t){return t.find((function(t){return e>=t.memberFrom&&e<=t.memberTo}))};function ae(e){var t,n,a,r,s,i,o,l=Date.now(),c=Z()(e).valueOf();return(t=c-l,n=864e5,a=36e5,r=Math.floor(t/n),s=Math.floor((t-r*n)/a),i=Math.round((t-r*n-s*a)/6e4),o=function(e){return e<10?"0"+e:e},60===i&&(s++,i=0),24===s&&(r++,s=0),[r,o(s),o(i)].join(":")).split(":")}var re=n(15861),se=n(64687),ie=n.n(se);function oe(e){return new Promise((function(t,n){if(e.type.includes("audio")){var a=URL.createObjectURL(e),r=new Audio(a);r.addEventListener("canplaythrough",(function(){URL.revokeObjectURL(a),t({file:e,duration:r.duration})}),!1)}else n(new Error("File is not an audio file"))}))}function le(e){return ce.apply(this,arguments)}function ce(){return ce=(0,re.Z)(ie().mark((function e(t){var n,a,r,s,i,o,l,c,u,d,m,p,f,h,g;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filename,a=t.file,r=t.entityType,s=t.fileType,i=t.companyId,o=t.entityId,l=t.custom_uuid,c=t.isEncrypted,u=void 0===c?"false":c,d=t.fileDuration,m=void 0===d?null:d,p=t.repliedToId,f=void 0===p?null:p,(h=new FormData).append(n,a),h.append("entity_type",r),h.append("company_id",i),h.append("file_type",s),h.append("is_encrypted",u),h.append("entity_id",o),h.append("custom_uuid",l),f&&h.append("replied_to_id",f),e.prev=10,e.next=13,oe(a);case 13:(g=e.sent)&&h.append("file_duration",Math.floor(g.duration).toString()),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(10);case 19:return m&&h.append("file_duration",m),e.abrupt("return",h);case 21:case"end":return e.stop()}}),e,null,[[10,17]])}))),ce.apply(this,arguments)}function ue(e){switch(e&&e.type.split("/")[0].length>0?e.type.split("/")[0]:"file"){case"image":return"image";case"video":return"video";case"audio":return"audio";default:return"file"}}function de(e){return e.sort((function(e,t){if(e.reversed_date&&t.reversed_date)return e.reversed_date-t.reversed_date;if(e.pin_time&&!t.pin_time)return-1;if(!e.pin_time&&t.pin_time)return 1;Boolean(e.pin_time),Boolean(t.pin_time);return t.last_message_time-e.last_message_time}))}var me=n(51549);function pe(e){return e.replace(/<[^>]*>/g,"")}},70689:function(e,t){"use strict";var n={get:function(e){return window.localStorage&&window.localStorage.getItem(e)||null},set:function(e,t){!t||t.length<=0||window.localStorage&&window.localStorage.setItem(e,t)},remove:function(e){if(window.localStorage&&window.localStorage[e])return window.localStorage.removeItem(e),!0}};t.Z=n},67051:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var a=function(e){return/<(?!a\s|\/a>)[a-z][\s\S]*>/i.test(e)}},19053:function(e,t,n){"use strict";function a(e){var t,n;return null==e||null===(t=e.toLowerCase())||void 0===t||null===(n=t.split(" "))||void 0===n?void 0:n.join("_")}n.d(t,{u:function(){return a}})},54623:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});var a=n(97892),r=n.n(a),s={UZ:function(){return n.e(4736).then(n.t.bind(n,59687,23))},RU:function(){return n.e(4736).then(n.t.bind(n,67448,23))},EN:function(){return n.e(4736).then(n.t.bind(n,69466,23))},AR:function(){return n.e(4736).then(n.t.bind(n,63347,23))}},i=function(e){var t;null===(t=s[e])||void 0===t||t.call(s).then((function(){var t="UZ"===e?"uz-latn":e.toLowerCase();r().locale(t)}))}},51549:function(e,t,n){"use strict";function a(e){return null==e?void 0:e.toUpperCase()}n.d(t,{L:function(){return a}})},40084:function(e,t,n){"use strict";n.d(t,{Z:function(){return C},m:function(){return E}});var a,r,s=n(4942),i=n(1413),o=n(29439),l=n(72791),c=n(64880),u=n(87818),d=n(31519),m=n(32380),p=n(9478),f=n(80266),h=n(79286),g=n.n(h);!function(e){e.Client="Client",e.Staff="Staff"}(r||(r={}));var v={navCollapsed:!1,language:JSON.parse(f.tO.get("selected_language")),isDarkMode:!!f.tO.get("darkMode")&&"true"===f.tO.get("darkMode"),hasVScroll:!1,selectedBusinessId:null,navToggled:!1,unreadMessagesCount:null,searchQuery:"",groupSearchQuery:"",caseFilter:{},registerInfo:null,chatPanelToggled:!1,chatUuid:"initialString",appDeviceUuid:null,groupsUnreadCountData:{},unreadCasesCountByStatus:{},activeDraft:null,networkState:"online",entityPage:{initial:{cursorTop:1,cursorBot:1,isLoadedRepliedMessage:!1}},hasUnread:{client:null,staff:null},caseType:f.tO.get("caseType")||p.Z.STAFF,activeFilterTemplate:null,selectedCaseFilter:(a={},(0,s.Z)(a,r.Client,null),(0,s.Z)(a,r.Staff,null),a),areUnreadsFetched:{staff:!1,client:!1,group:!1,all:!1},unreadLoadingError:null,openCaseCreatePopup:!1,selectedStatus:null,statusChangePayload:null,statusPriorityMessagePopup:null,groupSearchOpen:!1,groupMessageSearchQuery:"",isLastPageLoadedTriggered:!1,isAppAvailable:!1,statusReverseState:null,settingsData:null,isShowMobilePrompt:!1,isInternetDisconnected:!1,chatsMentionList:{},scheduledMessageIds:{}};function x(e,t){if("function"==typeof t)return t(e);switch(t.type){case"SET_LANGUAGE":return(0,i.Z)((0,i.Z)({},e),{},{language:t.payload});case"TOGGLE_SIDEBAR":return(0,i.Z)((0,i.Z)({},e),{},{navToggled:!e.navToggled});case"COLLAPSE_SIDEBAR":return(0,i.Z)((0,i.Z)({},e),{},{navCollapsed:!e.navCollapsed});case"TOGGLE_DARK":return(0,i.Z)((0,i.Z)({},e),{},{isDarkMode:!e.isDarkMode});case"SET_PAGE_TYPE":return(0,i.Z)((0,i.Z)({},e),{},{hasVScroll:t.payload});case"SET_SELECTED_BUSINESS_ID":return(0,i.Z)((0,i.Z)({},e),{},{selectedBusinessId:t.payload});case"SET_UNREAD_MSG_COUNT":return(0,i.Z)((0,i.Z)({},e),{},{unreadMessagesCount:e.unreadMessagesCount&&t.payload.isAppending?(0,i.Z)((0,i.Z)({},e.unreadMessagesCount),t.payload.value):t.payload.value});case"SET_SEARCH_QUERY":return(0,i.Z)((0,i.Z)({},e),{},{searchQuery:t.payload});case"SET_GROUP_SEARCH_QUERY":return(0,i.Z)((0,i.Z)({},e),{},{groupSearchQuery:t.payload});case"SET_REGISTER_INFO":return(0,i.Z)((0,i.Z)({},e),{},{registerInfo:t.payload});case"SET_CHAT_PANEL_TOGGLED":return(0,i.Z)((0,i.Z)({},e),{},{chatPanelToggled:void 0!==t.payload?t.payload:!e.chatPanelToggled});case"SET_CHAT_UUID":return(0,i.Z)((0,i.Z)({},e),{},{chatUuid:t.payload});case"SET_APP_DEVICE_UUID":return(0,i.Z)((0,i.Z)({},e),{},{appDeviceUuid:t.payload});case"SET_GROUP_UNREAD_COUNTS":return(0,i.Z)((0,i.Z)({},e),{},{groupsUnreadCountData:t.payload});case"SET_UNREAD_CASES_COUNTS":return(0,i.Z)((0,i.Z)({},e),{},{unreadCasesCountByStatus:t.payload});case"SET_ACTIVE_DRAFT":return(0,i.Z)((0,i.Z)({},e),{},{activeDraft:t.payload});case"SET_NETWORK_STATE":return(0,i.Z)((0,i.Z)({},e),{},{networkState:t.payload});case"SET_HAS_UNREAD":return(0,i.Z)((0,i.Z)({},e),{},{hasUnread:(0,i.Z)((0,i.Z)({},e.hasUnread),{},(0,s.Z)({},t.payload.type,t.payload.value))});case"SET_CASE_TYPE":return(0,i.Z)((0,i.Z)({},e),{},{caseType:t.payload});case"SET_ENTITY_PAGE":return(0,i.Z)((0,i.Z)({},e),{},{entityPage:(0,i.Z)((0,i.Z)({},e.entityPage),{},(0,s.Z)({},String(t.payload.entityId),{cursorTop:t.payload.cursorTop,cursorBot:t.payload.cursorBot,isLoadedRepliedMessage:t.payload.isLoadedRepliedMessage}))});case"SET_ACTIVE_FILTER_ITEM":return(0,i.Z)((0,i.Z)({},e),{},{activeFilterTemplate:t.payload});case"SET_SELECTED_CASE_FILTERS":return(0,i.Z)((0,i.Z)({},e),{},{selectedCaseFilter:t.payload.isInitialDispatch?t.payload.filter:(0,i.Z)((0,i.Z)({},e.selectedCaseFilter),{},(0,s.Z)({},t.payload.caseType,t.payload.filter[t.payload.caseType]))});case"ARE_UNREADS_FETCHED":return(0,i.Z)((0,i.Z)({},e),{},{areUnreadsFetched:(0,i.Z)((0,i.Z)({},e.areUnreadsFetched),{},(0,s.Z)({},t.payload.type,t.payload.value))});case"UNREAD_LOADING_ERROR":return(0,i.Z)((0,i.Z)({},e),{},{unreadLoadingError:t.payload});case"SHOW_CASE_CREATE_POPUP":return(0,i.Z)((0,i.Z)({},e),{},{openCaseCreatePopup:t.payload});case"SET_SELECTED_STATUS":return(0,i.Z)((0,i.Z)({},e),{},{selectedStatus:t.payload});case"SET_STATUS_CHANGE_PAYLOAD":return(0,i.Z)((0,i.Z)({},e),{},{statusChangePayload:t.payload});case"SET_STATUS_PRIORITY_MESSAGE_POPUP":return(0,i.Z)((0,i.Z)({},e),{},{statusPriorityMessagePopup:t.payload});case"SET_GROUP_SEARCH_OPEN":return(0,i.Z)((0,i.Z)({},e),{},{groupSearchOpen:t.payload});case"SET_GROUP_MESSAGE_SEARCH_QUERY":return(0,i.Z)((0,i.Z)({},e),{},{groupMessageSearchQuery:t.payload});case"SET_IS_LAST_PAGE_LOADED_TRIGGERED":return(0,i.Z)((0,i.Z)({},e),{},{isLastPageLoadedTriggered:t.payload});case"SET_IS_APP_AVAILABLE":return(0,i.Z)((0,i.Z)({},e),{},{isAppAvailable:t.payload});case"SET_STATUS_REVERSE_STATE":var n;return(0,i.Z)((0,i.Z)({},e),{},{statusReverseState:(0,i.Z)((0,i.Z)({},e.statusReverseState),{},(0,s.Z)({},t.payload,!(null!==(n=e.statusReverseState)&&void 0!==n&&n[t.payload])))});case"SET_INITIAL_STATUS_REVERSE_STATE":return(0,i.Z)((0,i.Z)({},e),{},{statusReverseState:t.payload});case"SET_SETTINGS_DATA":return(0,i.Z)((0,i.Z)({},e),{},{settingsData:e.settingsData?g()({},e.settingsData,t.payload):t.payload});case"SET_MOBILE_PROMPT":return(0,i.Z)((0,i.Z)({},e),{},{isShowMobilePrompt:t.payload});case"IS_INTERNET_DISCONNECTED":return(0,i.Z)((0,i.Z)({},e),{},{isInternetDisconnected:t.payload});case"CHATS_MENTIONS_LIST":return(0,i.Z)((0,i.Z)({},e),{},{chatsMentionList:t.payload});case"CHATS_SCHEDULED_MESSAGE_LIST":return(0,i.Z)((0,i.Z)({},e),{},{scheduledMessageIds:t.payload});default:return e}}var y=n(80184),b=m.Z.entities.updateEntitiesSuccess,_=(0,l.createContext)(null);function C(e){var t=(0,l.useReducer)(x,v),n=(0,o.Z)(t,2),a=n[0],r=n[1],m=(0,u.v9)((function(e){return(0,d.lk)(e)})),f=(0,u.v9)((function(e){return(0,d.tI)(e)})),h=(0,u.I0)(),g=(0,c.k6)(),C=e.children,E="admin"===(null==f?void 0:f.role.name),S="manager"===(null==f?void 0:f.role.name),Z=E||S,j=null==f?void 0:f.role.name,k=a.navCollapsed,w=a.isDarkMode,N=a.hasVScroll,I=a.selectedBusinessId,T=a.navToggled,A=a.unreadMessagesCount,D=a.searchQuery,M=a.registerInfo,O=a.chatPanelToggled,R=a.chatUuid,L=a.appDeviceUuid,U=a.groupsUnreadCountData,F=a.groupSearchQuery,P=a.unreadCasesCountByStatus,B=a.activeDraft,H=a.networkState,G=a.entityPage,K=a.hasUnread,V=a.caseType,Y=a.activeFilterTemplate,q=a.selectedCaseFilter,Q=a.areUnreadsFetched,z=a.unreadLoadingError,W=a.openCaseCreatePopup,J=a.selectedStatus,X=a.statusChangePayload,$=a.statusPriorityMessagePopup,ee=a.groupSearchOpen,te=a.groupMessageSearchQuery,ne=a.isAppAvailable,ae=a.isLastPageLoadedTriggered,re=a.statusReverseState,se=a.settingsData,ie=a.isShowMobilePrompt,oe=a.isInternetDisconnected,le=a.chatsMentionList,ce=a.scheduledMessageIds,ue=a.language,de=V===p.Z.STAFF;(0,l.useEffect)((function(){document.documentElement.classList.toggle("dark",w)}),[w]);var me=(0,l.useCallback)((function(){return r({type:"TOGGLE_SIDEBAR"})}),[]),pe=(0,l.useCallback)((function(){return r({type:"COLLAPSE_SIDEBAR"})}),[]),fe=(0,l.useCallback)((function(){return r({type:"TOGGLE_DARK"})}),[]),he=(0,l.useCallback)((function(e){return r({type:"SET_MOBILE_PROMPT",payload:e})}),[]),ge=(0,l.useCallback)((function(e){r({type:"SET_SELECTED_BUSINESS_ID",payload:e})}),[]),ve=(0,l.useCallback)((function(e){r({type:"SET_SEARCH_QUERY",payload:e})}),[]),xe=(0,l.useCallback)((function(e){r({type:"SET_GROUP_SEARCH_QUERY",payload:e})}),[]),ye=(0,l.useCallback)((function(e){r({type:"SET_UNREAD_MSG_COUNT",payload:{value:e,isAppending:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}})}),[]),be=(0,l.useCallback)((function(e){r({type:"SET_REGISTER_INFO",payload:e})}),[]),_e=(0,l.useCallback)((function(e){r({type:"SET_CHAT_PANEL_TOGGLED",payload:e})}),[]),Ce=function(e){return r({type:"SET_CHAT_UUID",payload:e})},Ee=(0,l.useCallback)((function(e){return r({type:"SET_APP_DEVICE_UUID",payload:e})}),[]),Se=(0,l.useCallback)((function(e){return r({type:"SET_PAGE_TYPE",payload:e})}),[]),Ze=(0,l.useCallback)((function(e){return r({type:"SET_GROUP_UNREAD_COUNTS",payload:e})}),[]),je=(0,l.useCallback)((function(e){return r({type:"SET_UNREAD_CASES_COUNTS",payload:e})}),[]),ke=(0,l.useCallback)((function(e){return r({type:"SET_ACTIVE_DRAFT",payload:e})}),[]),we=(0,l.useCallback)((function(e){return r({type:"SET_NETWORK_STATE",payload:e})}),[]),Ne=(0,l.useCallback)((function(e,t,n){h(b({entity:t,entityId:String(n),data:e}))}),[]),Ie=(0,l.useCallback)((function(e,t){r("function"==typeof e?{type:"SET_ENTITY_PAGE",payload:e(G)}:{type:"SET_ENTITY_PAGE",payload:e})}),[]),Te=(0,l.useCallback)((function(e){return r({type:"SET_HAS_UNREAD",payload:e})}),[]),Ae=(0,l.useCallback)((function(e){return r({type:"SET_CASE_TYPE",payload:e})}),[]),De=(0,l.useCallback)((function(e){return r({type:"SET_ACTIVE_FILTER_ITEM",payload:e})}),[]),Me=(0,l.useCallback)((function(e){return r({type:"SET_SELECTED_CASE_FILTERS",payload:e})}),[]),Oe=(0,l.useCallback)((function(e){return r({type:"ARE_UNREADS_FETCHED",payload:e})}),[]),Re=(0,l.useCallback)((function(e){return r({type:"UNREAD_LOADING_ERROR",payload:e})}),[]),Le=(0,l.useCallback)((function(e){return r({type:"SET_SELECTED_STATUS",payload:e})}),[]),Ue=(0,l.useCallback)((function(e){r({type:"SHOW_CASE_CREATE_POPUP",payload:void 0!==e?e:!W})}),[W]),Fe=(0,l.useCallback)((function(e){return r({type:"SET_STATUS_CHANGE_PAYLOAD",payload:e})}),[]),Pe=(0,l.useCallback)((function(e){return r({type:"SET_STATUS_PRIORITY_MESSAGE_POPUP",payload:e})}),[]),Be=(0,l.useCallback)((function(e){return r({type:"SET_GROUP_SEARCH_OPEN",payload:e})}),[]),He=(0,l.useCallback)((function(e){return r({type:"SET_GROUP_MESSAGE_SEARCH_QUERY",payload:e})}),[]),Ge=(0,l.useCallback)((function(e){return r({type:"SET_IS_LAST_PAGE_LOADED_TRIGGERED",payload:e})}),[]),Ke=(0,l.useCallback)((function(e){return r({type:"SET_IS_APP_AVAILABLE",payload:e})}),[]),Ve=(0,l.useCallback)((function(e){return r({type:"SET_STATUS_REVERSE_STATE",payload:e})}),[]),Ye=(0,l.useCallback)((function(e){return r({type:"SET_INITIAL_STATUS_REVERSE_STATE",payload:e})}),[]),qe=(0,l.useCallback)((function(e){return r({type:"SET_SETTINGS_DATA",payload:e})}),[]),Qe=(0,l.useCallback)((function(e){return r({type:"IS_INTERNET_DISCONNECTED",payload:e})}),[]),ze=(0,l.useCallback)((function(e){return r({type:"CHATS_MENTIONS_LIST",payload:e})}),[]),We=(0,l.useCallback)((function(e){return r({type:"CHATS_SCHEDULED_MESSAGE_LIST",payload:e})}),[]),Je=(0,l.useCallback)((function(e){return r({type:"SET_LANGUAGE",payload:e})}),[]),Xe=(0,l.useCallback)((function(e,t){return r((function(n){var a="case"===t?n.unreadMessagesCount:n.groupsUnreadCountData,r="case"===t?"unreadMessagesCount":"groupsUnreadCountData";return(0,i.Z)((0,i.Z)({},n),{},(0,s.Z)({},r,(0,i.Z)((0,i.Z)({},a),{},(0,s.Z)({},e,null!=a&&a[e]?(null==a?void 0:a[e])-1:0))))}))}),[]),$e=(0,l.useMemo)((function(){return{navCollapsed:k,toggleSidebar:me,history:g,isDarkMode:w,toggleDark:fe,setPageType:Se,hasVScroll:N,companyId:m,selectedBusinessId:I,setSelectedBusinessId:ge,collapseSidebar:pe,navToggled:T,setUnreadMessagesCount:ye,unreadMessagesCount:A,searchQuery:D,setSearchQuery:ve,registerInfo:M,setRegisterInfo:be,chatPanelToggled:O,toggleChatPanel:_e,setChatUuid:Ce,chatUuid:R,appDeviceUuid:L,setAppDeviceUuid:Ee,updateEntityField:Ne,groupsUnreadCountData:U,setGroupUnreadMessage:Ze,groupSearchQuery:F,setGroupSearchQuery:xe,unreadCasesCountByStatus:P,setUnreadCasesCountByStatus:je,activeDraft:B,setActiveDraft:ke,networkState:H,setNetworkState:we,entityPage:G,setEntityPage:Ie,hasUnread:K,setHasUnread:Te,isAdmin:E,isManager:S,isPermitted:Z,setCaseType:Ae,caseType:V,activeFilterTemplate:Y,setActiveFilterTemplate:De,selectedCaseFilter:q,setSelectedCaseFilter:Me,setAreUnreadsFetched:Oe,areUnreadsFetched:Q,unreadLoadingError:z,setUnreadLoadingError:Re,openCaseCreatePopup:W,showCaseCreatePopup:Ue,isStaff:de,selectedStatus:J,setSelectedStatus:Le,statusChangePayload:X,setStatusChangePayload:Fe,statusPriorityMessagePopup:$,setStatusPriorityMessagePopup:Pe,groupSearchOpen:ee,setGroupSearchOpen:Be,groupMessageSearchQuery:te,setGroupMessageSearchQuery:He,setIsLastPageLoadedTriggered:Ge,isLastPageLoadedTriggered:ae,setIsAppAvailable:Ke,isAppAvailable:ne,statusReverseState:re,setStatusReverseState:Ve,setInitialStatusReverseState:Ye,role:j,setSettingsData:qe,settingsData:se,isShowMobilePrompt:ie,setIsShowMobilePrompt:he,funcDecrementUnread:Xe,isInternetDisconnected:oe,setIsInternetDisconnected:Qe,chatsMentionList:le,setChatsMentionObject:ze,scheduledMessageIds:ce,setScheduledMessageIds:We,language:ue,setLanguage:Je}}),[k,me,g,w,fe,Se,N,m,I,ge,pe,T,ye,A,D,ve,M,be,O,_e,Ce,R,L,Ee,Ne,U,Ze,F,xe,P,je,B,ke,H,we,G,Ie,K,Te,E,S,Z,Ae,V,Y,De,q,Me,Oe,Q,z,Re,W,Ue,de,J,Le,X,Fe,$,Pe,ee,Be,te,He,Ge,ae,re,Ve,Ye,Ke,ne,j,qe,se,ie,he,Xe,oe,Qe,le,ze,ce,We,ue,Je]);return(0,y.jsx)(_.Provider,{value:$e,children:C})}function E(){var e=(0,l.useContext)(_);if(!e)throw new Error("useAppState must be used within the AppStateProvider");return e}},21316:function(e,t,n){"use strict";var a;n.d(t,{K:function(){return a}}),function(e){e.ADDED_ASSIGNED_USER="ADDED_ASSIGNED_USER",e.ADD_MEMBER="ADD_MEMBER",e.ASSIGNED_USER="ASSIGNED_USER",e.BUSINESS_TRANSFER="BUSINESS_TRANSFER",e.CASE_ASSIGNEE_UPDATED="CASE_ASSIGNEE_UPDATED",e.CASE_PINNED="CASE_PINNED",e.CASE_UNPINNED="CASE_UNPINNED",e.CONNECTION_REQUEST="CONNECTION_REQUEST",e.DELETE_DRAFT_MESSAGE="DELETE_DRAFT_MESSAGE",e.DELETE_MESSAGE="DELETE_MESSAGE",e.DRAFT_MESSAGE="DRAFT_MESSAGE",e.EDIT_MESSAGE="EDIT_MESSAGE",e.GROUP_CHAT_PERMISSIONS="GROUP_CHAT_PERMISSIONS",e.GROUP_CLOSED="GROUP_CLOSED",e.IMS_PINNED="IMS_PINNED",e.IMS_UNPINNED="IMS_UNPINNED",e.LEFT_MEMBER="LEFT_MEMBER",e.MARKED_READ_ALL="MARKED_READ_ALL",e.MEMBER_ADDED="MEMBER_ADDED",e.MEMBER_DELETED="MEMBER_DELETED",e.MEMBER_LEFT="MEMBER_LEFT",e.MESSAGE_PINNED="MESSAGE_PINNED",e.MESSAGE_READ="MESSAGE_READ",e.NEW_CASE="NEW_CASE",e.NEW_MESSAGE="NEW_MESSAGE",e.NO_UNREAD_LEFT="NO_UNREAD_LEFT",e.NO_UNREAD_LEFT_FOR_COMPANY="NO_UNREAD_LEFT_FOR_COMPANY",e.OWNER_ROLE_INVITATION="OWNER-ROLE-INVITATION",e.PRIORITY_CHANGED="PRIORITY_CHANGED",e.REACTED_MESSAGE="REACTED_MESSAGE",e.REMOVE_MEMBER="REMOVE_MEMBER",e.REMOVED_ASSIGNED_USER="REMOVED_ASSIGNED_USER",e.REQUEST_MANAGER="REQUEST_MANAGER",e.REQUEST_UPDATE="REQUEST_UPDATE",e.SOCKET_EVENT_TYPES="SOCKET_EVENT_TYPES",e.STAFF_EDITED="STAFF_EDITED",e.STAFF_INVITATION_PUSH="STAFF_INVITATION_PUSH",e.STAFF_INVITATION_REQUEST="STAFF_INVITATION_REQUEST",e.STATUS_CHANGED="STATUS_CHANGED",e.STATUS_NAME_CHANGED="STATUS_NAME_CHANGED",e.TYPING="TYPING",e.UNASSIGNED_USER="UNASSIGNED_USER",e.USER_ASSIGNED="USER_ASSIGNED",e.USER_DISCONNECTED="USER_DISCONNECTED",e.USER_INVITATION_REQUEST="USER_INVITATION_REQUEST",e.USER_TAGGED="USER_TAGGED",e.USER_UNASSIGNED="USER_UNASSIGNED",e.USER_UNTAGGED="USER_UNTAGGED",e.SCHEDULED_MESSAGE="SCHEDULED_MESSAGE",e.EDIT_SCHEDULED_MESSAGE="EDIT_SCHEDULED_MESSAGE",e.DELETE_SCHEDULED_MESSAGE="DELETE_SCHEDULED_MESSAGE",e.NO_SCHEDULED_MESSAGES_LEFT="NO_SCHEDULED_MESSAGES_LEFT",e.MESSAGE="MESSAGE",e.REPLIED_MESSAGE_DELETED="REPLIED_MESSAGE_DELETED",e.REASSIGNMENT="REASSIGNMENT"}(a||(a={}))},87671:function(e,t,n){"use strict";n.d(t,{T:function(){return M}});var a=n(93433),r=n(4942),s=n(1413),i=n(15861),o=n(64687),l=n.n(o),c=n(40084),u=n(97689),d=n(87818),m=n(49935),p=n(98246),f=n(64880),h=(n(72791),n(53148)),g=n(32380),v=n(58323);var x=n(16178),y=n(80266),b=n(6584),_=n(9478),C=n(17765),E=n(28182),S=n(97892),Z=n.n(S),j=n(80180),k=n(82486),w=n(92005),N=n(25157),I=n(17173),T=n(80184),A=g.Z.entities.updateEntitiesSuccess,D=g.Z.user.setUserCompany;function M(){var e,t=(0,c.m)(),n=t.unreadMessagesCount,o=t.groupsUnreadCountData,g=t.setGroupUnreadMessage,S=t.setUnreadMessagesCount,M=t.groupSearchQuery,O=t.companyId,R=t.searchQuery,L=t.caseType,U=t.selectedCaseFilter,F=t.role,P=t.unreadCasesCountByStatus,B=t.setUnreadCasesCountByStatus,H=t.scheduledMessageIds,G=t.setChatUuid,K=(0,I.$G)().t,V=(0,x.Kx)().removeQueryParams,Y=(0,d.I0)(),q=(0,f.k6)(),Q=(0,d.v9)((function(e){return e.entity})),z=(0,d.v9)((function(e){return e.entities})),W=(0,p.Ds)(),J=W.enqueueSnackbar,X=W.closeSnackbar,$=function(){var e=(0,d.I0)();return{appendToStore:function(t){var n=t.entityObject,a=t.primaryKey,s=t.entity,i=t.entityName,o=t.appendData,l=void 0!==o&&o,c=t.prependData,u=void 0!==c&&c,d=t.deleteData,p=void 0!==d&&d,f=t.updateData,h=void 0!==f&&f,g=n[a],x=(0,r.Z)({},s,(0,r.Z)({},g,n));e((0,v.wB)(x)),e((0,m.hU)({id:g,entity:s,name:i,appendData:l,prependData:u,updateData:h,deleteData:p}))}}}(),ee=$.appendToStore,te=(0,x.r1)().updateEntities,ne=(0,x.dY)().reloadEntityOne,ae=(0,x.Zp)().reloadEntityAll,re=(0,x.eC)().showNotification,se=(0,x.tv)().location,ie=(0,b.A)({statusId:null}),oe=ie.extraParams,le=ie.casesUrl,ce=(0,u.a)(),ue=ce.userData,de=ce.companies,me=ce.company,pe=JSON.parse(y.tO.get("selectedCaseFilter")||"{}")[L],fe=U[L]||pe,he=(0,x.rs)(),ge=he.priorityFilter,ve=he.hasPinnedFilter,xe=he.filterType,ye=(0,j.v)({deleteData:!0,method:"delete",url:"",entity:"cases",name:"",cb:{success:function(){},error:function(){},finally:function(){}}}).handleLocalDelete,be=(0,x.bK)({url:"",dynamicUrl:!0,cb:{success:function(e,t){var n;null!==(n=t[0])&&void 0!==n&&n.notLoadedCase?Te(e,!1):ue.id===e.created_by.id||Te(e)},error:function(e,t){console.error("error fetching case")}}}).fetchData,_e=(0,x.bK)({url:"",dynamicUrl:!0,cb:{success:(e=(0,i.Z)(l().mark((function e(t,n){var a,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.results,r=a.find((function(e){return e.company.id===O})),y.tO.set("company",JSON.stringify(r)),Y(C.Z.setUserCompany(r)),re({message:K("your_role_has_been_changed"),variant:"info"}),se.pathname.includes("staffs-management")&&ae({entity:"staffEmployee",name:"staffEmployee-".concat(O),url:"/".concat(O,"/employee/")});case 6:case"end":return e.stop()}}),e)}))),function(t,n){return e.apply(this,arguments)}),error:function(e,t){}}}),Ce=_e.fetchData;function Ee(e,t){var n,a,r,s,i,o,l="case"===e?"cases":"ims-chats",c="AllBusinessCases-".concat(t,"-").concat(L,"-").concat(R.length?"search":"".concat(fe?fe.id:"normal")),u="case"===e?c:"AllImsChats-".concat(O,"-").concat(M);return{entity:l,entityName:u,ids:null===(n=Q[l])||void 0===n||null===(a=n[u])||void 0===a?void 0:a.ids,meta:null===(r=Q[l])||void 0===r||null===(s=r[u])||void 0===s?void 0:s.meta,params:null===(i=Q[l])||void 0===i||null===(o=i[u])||void 0===o?void 0:o.params}}function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?[t].concat((0,a.Z)(e.filter((function(e){return e!==t})))):[].concat((0,a.Z)(e.filter((function(e){return e!==t}))),[t])}function Ze(e,t,n,a,r){Y((0,m.Qy)({ids:e,entity:t,name:n,appendData:!1,prependData:!1,params:a,meta:r,infiniteScroll:!1,isUniq:!1,replaceIds:!0}))}function je(e){var t=e.isCaseNotif,n=e.businessName,a=e.caseNumber,r=e.groupName,s=e.content;return t?"".concat(n?n+" |":""," #").concat(a,"  : ").concat(s):(0,T.jsxs)(T.Fragment,{children:[n?(0,T.jsxs)("b",{children:[n?n+" |":""," ",r]}):null,(0,T.jsx)("p",{children:s})]})}function ke(e){var t,n=e.messageText,a=e.entity_type,r=e.entity_id,i=e.case_status_id,o=e.fileType,l=e.case_number,c=e.businessCompanyId,u=e.showButtons,d=void 0===u||u,m=e.businessName,p=void 0===m?"":m,f=e.clientCompanyId,g=e.isBeingDeletedMember,v=void 0!==g&&g,x=e.group_name,y="case"===a,b=c===O,C=y?"cases":"ims-chats",S=f===c?_.Z.STAFF:_.Z.CLIENT,Z=null==z||null===(t=z[C])||void 0===t?void 0:t[r],j=null!=Z&&Z.last_read_message?"&hasUnreadMessage=true&lastReadMessage=".concat(null==Z?void 0:Z.last_read_message,"&unread=").concat(null==Z?void 0:Z.last_read_message):"",k=y?{pathname:"/case-messages",search:"?case=".concat(r,"&status=").concat(i).concat(j)}:{pathname:"/group-chat",search:"?chat=".concat(r).concat(j)};b||(k={pathname:"/preloader",search:"?entity_type=".concat(a,"&entity_id=").concat(r,"&status=").concat(i,"&business_company=").concat(c,"&type=CHAT&caseType=").concat(S)});var N=n.length?n:function(e){switch(e){case"AUDIO":return K("audio_message");case"VIDEO":return K("video_message");case"CONTACT":return K("contact_message");case"IMAGE":return K("image_message");case"LOCATION":return K("location_message");case"FILE":return K("file_message");default:return null}}(o),I=function(){q.push(k),setTimeout((function(){G((0,w.x0)()),X()}),0)};Ne((0,s.Z)({message:je({isCaseNotif:y,caseNumber:l,groupName:x,businessName:p,content:N}),type:"new_message"},(0,s.Z)({},d?{action:function(e){return(0,T.jsxs)(T.Fragment,{children:[!v&&(0,T.jsx)(h.zx,{className:(0,E.Z)({"!mt-4":"ims"===a}),classes:{label:"text-white"},onClick:I,children:K("case"===a?"open_case":"open_chat")}),(0,T.jsx)(h.zx,{className:(0,E.Z)({"!mt-4":"ims"===a}),classes:{label:"text-white"},onClick:function(){return X(e)},children:K("dismiss")})]})}}:{})))}function we(e){var t=e.entity_id,n=e.case_status_id,a=e.case_number,r=e.business_company_id,s=r===O,i={pathname:"/case-messages",search:"?case=".concat(t,"&status=").concat(n)};s||(i={pathname:"/preloader",search:"?entity_type=case&entity_id=".concat(t,"&status=").concat(n,"&business_company=").concat(r,"&type=CHAT")});var o=function(){q.push(i),setTimeout((function(){X()}),300)};Ne({message:"#".concat(a," :The new case has been created for you."),type:"new_case",action:function(){return(0,T.jsx)(h.zx,{classes:{label:"text-white"},onClick:o,children:"Open Case"})}})}function Ne(e){var t=e.type,n=e.message,a=e.action,r=e.variant,i={variant:void 0===r?"success":r,autoHideDuration:5e3,action:function(e){return(0,T.jsx)(h.zx,{classes:{label:"text-white"},onClick:function(){return X(e)},children:K("dismiss")})}};switch(t){case"new_case":case"staff_invitation":case"new_message":J(n,(0,s.Z)((0,s.Z)({},i),{},{action:a}));break;default:J(n,i)}}function Ie(e,t,n){ye(e,"cases",t),n&&Y((0,m.KX)("cases",t))}function Te(e){var t,n,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(function(e){var t="AllBusinessCases-".concat(null==e?void 0:e.status.id,"-").concat(L,"-").concat(fe?fe.id:"normal");ee({entity:"cases",entityName:t,prependData:!0,primaryKey:"id",entityObject:e})}(e),a)&&we({entity_id:e.id,case_number:e.case_number,case_status_id:null==e||null===(t=e.status)||void 0===t?void 0:t.id,business_company_id:null===(n=e.business_company)||void 0===n?void 0:n.id})}function Ae(e,t){return se.pathname.includes("case-messages")&&ue.id===(null==e?void 0:e.id)&&!R.length&&O===(null==t?void 0:t.id)}function De(){return(De=(0,i.Z)(l().mark((function e(t){var n,a,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.user_id,a=t.role,r=t.company_id,Number(r)!==O||n!==ue.id||F===a){e.next=4;break}return e.next=4,Ce({url:"/user/companies/",params:{limit:100}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{updateListUnread:function(e,t,a,i,l,c,u,d){var p,f=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],h=Ee(e,a),v=h.ids,x=h.params,y=h.entityName,b=h.entity,_=h.meta,C=null===(p=Q.cases)||void 0===p?void 0:p[y];if(ue.id!==c.id){var E="case"===e?n:o,j="case"===e?S:g,k=(0,s.Z)({},E);k=t in k?(0,s.Z)((0,s.Z)({},k),{},(0,r.Z)({},t,k[t]+1)):(0,s.Z)((0,s.Z)({},k),{},(0,r.Z)({},t,1)),d&&j(k)}var w=null==z?void 0:z[b];if(w&&null!=v&&v.includes(t)&&!R){var N=Se(v,t);(C||"ims"===e)&&Ze(N,b,y,x,_),Y(A({entity:b,entityId:String(t),data:{last_message_time:Z()().unix(),last_message_text:i,last_message_type:l,last_message_author:{first_name:c.first_name,last_name:c.last_name}}}))}"case"!==e||!w||null!=v&&v.includes(t)||!f||(be({url:"/".concat(O,"/cases/as_business/").concat(t,"/"),notLoadedCase:!0}),Y((0,m.jw)("cases",y)))},showNewMessageNotification:ke,changeStatus:function(e,t,a,i,o){var l,c,u,d,p=Ee(e,a),f=p.entity,h=p.entityName,g=Ee(e,i),v=g.entity,x=g.entityName,y=null===(l=Q.cases)||void 0===l?void 0:l[h],b=null===(c=Q.cases)||void 0===c?void 0:c[x];a&&i&&t&&function(e,t,a){var i;n&&a in n&&B((0,s.Z)((0,s.Z)({},P),{},(i={},(0,r.Z)(i,e,P[e]?--P[e]:0),(0,r.Z)(i,t,P[t]?++P[t]:1),i)))}(a,i,t);var _=Object.values(null!==(u=null==z?void 0:z[v])&&void 0!==u?u:{}).some((function(e){var t;return(null===(t=e.status)||void 0===t?void 0:t.id)===i&&(null==e?void 0:e.pin_time)}));y||ae({url:le,entity:"cases",name:x,params:{page:1,limit:10,extra:(0,s.Z)((0,s.Z)({},oe),{},{status:i})}}),_&&N.C.emit("refetchCasesByStatus",Number(i)),null!=y&&null!==(d=y.ids)&&void 0!==d&&d.includes(t)&&(te({entity:f,entityId:t,updatingData:{status:(0,s.Z)((0,s.Z)({},z.cases[t].status),{},{id:i,title:o})}}),Y((0,m.hU)({id:t,entity:f,name:h,appendData:!1,prependData:!1,updateData:!1,deleteData:!0})),Y((0,m.KX)(f,h)),b&&Y((0,m.hU)({id:t,entity:v,name:x,appendData:!1,prependData:!0,updateData:!1,deleteData:!1})))},showStatusChangeNotification:function(e,t){Ne({message:"#".concat(e," : ").concat(K("status_has_been_changed_to",{status:t})),type:"status_changed",variant:"info"})},changePriority:function(e,t,n,a){var r=Ee(e,a).entity,s=null==z?void 0:z[r];if(s&&t in s){var i=Ee(e,a),o=i.ids,l=i.params,c=i.entityName,u=i.entity,d=i.meta,m=Se(o,t);Y(A({entity:u,entityId:String(t),data:{priority:n}})),Ze(m,u,c,l,d)}else if(ge&&!ge.includes(n))return},showPriorityChangeNotification:function(e,t){Ne({message:"#".concat(e," : ").concat(K("priority_has_been_changed_to",{priority:t})),type:"priority_changed",variant:"success"})},permissionChangeUpdate:function(e,t){Y((0,m.Gx)({id:t,entity:"ims-chats",name:"GroupChat-".concat(t),url:"/".concat(O,"/ims/groups/").concat(t,"/"),params:{},primaryKey:"id",relations:""}))},updateGroupChatList:function(e){var t=e.businessId,n=e.type,a=e.entityId,r=e.text,s=e.isCurrentUserHasBeenAddedOrRemoved,i=void 0!==s&&s,o=e.showNotification,l=void 0===o||o;"REMOVE_MEMBER"===n&&i&&V(),l&&ke({messageText:r,entity_type:"ims",entity_id:a,case_status_id:null,fileType:null,businessCompanyId:t,showButtons:"ADD_MEMBER"===n}),i&&Y((0,m.am)({entity:"ims-chats",name:"AllImsChats-".concat(O,"-").concat(M),url:O&&0===M.length?"/".concat(O,"/ims/groups/"):"/".concat(O,"/ims/message_search/"),params:{page:1,limit:k.B,extra:(0,k.f)(M)},primaryKey:"id",relations:"",dataKey:"results",metaKey:"",appendData:!1,prependData:!0,infiniteScroll:!0,isUniq:!0,reverse:!1,cb:{success:function(e){}},replaceIds:!0}))},showCaseCreationNotification:we,fetchSingleCase:be,reloadCaseOrGroupChat:function(e){var t=e.entityType,n=e.entityId,a="case"===t,r=a?"CaseChat-".concat(n):"GroupChat-".concat(n),s=a?"/".concat(O,"/cases/as_business/").concat(n,"/"):"/".concat(O,"/ims/groups/").concat(n,"/");ne({entity:a?"cases":"ims-chats",name:r,entityId:n,url:s})},draftMessageHandler:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",n=e.entity_id,a=e.entity_type,r="case"===a?"cases":"ims-chats",s="".concat(e.entity_type,"Draft"),i=JSON.parse(y.tO.get(s)),o=null;function l(e){te({entity:r,entityId:n,updatingData:{draft_message:e}})}"add"!==t?i&&e.entity_id in i&&(n in i&&delete i[n],y.tO.set("".concat(a,"Draft"),JSON.stringify(i)),l(o)):l(o={editing_id:e.editing_id,id:n,reply_to:e.reply_to_id,text:e.text})},showStaffInvitationNotification:function(e){Ne((0,s.Z)({message:e.text,type:"staff_invitation"},(0,s.Z)({},e.is_staff_exists?{}:{action:function(e){return(0,T.jsx)(h.zx,{className:"hidden",classes:{label:"text-white"},onClick:function(){return q.push("/switch-business/business-requests")},children:K("open_requests_page")})}})))},getEntityData:Ee,moveEntityIdToBeginning:Se,liftEntityToTop:Ze,connectionRequestHandler:function(e){var t=e.requestText,n=e.clientCompany;Ne({message:t,type:"default"}),ae({url:"/".concat(O,"/client_companies/"),entity:"clients",name:"AllClients"}),ae({url:"/".concat(O,"/company_connection_requests/"),entity:"incoming-request",name:"AllIncoming-Requests"}),ae({url:"/".concat(O,"/my_company_connection_requests/"),entity:"outgoing-request",name:"AllOutgoing-Requests"}),n&&ae({url:"/".concat(O,"/my/company/clients/").concat(n.id,"/employee/"),entity:"client-users",name:"AllClientUser-".concat(n.id)})},casePinHandler:function(e){var t=e.entityId,n=e.statusId,a=e.isPinning,r=Ee("case",n),s=r.ids,i=r.params,o=r.entityName,l=r.entity,c=r.meta;if(a)if(null!=s&&s.includes(t)){var u=Se(s,t);if(!c||!i)return;Ze(u,l,o,i,c)}else be({url:"/".concat(O,"/cases/as_business/").concat(t,"/"),notLoadedCase:!0});te({entity:"cases",entityId:t,updatingData:{pin_time:a?Date.now():null}}),!a&&ve&&"and"===xe&&Ie(t,o)},updateStatusName:function(e){var t=e.newStatusTitle,n=e.statusId,a=e.confirmed,r=e.not_confirmed,s=e.is_confirmation_required;te({entity:"statuses",entityId:n,updatingData:{title:t,confirmed:a,not_confirmed:r,is_confirmation_required:s}})},handleAssigneeUpdated:function(e){var t=e.entityId,n=e.assigneeIds;te({entity:"cases",entityId:t,updatingData:{assignee_ids:n}})},imsPinUnpinHandler:function(e){var t=e.chat_id,n=e.action,a=Ee("ims",null),r=a.ids,s=a.params,i=a.entityName,o=a.entity,l=a.meta;Ze("ims_pinned"===n?Se(r,t):Se(r,t,!1),o,i,s,l)},handleStaffEditMessage:function(e){return De.apply(this,arguments)},incrementMsgUnread:function(e,t){var a="case"===e?n:o,i="case"===e?S:g,l=(0,s.Z)({},a);i(l=t in l?(0,s.Z)((0,s.Z)({},l),{},(0,r.Z)({},t,l[t]+1)):(0,s.Z)((0,s.Z)({},l),{},(0,r.Z)({},t,1)))},fetchCasesByStatus:function(e,t,n){var a=Ee("case",e).entityName;Ae(t,n)&&ae({url:le,entity:"cases",name:a,replaceIds:!0,params:{page:1,limit:10,extra:(0,s.Z)((0,s.Z)({},oe),{},{status:e})}})},checkCaseListUpdate:Ae,handleBusinessTransfer:function(e,t){if(O===e.id){var n=de.map((function(n){return n.company.id===e.id?(0,s.Z)((0,s.Z)({},n),{},{company:(0,s.Z)((0,s.Z)({},n.company),{},{owner:t})}):n}));Y(C.Z.loadUserCompaniesSuccess(n));var a=(0,s.Z)((0,s.Z)({},me),{},{company:(0,s.Z)((0,s.Z)({},null==me?void 0:me.company),{},{owner:t})});Y(D(a)),y.tO.set("company",JSON.stringify(a)),ae({entity:"staffEmployee",name:"staffEmployee-".concat(O),url:"/".concat(O,"/employee/"),params:{page:1,limit:50}})}},staffListReload:function(e,t){var n=se.pathname.includes("staffs-management");(null==t?void 0:t.id)===O&&n&&ae({url:"/".concat(O,"/employee/"),entity:"staffEmployee",name:"staffEmployee-".concat(O),replaceIds:!0,params:{page:1,limit:10}})},businessRequestReload:function(e,t){se.pathname.includes("business-requests")&&(null==ue?void 0:ue.id)===e&&ae({url:"/".concat(O,"/my/company/user_connection_requests/"),entity:"incomingRequest",name:"AllIncomingRequest-".concat(O),replaceIds:!0,params:{page:1,limit:10}})},checkCaseForFiltering:function(e){var t,n,a,r,s,i,o,l,c=e.priority,u=e.statusId,d=(e.messageType,e.taggedUserIds),m=void 0===d?[]:d,p=e.departmentId,f=e.subDepartmentId,h=e.entityId,g=U[L],v=(null==g||null===(t=g.filter_json)||void 0===t?void 0:t.filter_status)||[],x=(null==g||null===(n=g.filter_json)||void 0===n?void 0:n.priority)||[],y=null==g||null===(a=g.filter_json)||void 0===a?void 0:a.tagged,b=(null==g||null===(r=g.filter_json)||void 0===r?void 0:r.department)||[],_=(null==g||null===(s=g.filter_json)||void 0===s?void 0:s.sub_department)||[],C=x.length,E=v.length,S=b.length,Z=_.length,j=null!==(i=null==g||null===(o=g.filter_json)||void 0===o?void 0:o.scheduled)&&void 0!==i&&i,k=v.find((function(e){return e.id===u})),w=x.find((function(e){return e.code===c})),N=(null!=m?m:[]).includes(null==ue?void 0:ue.id),I=b.find((function(e){return e.id===p})),T=_.find((function(e){return e.id===f})),A=!(null==H||null===(l=H[h])||void 0===l||!l.length),D="and"===xe,M="or"===xe,O=[],R=[];return E&&(O.push(v),R.push(k)),C&&(O.push(x),R.push(w)),y&&(O.push([y]),R.push(N)),j&&(O.push([j]),R.push(A)),Z?(O.push(_),R.push(T)):S&&(O.push(b),R.push(I)),!(g&&!O.every((function(e){return!e.length})))||(D&&O.every((function(e){return e.length}))?R.every((function(e){return!!e})):M&&O.some((function(e){return!!e}))?R.some((function(e){return!!e})):E?k:C?w:j?A:Z?T:S?I:!(y&&!N))},noUnreadLeftForCompany:function(e){var t=de.map((function(t){return t.company.id===Number(e)?(0,s.Z)((0,s.Z)({},t),{},{company:(0,s.Z)((0,s.Z)({},t.company),{},{unread_cases_count:0})}):t}));Y(C.Z.loadUserCompaniesSuccess(t))},removeCaseFromUI:Ie}}},72863:function(e,t,n){"use strict";n.d(t,{Z:function(){return M},i:function(){return O}});var a=n(1413),r=n(15861),s=n(4942),i=n(64687),o=n.n(i),l=n(72791),c=n(19829),u=n(9478),d=n(97689),m=n(87671),p=n(16178),f=n(40084),h=n(7982),g=n(87818),v=n(17765),x=n(49935),y=n(80266),b=n(16729),_=n(71887),C=n(58323),E=n(28843),S=n(93433),Z=n(21316),j=n(25157),k=n(763),w=n(67051),N=n(80184),I=(0,l.createContext)(null),T=u.Z.API_WS_DEV,A=function(e){return"".concat(e.first_name," ").concat(e.last_name)},D=(0,k.debounce)((function(e){j.C.emit("refetchCasesByStatus",e)}),2e3),M=function(e){var t,n=e.children,i=(0,l.useRef)(null),u=(0,d.a)(),k=u.token,M=u.userData,O=(0,m.T)(),R=O.updateListUnread,L=O.showNewMessageNotification,U=O.changeStatus,F=O.showStatusChangeNotification,P=O.showPriorityChangeNotification,B=O.permissionChangeUpdate,H=O.updateGroupChatList,G=O.fetchSingleCase,K=O.reloadCaseOrGroupChat,V=O.draftMessageHandler,Y=O.showStaffInvitationNotification,q=O.connectionRequestHandler,Q=O.casePinHandler,z=O.updateStatusName,W=O.handleAssigneeUpdated,J=O.imsPinUnpinHandler,X=O.handleStaffEditMessage,$=O.checkCaseListUpdate,ee=O.handleBusinessTransfer,te=O.staffListReload,ne=O.businessRequestReload,ae=O.noUnreadLeftForCompany,re=O.checkCaseForFiltering,se=O.changePriority,ie=O.removeCaseFromUI,oe=O.getEntityData,le=(0,p.Kx)(),ce=le.query,ue=le.removeQueryParams,de=(0,g.I0)(),me=(0,p.r1)().updateEntities,pe=(0,p.eC)().showNotification,fe=(0,d.a)().companies,he=(0,f.m)(),ge=he.companyId,ve=he.unreadMessagesCount,xe=he.searchQuery,ye=he.history,be=he.selectedCaseFilter,_e=he.caseType,Ce=he.appDeviceUuid,Ee=(0,p.pp)(),Se=Ee.deleteMessage,Ze=Ee.removeUnread,je=Ee.decrementUnread,ke=(0,p.O4)().fetchCompanyAllUnreadCounts,we=(0,h.g)(),Ne=we.incrementUnreadCaseCount,Ie=we.decrementUnreadCaseCount,Te=function(){var e=(0,f.m)(),t=e.scheduledMessageIds,n=e.setScheduledMessageIds;return{incrementScheduledMsgCount:function(e){var r,i=e.messageId,o=e.entityId,l=(0,S.Z)(null!==(r=null==t?void 0:t[o])&&void 0!==r?r:[]);l.push(i),n((0,a.Z)((0,a.Z)({},t),{},(0,s.Z)({},o,l)))},decrementScheduledMsgCount:function(e){var r,i=e.messageId,o=e.entityId,l=(0,S.Z)(null!==(r=null==t?void 0:t[o])&&void 0!==r?r:[]).filter((function(e){return e!==i}));n((0,a.Z)((0,a.Z)({},t),{},(0,s.Z)({},o,l)))},removeEntityScheduledMessagesList:function(e){var r=(0,a.Z)({},t);null==r||delete r[e],n(r)}}}(),Ae=Te.incrementScheduledMsgCount,De=Te.decrementScheduledMsgCount,Me=Te.removeEntityScheduledMessagesList,Oe=(0,p.tv)().location,Re=(0,p.rs)(),Le=Re.hasUnreadFilter,Ue=Re.filterType,Fe=Re.isRemovedUserInAssigneeFilterList,Pe=Re.selectedFilterTemplateId,Be=(0,g.v9)((function(e){return e.entity})),He=(0,c.ZP)("".concat(T,"?token=").concat(k),{retryOnError:!0,reconnectAttempts:120,reconnectInterval:5e3,onReconnectStop:function(){window.location.reload()},shouldReconnect:function(e){return!0},onOpen:function(e){Ke({type:"user_handshake"});i.current=setInterval((function(){Ke({type:"ping",key:"user_".concat(null==M?void 0:M.id)})}),3e4)},onClose:function(e){clearInterval(i.current)},onMessage:function(e){var t=JSON.parse(e.data);0;switch((0,y.LO)(null==t?void 0:t.type)||(0,y.LO)(null==t?void 0:t.action)){case Z.K.NEW_MESSAGE:case Z.K.REQUEST_MANAGER:case Z.K.EDIT_MESSAGE:case Z.K.REQUEST_UPDATE:Qe(t);break;case Z.K.STATUS_CHANGED:!function(e){var t=e.entity_type,n=e.entity_id,a=e.case_status_id,s=e.previous_status,i=e.status,l=e.case_number,c=String(n)!==(null==ce?void 0:ce.case);(0,r.Z)(o().mark((function e(){var u,d,m,p,f,h,g,v,x;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=function(){return(f=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){try{U(t,n,s,a,i),e()}catch(e){r(e)}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},p=function(){return f.apply(this,arguments)},e.next=4,p();case 4:h=!(null!=ve&&ve[n]),g=oe("case",a),v=g.entityName,x=null==Be||null===(u=Be.cases)||void 0===u||null===(d=u[v])||void 0===d||null===(m=d.ids)||void 0===m?void 0:m.includes(n),Le&&"and"===Ue&&h&&x&&ie(n,v,!0),c&&F(l,i);case 9:case"end":return e.stop()}}),e)})))()}(t),Qe(t,!1);break;case Z.K.PRIORITY_CHANGED:!function(e){var t=e.entity_type,n=e.entity_id,a=e.priority,r=e.case_status_id,s=e.case_number,i=e.from_user,o=String(n)!==(null==ce?void 0:ce.case),l=o&&(null==i?void 0:i.id)===(null==M?void 0:M.id);se(t,n,a,r),l&&P(s,a)}(t);break;case Z.K.GROUP_CHAT_PERMISSIONS:Je(t);break;case Z.K.ADD_MEMBER:Xe(t,"ADD_MEMBER");break;case Z.K.REMOVE_MEMBER:Xe(t,"REMOVE_MEMBER");break;case Z.K.LEFT_MEMBER:Xe(t,"LEFT_MEMBER");break;case Z.K.GROUP_CLOSED:!function(e){var t=e.business_company_id,n=e.entity_id;H({businessId:t,type:"REMOVE_MEMBER",entityId:n,text:"Group chat has been deleted",isCurrentUserHasBeenAddedOrRemoved:!0})}(t);break;case Z.K.NO_UNREAD_LEFT:if(Ie(t.status_id),Ze({entityId:t.entity_id,entityType:t.entity_type,statusId:t.status_id}),qe({entityId:t.entity_id,removeAll:!0,currentMsgCompanyId:t.company_id}),!Oe.pathname.includes("case-messages"))return;if(Ce===(null==t?void 0:t.app_id))return;qe({entityId:t.entity_id,removeAll:!0,currentMsgCompanyId:t.company_id}),j.C.emit("refetchCasesByStatus",null==t?void 0:t.status_id);break;case Z.K.MESSAGE_READ:var n=t,s=n.entity_id,i=n.tagged_messages,l=n.company_id;if(Ce!==(null==t?void 0:t.app_id)&&(null==M?void 0:M.id)===(null==t?void 0:t.user_id)){je({entityId:t.entity_id,entityType:t.entity_type});var c="case"===(null==t?void 0:t.entity_type)?"cases":"ims-chats";me({entity:c,entityId:null==t?void 0:t.entity_id,updatingData:{last_read_message:null==t?void 0:t.message_id}})}Array.isArray(i)&&qe({entityId:s,messageIds:i,currentMsgCompanyId:l});break;case Z.K.NEW_CASE:var u,d=t.case_status_id,m=void 0===d?null:d,p=(t.priority,t.status,t.message_type,t.assignee_ids,t.department,t.sub_department,be[_e]),f="AllBusinessCases-".concat(m,"-").concat(_e,"-").concat(p?p.id:"normal");(null==M?void 0:M.id)===(null==t||null===(u=t.created_by)||void 0===u?void 0:u.id)&&(de((0,x.jw)("cases",f)),G({url:"/".concat(ge,"/cases/as_business/").concat(t.entity_id,"/"),notLoadedCase:!0}));break;case Z.K.DRAFT_MESSAGE:V(t);break;case Z.K.DELETE_DRAFT_MESSAGE:V(t,"reset");break;case Z.K.MESSAGE_PINNED:!function(e){if(Number(null==ce?void 0:ce.chat)===e.case_id||Number(null==ce?void 0:ce.case)===e.case_id){K({entityType:"case"in ce?"case":"ims",entityId:e.case_id})}}(t);break;case Z.K.STAFF_INVITATION_PUSH:Y(t);break;case Z.K.CONNECTION_REQUEST:q({requestText:t.content,clientCompany:t.client_company});break;case Z.K.CASE_PINNED:xe||Q({entityId:t.entity_id,statusId:t.status_id,isPinning:!0});break;case Z.K.CASE_UNPINNED:Q({entityId:t.entity_id,statusId:t.status_id,isPinning:!1});break;case Z.K.DELETE_MESSAGE:Se(t);break;case Z.K.IMS_PINNED:case Z.K.IMS_UNPINNED:J(t);break;case Z.K.STATUS_NAME_CHANGED:var h=t,g=h.status,v=h.status_id,b=h.confirmed,_=h.not_confirmed,C=h.is_confirmation_required;z({statusId:v,newStatusTitle:g,confirmed:b,not_confirmed:_,is_confirmation_required:C});break;case Z.K.MARKED_READ_ALL:(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke();case 2:if(Oe.pathname.includes("case-messages")&&Le){e.next=5;break}return e.abrupt("return");case 5:j.C.emit("refetchCasesByStatus",null==t?void 0:t.status_id);case 6:case"end":return e.stop()}}),e)})))();break;case Z.K.CASE_ASSIGNEE_UPDATED:var E=t,S=E.assignee_ids,k=E.entity_id;W({entityId:Number(k),assigneeIds:S});break;case Z.K.STAFF_EDITED:var w=t.company_id;if((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t);case 2:case"end":return e.stop()}}),e)})))(),"chat"in ce&&Je({business_company_id:Number(w),chat_id:Number(ce.chat)}),!Oe.pathname.includes("case-messages"))return;j.C.emit("forceUpdateCasesList");break;case Z.K.USER_DISCONNECTED:var N=t,I=N.user_id,T=N.company_id;!function(e,t){try{ge===t&&(null==M?void 0:M.id)===e&&(pe({message:"You will be logged out automatically in 5 seconds due to disconnection from current business",variant:"info"}),setTimeout((function(){ye.push("/logout")}),5e3))}catch(e){console.error("Something went wrong during user disconnect",e)}}(I,parseInt(T));break;case Z.K.BUSINESS_TRANSFER:var A=t,D=A.company,O=A.user,R=A.text;ee(D,O),pe({message:null!=R?R:"Company owner has been changed"});break;case Z.K.STAFF_INVITATION_REQUEST:var L=t,B=L.from_user,$=L.business_company,re=L.content;te(B,$),pe({message:re,variant:"info"});break;case Z.K.USER_INVITATION_REQUEST:var le=t,ue=le.user_id,fe=le.requesting_company;ne(ue,fe);break;case Z.K.OWNER_ROLE_INVITATION:t.user.id===M.id&&pe({message:t.request.role,variant:"success"});break;case Z.K.ADDED_ASSIGNED_USER:case Z.K.REMOVED_ASSIGNED_USER:break;case Z.K.NO_UNREAD_LEFT_FOR_COMPANY:var he=t.company_id;ae(he);break;case Z.K.USER_UNTAGGED:var Ee=t,we=Ee.company_id,Ne=Ee.entity_id,Te=Ee.message_ids;Array.isArray(Te)&&qe({entityId:Ne,messageIds:Te,currentMsgCompanyId:we});break;case Z.K.USER_TAGGED:var Re=t,Fe=Re.company_id,Pe=Re.entity_id,He=Re.message_id;if(Oe.search.includes(Pe.toString()))return;Ye({entityId:Pe,messageId:He,currentMsgCompanyId:Fe});break;case Z.K.SCHEDULED_MESSAGE:We({message:t,isUpdating:!1}),Ae({messageId:null==t?void 0:t.id,entityId:null==t?void 0:t.entity_id});break;case Z.K.EDIT_SCHEDULED_MESSAGE:We({message:t,isUpdating:!0});break;case Z.K.DELETE_SCHEDULED_MESSAGE:We({message:(0,a.Z)((0,a.Z)({},t),{},{scheduled_to:!0}),isDeleted:!0}),De({messageId:null==t?void 0:t.id,entityId:null==t?void 0:t.entity_id});break;case Z.K.NO_SCHEDULED_MESSAGES_LEFT:var Ge=be[_e];Me(null==t?void 0:t.entity_id),Ge&&j.C.emit("refetchCasesByStatus",null==t?void 0:t.status_id);break;case Z.K.REASSIGNMENT:var Ke=t.company_id,Ve=t.text,ze=t.assign_user_id;if(j.C.emit("forceUpdateCasesList"),(null==M?void 0:M.id)===ze)return;ge===Ke&&pe({message:Ve});break;default:return null}return null},onError:function(e){console.error("useWebsocket error")}}),Ge=He.readyState,Ke=He.sendJsonMessage,Ve=(0,b.h)(),Ye=Ve.incrementChatMentions,qe=Ve.decrementChatMentions;t={},(0,s.Z)(t,c.kQ.CONNECTING,"Connecting"),(0,s.Z)(t,c.kQ.OPEN,"Open"),(0,s.Z)(t,c.kQ.CLOSING,"Closing"),(0,s.Z)(t,c.kQ.CLOSED,"Closed"),(0,s.Z)(t,c.kQ.UNINSTANTIATED,"Uninstantiated");function Qe(e){return ze.apply(this,arguments)}function ze(){return ze=(0,r.Z)(o().mark((function e(t){var n,s,i,l,c,u,d,m,p,f,h,g,x,b,C,E,S,k,N,I,T,O,U,F,P,B,H,G,K,V,Y,q,Q,z,J,X,ee,te,ne,ae,se,le,pe,he=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(he.length>1&&void 0!==he[1])||he[1],s=t.entity_type,i=t.entity_id,l=t.case_status_id,c=t.file_type,u=t.from_user,d=t.case_number,m=t.business_company,p=t.type,f=t.client_company,h=t.to_user,g=void 0===h?{}:h,x=t.group_name,b=t.priority,t.sent_time,C=t.hide_in_business_app,E=void 0!==C&&C,S=t.is_last_message,k=void 0===S?void 0:S,N=t.department,I=t.sub_department,T=t.reassign,O=void 0!==T&&T,U=t.text,F="case"===s,P=String(i)!==(F?null==ce?void 0:ce.case:null==ce?void 0:ce.chat),B=ge===(null==m?void 0:m.id),H=(0,y.LO)(t.message_type),G=H===Z.K.MEMBER_LEFT,K=M.id===u.id,V=(null==M?void 0:M.id)===(null==g?void 0:g.id),Y=H===Z.K.MEMBER_DELETED&&V,q=oe("case",l),Q=q.entityName,ge!==(null==m?void 0:m.id)&&(z=fe.map((function(e){return e.company.id===(null==m?void 0:m.id)?(0,a.Z)((0,a.Z)({},e),{},{company:(0,a.Z)((0,a.Z)({},e.company),{},{unread_cases_count:++e.company.unread_cases_count})}):e})),de(v.Z.loadUserCompaniesSuccess(z))),H!==Z.K.MEMBER_DELETED&&H!==Z.K.MEMBER_ADDED&&H!==Z.K.MEMBER_LEFT||_.q.emit("onMembersUpdate"),H===Z.K.UNASSIGNED_USER&&Fe(null==g?void 0:g.id)&&j.C.emit("refetchCasesByStatus",l),M.id!==u.id&&l&&(null==m?void 0:m.id)===ge&&!Y&&Ne(l,i),(0,y.LO)(t.type)===Z.K.NEW_MESSAGE&&Ke({type:"delivered",message_id:t.message_id}),null!=t&&t.scheduled_message_uuid&&We({message:(0,a.Z)((0,a.Z)({},t),{},{custom_uuid:null==t?void 0:t.scheduled_message_uuid,scheduled_to:!0}),isDeleted:!0}),!P&&Y&&(ue(),Y&&(U="".concat(A(t.from_user)," removed ").concat(A(t.to_user),"."),ie(i,Q))),(0,y.LO)(p)===Z.K.EDIT_MESSAGE&&k&&me({entity:"case"===s?"cases":"ims",entityId:i,updatingData:{last_message_text:U}}),!P&&F){e.next=43;break}if(J=re({priority:b,statusId:l,messageType:null==t?void 0:t.message_type,taggedUserIds:null==t?void 0:t.tagged_users,departmentId:null==N?void 0:N.id,subDepartmentId:null==I?void 0:I.id,entityId:i}),X=oe("case",l),ee=X.ids,te=null==ee?void 0:ee.includes(i),ne=H===Z.K.UNASSIGNED_USER&&Fe(null==g?void 0:g.id),!B||Y||F&&!J&&!te||ne){e.next=30;break}return ae=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){R(s,i,l,U,c,u,"status_changed"===p,P,!O&&!be[_e]),e()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=29,ae();case 29:be[_e]&&D(l);case 30:if(M.id!==(null==u?void 0:u.id)||H===Z.K.UNASSIGNED_USER||G){e.next=32;break}return e.abrupt("return");case 32:if(H===Z.K.MEMBER_DELETED&&(U="".concat(A(t.from_user)," removed ").concat(A(t.to_user),"."),V&&ie(i,Q,!0)),H===Z.K.MEMBER_ADDED&&(U="".concat(A(t.from_user)," added ").concat(A(t.to_user),".")),H===Z.K.MEMBER_LEFT&&(U="".concat(A(t.from_user)," left current case."),K&&ie(i,Q,!0)),(0,y.LO)(t.type)===Z.K.EDIT_MESSAGE&&(U="Edited Message: ".concat(U)),H===Z.K.UNASSIGNED_USER&&(se=$(g,m),le=oe("case",null==t?void 0:t.case_status_id),le.ids,Fe(null==M?void 0:M.id)&&se&&"and"===Ue&&(null==g?void 0:g.id)===M.id&&(pe="AllBusinessCases-".concat(l,"-").concat(_e,"-").concat(Pe||"normal"),ie(i,pe))),H===Z.K.ASSIGNED_USER&&$(g,m)&&W({entityId:Number(i),assigneeIds:[null==g?void 0:g.id]}),n){e.next=41;break}return e.abrupt("return");case 41:E||O||(0,w.Z)(U)||L({messageText:U,entity_type:s,entity_id:i,case_status_id:l,fileType:c,case_number:d,businessCompanyId:null==m?void 0:m.id,businessName:null==m?void 0:m.name,clientCompanyId:f.id,isBeingDeletedMember:M.id===(null==g?void 0:g.id),group_name:x});case 43:case"end":return e.stop()}}),e)}))),ze.apply(this,arguments)}function We(e){var t=e.message,n=e.isUpdating,r=void 0!==n&&n,i=e.isDeleted,o=void 0!==i&&i,l=t.custom_uuid,c=t.entity_type,u=t.entity_id,d=(0,E.pA)({isScheduled:Boolean(null==t?void 0:t.scheduled_to),entityType:c,entityId:u});if(!o){var m=(0,s.Z)({},"".concat(c,"Messages"),(0,s.Z)({},l,(0,a.Z)((0,a.Z)({},t),{},{from_user:M})));de((0,C.wB)(m))}de((0,x.hU)({id:l,entity:"".concat(c,"Messages"),name:d,appendData:!o,prependData:!1,updateData:r,deleteData:o}))}function Je(e){var t=e.business_company_id,n=e.chat_id;t===ge&&"chat"in ce&&B(t,n)}function Xe(e,t){var n=e.to_user,a=e.business_company_id,r=e.entity_id,s=e.custom_title,i=e.from_user,o=e.entity_type,l=String(r)!==(null==ce?void 0:ce.chat),c=ge===a,u=(0,y.LO)(t),d=(null==n?void 0:n.id)===M.id,m=d&&u===Z.K.REMOVE_MEMBER,p="";switch(u){case Z.K.ADD_MEMBER:p="".concat(A(i)," added ").concat(A(n)," to current group chat");break;case Z.K.REMOVE_MEMBER:p="".concat(A(i)," removed ").concat(A(n)," from current group chat");break;case Z.K.LEFT_MEMBER:p="".concat(A(i)," left  current group chat")}_.q.emit("onMembersUpdate"),c&&!m&&R(o,r,null,p,null,i,!1,l),H({businessId:a,type:t,entityId:r,text:s,isCurrentUserHasBeenAddedOrRemoved:d,showNotification:!(null!=e&&e.hide_in_business_app)})}var $e={message:"hello",sendJsonMessage:Ke};return(0,N.jsx)(I.Provider,{value:$e,children:n})};function O(){var e=(0,l.useContext)(I);if(!e)throw new Error("useUserSocket must be used within the AppStateProvider");return e}},58323:function(e,t,n){"use strict";var a;function r(e){return{type:a.LOAD_ENTITIES_SUCCESS,payload:e}}n.d(t,{Mi:function(){return a},wB:function(){return r}}),function(e){e.LOAD_ENTITIES_TRIGGER="LOAD_ENTITIES_TRIGGER",e.LOAD_ENTITIES_REQUEST="LOAD_ENTITIES_REQUEST",e.LOAD_ENTITIES_SUCCESS="LOAD_ENTITIES_SUCCESS",e.LOAD_ENTITIES_FAILURE="LOAD_ENTITIES_FAILURE",e.UPDATE_ENTITIES_TRIGGER="UPDATE_ENTITIES_TRIGGER",e.UPDATE_ENTITIES_REQUEST="UPDATE_ENTITIES_REQUEST",e.UPDATE_ENTITIES_SUCCESS="UPDATE_ENTITIES_SUCCESS",e.UPDATE_ENTITIES_FAILURE="UPDATE_ENTITIES_FAILURE",e.RESET_ENTITIES_LIST="RESET_ENTITIES_LIST"}(a||(a={}));var s={loadEntitiesSuccess:r,updateEntitiesSuccess:function(e){return{type:a.UPDATE_ENTITIES_SUCCESS,payload:e}},resetEntitiesList:function(e){return{type:a.RESET_ENTITIES_LIST,payload:e}}};t.ZP=s},32380:function(e,t,n){"use strict";var a=n(1413),r=n(58323),s=n(11115),i=n(16020),o=n(49935),l=n(17765);t.Z={entities:(0,a.Z)({},r.ZP),system:(0,a.Z)({},s.ZP),auth:(0,a.Z)({},i.Z),entity:(0,a.Z)({},o.ZP),user:(0,a.Z)({},l.Z)}},11115:function(e,t,n){"use strict";var a;n.d(t,{VE:function(){return a}}),function(e){e.CHANGE_LANGUAGE="CHANGE_LANGUAGE",e.RESET="RESET"}(a||(a={})),t.ZP={ChangeLanguage:function(e){return{type:a.CHANGE_LANGUAGE,payload:e}},Reset:function(){return{type:a.RESET}}}},96993:function(e,t,n){"use strict";n.d(t,{j:function(){return Ze},m:function(){return je}});var a=n(93433),r=n(87781),s=(n(95484),n(1413)),i=n(80266),o=n(16020),l={isFetched:!0,isAuthenticated:!!i.tO.get("token"),data:null,token:""},c=n(17765),u={userCompanies:[],isFetchedUser:!0,isFetchedBusiness:!0,error:null,errorBusiness:null,company:void 0,businessCompanies:[],fcm:null,selectedBusiness:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.V.LOAD_USER_COMPANIES_REQUEST:return(0,s.Z)((0,s.Z)({},e),{},{isFetchedUser:!1});case c.V.LOAD_USER_COMPANIES_SUCCESS:return(0,s.Z)((0,s.Z)({},e),{},{isFetchedUser:!0,userCompanies:t.payload});case c.V.LOAD_USER_COMPANIES_FAIL:return(0,s.Z)((0,s.Z)({},e),{},{isFetchedUser:!0,userCompanies:[],error:t.payload});case c.V.SET_USER_COMPANY:return(0,s.Z)((0,s.Z)({},e),{},{company:t.payload});case c.V.SET_USER_FCM:return(0,s.Z)((0,s.Z)({},e),{},{fcm:t.payload});case c.V.SET_SELECTED_BUSINESS:return(0,s.Z)((0,s.Z)({},e),{},{selectedBusiness:t.payload});default:return e}},m=n(45987),p=n(4942),f=n(26181),h=n.n(f),g=n(72064),v=n.n(g),x=n(18111),y=n.n(x),b=n(93629),_=n.n(b),C=n(49935),E=["page"],S={all:{someName:{ids:[],isFetched:!1,meta:{}}}};function Z(e,t){return t.filter((function(t){return!e.includes(t)}))}var j=n(58323),k=n(763),w={},N=n(9478),I=n(11115),T={currentLangCode:N.Z.DEFAULT_LANGUAGE},A={auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case o.Z.GetMe.REQUEST:return(0,s.Z)((0,s.Z)({},e),{},{isFetched:!1});case o.Z.Login.SUCCESS:return(0,s.Z)((0,s.Z)({},e),{},{isFetched:!0,isAuthenticated:!0,token:t.payload.token});case o.Z.GetMe.SUCCESS:return(0,s.Z)((0,s.Z)({},e),{},{isFetched:!0,isAuthenticated:!0,data:t.payload.data,token:i.tO.get("token")});case o.Z.Logout.REQUEST:case o.Z.Logout.SUCCESS:case o.Z.Logout.FAILURE:case o.Z.Login.FAILURE:case o.Z.GetMe.FAILURE:return(0,s.Z)((0,s.Z)({},e),{},{isFetched:!0,isAuthenticated:!1,token:"",data:{}});default:return e}},user:d,entity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.Ut.LOAD_ALL_ENTITY_REQUEST:var n=t.payload,r=n.entity,i=n.name;return(0,s.Z)((0,s.Z)({},e),{},(0,p.Z)({},r,(0,s.Z)((0,s.Z)({},h()(e,r,{})),{},(0,p.Z)({},i,(0,s.Z)((0,s.Z)({},h()(e,"".concat(r,".").concat(i),{})),{},{isFetched:!1})))));case C.Ut.LOAD_ALL_ENTITY_SUCCESS:var o=t.payload,l=o.entity,c=o.name,u=o.ids,d=o.meta,f=o.appendData,g=o.prependData,x=o.params,b=(x.page,(0,m.Z)(x,E)),j=o.infiniteScroll,k=o.isUniq,w=o.replaceIds,N=o.cursorBased,I=!y()(b,h()(e,"".concat(l,".").concat(c,".params"),{})),T=h()(e,"".concat(l,".").concat(c,".ids"),[]),A=h()(e,"".concat(l,".").concat(c,".meta.current_page"),1),D=d.current_page,M=w?d.count:h()(e,"".concat(l,".").concat(c,".meta.firstItemIndex"),d.count),O=Math.max(M-((null==d?void 0:d.response_length)||b.limit||10),0),R=I&&!N||w?(0,a.Z)(u):1!==D||N?f?[].concat((0,a.Z)(T),(0,a.Z)(Z(T,u))):g?[].concat((0,a.Z)(Z(T,u)),(0,a.Z)(T)):(0,a.Z)(u):[].concat((0,a.Z)(T),(0,a.Z)(Z(T,u))),L={};return d&&(L=(0,s.Z)((0,s.Z)({},d),{},{count:Number(d.current_page)>Number(d.last_page)&&Number(d.count)>0?Math.max(Number(d.count),h()(e,"".concat(l,".").concat(c,".meta.count"),d.count)):d.count,currentPage:!j||I||"number"==typeof d.current_page&&d.current_page>A?d.current_page:A,firstItemIndex:f?M:O})),(0,s.Z)((0,s.Z)({},e),{},(0,p.Z)({},l,(0,s.Z)((0,s.Z)({},h()(e,l,{})),{},(0,p.Z)({},c,(0,s.Z)((0,s.Z)({},h()(e,"".concat(l,".").concat(c),{})),{},{ids:k?v()(R):R,meta:L,params:b,isFetched:!0})))));case C.Ut.LOAD_ALL_ENTITY_FAILURE:var U=t.payload,F=U.entity,P=U.name,B=U.error;return(0,s.Z)((0,s.Z)({},e),{},(0,p.Z)({},F,(0,s.Z)((0,s.Z)({},h()(e,F,{})),{},(0,p.Z)({},P,(0,s.Z)((0,s.Z)({},h()(e,"".concat(F,".").concat(P),{})),{},{error:B,isFetched:!("Search has been cancelled"===(null==B?void 0:B.message))})))));case C.Ut.LOAD_ONE_ENTITY_REQUEST:var H=t.payload,G=H.entity,K=H.name;return(0,s.Z)((0,s.Z)({},e),{},(0,p.Z)({},G,(0,s.Z)((0,s.Z)({},h()(e,G,{})),{},(0,p.Z)({},"".concat(K,"One"),(0,s.Z)((0,s.Z)({},h()(e,"".concat(G,".").concat(K,"One"),{})),{},{isFetched:!1})))));case C.Ut.LOAD_ONE_ENTITY_SUCCESS:var V=t.payload,Y=V.id,q=V.entity,Q=V.name;return(0,s.Z)((0,s.Z)({},e),{},(0,p.Z)({},q,(0,s.Z)((0,s.Z)({},h()(e,q,{})),{},(0,p.Z)({},"".concat(Q,"One"),(0,s.Z)((0,s.Z)({},h()(e,"".concat(q,".").concat(Q,"One"),{})),{},{id:Y,isFetched:!0})))));case C.Ut.LOAD_ONE_ENTITY_FAILURE:var z=t.payload,W=z.entity,J=z.name,X=z.error;return(0,s.Z)((0,s.Z)({},e),{},(0,p.Z)({},W,(0,s.Z)((0,s.Z)({},h()(e,W,{})),{},(0,p.Z)({},"".concat(J,"One"),(0,s.Z)((0,s.Z)({},h()(e,"".concat(W,".").concat(J,"One"),{})),{},{error:X,isFetched:!0})))));case C.Ut.FORM_ENTITY_REQUEST:var $=t.payload,ee=$.entity,te=$.name;return(0,s.Z)((0,s.Z)({},e),{},(0,p.Z)({},ee,(0,s.Z)((0,s.Z)({},h()(e,ee,{})),{},(0,p.Z)({},te,(0,s.Z)({},h()(e,"".concat(ee,".").concat(te),{}))))));case C.Ut.FORM_ENTITY_SUCCESS:var ne=t.payload,ae=ne.id,re=ne.entity,se=ne.name,ie=ne.appendData,oe=ne.prependData,le=ne.updateData,ce=ne.deleteData,ue=_()(ae)?(0,a.Z)(ae):[ae],de=h()(e,"".concat(re,".").concat(se,".ids"),[]),me=ie?[].concat((0,a.Z)(de),(0,a.Z)(ue)):oe?[].concat((0,a.Z)(ue),(0,a.Z)(de)):(0,a.Z)(ue);return(0,s.Z)((0,s.Z)({},e),{},(0,p.Z)({},re,(0,s.Z)((0,s.Z)({},h()(e,re,{})),{},(0,p.Z)({},se,(0,s.Z)((0,s.Z)({},h()(e,"".concat(re,".").concat(se),{})),{},{isFetched:!0,ids:le?de:ce?de.filter((function(e){return e!==ae})):v()(me)})))));case C.Ut.FORM_ENTITY_FAILURE:var pe=t.payload,fe=pe.entity,he=pe.name,ge=pe.error;return(0,s.Z)((0,s.Z)({},e),{},(0,p.Z)({},fe,(0,s.Z)((0,s.Z)({},h()(e,fe,{})),{},(0,p.Z)({},he,(0,s.Z)((0,s.Z)({},h()(e,"".concat(fe,".").concat(he),{})),{},{error:ge,isFetched:!0})))));case C.Ut.INCREMENT_ENTITY_TOTAL:var ve=t.payload,xe=ve.entityName,ye=ve.entity;return(0,s.Z)((0,s.Z)({},e),{},(0,p.Z)({},ye,(0,s.Z)((0,s.Z)({},h()(e,ye,{})),{},(0,p.Z)({},xe,(0,s.Z)((0,s.Z)({},h()(e,"".concat(ye,".").concat(xe),{})),{},{meta:(0,s.Z)((0,s.Z)({},h()(e,"".concat(ye,".").concat(xe,".meta"),{})),{},{count:h()(e,"".concat(ye,".").concat(xe,".meta.count"),0)+1})})))));case C.Ut.DECREMENT_ENTITY_TOTAL:var be=t.payload,_e=be.entityName,Ce=be.entity;return(0,s.Z)((0,s.Z)({},e),{},(0,p.Z)({},Ce,(0,s.Z)((0,s.Z)({},h()(e,Ce,{})),{},(0,p.Z)({},_e,(0,s.Z)((0,s.Z)({},h()(e,"".concat(Ce,".").concat(_e),{})),{},{meta:(0,s.Z)((0,s.Z)({},h()(e,"".concat(Ce,".").concat(_e,".meta"),{})),{},{count:h()(e,"".concat(Ce,".").concat(_e,".meta.count"),0)-1})})))));case C.Ut.RESET_ENTITY_LIST:var Ee=t.payload,Se=Ee.entityName,Ze=Ee.entity;return(0,s.Z)((0,s.Z)({},e),{},(0,p.Z)({},Ze,(0,s.Z)((0,s.Z)({},h()(e,Ze,{})),{},(0,p.Z)({},Se,(0,s.Z)((0,s.Z)({},h()(e,"".concat(Ze,".").concat(Se),{})),{},{ids:[],meta:void 0})))));default:return e}}},D={entities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.Mi.LOAD_ENTITIES_SUCCESS:return(0,k.mergeWith)({},e,t.payload,(function(e,t){if(_()(e))return t}));case j.Mi.UPDATE_ENTITIES_SUCCESS:var n,a=t.payload,r=a.entity,i=a.entityId,o=a.data;return(0,s.Z)((0,s.Z)({},e),{},(0,p.Z)({},r,(0,s.Z)((0,s.Z)({},null==e?void 0:e[r]),{},(0,p.Z)({},i,(0,s.Z)((0,s.Z)({},null==e||null===(n=e[r])||void 0===n?void 0:n[i]),o)))));case j.Mi.RESET_ENTITIES_LIST:var l=t.payload.entity;return(0,s.Z)((0,s.Z)({},e),{},(0,p.Z)({},l,{}));default:return e}},system:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;return t.type===I.VE.CHANGE_LANGUAGE?(0,s.Z)((0,s.Z)({},e),{},{currentLangCode:t.payload}):e}},M=(0,r.UY)((0,s.Z)((0,s.Z)({},A),D)),O=function(e,t){return"LOGOUT/SUCCESS"===t.type?M(void 0,t):M(e,t)},R=n(64687),L=n.n(R),U=n(7780),F=n(61842),P=n.n(F),B=n(32380),H=L().mark(Y),G=L().mark(q),K=L().mark(Q),V=L().mark(z);function Y(e){var t,n,a,r,s,o,l;return L().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,n=t.values,a=n.username,r=n.password,s=t.cb,c.prev=1,c.next=4,(0,U.RE)(i.hi.request.post,(0,i.kB)("/user/auth/",{}),{username:a,password:r});case 4:return o=c.sent,l=o.data,c.next=8,(0,U.RE)(i.tO.set,"token",l.token);case 8:return c.next=10,(0,U.gz)(B.Z.auth.Login.success(l));case 10:return c.next=12,(0,U.RE)(s.success);case 12:c.next=24;break;case 14:return c.prev=14,c.t0=c.catch(1),c.next=18,(0,U.gz)(B.Z.auth.Login.failure({error:c.t0}));case 18:return c.next=20,(0,U.RE)(s.error,c.t0.response.data);case 20:if("Signature has expired."!==c.t0.response.data.message&&"Error decoding signature."!==c.t0.response.data.message){c.next=24;break}return c.next=23,(0,U.RE)(i.tO.remove,"token");case 23:window.location.reload();case 24:return c.prev=24,c.next=27,(0,U.RE)(s.finally);case 27:return c.finish(24);case 28:case"end":return c.stop()}}),H,null,[[1,14,24,28]])}function q(){var e,t;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,U.RE)(i.hi.request.get,(0,i.kB)("/my/profile/",{}));case 3:return e=n.sent,t=e.data,n.next=7,(0,U.gz)(B.Z.auth.GetMe.success({data:t}));case 7:return n.next=9,P().setItem("user",t,(function(e){}));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,(0,U.gz)(B.Z.auth.GetMe.failure({error:n.t0}));case 15:case"end":return n.stop()}}),G,null,[[0,11]])}function Q(e){var t;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.cb,n.next=3,(0,U.RE)(i.tO.remove,"token");case 3:return n.next=5,(0,U.gz)(B.Z.auth.Logout.success());case 5:return n.next=7,(0,U.RE)(t);case 7:case"end":return n.stop()}}),K)}function z(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,U.$6)([(0,U.ib)(B.Z.auth.Login.REQUEST,Y),(0,U.ib)(B.Z.auth.GetMe.REQUEST,q),(0,U.ib)(B.Z.auth.Logout.REQUEST,Q)]);case 2:case"end":return e.stop()}}),V)}var W=n(75456),J=n(58121),X=n.n(J),$=n(14312),ee=n(74569),te=n.n(ee),ne=L().mark(oe),ae=L().mark(le),re=L().mark(ce),se=L().mark(ue),ie={};function oe(e){var t,n,a,r,o,l,c,u,d,m,p,f,h,g,v,x,y,b,_,E,S,Z,k,w,N,I,T,A,D,M,O,R;return L().wrap((function(L){for(;;)switch(L.prev=L.next){case 0:if(t=e.payload,n=t.entity,a=t.name,r=t.url,o=t.params,l=t.dataKey,t.metaKey,c=t.appendData,u=t.prependData,d=t.relations,m=t.primaryKey,p=t.infiniteScroll,f=t.isUniq,h=t.reverse,g=t.cb,v=t.replaceIds,x=t.isCancellable,y=t.cancelField,b=t.cursorBased,_=t.direction,L.prev=1,k=null==o||null===(E=o.extra)||void 0===E?void 0:E[y||""],x&&(k in ie&&ie[k].cancelAxFunc("Search has been cancelled"),ie[k]={cancelAxFunc:void 0,CancelToken:te().CancelToken},Z=ie[k].CancelToken),!x){L.next=10;break}return L.next=7,(0,U.RE)(i.hi.request.get,(0,i.kB)(r,(0,s.Z)((0,s.Z)({},o),{},{extra:(0,s.Z)((0,s.Z)({},o.extra),{},{direction:_})})),{cancelToken:new Z((function(e){ie[k].cancelAxFunc=e}))});case 7:L.t0=L.sent,L.next=13;break;case 10:return L.next=12,(0,U.RE)(i.hi.request.get,(0,i.kB)(r,(0,s.Z)((0,s.Z)({},o),{},{extra:(0,s.Z)((0,s.Z)({},o.extra),{},{direction:_})})));case 12:L.t0=L.sent;case 13:return w=L.t0,N=w.data,b&&(I=(0,s.Z)((0,s.Z)({},N),{},{results:N.results.map((function(e,t){return e.custom_uuid?e:(0,s.Z)((0,s.Z)({},e),{},{custom_uuid:(Date.now()+t).toString()})}))})),T=(0,W.Fv)("function"==typeof l?l(N):(b?I:N)[l],[(0,$.Z)(n,m,d)]),A=X()(N),"string"==typeof l&&delete A[l],"function"==typeof l&&(A.count=null==A?void 0:A.length),D=o.page,(M=o.limit)&&(O=A.count%M==0?A.count/M:Math.floor(A.count/M)+1),R=(0,s.Z)((0,s.Z)({},A),{},{current_page:D,last_page:O,response_length:null==N||null===(S=N.results)||void 0===S?void 0:S.length}),x&&delete ie[k],L.next=26,(0,U.gz)((0,j.wB)(T.entities));case 26:return L.next=28,(0,U.gz)((0,C.Qy)({ids:h?T.result.reverse():T.result,entity:n,name:a,appendData:c,prependData:u,params:o,meta:R,infiniteScroll:p,isUniq:f,replaceIds:v,cursorBased:b}));case 28:return L.next=30,(0,U.RE)(null==g?void 0:g.success,N);case 30:L.next=36;break;case 32:return L.prev=32,L.t1=L.catch(1),L.next=36,(0,U.gz)((0,C.mH)({entity:n,name:a,error:L.t1}));case 36:case"end":return L.stop()}}),ne,null,[[1,32]])}function le(e){var t,n,a,r,o,l,c,u,d,m,f,h;return L().wrap((function(g){for(;;)switch(g.prev=g.next){case 0:return t=e.payload,n=t.id,a=t.entity,r=t.name,o=t.url,l=t.params,c=t.primaryKey,u=t.relations,d=t.cb,g.prev=1,g.next=4,(0,U.RE)(i.hi.request.get,(0,i.kB)(o,l));case 4:return m=g.sent,f=m.data,h=(0,W.Fv)(f,(0,$.Z)(a,c,u)),c===n&&(h=(0,W.Fv)((0,s.Z)((0,p.Z)({},c,n),f),(0,$.Z)(a,c,u))),g.next=10,(0,U.gz)((0,j.wB)(h.entities));case 10:return g.next=12,(0,U.gz)((0,C.lL)({entity:a,name:r,params:l,id:n}));case 12:g.next=20;break;case 14:return g.prev=14,g.t0=g.catch(1),g.next=18,(0,U.gz)((0,C.ck)({entity:a,name:r,error:g.t0}));case 18:return g.next=20,(0,U.RE)(null==d?void 0:d.error,g.t0);case 20:case"end":return g.stop()}}),ae,null,[[1,14]])}function ce(e){var t,n,a,r,s,o,l,c,u,d,m,p,f,h,g,v,x,y,b,_,E,S,Z;return L().wrap((function(k){for(;;)switch(k.prev=k.next){case 0:return t=e.payload,n=t.id,a=t.entity,r=t.name,s=t.url,o=t.params,l=t.method,c=t.primaryKey,u=t.values,d=t.relations,m=t.appendData,p=void 0!==m&&m,f=t.prependData,h=void 0!==f&&f,g=t.updateData,v=void 0!==g&&g,x=t.deleteData,y=void 0!==x&&x,b=t.normalizeData,_=t.cb,E={},k.prev=2,k.next=5,(0,U.RE)(i.hi.request[l],(0,i.kB)(s,o),u);case 5:if(S=k.sent,Z=S.data,!b){k.next=15;break}return E=(0,W.Fv)("function"==typeof b?b(Z):Z[b],(0,$.Z)(a,c,d)),k.next=11,(0,U.gz)((0,j.wB)(E.entities));case 11:return k.next=13,(0,U.gz)((0,C.hU)({id:E.result,entity:a,name:r,appendData:p,prependData:h,updateData:v,deleteData:y}));case 13:k.next=18;break;case 15:if(void 0===n){k.next=18;break}return k.next=18,(0,U.gz)((0,C.hU)({id:n,entity:a,name:r,appendData:p,prependData:h,updateData:v,deleteData:y}));case 18:return k.next=20,(0,U.RE)(_.success,Z,u);case 20:k.next=33;break;case 22:if(k.prev=22,k.t0=k.catch(2),!b){k.next=29;break}return k.next=27,(0,U.gz)((0,C.Tu)({id:E.result,entity:a,name:r,error:k.t0}));case 27:k.next=31;break;case 29:return k.next=31,(0,U.gz)((0,C.Tu)({entity:a,name:r,error:k.t0}));case 31:return k.next=33,(0,U.RE)(_.error,k.t0);case 33:return k.prev=33,k.next=36,(0,U.RE)(_.finally);case 36:return k.finish(33);case 37:case"end":return k.stop()}}),re,null,[[2,22,33,37]])}function ue(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,U.$6)([(0,U.ib)(C.Ut.LOAD_ALL_ENTITY_REQUEST,oe),(0,U.ib)(C.Ut.LOAD_ONE_ENTITY_REQUEST,le),(0,U.Fm)(C.Ut.FORM_ENTITY_REQUEST,ce)]);case 2:case"end":return e.stop()}}),se)}var de=L().mark(pe),me=L().mark(fe);function pe(){var e,t,n,a,r,s,o,l;return L().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,(0,U.RE)(i.hi.request,(0,i.kB)("/user/companies/",{limit:100}));case 3:return n=u.sent,a=n.data,u.next=7,(0,U.gz)(c.Z.loadUserCompaniesSuccess(a.results));case 7:if(s=i.tO.get("company")&&JSON.parse(i.tO.get("company")||""),o=(0,i.tj)(a.results),l=s&&(null===(e=a.results)||void 0===e?void 0:e.find((function(e){return e.id===s.id}))),!s||!l){u.next=16;break}"ACTIVE"===(null==s?void 0:s.company.status)&&(r=s),"INACTIVE"===(null==s?void 0:s.company.status)&&"ACTIVE"===(null==o?void 0:o.company.status)&&(r=o),"INACTIVE"===(null==s?void 0:s.company.status)&&"INACTIVE"===(null==o?void 0:o.company.status)&&(r=s),u.next=19;break;case 16:return r=o,u.next=19,(0,U.RE)(i.tO.set,"company",JSON.stringify(o));case 19:return u.next=21,(0,U.gz)(c.Z.setUserCompany(r));case 21:if(o.company.id!==(null==s||null===(t=s.company)||void 0===t?void 0:t.id)){u.next=25;break}return u.next=24,(0,U.gz)(c.Z.setUserCompany(o));case 24:i.tO.set("company",JSON.stringify(o));case 25:u.next=31;break;case 27:return u.prev=27,u.t0=u.catch(0),u.next=31,(0,U.gz)(c.Z.loadUserCompaniesFail(u.t0));case 31:case"end":return u.stop()}}),de,null,[[0,27]])}function fe(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,U.$6)([(0,U.Fm)(c.V.LOAD_USER_COMPANIES_REQUEST,pe)]);case 2:case"end":return e.stop()}}),me)}var he=L().mark(ve),ge=L().mark(xe);function ve(e){return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.tO.set("language",e.payload);case 2:case"end":return t.stop()}}),he)}function xe(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,U.$6)([(0,U.Fm)(I.VE.CHANGE_LANGUAGE,ve)]);case 2:case"end":return e.stop()}}),ge)}var ye=L().mark(Ce),be={auth:z,entity:ue,user:fe};be=Object.keys(be).reduce((function(e,t){return[].concat((0,a.Z)(e),[(0,U.rM)(be[t])])}),[]);var _e={system:xe};function Ce(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,U.$6)([].concat((0,a.Z)(be),(0,a.Z)(_e)));case 2:case"end":return e.stop()}}),ye)}_e=Object.keys(_e).reduce((function(e,t){return[].concat((0,a.Z)(e),[(0,U.rM)(_e[t])])}),[]);var Ee=(0,n(95792).ZP)(),Se=[Ee],Ze=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=(0,r.MT)(O,t,(0,r.qC)(r.md.apply(void 0,(0,a.Z)(Se)))),Ee.run(Ce),e},je=(0,n(12610).lX)({basename:""})},96165:function(e){"use strict";e.exports="data:image/png;base64,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"},24654:function(){},14601:function(){},32767:function(){},28251:function(){},57677:function(){},1543:function(){},87324:function(){}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return s[e].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=s,e=[],o.O=function(t,n,a,r){if(!n){var s=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],r=e[u][2];for(var i=!0,l=0;l<n.length;l++)(!1&r||s>=r)&&Object.keys(o.O).every((function(e){return o.O[e](n[l])}))?n.splice(l--,1):(i=!1,r<s&&(s=r));if(i){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,a,r]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},o.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var r=Object.create(null);o.r(r);var s={};t=t||[null,n({}),n([]),n(n)];for(var i=2&a&&e;"object"==typeof i&&!~t.indexOf(i);i=n(i))Object.getOwnPropertyNames(i).forEach((function(t){s[t]=function(){return e[t]}}));return s.default=function(){return e},o.d(r,s),r},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))},o.u=function(e){return"static/js/"+e+"."+{51:"bb49980b",289:"31680e72",534:"92d0bcab",707:"ebd55644",751:"252adfe5",849:"bb752cda",1116:"84e6ed88",1293:"aaa39617",1346:"91984168",1785:"a2f81075",1847:"fd2f28a1",1884:"edcbccc6",1962:"3a846b9e",2217:"1ac8fc63",2222:"91216c9a",2296:"f56a23fe",2314:"3b78c3ed",2330:"082ea981",2469:"2a93bb30",2665:"7d30125f",2667:"f03ddef0",2936:"3482ae47",3015:"4a5bf76c",3115:"43cbecb7",3209:"7b8f3b63",3265:"4b101611",3358:"e6825b82",3582:"efba513f",3814:"a24042d8",3899:"f1d7c66a",3990:"4d7b8fd9",4065:"a0fc1f57",4189:"ff71ec8f",4196:"e81b933e",4253:"bf798c8e",4260:"f5b9b557",4282:"314830e3",4365:"cfcd147e",4413:"f4b76150",4596:"970463aa",4601:"754b8280",4922:"084e45ab",5238:"2d655ff8",5578:"bbda50a3",6006:"a643e0c3",6060:"163b9d57",6309:"385a245c",6320:"92fcc43b",6356:"2c8d7bcd",6557:"ba67e2ac",6639:"47f0bde8",6688:"3897f226",6827:"dfe7c7b9",6888:"8c2eab79",6908:"7c57b363",6993:"0275df07",7021:"a899c075",7057:"43992400",7099:"01f3f3ba",7226:"fede0601",7285:"33df2b62",7323:"386f3e7e",7465:"67e3c922",7494:"96a39702",7556:"e2a835f3",7700:"ad002020",7806:"96a5b6df",8321:"615e2bbb",8623:"55a83fa4",8717:"e6bc5ef7",8780:"8cb58394",9399:"b452cfc0",9433:"60108ce8",9583:"784eaf57",9684:"c2af9051",9751:"47d84cb2",9834:"31505566",9903:"566573a3",9926:"57fca8de",9972:"fb969da7"}[e]+".chunk.js"},o.miniCssF=function(e){},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a={},r="kennekt-front-end-client:",o.l=function(e,t,n,s){if(a[e])a[e].push(t);else{var i,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+n){i=d;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",r+n),i.src=e),a[e]=[t];var m=function(t,n){i.onerror=i.onload=null,clearTimeout(p);var r=a[e];if(delete a[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},o.p="/",function(){var e={179:0};o.f.j=function(t,n){var a=o.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var r=new Promise((function(n,r){a=e[t]=[n,r]}));n.push(a[2]=r);var s=o.p+o.u(t),i=new Error;o.l(s,(function(n){if(o.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var r=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",i.name="ChunkLoadError",i.type=r,i.request=s,a[1](i)}}),"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,r,s=n[0],i=n[1],l=n[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);if(l)var u=l(o)}for(t&&t(n);c<s.length;c++)r=s[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(u)},n=self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var l=o.O(void 0,[3207,5656,4736,5604,9584],(function(){return o(80313)}));l=o.O(l)}();
//# sourceMappingURL=main.6c4eb32c.js.map