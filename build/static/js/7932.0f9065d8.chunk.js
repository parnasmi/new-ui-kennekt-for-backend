"use strict";(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[7932],{7932:function(e,l,t){t.r(l),t.d(l,{default:function(){return b}});var n=t(70885),a=t(47313),s=t(95762),r=t(26926),i=t(79513),o=t(77344),c=t(85457),d=t(94024),m=t(37986),u=t(17439),h=t(28303),p=t(57730),x=t(57009),v=t(84365),y=t(17480),f=t(94715),g=t(46417);function j(e){var l=e.csvEmployee,t=e.onSuccess,n=(0,o.m)().companyId,a=(0,c.tv)().params,s=parseInt(null===a||void 0===a?void 0:a.csvId),r=(0,c.eC)().showNotification;return(0,g.jsx)("div",{children:(0,g.jsx)(v.Z.Main,{entity:"csvEmployees",name:"csvEmployees",url:"/".concat(n,"/my/company/imports/").concat(s,"/data/").concat(null===l||void 0===l?void 0:l.id,"/"),method:"patch",primaryKey:"id",sendAsFormData:!1,normalizeData:function(e){return e},updateData:!0,fields:[{name:"first_name",required:!0,value:(null===l||void 0===l?void 0:l.first_name)||"",onSubmitKey:""},{name:"last_name",required:!0,value:(null===l||void 0===l?void 0:l.last_name)||"",onSubmitKey:""},{name:"phone",required:!0,value:(null===l||void 0===l?void 0:l.phone)||"",onSubmitKey:""},{name:"email",required:!0,value:(null===l||void 0===l?void 0:l.email)||"",onSubmitKey:""},{name:"role",required:!0,value:(null===l||void 0===l?void 0:l.role)||"",onSubmitKey:""}],onSuccess:function(e,l){r({message:"Successfully Edited!"}),t(),l()},onError:function(e,l){var t,n,a=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Something went wrong";r({message:a,variant:"error"})},children:function(e){e.values;var l=e.isSubmitting;return(0,g.jsxs)(g.Fragment,{children:[l&&(0,g.jsx)(i.aN,{tiled:!0,withOverlay:!0}),(0,g.jsx)("h2",{className:"font-bold mb-4 text-lg",children:"Edit Employee"}),(0,g.jsx)(f.gN,{label:"First Name",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"first_name",component:y.Mg,placeholder:"Type your first name",required:!0}),(0,g.jsx)(f.gN,{label:"Last Name",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"last_name",component:y.Mg,placeholder:"Type your last name",required:!0}),(0,g.jsx)(f.gN,{label:"Email",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"email",component:y.Mg,placeholder:"Type your email",required:!0}),(0,g.jsx)(f.gN,{label:"Phone",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"phone",component:y.Mg,placeholder:"Type your phone",required:!0}),(0,g.jsx)(f.gN,{label:"Role",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"role",component:y.Mg,placeholder:"Type your role",required:!0}),(0,g.jsxs)("div",{className:"flex-center-end",children:[(0,g.jsx)(i.zx,{type:"button",onClickHandler:t,children:"Cancel"}),(0,g.jsx)(i.zx,{variant:"contained",className:"ml-4",type:"submit",disabled:l,children:"Update"})]})]})}})})}var b=function(){var e=(0,o.m)().companyId,l=(0,c.h0)(),t=l.page,v=l.handlePage,y=l.removePage,f=(0,u.$)().searchQuery,b=(0,c.tv)().params,k=parseInt(null===b||void 0===b?void 0:b.csvId),N=(0,m.tL)(),E=N.deleteLoading,w=N.handleClientDelete,C=N.showDeleteVisible,_=N.closeDeletePopup,S=N.deleteVisible,Z=N.editVisible,P=N.showEditVisible,q=N.closeEditPopup,A=(0,d.Z)(f,500),M=(0,n.Z)(A,1)[0];return(0,a.useEffect)((function(){return function(){return y()}}),[]),(0,g.jsx)("div",{children:(0,g.jsx)(s.Z.One,{id:k,relations:"",entity:"csv-list",name:"Csv",url:"/".concat(e,"/my/company/imports/").concat(k,"/"),params:{},children:function(l){var n=l.item,a=l.isFetched;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"news-breadcrumb mb-5",children:a?(0,g.jsxs)(p.Z,{"aria-label":"breadcrumb",children:[(0,g.jsx)(h.rU,{to:"/csv",children:(0,g.jsx)("span",{className:"hover:text-kgrey",children:"All CSV files"})}),(0,g.jsx)(x.Z,{color:"textPrimary",children:n.file_name})]}):(0,g.jsx)("div",{className:"w-[200px]",children:(0,g.jsx)(r.Od,{})})}),e?(0,g.jsx)(s.Z.All,{entity:"csvEmployees",name:"AllCsvEmployees",url:"/".concat(e,"/my/company/imports/").concat(k,"/data/"),params:{limit:10,extra:{search:M},page:t},children:function(e){var l=e.items,n=e.isFetched,a=e.meta,s=l;return(0,g.jsxs)("div",{children:[(0,g.jsxs)(r.xJ,{classes:{root:"relative "},children:[(0,g.jsxs)(i.k6,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,g.jsx)(r.ss,{children:(0,g.jsxs)(i.AF,{children:[(0,g.jsx)(i.EU,{style:{width:"16%"},children:"Full Name"}),(0,g.jsx)(i.EU,{style:{width:"20%"},children:"Email"}),(0,g.jsx)(i.EU,{style:{width:"10%"},children:"Phone"}),(0,g.jsx)(i.EU,{style:{width:"7%"},children:"Position"}),(0,g.jsx)(i.EU,{style:{width:"7%"},children:"Status"}),(0,g.jsx)(i.EU,{style:{width:"10%"},children:"Company Name"}),(0,g.jsx)(i.EU,{style:{width:"15%"},children:"Description"}),(0,g.jsx)(i.EU,{style:{width:"15%"},children:"Actions"})]})}),(0,g.jsx)(r.RM,{children:s.map((function(e){var l=e.id,t=e.company_name,n=e.description,a=e.email,s=e.first_name,r=e.last_name,o=e.phone,c=e.role,d=e.status,m="".concat(s," ").concat(r);return(0,g.jsxs)(i.AF,{children:[(0,g.jsx)(i.Yk,{children:(0,g.jsx)("div",{title:m,children:m})}),(0,g.jsx)(i.Yk,{className:"truncate",title:a,children:a}),(0,g.jsx)(i.Yk,{children:(0,g.jsx)("div",{className:" truncate",title:o,children:o})}),(0,g.jsx)(i.Yk,{children:(0,g.jsx)("div",{className:" truncate",title:c,children:c})}),(0,g.jsx)(i.Yk,{children:(0,g.jsx)("div",{className:" truncate",title:null!==d&&void 0!==d?d:"",children:d})}),(0,g.jsx)(i.Yk,{children:(0,g.jsx)("div",{className:" truncate",title:t,children:t})}),(0,g.jsx)(i.Yk,{children:(0,g.jsx)("div",{className:" truncate",title:null!==n&&void 0!==n?n:"",children:n})}),(0,g.jsx)(i.Yk,{children:(0,g.jsxs)("div",{className:"flex items-center justify-end ",children:[(0,g.jsx)(i.cP.DeleteButton,{clickHandler:function(){return C(e)}}),(0,g.jsx)(i.cP.EditButton,{clickHandler:function(){return P(e)}})]})})]},l)}))})]}),!n&&(0,g.jsx)(i.aN,{tiled:!0,withOverlay:!0})]}),(0,g.jsx)(i.sm,{featureHandler:function(){return w(S)},isOpen:Boolean(S),toggleHandler:_,title:"Are you sure delete ".concat(null===S||void 0===S?void 0:S.first_name," ").concat(null===S||void 0===S?void 0:S.last_name,"?"),hasLoader:!0,isLoading:E}),(0,g.jsx)(r.Cx,{handleModalOpen:q,open:Boolean(Z),children:(0,g.jsx)(j,{csvEmployee:Z,onSuccess:q})}),(0,g.jsx)("div",{className:"news__pagination my-4",children:l.length?(0,g.jsx)(r.tl,{count:null===a||void 0===a?void 0:a.last_page,page:t?+t:1,defaultPage:6,siblingCount:1,color:"primary",onChange:v}):null})]})}}):(0,g.jsx)("div",{className:"flex justify-center",children:(0,g.jsx)(i.aN,{})})]})}})})}},57730:function(e,l,t){t.d(l,{Z:function(){return x}});var n=t(87462),a=t(42982),s=t(45987),r=t(47313),i=(t(96214),t(83061)),o=t(80454),c=t(57009),d=t(13644),m=(0,t(14214).Z)(r.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),u=t(22327);var h=(0,o.Z)((function(e){return{root:{display:"flex",marginLeft:e.spacing(.5),marginRight:e.spacing(.5),backgroundColor:e.palette.grey[100],color:e.palette.grey[700],borderRadius:2,cursor:"pointer","&:hover, &:focus":{backgroundColor:e.palette.grey[200]},"&:active":{boxShadow:e.shadows[0],backgroundColor:(0,d._4)(e.palette.grey[200],.12)}},icon:{width:24,height:16}}}),{name:"PrivateBreadcrumbCollapsed"})((function(e){var l=e.classes,t=(0,s.Z)(e,["classes"]);return r.createElement(u.Z,(0,n.Z)({component:"li",className:l.root,focusRipple:!0},t),r.createElement(m,{className:l.icon}))}));var p=r.forwardRef((function(e,l){var t=e.children,o=e.classes,d=e.className,m=e.component,u=void 0===m?"nav":m,p=e.expandText,x=void 0===p?"Show path":p,v=e.itemsAfterCollapse,y=void 0===v?1:v,f=e.itemsBeforeCollapse,g=void 0===f?1:f,j=e.maxItems,b=void 0===j?8:j,k=e.separator,N=void 0===k?"/":k,E=(0,s.Z)(e,["children","classes","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"]),w=r.useState(!1),C=w[0],_=w[1],S=r.Children.toArray(t).filter((function(e){return r.isValidElement(e)})).map((function(e,l){return r.createElement("li",{className:o.li,key:"child-".concat(l)},e)}));return r.createElement(c.Z,(0,n.Z)({ref:l,component:u,color:"textSecondary",className:(0,i.Z)(o.root,d)},E),r.createElement("ol",{className:o.ol},function(e,l,t){return e.reduce((function(n,a,s){return s<e.length-1?n=n.concat(a,r.createElement("li",{"aria-hidden":!0,key:"separator-".concat(s),className:l},t)):n.push(a),n}),[])}(C||b&&S.length<=b?S:function(e){return g+y>=e.length?e:[].concat((0,a.Z)(e.slice(0,g)),[r.createElement(h,{"aria-label":x,key:"ellipsis",onClick:function(e){_(!0);var l=e.currentTarget.parentNode.querySelector("a[href],button,[tabindex]");l&&l.focus()}})],(0,a.Z)(e.slice(e.length-y,e.length)))}(S),o.separator,N)))})),x=(0,o.Z)({root:{},ol:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"},li:{},separator:{display:"flex",userSelect:"none",marginLeft:8,marginRight:8}},{name:"MuiBreadcrumbs"})(p)}}]);