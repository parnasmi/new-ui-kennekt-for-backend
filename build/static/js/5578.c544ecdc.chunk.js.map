{"version":3,"file":"static/js/5578.c544ecdc.chunk.js","mappings":"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","sources":["pages/News/NestedPages/Main/index.ts","pages/News/NestedPages/Main/NewsList.tsx"],"sourcesContent":["import { NewsList } from './NewsList';\n\nexport default NewsList;\n","import React from 'react';\nimport EntityContainer from 'modules/entity/containers';\nimport { Pagination, TableBody, TableContainer, TableHead } from 'shared/components/Elements';\nimport {\n\tActionsButtons,\n\tConfirmModal,\n\tLoader,\n\tStyledTable,\n\tStyledTableCell,\n\tStyledTableHeadCell,\n\tStyledTableRow\n} from 'shared/components';\nimport { Link } from 'react-router-dom';\nimport dayjs from 'dayjs';\nimport { useAppState } from 'shared/state';\nimport { useDebounce } from 'use-debounce';\nimport { usePagination, useRouter } from 'shared/hooks';\nimport { useNewsContext } from '../../context/NewsContext';\nimport { useNewsList } from '../../hooks';\nimport { NewsEntity } from 'shared/typings/news.types';\n\nexport function NewsList() {\n\tconst { companyId, isPermitted } = useAppState();\n\tconst { page, handlePage } = usePagination();\n\tconst { searchQuery: query, isStaff } = useNewsContext();\n\tconst { history } = useRouter();\n\n\tconst [searchQuery] = useDebounce<string>(query, 500);\n\n\tconst { deleteLoading, handleNewsDelete, showDeleteVisible, closeDeletePopup, deleteVisible } =\n\t\tuseNewsList();\n\n\tconst deleteNewsHandler = () => () => handleNewsDelete(deleteVisible!);\n\n\treturn (\n\t\t<div>\n\t\t\t{companyId ? (\n\t\t\t\t<EntityContainer.All\n\t\t\t\t\tentity=\"news\"\n\t\t\t\t\tname=\"AllNews\"\n\t\t\t\t\turl={`/${companyId}/${!isPermitted ? 'my-' : ''}notifications/`}\n\t\t\t\t\tparams={{\n\t\t\t\t\t\tlimit: 10,\n\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\tsearch: searchQuery,\n\t\t\t\t\t\t\ttype: isStaff ? 'staff' : 'client'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpage\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ items, isFetched, meta }) => {\n\t\t\t\t\t\tconst newsItems = items as NewsEntity[];\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<TableContainer classes={{ root: 'relative ' }}>\n\t\t\t\t\t\t\t\t\t\t<StyledTable\n\t\t\t\t\t\t\t\t\t\t\taria-label=\"simple table\"\n\t\t\t\t\t\t\t\t\t\t\tclasses={{ root: 'table-fixed dark-mode-styled-table' }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '20%' }}>Title</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '10%' }}>Status</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '10%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFrequency\n\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '20%' }}>Author</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '20%' }}>Date</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{isPermitted && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell style={{ width: '20%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\" flex-center-y\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"ml-2\">Actions</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t{newsItems.map((item) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst { frequency, start_time, status, author, subject, id } = item ?? {};\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow key={id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/news/view/${id}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-primary transition hover:text-primary-dark\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{subject}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>{status}</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>{frequency}</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={'truncate'}>{author.name}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{dayjs(start_time).format('MMMM D YYYY, h:mm a')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{isPermitted && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-center-x\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionsButtons.DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickHandler={() => showDeleteVisible(item)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionsButtons.ViewButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickHandler={() => history.push(`/news/view/${item.id}`)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionsButtons.EditButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickHandler={() => history.push(`/news/edit/${item.id}`)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t\t</StyledTable>\n\t\t\t\t\t\t\t\t\t\t{!isFetched && <Loader tiled withOverlay />}\n\t\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t\t\t<ConfirmModal\n\t\t\t\t\t\t\t\t\t\tfeatureHandler={deleteNewsHandler()}\n\t\t\t\t\t\t\t\t\t\tisOpen={Boolean(deleteVisible)}\n\t\t\t\t\t\t\t\t\t\ttoggleHandler={closeDeletePopup}\n\t\t\t\t\t\t\t\t\t\ttitle={`Are you sure to delete  ${deleteVisible?.subject}?`}\n\t\t\t\t\t\t\t\t\t\thasLoader\n\t\t\t\t\t\t\t\t\t\tisLoading={deleteLoading}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"news__pagination my-4\">\n\t\t\t\t\t\t\t\t\t\t{items.length ? (\n\t\t\t\t\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\t\t\t\t\tcount={meta?.last_page}\n\t\t\t\t\t\t\t\t\t\t\t\tpage={page ? +page : 1}\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultPage={6}\n\t\t\t\t\t\t\t\t\t\t\t\tsiblingCount={1}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handlePage}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t</EntityContainer.All>\n\t\t\t) : (\n\t\t\t\t<div className=\"flex justify-center\">\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n"],"names":["useAppState","companyId","isPermitted","usePagination","page","handlePage","useNewsContext","query","searchQuery","isStaff","history","useRouter","useDebounce","useNewsList","deleteLoading","handleNewsDelete","showDeleteVisible","closeDeletePopup","deleteVisible","entity","name","url","params","limit","extra","search","type","items","isFetched","meta","newsItems","classes","root","style","width","className","map","item","frequency","start_time","status","author","subject","id","to","dayjs","format","clickHandler","push","tiled","withOverlay","featureHandler","isOpen","Boolean","toggleHandler","title","hasLoader","isLoading","length","count","last_page","defaultPage","siblingCount","color","onChange"],"sourceRoot":""}