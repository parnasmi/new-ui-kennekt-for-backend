"use strict";(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[1908],{21908:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var a=n(47313),r=n(32335),s=n(1413),i=n(45987),c=n(83061),l=n(46417),o=["children","isActive","isFixed","className"],d=function(e){var t=e.children,n=e.isActive,a=void 0!==n&&n,r=e.isFixed,d=void 0!==r&&r,u=e.className,m=(0,i.Z)(e,o);return(0,l.jsx)("div",(0,s.Z)((0,s.Z)({className:(0,c.Z)("border rounded-lg cursor-pointer transition hover:border-primary flex-centered flex-col",{"border-kgrey-dark-2":!a,"border-primary-dark bg-primary-dark-50":a,"px-4 pt-5 pb-4":!d,"w-[105px] h-[105px]":d},u)},m),{},{children:t}))},u=n(26926),m=n(11760);function p(e){var t,n,a,r,s,i=e.invoiceId,c=(0,m.a)().company;return(0,l.jsxs)("div",{className:"checkout__header border-b pb-2.5",children:[(0,l.jsx)("h2",{className:"text-lg text-kdark-lighter mb-4 font-semibold dark:text-white",children:"Order summary ".concat(i?"for unpaid invoice "+i+" (Upgradable)":"")}),(0,l.jsx)("div",{className:"text-xs text-kgrey-menuText mb-4",children:"Upgrade Business:"}),(0,l.jsxs)("div",{className:"flex-center-y",children:[(0,l.jsx)(u.Rz,{size:40,letter:"S",alt:"some descr",src:(null===c||void 0===c||null===(t=c.company)||void 0===t||null===(n=t.icon)||void 0===n?void 0:n.thumbnail_150)||(null===c||void 0===c||null===(a=c.company)||void 0===a||null===(r=a.icon)||void 0===r?void 0:r.url)}),(0,l.jsx)("div",{className:"ml-2 text-xs text-kdark-text dark:text-white",children:null===c||void 0===c||null===(s=c.company)||void 0===s?void 0:s.name})]})]})}var f=[{id:1,title:"Billed Yearly",price:2,type:"year"},{id:2,title:"Billed Monthly",price:4,type:"month"}],x=[{id:1,text:"Credit Card",type:"card"},{id:2,text:"Paypal",type:"paypal"}];function h(e){var t=e.planClickHandler,n=e.plan,a=e.price,r=e.yearlyDiscount;return(0,l.jsx)("div",{className:"checkout__plans flex mb-5",children:f.map((function(e){var s="year"===e.type;return(0,l.jsx)(d,{onClick:function(){return t(e.type)},className:(0,c.Z)("mr-3 last:mr-0",{relative:s}),isActive:n===e.type,children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h4",{className:"text-10px text-kdark-text mb-1.5 dark:text-white",children:e.title}),(0,l.jsx)("strong",{className:"block text-primary-dark text-xl mb-1.5",children:"$".concat(a[s?"year":"month"])}),(0,l.jsx)("span",{className:"uppercase text-kgrey-menuText text-8px",children:"PER member PER MONTH"}),s&&(0,l.jsx)(v,{yearlyDiscount:r})]})},e.id)}))})}function v(e){var t=e.yearlyDiscount;return(0,l.jsx)("div",{className:"absolute flex-centered text-10px text-white -top-[7px] -right-[7px] bg-primary-dark w-[30px] h-[30px] rounded-full",children:"-".concat(t,"%")})}var y=n(51425);function b(e){var t=e.methodClickHandler,n=e.method;return(0,l.jsxs)("div",{className:"checkout__pmethods",children:[(0,l.jsx)("h2",{className:"text-lg text-kdark-lighter mb-4 font-semibold dark:text-white",children:"Payment Method"}),(0,l.jsx)("div",{className:"flex-center-y",children:x.map((function(e){return(0,l.jsx)(d,{onClick:function(){return t(e.type)},className:"mr-3 last:mr-0",isActive:n===e.type,isFixed:!0,children:(0,l.jsxs)(l.Fragment,{children:["card"===e.type?(0,l.jsx)(y.bl,{}):(0,l.jsx)(y.KT,{}),(0,l.jsx)("div",{className:"mt-1.5 text-10px font-medium dark:text-white",children:e.text})]})},e.id)}))})]})}n(17480);var g=n(5958),k=n(15861),j=n(70885),N=n(64687),_=n.n(N),C=n(90214),w=n(77344),P=n(90707),S=n(93851);function Z(e,t,n,a,r,s,i){var c=e?t/T:t,l=e?s:12,o="year"===r,d=i-a<=2;return(0,P.QV)((o?c:t)*(d?i:a)*(o?l:1))}var I=1e4,T=30;function E(){var e,t=(0,w.m)(),n=t.companyId,r=t.isAppAvailable,s=(0,m.a)().companies,i=(0,a.useState)("year"),c=(0,j.Z)(i,2),l=c[0],o=c[1],d=(0,a.useState)("card"),u=(0,j.Z)(d,2),p=u[0],f=u[1],x=(0,a.useState)(0),h=(0,j.Z)(x,2),v=h[0],y=h[1],b=(0,a.useState)(0),g=(0,j.Z)(b,2),N=g[0],T=g[1],E=(0,a.useState)(0),A=(0,j.Z)(E,2),B=A[0],H=A[1],D=(0,a.useState)(null),F=(0,j.Z)(D,2),L=F[0],M=F[1],U=(0,a.useState)(null),R=(0,j.Z)(U,2),Y=R[0],O=R[1],K=(0,a.useState)(null),$=(0,j.Z)(K,2),q=$[0],z=$[1],Q=(0,a.useState)({month:6.5,year:Math.floor(390)/100}),J=(0,j.Z)(Q,2),V=J[0],W=J[1],G=(0,a.useState)(null),X=(0,j.Z)(G,2),ee=X[0],te=X[1],ne=(0,a.useState)(null),ae=(0,j.Z)(ne,2),re=ae[0],se=ae[1],ie=(0,C.tv)(),ce=ie.params,le=ie.history,oe=r&&"PRO"===(null===ee||void 0===ee?void 0:ee.subscription_type);(0,a.useEffect)((function(){if(ee){var e=(0,P.$4)(null===ee||void 0===ee?void 0:ee.end_date);se(+e[0])}}),[ee]),(0,a.useEffect)((function(){if(n&&s.length){var e=s.find((function(e){return e.company.id===n})),t=null===e||void 0===e?void 0:e.company.comp_subscription;t&&te(t)}}),[s,n]);var de=parseInt(null===ce||void 0===ce?void 0:ce.invoice),ue=parseInt(null===ce||void 0===ce?void 0:ce.isMonthly),me=parseInt(null===ce||void 0===ce?void 0:ce.staffsCount);(0,a.useEffect)((function(){o(ue?"month":"year")}),[ue]);var pe=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];z(e?null:{company_id:n,staffs_count:v,payment_type:"card"===p?"STRIPE":"PAYPAL",amount:Z(oe,V[l],0,v,l,re,N),subscription_plan_id:null===Y||void 0===Y?void 0:Y.id,is_monthly:"month"===l,order_id:de||null,is_extra:oe})}),[n,v,p,l,Y,V,de,oe,re]),fe=(0,C.bK)({url:"/".concat(n,"/companies/staffs_count/")}),xe=fe.fetchData,he=fe.response,ve=fe.loading,ye=(0,C.bK)({url:"/".concat(n,"/payment/plans/")}),be=ye.fetchData,ge=ye.response,ke=ye.loading,je=(0,C.bK)({url:"/payment/".concat(n,"/paid-staffs-count/")}),Ne=je.fetchData,_e=je.response,Ce=je.loading;(0,a.useEffect)((function(){n&&(0,k.Z)(_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne();case 2:return e.next=4,xe();case 4:return e.next=6,be();case 6:case"end":return e.stop()}}),e)})))()}),[n]),(0,a.useEffect)((function(){var e;if(null!==ge&&void 0!==ge&&null!==(e=ge.results)&&void 0!==e&&e.length&&he){var t=he.staffs_count,n=(0,S.P)(null===ge||void 0===ge?void 0:ge.results),a=(0,P.gJ)(t,n);H(oe?me||1:t),y(oe?me||1:t),M(n),W(a.price),O(a)}}),[ge,he,oe,me]);var we=null!==(e=_e&&_e.paid_staffs_count)&&void 0!==e?e:0,Pe=Boolean(oe&&ge&&function(e,t){var n=t&&t.paid_staffs_count;if(e.length&&n)return e.find((function(e){return n>=e.staffs_count_from&&n<=e.staffs_count_to&&0===parseFloat(e.monthly_price)&&0===parseFloat(e.yearly_price)}))}(ge.results,ee));(0,a.useEffect)((function(){T(oe?we+v:v)}),[_e,oe,v]),(0,a.useEffect)((function(){if(N>0&&null!==L&&void 0!==L&&L.length){var e=(0,S.P)(null===ge||void 0===ge?void 0:ge.results),t=(0,P.gJ)(N,e);W(t.price),O(t)}}),[v,L,N]);var Se=(0,a.useCallback)((function(e){return o(e)}),[]),Ze=(0,a.useCallback)((function(e){return f(e)}),[]),Ie=(0,a.useCallback)((function(){y((function(e){return(oe||e>B)&&e>1?e-1:e}))}),[B]),Te=(0,a.useCallback)((function(){return y((function(e){return e<I-we?e+1:I-we}))}),[we]),Ee=(0,a.useCallback)((function(e){var t=e.target.value,n=parseInt(t);y(n>B?n+we>I?I-we:n:function(e){return oe&&e>0&&n>0?n:e})}),[B]);return{plan:l,method:p,planClickHandler:Se,methodClickHandler:Ze,price:V,decrementMemberCount:Ie,incrementMemberCount:Te,memberCount:v,setCounterHandler:Ee,staffCountLoading:ve,plansLoading:ke,setPaymentDetailHandler:pe,openPaymentPopup:q,yearlyDiscount:null===Y||void 0===Y?void 0:Y.yearlyDiscount,invoiceId:de,goBack:function(){return le.goBack()},isExtraInvoice:oe,daysLeft:re,allPaymentsCount:N,paidStaffLoading:Ce,hasUserFreePlan:Pe}}var A=n(72014),B=n(25434);function H(e){var t=e.hasUserFreePlan,n=e.price,a=e.memberCount,r=e.decrementMemberCount,s=e.incrementMemberCount,i=e.plan,c=e.setCounterHandler,o=e.isExtraInvoice,d=e.daysLeft,u=e.allPaymentsCount,m=0===n,p=!(0,B.m)().hasUserAlreadyPaidInvoice&&!m||t&&!m;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("h2",{className:"py-2.5 text-lg font-semibold dark:text-white",children:["month"===i?"Monthly":"Yearly"," Plan"]}),(0,l.jsxs)("div",{className:"mb-6 lg:w-[255px] divide-y divide-y divide-dashed  divide-kgrey-light-grey-6 rounded-lg bg-primary-dark-50  px-2.5",children:[(0,l.jsxs)("div",{className:"py-2.5 flex-center-between text-kgrey-menuText",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("button",{type:"button",onClick:r,className:"mr-1 checkout-counter",children:(0,l.jsx)(g.pwh,{className:"pointer-events-none"})}),(0,l.jsx)("input",{value:a,className:"w-14 border-b bg-transparent text-xs font-semibold text-center",type:"number",min:1,max:I,onChange:c}),(0,l.jsx)("button",{type:"button",onClick:s,className:"ml-1 checkout-counter",children:(0,l.jsx)(g.poH,{className:"pointer-events-none"})})]}),(0,l.jsxs)("div",{className:"leading-none pointer-events-none",children:[(0,l.jsx)("strong",{className:"text-10px text-kgrey-2d2d2d pointer-events-none dark:text-white",children:"$".concat(n)}),(0,l.jsxs)("span",{className:"text-8px pointer-events-none",children:["/ per member ",(0,l.jsx)("br",{}),"per month"]})]})]}),(0,l.jsx)("div",{className:"py-2.5",children:(0,l.jsxs)("div",{className:"flex-center-between",children:[(0,l.jsx)("span",{className:"dark:text-white",children:"Total: "}),(0,l.jsx)("strong",{className:"font-bold text-lg dark:text-white",children:"$".concat(Z(o,n,0,a,i,d,u))})]})})]}),p?(0,l.jsx)("div",{className:"mb-3 pr-4",children:(0,l.jsx)("span",{className:"text-sm font-medium dark:text-white",children:"Because you are subscribing to paid plan you will be charged for all of your staff"})}):null,o?(0,l.jsxs)("div",{className:"p-tariff rounded-lg shadow-p-tariff bg-primary-dark-50 lg:w-[255px] mr-4 border-t-4 py-5 px-4 font-poppins border-primary-dark",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"dark:text-white",children:"Total Staff:"})," ",(0,l.jsx)("span",{className:"dark:text-white",children:u})]}),(0,l.jsx)("div",{children:(0,l.jsx)(A.Z,{value:u,"aria-labelledby":"input-slider",min:1,className:"!text-primary-dark",disabled:!0})})]}):null]})})}var D=n(90325),F="".concat(r.Z.PUBLIC_ASSETS,"img");function L(){return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-10px text-kgrey-menuText mb-2.5",children:"We accept the following payment methods"}),(0,l.jsx)("div",{className:"flex items-center",children:["logo-visa","logo-mastercard","logo-paypal"].map((function(e){return(0,l.jsx)("img",{className:"mr-2.5 last:mr-0",src:"".concat(F,"/").concat(e,".svg"),alt:""},e)}))})]})}var M=n(41559),U=n(84625),R=n(92241),Y=n(32),O=n(63830),K=Y.Z.user.setUserCompany;function $(e){var t=e.details,n=e.onSuccess,r=(0,w.m)().companyId,i=(0,m.a)(),c=i.companies,o=i.company,d=(0,a.useState)(!1),p=(0,j.Z)(d,2),f=p[0],x=p[1],h=(0,C.eC)().showNotification,v=(0,R.I0)(),y=(0,O.k6)();(0,a.useEffect)((function(){if(null===t||void 0===t||!t.subscription_plan_id)return alert("Something wrong with payment. Please contact to support"),void n()}),[]);var b=(0,C.bK)({url:"".concat(r,"/payment/create-checkout-session/"),values:t,method:"post",cb:{success:function(e,a){if("payment_link"in e)n(),location.href=e.payment_link;else if(t&&0===(null===t||void 0===t?void 0:t.amount)){var i=c.map((function(t){return t.company.id===r?(0,s.Z)((0,s.Z)({},t),{},{company:(0,s.Z)((0,s.Z)({},t.company),{},{comp_subscription:e})}):t}));v(U.Z.loadUserCompaniesSuccess(i));var l=(0,s.Z)((0,s.Z)({},o),{},{company:(0,s.Z)((0,s.Z)({},null===o||void 0===o?void 0:o.company),{},{comp_subscription:e})});v(K(l)),P.tO.set("company",JSON.stringify(l)),y.push("/payment-success")}else"payment_link"in e||0===t.amount||h({message:"Something went wrong",variant:"error"});x(!1)},error:function(e,t){var n,a,r=null===e||void 0===e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message;console.log("error payment",{response:e.response,errorText:r}),h({message:r||"Something went wrong",variant:"error"}),x(!1)}}}).fetchData,g=function(){var e=(0,k.Z)(_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,b();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"font-bold text-lg mb-6",children:"Are you sure to process payment with following details?"}),f&&(0,l.jsx)(M.aN,{tiled:!0,withOverlay:!0}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("dl",{className:"flex-center-y mb-4",children:[(0,l.jsx)("dt",{className:"mr-2 ",children:"Business Company:"}),(0,l.jsx)("dd",{className:"font-medium",children:null===o||void 0===o?void 0:o.company.name})]}),(0,l.jsxs)("dl",{className:"flex-center-y mb-4",children:[(0,l.jsx)("dt",{className:"mr-2 ",children:"Staffs Count:"}),(0,l.jsx)("dd",{className:"font-medium",children:null===t||void 0===t?void 0:t.staffs_count})]}),(0,l.jsxs)("dl",{className:"flex-center-y mb-4",children:[(0,l.jsx)("dt",{className:"mr-2 ",children:"Payment Type:"}),(0,l.jsx)("dd",{className:"font-medium",children:"PAYPAL"===(null===t||void 0===t?void 0:t.payment_type)?"Paypal":"Stripe"})]}),(0,l.jsxs)("dl",{className:"flex-center-y mb-4",children:[(0,l.jsx)("dt",{className:"mr-2 ",children:"Amount:"}),(0,l.jsxs)("dd",{className:"font-medium",children:["$",null===t||void 0===t?void 0:t.amount]})]}),(0,l.jsxs)("dl",{className:"flex-center-y mb-4",children:[(0,l.jsx)("dt",{className:"mr-2 ",children:"Payment frequency:"}),(0,l.jsx)("dd",{className:"font-medium",children:null!==t&&void 0!==t&&t.is_monthly?"Monthly":"Yearly"})]})]}),(0,l.jsx)("p",{className:"mb-6 text-kgrey text-sm italic",children:"You will be forwarded to ".concat("PAYPAL"===(null===t||void 0===t?void 0:t.payment_type)?"Paypal's":"Stripe's"," website to process payment")}),(0,l.jsxs)("div",{className:"flex-center-end",children:[(0,l.jsx)(u.R9,{className:"mr-4",onClick:n,children:"Cancel"}),(0,l.jsx)(u.R9,{color:"primary",onClick:g,children:"Process Payment"})]})]})}var q="".concat(r.Z.PUBLIC_ASSETS,"img");function z(){var e=E(),t=e.plan,n=e.method,a=e.planClickHandler,r=e.methodClickHandler,s=e.price,i=e.memberCount,c=e.decrementMemberCount,o=e.incrementMemberCount,d=e.setCounterHandler,m=e.staffCountLoading,f=e.plansLoading,x=e.setPaymentDetailHandler,v=e.openPaymentPopup,y=e.yearlyDiscount,g=e.invoiceId,k=e.goBack,j=e.isExtraInvoice,N=e.daysLeft,_=e.allPaymentsCount,C=e.paidStaffLoading,w=e.hasUserFreePlan,P=function(){return x(!0)};return(0,l.jsx)(D.d,{children:(0,l.jsxs)("div",{className:"checkout mx-auto lg:w-[700px] lg:py-14 font-poppins",children:[(0,l.jsx)("div",{className:"checkout__business-logo table mx-auto mb-6",children:(0,l.jsx)("img",{src:"".concat(q,"/img-kennekt-logo-checkout.svg"),alt:""})}),(0,l.jsxs)("div",{className:"checkout__main bg-white dark:bg-kdark-dark333 border-t-4 rounded-lg border-primary-dark relative",children:[(m||f||C)&&(0,l.jsx)(M.aN,{tiled:!0,withOverlay:!0}),(0,l.jsxs)("div",{className:"checkout__body flex",children:[(0,l.jsxs)("div",{className:"checkout__left p:2 lg:p-7 w-[428px] flex-shrink-0",children:[(0,l.jsx)(p,{invoiceId:g}),(0,l.jsxs)("div",{className:"checkout__content py-5",children:[(0,l.jsx)("h3",{className:"text-xs text-kgrey-menuText mb-3",children:"Billing Plan"}),(0,l.jsx)(h,{plan:t,planClickHandler:a,price:s,yearlyDiscount:y||0}),(0,l.jsx)(b,{method:n,methodClickHandler:r}),Boolean(n)&&(0,l.jsx)("div",{className:"checkout__method-details pt-5",children:"card"===n?(0,l.jsx)(L,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"text-10px text-kgrey-menuText mb-3",children:"You will be taken to PayPal to authorize a billing agreement."}),(0,l.jsx)("p",{className:"text-10px text-kgrey-menuText",children:"Please make sure pop-ups aren't blocked."})]})})]})]}),(0,l.jsx)("div",{className:"checkout__right p-4 border-l border-kgrey-light-grey-6 px-3 py-7 w-full",children:!!s&&(0,l.jsx)(H,{hasUserFreePlan:w,price:s[t],memberCount:i,decrementMemberCount:c,incrementMemberCount:o,plan:t,setCounterHandler:d,isExtraInvoice:j,daysLeft:N,allPaymentsCount:_})})]}),(0,l.jsxs)("div",{className:"checkout__footer border-t border-kgrey-light-grey-6 py-5 px-5 flex-center-end",children:[(0,l.jsx)(u.R9,{className:"mr-5",shape:"square",type:"button",onClick:k,children:"Back"}),(0,l.jsx)(u.R9,{color:"primary",shape:"square",type:"submit",onClick:function(){return x()},children:"Continue"}),(0,l.jsx)(u.Cx,{handleModalOpen:P,open:!!v,children:(0,l.jsx)($,{details:v,onSuccess:P})})]})]})]})})}},25434:function(e,t,n){n.d(t,{I:function(){return i},m:function(){return m}});var a=n(70885),r=n(47313),s=n(90214);function i(){var e=r.useState(0),t=(0,a.Z)(e,2),n=t[0],i=t[1],c=r.useState("Billing"),l=(0,a.Z)(c,2),o=l[0],d=l[1],u=(0,s.tv)(),m=u.location,p=u.match,f=p.url,x=p.path,h=(0,s.gQ)("Billing"),v=h.unreadCasesQuantity,y=h.isHidden;return(0,r.useEffect)((function(){var e=m.pathname.split("/").filter(Boolean).filter(String),t=e[e.length-1]||"";!function(){switch(t){case"billing":i(0),d("Billing");break;case"invoice":i(1),d("Invoice");break;default:;}}()}),[m]),{primeTab:n,pageName:o,url:f,path:x,unreadCasesQuantity:v,setPrimeTab:i,isHidden:y,handleChangePrime:function(e,t){i(t)}}}var c=n(15861),l=n(64687),o=n.n(l),d=n(77344),u=n(11760);function m(){var e=(0,d.m)().companyId,t=(0,u.a)().companies,n=(0,s.tv)().history,i=(0,r.useState)(!1),l=(0,a.Z)(i,2),m=l[0],p=l[1],f=(0,r.useState)(!1),x=(0,a.Z)(f,2),h=x[0],v=x[1],y=(0,s.eC)().showNotification,b=(0,r.useState)(!1),g=(0,a.Z)(b,2),k=g[0],j=g[1],N=(0,r.useState)(null),_=(0,a.Z)(N,2),C=_[0],w=_[1],P=(0,s.bK)({url:"/".concat(e,"/payment/").concat(e,"/cancel-subscription/"),method:"put",cb:{success:function(){y({message:"Your subscription has been cancelled",variant:"success"}),p(!1),v(!1)},error:function(e,t){var n,a;y({message:(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Something went wrong",variant:"error"}),p(!1)}}}).fetchData,S=(0,s.bK)({url:"/payment/".concat(e,"/invoices/?page_size=10"),cb:{success:function(e){var t;null!==e&&void 0!==e&&null!==(t=e.results)&&void 0!==t&&t.length&&j(!0)},error:function(e,t){}}}).fetchData;(0,r.useEffect)((function(){if(S(),e&&t.length){var n=t.find((function(t){return t.company.id===e})),a=null===n||void 0===n?void 0:n.company.comp_subscription;a&&w(a)}}),[t,e]);var Z=(0,r.useCallback)((0,c.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,P();case 3:case"end":return e.stop()}}),e)}))),[]);return{navigateToCheckout:(0,r.useCallback)((function(){return n.push("/checkout")}),[]),subscription:C,handleCancelRequest:Z,setCancelSubscription:v,cancelSubscription:h,cancelLoading:m,hasUserAlreadyPaidInvoice:k}}},93851:function(e,t,n){n.d(t,{P:function(){return r}});var a=n(42982);function r(e){var t=function(e){return e>50};return e.sort((function(e,t){return e.staffs_count_from-t.staffs_count_from})).reduce((function(e,n){return[].concat((0,a.Z)(e),[{id:n.id,name:n.title,members:"".concat(n.staffs_count_from).concat(t(n.staffs_count_to)?"":"-").concat(t(n.staffs_count_to)?"+":n.staffs_count_to),memberFrom:n.staffs_count_from,memberTo:n.staffs_count_to,price:{month:parseFloat(n.monthly_price),year:parseFloat(n.yearly_price)},yearlyDiscount:parseInt(n.yearly_discount),type:n.type}])}),[])}}}]);