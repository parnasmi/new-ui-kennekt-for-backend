!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2323c362-af94-494c-af0a-8ed083386acc",e._sentryDebugIdIdentifier="sentry-dbid-2323c362-af94-494c-af0a-8ed083386acc")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"a086bfaddc61e7dbbcac0a9c42145052439dbbf3"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[3582],{43582:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var a=t(72791),r=t(9478),s=t(1413),i=t(45987),l=t(28182),c=t(80184),o=["children","isActive","isFixed","className"],d=function(e){var n=e.children,t=e.isActive,a=void 0!==t&&t,r=e.isFixed,d=void 0!==r&&r,u=e.className,m=(0,i.Z)(e,o);return(0,c.jsx)("div",(0,s.Z)((0,s.Z)({className:(0,l.Z)("cursor-pointer rounded-lg border transition flex-centered flex-col hover:border-primary",{"border-kgrey-dark-2":!a,"border-primary-dark bg-primary-dark-50":a,"px-4 pt-5 pb-4":!d,"h-[105px] w-[105px]":d},u)},m),{},{children:n}))},u=t(84230),m=t(97689);function p(e){var n,t,a,r,s,i=e.invoiceId,l=(0,m.a)().company;return(0,c.jsxs)("div",{className:"checkout__header border-b pb-2.5",children:[(0,c.jsx)("h2",{className:"mb-4 text-lg font-semibold text-kdark-lighter dark:text-white",children:"Order summary ".concat(i?"for unpaid invoice "+i+" (Upgradable)":"")}),(0,c.jsx)("div",{className:"mb-4 text-xs text-kgrey-menuText",children:"Upgrade Business:"}),(0,c.jsxs)("div",{className:"flex-center-y",children:[(0,c.jsx)(u.Rz,{size:40,letter:"S",alt:"some descr",src:(null===l||void 0===l||null===(n=l.company)||void 0===n||null===(t=n.icon)||void 0===t?void 0:t.thumbnail_150)||(null===l||void 0===l||null===(a=l.company)||void 0===a||null===(r=a.icon)||void 0===r?void 0:r.url)}),(0,c.jsx)("div",{className:"ml-2 text-xs text-kdark-text dark:text-white",children:null===l||void 0===l||null===(s=l.company)||void 0===s?void 0:s.name})]})]})}var f=[{id:1,title:"Billed Yearly",price:2,type:"year"},{id:2,title:"Billed Monthly",price:4,type:"month"}],h=[{id:1,text:"Credit Card",type:"card"},{id:2,text:"Paypal",type:"paypal"}];function x(e){var n=e.planClickHandler,t=e.plan,a=e.price,r=e.yearlyDiscount;return(0,c.jsx)("div",{className:"checkout__plans mb-5 flex",children:f.map((function(e){var s="year"===e.type;return(0,c.jsx)(d,{onClick:function(){return n(e.type)},className:(0,l.Z)("mr-3 last:mr-0",{relative:s}),isActive:t===e.type,children:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h4",{className:"mb-1.5 text-xs text-kdark-text dark:text-white",children:e.title}),(0,c.jsx)("strong",{className:"mb-1.5 block text-xl text-primary-dark",children:"$".concat(a[s?"year":"month"])}),(0,c.jsx)("span",{className:"text-10px uppercase text-kgrey-menuText",children:"PER member PER MONTH"}),s&&(0,c.jsx)(v,{yearlyDiscount:r})]})},e.id)}))})}function v(e){var n=e.yearlyDiscount;return(0,c.jsx)("div",{className:"flex-centered absolute -top-[7px] -right-[7px] h-[30px] w-[30px] rounded-full bg-primary-dark text-10px text-white",children:"-".concat(n,"%")})}var y=t(76525);function b(e){var n=e.methodClickHandler,t=e.method;return(0,c.jsxs)("div",{className:"checkout__pmethods",children:[(0,c.jsx)("h2",{className:"mb-4 text-lg font-semibold text-kdark-lighter dark:text-white",children:"Payment Method"}),(0,c.jsx)("div",{className:"flex-center-y",children:h.map((function(e){return(0,c.jsx)(d,{onClick:function(){return n(e.type)},className:"mr-3 last:mr-0",isActive:t===e.type,isFixed:!0,children:(0,c.jsxs)(c.Fragment,{children:["card"===e.type?(0,c.jsx)(y.bl,{}):(0,c.jsx)(y.KT,{}),(0,c.jsx)("div",{className:"mt-1.5 text-xs font-medium dark:text-white",children:e.text})]})},e.id)}))})]})}t(42339);var g=t(7692),k=t(15861),j=t(70885),_=t(64687),N=t.n(_),C=t(31102),w=t(40084),P=t(72248),S=t(98582);function Z(e,n,t,a,r,s,i){var l=e?n/E:n,c=e?s:12,o="year"===r,d=i-a<=2;return(0,P.QV)((o?l:n)*(d?i:a)*(o?c:1))}var I=1e4,E=30;function D(){var e,n=(0,w.m)(),t=n.companyId,r=n.isAppAvailable,s=(0,m.a)().companies,i=(0,a.useState)("year"),l=(0,j.Z)(i,2),c=l[0],o=l[1],d=(0,a.useState)("card"),u=(0,j.Z)(d,2),p=u[0],f=u[1],h=(0,a.useState)(0),x=(0,j.Z)(h,2),v=x[0],y=x[1],b=(0,a.useState)(0),g=(0,j.Z)(b,2),_=g[0],E=g[1],D=(0,a.useState)(0),T=(0,j.Z)(D,2),A=T[0],B=T[1],H=(0,a.useState)(null),L=(0,j.Z)(H,2),F=L[0],M=L[1],R=(0,a.useState)(null),U=(0,j.Z)(R,2),Y=U[0],O=U[1],K=(0,a.useState)(null),$=(0,j.Z)(K,2),q=$[0],z=$[1],Q=(0,a.useState)({month:6.5,year:Math.floor(390)/100}),J=(0,j.Z)(Q,2),V=J[0],W=J[1],G=(0,a.useState)(null),X=(0,j.Z)(G,2),ee=X[0],ne=X[1],te=(0,a.useState)(null),ae=(0,j.Z)(te,2),re=ae[0],se=ae[1],ie=(0,C.tv)(),le=ie.params,ce=ie.history,oe=r&&"PRO"===(null===ee||void 0===ee?void 0:ee.subscription_type);(0,a.useEffect)((function(){if(ee){var e=(0,P.$4)(null===ee||void 0===ee?void 0:ee.end_date);se(+e[0])}}),[ee]),(0,a.useEffect)((function(){if(t&&s.length){var e=s.find((function(e){return e.company.id===t})),n=null===e||void 0===e?void 0:e.company.comp_subscription;n&&ne(n)}}),[s,t]);var de=parseInt(null===le||void 0===le?void 0:le.invoice),ue=parseInt(null===le||void 0===le?void 0:le.isMonthly),me=parseInt(null===le||void 0===le?void 0:le.staffsCount);(0,a.useEffect)((function(){o(ue?"month":"year")}),[ue]);var pe=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];z(e?null:{company_id:t,staffs_count:v,payment_type:"card"===p?"STRIPE":"PAYPAL",amount:Z(oe,V[c],0,v,c,re,_),subscription_plan_id:null===Y||void 0===Y?void 0:Y.id,is_monthly:"month"===c,order_id:de||null,is_extra:oe})}),[t,v,p,c,Y,V,de,oe,re]),fe=(0,C.bK)({url:"/".concat(t,"/companies/staffs_count/")}),he=fe.fetchData,xe=fe.response,ve=fe.loading,ye=(0,C.bK)({url:"/".concat(t,"/payment/plans/")}),be=ye.fetchData,ge=ye.response,ke=ye.loading,je=(0,C.bK)({url:"/payment/".concat(t,"/paid-staffs-count/")}),_e=je.fetchData,Ne=je.response,Ce=je.loading;(0,a.useEffect)((function(){t&&(0,k.Z)(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e();case 2:return e.next=4,he();case 4:return e.next=6,be();case 6:case"end":return e.stop()}}),e)})))()}),[t]),(0,a.useEffect)((function(){var e;if(null!==ge&&void 0!==ge&&null!==(e=ge.results)&&void 0!==e&&e.length&&xe){var n=xe.staffs_count,t=(0,S.P)(null===ge||void 0===ge?void 0:ge.results),a=(0,P.gJ)(n,t);B(oe?me||1:n),y(oe?me||1:n),M(t),W(a.price),O(a)}}),[ge,xe,oe,me]);var we=null!==(e=Ne&&Ne.paid_staffs_count)&&void 0!==e?e:0,Pe=Boolean(oe&&ge&&function(e,n){var t=n&&n.paid_staffs_count;if(e.length&&t)return e.find((function(e){return t>=e.staffs_count_from&&t<=e.staffs_count_to&&0===parseFloat(e.monthly_price)&&0===parseFloat(e.yearly_price)}))}(ge.results,ee));(0,a.useEffect)((function(){E(oe?we+v:v)}),[Ne,oe,v]),(0,a.useEffect)((function(){if(_>0&&null!==F&&void 0!==F&&F.length){var e=(0,S.P)(null===ge||void 0===ge?void 0:ge.results),n=(0,P.gJ)(_,e);W(n.price),O(n)}}),[v,F,_]);var Se=(0,a.useCallback)((function(e){return o(e)}),[]),Ze=(0,a.useCallback)((function(e){return f(e)}),[]),Ie=(0,a.useCallback)((function(){y((function(e){return(oe||e>A)&&e>1?e-1:e}))}),[A]),Ee=(0,a.useCallback)((function(){return y((function(e){return e<I-we?e+1:I-we}))}),[we]),De=(0,a.useCallback)((function(e){var n=e.target.value,t=parseInt(n);y(t>A?t+we>I?I-we:t:function(e){return oe&&e>0&&t>0?t:e})}),[A]);return{plan:c,method:p,planClickHandler:Se,methodClickHandler:Ze,price:V,decrementMemberCount:Ie,incrementMemberCount:Ee,memberCount:v,setCounterHandler:De,staffCountLoading:ve,plansLoading:ke,setPaymentDetailHandler:pe,openPaymentPopup:q,yearlyDiscount:null===Y||void 0===Y?void 0:Y.yearlyDiscount,invoiceId:de,goBack:function(){return ce.goBack()},isExtraInvoice:oe,daysLeft:re,allPaymentsCount:_,paidStaffLoading:Ce,hasUserFreePlan:Pe}}var T=t(24076),A=t(43682);function B(e){var n=e.hasUserFreePlan,t=e.price,a=e.memberCount,r=e.decrementMemberCount,s=e.incrementMemberCount,i=e.plan,l=e.setCounterHandler,o=e.isExtraInvoice,d=e.daysLeft,u=e.allPaymentsCount,m=0===t,p=!(0,A.m)().hasUserAlreadyPaidInvoice&&!m||n&&!m;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsxs)("h2",{className:"py-2.5 text-lg font-semibold dark:text-white",children:["month"===i?"Monthly":"Yearly"," Plan"]}),(0,c.jsxs)("div",{className:"mb-6 divide-y divide-y divide-dashed divide-kgrey-light-grey-6  rounded-lg bg-primary-dark-50 px-2.5  lg:w-[255px]",children:[(0,c.jsxs)("div",{className:"flex-col py-2.5 text-kgrey-menuText",children:[(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("button",{type:"button",onClick:r,className:"checkout-counter mr-1",children:(0,c.jsx)(g.pwh,{className:"pointer-events-none"})}),(0,c.jsx)("input",{value:a,className:"w-14 border-b bg-transparent text-center text-sm font-semibold",type:"number",min:1,max:I,onChange:l}),(0,c.jsx)("button",{type:"button",onClick:s,className:"checkout-counter ml-1",children:(0,c.jsx)(g.poH,{className:"pointer-events-none"})}),(0,c.jsx)("span",{className:"ml-2.5 text-sm",children:"member".concat(a>1?"s":"")})]}),(0,c.jsxs)("div",{className:"pointer-events-none mt-4 text-sm leading-none leading-none",children:[(0,c.jsx)("strong",{className:"pointer-events-none text-kgrey-2d2d2d dark:text-white",children:"$".concat(t)}),(0,c.jsx)("span",{className:"pointer-events-none ",children:"/ per member per month"})]})]}),(0,c.jsx)("div",{className:"py-2.5",children:(0,c.jsxs)("div",{className:"flex-center-between",children:[(0,c.jsx)("span",{className:"dark:text-white",children:"Total: "}),(0,c.jsx)("strong",{className:"text-lg font-bold dark:text-white",children:"$".concat(Z(o,t,0,a,i,d,u))})]})})]}),p?(0,c.jsx)("div",{className:"mb-3 pr-4",children:(0,c.jsx)("span",{className:"text-sm font-medium dark:text-white",children:"Because you are subscribing to paid plan you will be charged for all of your staff"})}):null,o?(0,c.jsxs)("div",{className:"p-tariff mr-4 rounded-lg border-t-4 border-primary-dark bg-primary-dark-50 py-5 px-4 font-poppins shadow-p-tariff lg:w-[255px]",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("span",{className:"dark:text-white",children:"Total Staff:"})," ",(0,c.jsx)("span",{className:"dark:text-white",children:u})]}),(0,c.jsx)("div",{children:(0,c.jsx)(T.Z,{value:u,"aria-labelledby":"input-slider",min:1,className:"!text-primary-dark",disabled:!0})})]}):null]})})}var H=t(59028),L="".concat(r.Z.PUBLIC_ASSETS,"img");function F(){return(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"mb-2.5 text-xs text-kgrey-menuText",children:"We accept the following payment methods"}),(0,c.jsx)("div",{className:"flex items-center",children:["logo-visa","logo-mastercard","logo-paypal"].map((function(e){return(0,c.jsx)("img",{className:"mr-2.5 last:mr-0",src:"".concat(L,"/").concat(e,".svg"),alt:""},e)}))})]})}var M=t(55248),R=t(17765),U=t(87818),Y=t(32380),O=t(79271),K=Y.Z.user.setUserCompany;function $(e){var n=e.details,t=e.onSuccess,r=(0,w.m)().companyId,i=(0,m.a)(),l=i.companies,o=i.company,d=(0,a.useState)(!1),p=(0,j.Z)(d,2),f=p[0],h=p[1],x=(0,C.eC)().showNotification,v=(0,U.I0)(),y=(0,O.k6)();(0,a.useEffect)((function(){if(null===n||void 0===n||!n.subscription_plan_id)return alert("Something wrong with payment. Please contact to support"),void t()}),[]);var b=(0,C.bK)({url:"".concat(r,"/payment/create-checkout-session/"),values:n,method:"post",cb:{success:function(e,a){if("payment_link"in e)t(),location.href=e.payment_link;else if(n&&0===(null===n||void 0===n?void 0:n.amount)){var i=l.map((function(n){return n.company.id===r?(0,s.Z)((0,s.Z)({},n),{},{company:(0,s.Z)((0,s.Z)({},n.company),{},{comp_subscription:e})}):n}));v(R.Z.loadUserCompaniesSuccess(i));var c=(0,s.Z)((0,s.Z)({},o),{},{company:(0,s.Z)((0,s.Z)({},null===o||void 0===o?void 0:o.company),{},{comp_subscription:e})});v(K(c)),P.tO.set("company",JSON.stringify(c)),y.push("/payment-success")}else"payment_link"in e||0===n.amount||x({message:"Something went wrong",variant:"error"});h(!1)},error:function(e,n){var t,a,r=null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message;console.log("error payment",{response:e.response,errorText:r}),x({message:r||"Something went wrong",variant:"error"}),h(!1)}}}).fetchData,g=function(){var e=(0,k.Z)(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,b();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"mb-6 text-lg font-bold",children:"Do you want to proceed with the following information?"}),f&&(0,c.jsx)(M.aN,{tiled:!0,withOverlay:!0}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsxs)("dl",{className:"flex-center-y mb-4",children:[(0,c.jsx)("dt",{className:"mr-2 ",children:"Business Company:"}),(0,c.jsx)("dd",{className:"font-medium",children:null===o||void 0===o?void 0:o.company.name})]}),(0,c.jsxs)("dl",{className:"flex-center-y mb-4",children:[(0,c.jsx)("dt",{className:"mr-2 ",children:"Staffs Count:"}),(0,c.jsx)("dd",{className:"font-medium",children:null===n||void 0===n?void 0:n.staffs_count})]}),(0,c.jsxs)("dl",{className:"flex-center-y mb-4",children:[(0,c.jsx)("dt",{className:"mr-2 ",children:"Payment Type:"}),(0,c.jsx)("dd",{className:"font-medium",children:"PAYPAL"===(null===n||void 0===n?void 0:n.payment_type)?"Paypal":"Stripe"})]}),(0,c.jsxs)("dl",{className:"flex-center-y mb-4",children:[(0,c.jsx)("dt",{className:"mr-2 ",children:"Amount:"}),(0,c.jsxs)("dd",{className:"font-medium",children:["$",null===n||void 0===n?void 0:n.amount]})]}),(0,c.jsxs)("dl",{className:"flex-center-y mb-4",children:[(0,c.jsx)("dt",{className:"mr-2 ",children:"Payment frequency:"}),(0,c.jsx)("dd",{className:"font-medium",children:null!==n&&void 0!==n&&n.is_monthly?"Monthly":"Yearly"})]})]}),(0,c.jsx)("p",{className:"mb-6 text-sm italic text-kgrey",children:"You will be forwarded to ".concat("PAYPAL"===(null===n||void 0===n?void 0:n.payment_type)?"Paypal's":"Stripe's"," website to process payment")}),(0,c.jsxs)("div",{className:"flex-center-end",children:[(0,c.jsx)(u.R9,{className:"mr-4",onClick:t,children:"Cancel"}),(0,c.jsx)(u.R9,{color:"primary",onClick:g,children:"Proceed Payment"})]})]})}var q="".concat(r.Z.PUBLIC_ASSETS,"img");function z(){var e=D(),n=e.plan,t=e.method,a=e.planClickHandler,r=e.methodClickHandler,s=e.price,i=e.memberCount,l=e.decrementMemberCount,o=e.incrementMemberCount,d=e.setCounterHandler,m=e.staffCountLoading,f=e.plansLoading,h=e.setPaymentDetailHandler,v=e.openPaymentPopup,y=e.yearlyDiscount,g=e.invoiceId,k=e.goBack,j=e.isExtraInvoice,_=e.daysLeft,N=e.allPaymentsCount,C=e.paidStaffLoading,w=e.hasUserFreePlan,P=function(){return h(!0)};return(0,c.jsx)(H.d,{children:(0,c.jsxs)("div",{className:"checkout mx-auto font-poppins lg:w-[707px] lg:py-14",children:[(0,c.jsx)("div",{className:"checkout__business-logo mx-auto mb-6 table h-[67px] w-[166px]",children:(0,c.jsx)("img",{src:"".concat(q,"/img-kennekt-logo-checkout.svg"),alt:"",className:"h-full w-full object-cover"})}),(0,c.jsxs)("div",{className:"checkout__main relative rounded-lg border-t-4 border-primary-dark bg-white dark:bg-kdark-dark333",children:[(m||f||C)&&(0,c.jsx)(M.aN,{tiled:!0,withOverlay:!0}),(0,c.jsxs)("div",{className:"checkout__body flex",children:[(0,c.jsxs)("div",{className:"checkout__left p:2 w-[428px] flex-shrink-0 lg:p-7",children:[(0,c.jsx)(p,{invoiceId:g}),(0,c.jsxs)("div",{className:"checkout__content py-5",children:[(0,c.jsx)("h3",{className:"mb-3 text-xs text-kgrey-menuText",children:"Billing Plan"}),(0,c.jsx)(x,{plan:n,planClickHandler:a,price:s,yearlyDiscount:y||0}),(0,c.jsx)(b,{method:t,methodClickHandler:r}),Boolean(t)&&(0,c.jsx)("div",{className:"checkout__method-details pt-5",children:"card"===t?(0,c.jsx)(F,{}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("p",{className:"mb-3 text-10px text-kgrey-menuText",children:"You will be taken to PayPal to authorize a billing agreement."}),(0,c.jsx)("p",{className:"text-10px text-kgrey-menuText",children:"Please make sure pop-ups aren't blocked."})]})})]})]}),(0,c.jsx)("div",{className:"checkout__right w-full border-l border-kgrey-light-grey-6 p-4 px-3 py-7",children:!!s&&(0,c.jsx)(B,{hasUserFreePlan:w,price:s[n],memberCount:i,decrementMemberCount:l,incrementMemberCount:o,plan:n,setCounterHandler:d,isExtraInvoice:j,daysLeft:_,allPaymentsCount:N})})]}),(0,c.jsxs)("div",{className:"checkout__footer flex-center-end border-t border-kgrey-light-grey-6 py-5 px-5",children:[(0,c.jsx)(u.R9,{className:"mr-5",shape:"square",type:"button",onClick:k,children:"Back"}),(0,c.jsx)(u.R9,{color:"primary",shape:"square",type:"submit",onClick:function(){return h()},children:"Continue"}),(0,c.jsx)(u.Cx,{handleModalOpen:P,open:!!v,children:(0,c.jsx)($,{details:v,onSuccess:P})})]})]})]})})}},43682:function(e,n,t){t.d(n,{I:function(){return i},m:function(){return m}});var a=t(70885),r=t(72791),s=t(31102);function i(){var e=r.useState(0),n=(0,a.Z)(e,2),t=n[0],i=n[1],l=r.useState("Billing"),c=(0,a.Z)(l,2),o=c[0],d=c[1],u=(0,s.tv)(),m=u.location,p=u.match,f=p.url,h=p.path,x=(0,s.gQ)("Billing"),v=x.unreadCasesQuantity,y=x.isHidden;return(0,r.useEffect)((function(){var e=m.pathname.split("/").filter(Boolean).filter(String),n=e[e.length-1]||"";!function(){switch(n){case"billing":i(0),d("Billing");break;case"invoice":i(1),d("Invoice");break;default:;}}()}),[m]),{primeTab:t,pageName:o,url:f,path:h,unreadCasesQuantity:v,setPrimeTab:i,isHidden:y,handleChangePrime:function(e,n){i(n)}}}var l=t(15861),c=t(64687),o=t.n(c),d=t(40084),u=t(97689);function m(){var e=(0,d.m)().companyId,n=(0,u.a)().companies,t=(0,s.tv)().history,i=(0,r.useState)(!1),c=(0,a.Z)(i,2),m=c[0],p=c[1],f=(0,r.useState)(!1),h=(0,a.Z)(f,2),x=h[0],v=h[1],y=(0,s.eC)().showNotification,b=(0,r.useState)(!1),g=(0,a.Z)(b,2),k=g[0],j=g[1],_=(0,r.useState)(null),N=(0,a.Z)(_,2),C=N[0],w=N[1],P=(0,s.bK)({url:"/".concat(e,"/payment/").concat(e,"/cancel-subscription/"),method:"put",cb:{success:function(){y({message:"Your subscription has been cancelled",variant:"success"}),p(!1),v(!1)},error:function(e,n){var t,a;y({message:(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Something went wrong",variant:"error"}),p(!1)}}}).fetchData,S=(0,s.bK)({url:"/payment/".concat(e,"/invoices/?page_size=10"),cb:{success:function(e){var n;null!==e&&void 0!==e&&null!==(n=e.results)&&void 0!==n&&n.length&&j(!0)},error:function(e,n){}}}).fetchData;(0,r.useEffect)((function(){if(S(),e&&n.length){var t=n.find((function(n){return n.company.id===e})),a=null===t||void 0===t?void 0:t.company.comp_subscription;a&&w(a)}}),[n,e]);var Z=(0,r.useCallback)((0,l.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,P();case 3:case"end":return e.stop()}}),e)}))),[]);return{navigateToCheckout:(0,r.useCallback)((function(){return t.push("/checkout")}),[]),subscription:C,handleCancelRequest:Z,setCancelSubscription:v,cancelSubscription:x,cancelLoading:m,hasUserAlreadyPaidInvoice:k}}},98582:function(e,n,t){t.d(n,{P:function(){return r}});var a=t(42982);function r(e){var n=function(e){return e>50};return e.sort((function(e,n){return e.staffs_count_from-n.staffs_count_from})).reduce((function(e,t){return[].concat((0,a.Z)(e),[{id:t.id,name:t.title,members:"".concat(t.staffs_count_from).concat(n(t.staffs_count_to)?"":"-").concat(n(t.staffs_count_to)?"+":t.staffs_count_to),memberFrom:t.staffs_count_from,memberTo:t.staffs_count_to,price:{month:parseFloat(t.monthly_price),year:parseFloat(t.yearly_price)},yearlyDiscount:parseInt(t.yearly_discount),type:t.type}])}),[])}}}]);
//# sourceMappingURL=3582.2864d888.chunk.js.map