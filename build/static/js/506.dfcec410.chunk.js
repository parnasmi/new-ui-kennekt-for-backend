"use strict";(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[506],{60506:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var s=n(1413),a=n(52557),o=n(94715),r=n(3463),i=n(92241),l=n(17480),c=n(32),d=n(63830),m=n(31172),u=n(57718),p=n(90182),h=(n(47313),n(22934)),w=n(11760),f=n(46417),g=c.Z.entity.formRequest,b=r.Ry({username:r.Z_().email("Enter a valid email").required("Email is required"),new_password:r.Z_().min(6,"Password should be of minimum 6 characters length").required("Password is required"),passwordConfirmation:r.Z_().oneOf([r.iH("new_password")],"Passwords are not the same!").required("Password confirmation is required!")});var x=function(){var e=(0,i.I0)(),t=(0,d.k6)(),n=(0,d.TH)(),r=(0,d.UO)(),c=(0,u.lm)(),x=c.notifVisible,v=c.setNotifVisible,k=c.handleNotificationClose,N=c.Notification,_=(0,u.eC)().showNotification,y=(0,w.a)().isAuthentificated,Z=(0,u.bK)({url:"",dynamicUrl:!0,cb:{success:function(e,n){v(!0);var s=n[0],a=s.setPassWordData,o=s.setSubmitting,r=null===a||void 0===a?void 0:a.token;o(!1),h.tO.set("token",r),setTimeout((function(){y?t.push("/switch-business"):(t.push("/"),window.location.reload())}),2e3)},error:function(e,t){_({message:"Something went wrong",variant:"error"})}}}).fetchData,C=m.parse(n.search)||{username:""},P=(0,o.TA)({initialValues:{username:C.username,new_password:"",passwordConfirmation:""},validationSchema:b,onSubmit:function(t,n){n.setFieldError;var a=n.setSubmitting,o=(0,s.Z)({},t);delete o.passwordConfirmation,e(g({entity:"change_password",name:"change_password",url:"/user/set-password/",method:"patch",params:{},values:o,cb:{success:function(e){"code"in r&&(localStorage.clear(),Z({url:"/sts/".concat(r.code,"/"),setSubmitting:a,setPassWordData:e}))},error:function(e){a(!1)},finally:function(){}}}))}});return(0,f.jsx)(a.P,{title:"Set password for new user",description:'\n\t\t\t\t\t\t\t\t\t\tYou should set your personal password for getting started with \n\t\t\t\t\t\t\t\t\t\temail <span class="text-primary">'.concat(C.username,"</span>\n\t\t\t\t\t\t\t\t\t"),goToPageLink:"/signin",goToPage:"Do you want to login to another account?",goToPageLinkText:"Sign In",back:!0,content:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p.q,{children:(0,f.jsx)("title",{children:"KENNEKT | Set new password"})}),(0,f.jsx)("form",{onSubmit:P.handleSubmit,children:(0,f.jsxs)("div",{className:" w-full md:w-[423px] font-poppins",children:[(0,f.jsx)(l.Qp,{name:"new_password",placeholder:"Password",label:"Password",required:!0,onChange:P.handleChange,type:"password",value:P.values.new_password,error:P.touched.new_password&&Boolean(P.errors.new_password),helperText:P.touched.new_password&&P.errors.new_password}),(0,f.jsx)(l.Qp,{name:"passwordConfirmation",placeholder:"Confirm password",label:"Password confirmation",required:!0,onChange:P.handleChange,type:"password",value:P.values.passwordConfirmation,error:P.touched.passwordConfirmation&&Boolean(P.errors.passwordConfirmation),helperText:P.touched.passwordConfirmation&&P.errors.passwordConfirmation,classNames:"mb-8"}),(0,f.jsx)(N,{severity:"info",anchorOrigin:{vertical:"bottom",horizontal:"center"},handleClose:k,open:x,message:"Your account has been confirmed. You will redirected into the app in seconds..",autoHideDuration:3e3}),(0,f.jsx)("button",{disabled:P.isSubmitting,className:"uppercase bg-primary transition py-3.5 hover:bg-primary-dark text-white rounded-lg w-full text-center font-light text-sm",children:P.isSubmitting?"Setting password. Please wait a while":"Set password"})]})})]})})}},52557:function(e,t,n){n.d(t,{P:function(){return w}});var s,a=n(30168),o=n(30686),r=n(32335),i=n(28303),l=n(63830),c=n(83061),d=n(46225),m=n(79513),u=(n(47313),n(32916)),p=n(1568),h="".concat(r.Z.PUBLIC_ASSETS,"img/");function w(e){var t=e.content,n=e.title,r=e.description,w=e.goToPage,f=e.goToPageLinkText,g=e.goToPageLink,b=e.back,x=e.isInitialPage,v=(0,l.k6)();return(0,p.BX)("div",{className:"welcome flex min-h-full font-poppins ",children:[(0,p.tZ)("div",{className:"hidden md:block welcome__left md:w-[52%] bg-no-repeat bg-cover py-14 px-20",css:(0,o.iv)(s||(s=(0,a.Z)(["\n\t\t\t\t\tbackground-image: url(","bg-welcome.jpg);\n\t\t\t\t"])),h),children:(0,p.tZ)(i.rU,{to:"/",className:"w-40 h-8",children:(0,p.tZ)("img",{src:"".concat(h,"logo-kennekt-2.svg"),alt:"",className:"object-cover"})})}),(0,p.BX)("div",{className:"w-full md:w-[48%] md:pl-12 md:pt-14 md:pr-20 md:pb-14 p-4 flex flex-col md:block justify-between",children:[(0,p.BX)("div",{className:(0,c.Z)("top",{"flex items-center justify-between":d.tq&&x}),children:[(0,p.tZ)("div",{className:"mobile-logo lg:hidden mb-2",children:(0,p.tZ)(i.rU,{to:"/",className:"w-32 h-6 block",children:(0,p.tZ)("img",{src:"".concat(h,"logo-kennekt-2.svg"),alt:"",className:"object-cover"})})}),(0,p.BX)("div",{className:(0,c.Z)("top-nav flex justify-between md:mb-28"),children:[(0,p.BX)("div",{className:(0,c.Z)("flex items-center text-kgrey-welcome group cursor-pointer",!b&&"opacity-0",x&&"hidden",!x&&!d.tq&&"md:flex"),onClick:function(){return v.goBack()},children:[(0,p.tZ)("span",{className:"text-2xl group-hover:text-primary transition",children:(0,p.tZ)(u.YFh,{})}),(0,p.tZ)("span",{className:"font-medium mr-4 md:ml-3 group-hover:text-primary transition text-sm md:text-base",children:"Back"})]}),(0,p.BX)("div",{className:"flex items-center font-light text-sm md:text-lg",children:[(0,p.tZ)("span",{className:"text-kgrey-welcome hidden md:block ",children:w}),(0,p.tZ)(i.rU,{to:g,className:"text-primary transitions hover:text-primary-dark ml-2 whitespace-nowrap ",children:f})]})]})]}),(0,p.BX)("div",{className:"content-wrapper",children:[(0,p.BX)("div",{className:"welcome__header mb-8 md:mb-12",children:[(0,p.tZ)("div",{className:"font-bold text-2xl md:text-3xl mb-1 md:mb-2.5",children:n}),(0,p.tZ)("p",{className:"font-light text-kgrey-welcome md:text-base text-sm",children:(0,p.tZ)(m._S,{text:r})})]}),(0,p.tZ)("div",{className:"welcome__content",children:t})]}),(0,p.tZ)("div",{className:"opacity-0",children:"Footer"})]})]})}}}]);