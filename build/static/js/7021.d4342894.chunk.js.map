{"version":3,"file":"static/js/7021.d4342894.chunk.js","mappings":"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","sources":["pages/AllCases/context/AllCasesContext.tsx","pages/AllCases/AllCasesList.tsx","pages/AllCases/AllCasesFilter.tsx","pages/AllCases/hooks/useAllCaseFilter.ts","pages/AllCases/AllCases.tsx","pages/AllCases/AllCasesMain.tsx","pages/AllCases/index.tsx"],"sourcesContent":["import React, { createContext, useReducer, useContext, useCallback } from 'react';\n\ntype ContextType = {\n\tsearchQuery: string;\n\tsetSearchQuery: (query: string) => void;\n};\n\n// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\nexport const AllCasesContext = createContext<ContextType>(null!);\ntype SetSearchQuery = {\n\ttype: 'SET_SEARCH_QUERY';\n\tpayload: string;\n};\n\ntype StateType = {\n\tsearchQuery: string;\n};\n\ntype Actions = SetSearchQuery;\n\nconst reducer = (state: StateType, action: Actions): StateType => {\n\tswitch (action.type) {\n\t\tcase 'SET_SEARCH_QUERY': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsearchQuery: action.payload\n\t\t\t};\n\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport function AllCasesContextProvider({\n\tchildren\n}: React.PropsWithChildren<Record<string, unknown>>) {\n\tconst [state, dispatch] = useReducer(reducer, {\n\t\tsearchQuery: ''\n\t});\n\n\tconst setSearchQuery = useCallback((query: string) => {\n\t\tdispatch({ type: 'SET_SEARCH_QUERY', payload: query });\n\t}, []);\n\n\t// eslint-disable-next-line react/jsx-no-constructed-context-values\n\tconst contextValues = {\n\t\tsearchQuery: state.searchQuery,\n\t\tsetSearchQuery\n\t} as ContextType;\n\n\treturn <AllCasesContext.Provider value={contextValues}>{children}</AllCasesContext.Provider>;\n}\n\nexport const useAllCasesContext = () => {\n\tconst allCasesContext = useContext(AllCasesContext);\n\n\tif (!allCasesContext)\n\t\tthrow new Error('useBusinessContext must be used within the BusinessContextProvider');\n\treturn allCasesContext;\n};\n","import {\n\tErrorBoundary,\n\tLoader,\n\tStyledTable,\n\tStyledTableCell,\n\tStyledTableHeadCell,\n\tStyledTableRow\n} from '../../shared/components';\nimport React from 'react';\nimport EntityContainer from '../../modules/entity/containers';\nimport { TableBody, TableContainer, TableHead } from '../../shared/components/Elements';\nimport Pagination from '@material-ui/lab/Pagination';\nimport { useAppState } from '../../shared/state';\nimport { usePagination } from '../../shared/hooks';\nimport { useLocation } from 'react-router-dom';\nimport qs from 'query-string';\nimport { useAllCasesContext } from './context/AllCasesContext';\nimport { useDebounce } from 'use-debounce';\nimport dayjs from 'dayjs';\nimport { useTranslation } from 'react-i18next';\n\ntype Props = {\n\ttype: string | string[] | null;\n};\n\nfunction AllCasesListInner({ type }: Props) {\n\tconst { companyId } = useAppState();\n\tconst { page, handlePage } = usePagination();\n\tconst location = useLocation();\n\tconst { searchQuery } = useAllCasesContext();\n\tconst [search] = useDebounce<string>(searchQuery, 500);\n\tconst { t } = useTranslation();\n\n\tconst { department, sub_department, status } = qs.parse(location.search);\n\n\tif (type && [!!department, !!sub_department, !!status].every((field) => !field)) {\n\t\treturn <h2 className=\"dark:text-white\">{t('please_select_from_here')}</h2>;\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{companyId ? (\n\t\t\t\t<EntityContainer.All\n\t\t\t\t\tentity={'AllCases'}\n\t\t\t\t\tname={`AllCasesList`}\n\t\t\t\t\turl={`/${companyId}/cases/as_business/cases_for_admin/`}\n\t\t\t\t\tparams={{\n\t\t\t\t\t\tlimit: 10,\n\t\t\t\t\t\textra: { department, sub_department, status, search },\n\t\t\t\t\t\tpage\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ items, isFetched, meta }) => {\n\t\t\t\t\t\tconst requests = items.map((item: unknown) => item) as any[];\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<TableContainer classes={{ root: 'relative ' }}>\n\t\t\t\t\t\t\t\t\t<StyledTable\n\t\t\t\t\t\t\t\t\t\taria-label=\"simple table\"\n\t\t\t\t\t\t\t\t\t\tclasses={{ root: 'table-fixed dark-mode-styled-table' }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell>{t('case_number')}</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell>{t('case_title')}</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell>{t('created_by')}</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell>{t('department')}</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell>{t('sub_department')}</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell>{t('created_date')}</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell>{t('status')}</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableHeadCell>{t('priority')}</StyledTableHeadCell>\n\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t{requests.map((item: any) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase_number,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcreated_by,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdepartment,\n\t\t\t\t\t\t\t\t\t\t\t\t\tsub_department,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcreated_date,\n\t\t\t\t\t\t\t\t\t\t\t\t\tstatus,\n\t\t\t\t\t\t\t\t\t\t\t\t\tpriority\n\t\t\t\t\t\t\t\t\t\t\t\t} = item;\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableRow key={id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>{case_number}</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"break-all\">{title}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"break-all\">{`${created_by.first_name} ${created_by.last_name}`}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"break-all\">{department?.name}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"break-all\">{sub_department?.name}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{dayjs(created_date).format('MMM DD, YYYY HH:mm')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell className=\"break-all\">{status.title}</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell>{priority}</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</StyledTable>\n\t\t\t\t\t\t\t\t</TableContainer>\n\n\t\t\t\t\t\t\t\t<div className=\"news__pagination my-4 flex items-center justify-between\">\n\t\t\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\t\t\tcount={meta?.last_page}\n\t\t\t\t\t\t\t\t\t\tpage={page ? +page : 1}\n\t\t\t\t\t\t\t\t\t\tdefaultPage={6}\n\t\t\t\t\t\t\t\t\t\tsiblingCount={1}\n\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\t\t\tonChange={handlePage}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t</EntityContainer.All>\n\t\t\t) : (\n\t\t\t\t<div className=\"flex justify-center\">\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport function AllCasesList(props: Props) {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<AllCasesListInner {...props} />\n\t\t</ErrorBoundary>\n\t);\n}\n","import { ErrorBoundary, KntButton } from '../../shared/components';\nimport React from 'react';\nimport { Field } from 'formik';\nimport AsyncSelectJs from '../../shared/components/Fields/AsyncSelectJs';\nimport { caseFilterStyle } from '../../shared/services';\nimport { isMobile } from 'react-device-detect';\nimport { useAppState } from '../../shared/state';\nimport get from 'lodash/get';\nimport { Formik } from 'formik';\nimport { useAllCaseFilter } from './hooks/useAllCaseFilter';\nimport { AsyncSelectSubDep, KntInputField } from '../../shared/components/Fields';\nimport { Department } from '../Cases/cases.types';\nimport { TextField } from '@material-ui/core';\nimport { useAllCasesContext } from './context/AllCasesContext';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport qs from 'query-string';\nimport { useTranslation } from 'react-i18next';\nimport { convertToLocalizationKey } from 'shared/services/utils/convertToLocalizationKey';\n\ntype Props = {\n\ttype: string | string[] | null;\n};\n\nfunction AllCasesFilterInner({ type }: Props) {\n\tconst { makeFlatSubdepartments, setDepartments, initialValues } = useAllCaseFilter({\n\t\tisFromAllCasesPage: true,\n\t\ttype\n\t});\n\tconst { companyId } = useAppState();\n\tconst { setSearchQuery } = useAllCasesContext();\n\tconst location = useLocation();\n\tconst history = useHistory();\n\tconst { t } = useTranslation();\n\n\tconst onSubmit = (values: any, { setSubmitting }: any) => {\n\t\tconst query = qs.parse(location.search);\n\n\t\tconst depSubs: any =\n\t\t\ttype && `department-${type}` in values && values[`department-${type}`]?.length\n\t\t\t\t? makeFlatSubdepartments(values[`sub_department-${type}`], values[`department-${type}`])\n\t\t\t\t: {};\n\n\t\tconst filterQuery = {\n\t\t\tdepartment: depSubs.departments ? depSubs.departments.join(',') : [],\n\t\t\tsub_department: depSubs.sub_departments ? depSubs.sub_departments.join(',') : [],\n\t\t\tsearch: get(values, 'search', ''),\n\t\t\tpage: 1,\n\t\t\tstatus: Array.isArray(get(values, `status-${type}`))\n\t\t\t\t? get(values, `status-${type}`)\n\t\t\t\t\t\t.reduce((acc: any, curr: any) => [...acc, curr.id], [])\n\t\t\t\t\t\t.join(',')\n\t\t\t\t: ''\n\t\t};\n\t\thistory.push({\n\t\t\tsearch: qs.stringify(\n\t\t\t\t{\n\t\t\t\t\t...query,\n\t\t\t\t\t...filterQuery\n\t\t\t\t},\n\t\t\t\t{ encode: false }\n\t\t\t)\n\t\t});\n\n\t\tsetSubmitting(false);\n\t};\n\n\treturn (\n\t\t<Formik onSubmit={onSubmit} initialValues={initialValues} enableReinitialize>\n\t\t\t{({ handleSubmit, values, setFieldValue, isSubmitting }) => {\n\t\t\t\tconst isThereAnySubdepartments =\n\t\t\t\t\t//@ts-ignore\n\t\t\t\t\tArray.isArray(values[`department-${type}`]) &&\n\t\t\t\t\t//@ts-ignore\n\t\t\t\t\tvalues[`department-${type}`].filter((dep: any) => dep.sub_departments_count > 0);\n\n\t\t\t\treturn (\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<div className=\"react-select-dropdown my-4 flex w-full w-full flex-wrap items-center\">\n\t\t\t\t\t\t\t{type ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<div className=\"my-2 mr-3 w-[300px]\">\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('status')}\n\t\t\t\t\t\t\t\t\t\t\tlabelClasses=\"ml-2 text-sm font-light text-kgrey-welcome mb-2 block\"\n\t\t\t\t\t\t\t\t\t\t\tcomponent={AsyncSelectJs}\n\t\t\t\t\t\t\t\t\t\t\tcustomStylesProps={caseFilterStyle}\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Status\"\n\t\t\t\t\t\t\t\t\t\t\toptionLabel=\"title\"\n\t\t\t\t\t\t\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\t\t\t\t\t\t\tloadOptionsUrl={`/${companyId}/my/company/case_statuses/`}\n\t\t\t\t\t\t\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsearch,\n\t\t\t\t\t\t\t\t\t\t\t\t\tis_staff: type === 'staff' ? 'true' : 'false'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\treverse\n\t\t\t\t\t\t\t\t\t\t\tisSearchable={!isMobile}\n\t\t\t\t\t\t\t\t\t\t\tname={`status-${type}`}\n\t\t\t\t\t\t\t\t\t\t\tloadOptionsKey=\"\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('select_status')}\n\t\t\t\t\t\t\t\t\t\t\tmaxMenuHeight={220}\n\t\t\t\t\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"flex flex-wrap items-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-2 mr-3 w-[300px]\">\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={t(convertToLocalizationKey(`${type} departments`))}\n\t\t\t\t\t\t\t\t\t\t\t\tlabelClasses=\"ml-2 text-sm font-light capitalize text-kgrey-welcome mb-2 block\"\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={AsyncSelectJs}\n\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Department\"\n\t\t\t\t\t\t\t\t\t\t\t\toptionLabel=\"name\"\n\t\t\t\t\t\t\t\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\t\t\t\t\t\t\t\tloadOptionsUrl={`/${companyId}/departments/`}\n\t\t\t\t\t\t\t\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsearch,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tis_staff: type === 'staff' ? 'true' : 'false'\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\tisSearchable={!isMobile}\n\t\t\t\t\t\t\t\t\t\t\t\tname={`department-${type}`}\n\t\t\t\t\t\t\t\t\t\t\t\tloadOptionsKey=\"results\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('select_department')}\n\t\t\t\t\t\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\t\t\t\t\t\tcustomStylesProps={caseFilterStyle}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(option: any) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(`sub_department-${type}`, undefined);\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (option) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDepartments(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toption.map((dep: any) => dep.id),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDepartments([], []);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{(isThereAnySubdepartments as any[]).length > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\" my-2 mr-3 w-[300px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'!ml-2 mb-2 block !text-sm font-light capitalize text-kgrey-welcome'\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t(convertToLocalizationKey(`${type} departments`))}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent={AsyncSelectSubDep}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={t('sub_department')}\n\t\t\t\t\t\t\t\t\t\t\t\t\toptionLabel={(option: Department) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`${get(option, 'department.name')} [${get(option, 'name')}]`\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={`sub_department-${type}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\toptionValue=\"id\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcustomStylesProps={caseFilterStyle}\n\t\t\t\t\t\t\t\t\t\t\t\t\tloadOptionsUrl={`/${companyId}/departments/sub_departments/`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tloadOptionsParams={(search: string) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\textra: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsearch,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdepartment_ids: get(values, `department-${type}`)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.reduce((acc: any, curr: any) => [...acc, curr.id], [])\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.join(',')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(option: any) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (option) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmakeFlatSubdepartments(option, values[`department-${type}`]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDepartments(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues[`department-${type}`].map((dep: any) => dep?.id),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tloadOptionsKey=\"results\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('select_sub_department')}\n\t\t\t\t\t\t\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\t\t\t\t\t\t\tisSearchable={!isMobile}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<KntButton\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"mx-2 mb-2 mt-8 dark:text-white dark:hover:bg-primary-300 dark:focus:ring-primary-300\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('apply')}\n\t\t\t\t\t\t\t\t\t</KntButton>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"w-1/4\">\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tlabel={t('search')}\n\t\t\t\t\t\t\t\tlabelClasses=\"ml-2 text-sm font-light text-kgrey-welcome mb-2 block\"\n\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\tcomponent={KntInputField}\n\t\t\t\t\t\t\t\tinputElementClassNames=\"!text-15px font-light text-kdark-424653 dark:text-white\"\n\t\t\t\t\t\t\t\tplaceholder={t('case_title')}\n\t\t\t\t\t\t\t\tonChangeHandler={(e: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\t\t\t\t\t\t\tsetSearchQuery(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t);\n\t\t\t}}\n\t\t</Formik>\n\t);\n}\n\nexport function AllCasesFilter(props: Props) {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<AllCasesFilterInner {...props} />\n\t\t</ErrorBoundary>\n\t);\n}\n","import get from 'lodash/get';\nimport { useEffect, useState } from 'react';\nimport isArray from 'lodash/isArray';\nimport { useAppState } from '../../../shared/state';\n\nexport function useAllCaseFilter({ isFromAllCasesPage = false, type }: any) {\n\tconst { caseType, selectedCaseFilter } = useAppState();\n\n\tconst selectedFilterTemplate = selectedCaseFilter[caseType];\n\n\tconst [state, setState] = useState({\n\t\tflatSubdepartments: {}\n\t});\n\tconst { flatSubdepartments } = state;\n\n\tconst setDepartments = (deps: any, subdeps: any) => {\n\t\tsetState((prev) => ({\n\t\t\t...prev,\n\t\t\tflatSubdepartments: {\n\t\t\t\tdepartments: deps,\n\t\t\t\tsub_departments: [...new Set(subdeps)]\n\t\t\t}\n\t\t}));\n\t};\n\n\tconst makeFlatSubdepartments = (subdepartments: any, departments: any) => {\n\t\t// console.log(\"subdepartments, departments\", { subdepartments, departments });\n\t\t//Make an array of last 2 sub departments\n\t\tconst flatSubdepartments = subdepartments?.length\n\t\t\t? subdepartments.reduce((acc: any, curr: any) => {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...acc,\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\tcurr.hierarchy[curr.hierarchy.length - 2].id,\n\t\t\t\t\t\t\tcurr.hierarchy[curr.hierarchy.length - 1].id\n\t\t\t\t\t\t]\n\t\t\t\t\t];\n\t\t\t  }, [])\n\t\t\t: [];\n\n\t\t// console.log(\"flatSubdepartments\", flatSubdepartments);\n\n\t\t//Divide into separated list\n\t\tconst depSupDeps = flatSubdepartments.reduce(\n\t\t\t(acc: any, [dep, subdep]: any) => {\n\t\t\t\treturn {\n\t\t\t\t\t...acc,\n\t\t\t\t\tdepartments: [...acc.departments, dep],\n\t\t\t\t\tsub_departments: [...acc.sub_departments, subdep]\n\t\t\t\t};\n\t\t\t},\n\t\t\t{ departments: [], sub_departments: [] }\n\t\t);\n\n\t\t// console.log(\"depSupDeps\", depSupDeps);\n\n\t\t//Extract first level parent of subdepartments\n\t\tconst firstLevelDepartmentsOfSubdepartments = subdepartments?.length\n\t\t\t? subdepartments.reduce((acc: any, curr: any) => {\n\t\t\t\t\treturn [...acc, curr.hierarchy[0].id];\n\t\t\t  }, [])\n\t\t\t: [];\n\t\t//Extract ids of departments\n\t\tconst firstLevelDepartmentsFromValues = departments.reduce((acc: any, curr: any) => {\n\t\t\treturn [...acc, curr.id];\n\t\t}, []);\n\n\t\t//Exclude ids from sub_departments which are in departments field.\n\t\tconst filteredSubDeps = depSupDeps.sub_departments.filter(\n\t\t\t(dep: any) => !depSupDeps.departments.includes(dep)\n\t\t);\n\n\t\t/*Leave only those department ids which have no selected sub_departments.\n        Because if there is sub_department we not need to include its department it to the filter request query\n        */\n\t\tconst filteredTopLevelDeps = [...new Set(firstLevelDepartmentsFromValues)].filter(\n\t\t\t(dep) => !firstLevelDepartmentsOfSubdepartments.includes(dep)\n\t\t);\n\n\t\tsetDepartments(filteredTopLevelDeps, filteredSubDeps);\n\n\t\treturn { departments: filteredTopLevelDeps, sub_departments: [...new Set(filteredSubDeps)] };\n\t};\n\t//create department and sub_deparments arrays for query on initial load\n\tuseEffect(() => {\n\t\tif (isFromAllCasesPage) return;\n\t\tconst { sub_department, department }: any = selectedFilterTemplate?.filter_json;\n\t\tif (isArray(department) && department.length > 0) {\n\t\t\tif (selectedFilterTemplate?.filter_json.sub_department) {\n\t\t\t\tmakeFlatSubdepartments(sub_department, department);\n\t\t\t}\n\n\t\t\tif (department && !sub_department) {\n\t\t\t\tsetDepartments(\n\t\t\t\t\tdepartment.map((dep) => dep.id),\n\t\t\t\t\t[]\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}, [selectedFilterTemplate]);\n\n\tconst initialValues = {\n\t\tstatus: get(selectedFilterTemplate, 'filter_json.status', []),\n\t\tclientType: get(selectedFilterTemplate, 'filter_json.clientType', {}),\n\t\tclient_company: get(selectedFilterTemplate, 'filter_json.client_company', {}),\n\t\tclient_user: get(selectedFilterTemplate, 'filter_json.client_user', {}),\n\t\tdepartment: get(selectedFilterTemplate, 'filter_json.department', []),\n\t\tpriority: get(selectedFilterTemplate, 'filter_json.priority', []),\n\t\tsearch: get(selectedFilterTemplate, 'filter_json.search', ''),\n\t\tsub_department: get(selectedFilterTemplate, 'filter_json.sub_department', []),\n\t\tunread: get(selectedFilterTemplate, 'filter_json.unread', ''),\n\t\tunresponded: get(selectedFilterTemplate, 'filter_json.unresponded', ''),\n\t\trating: get(selectedFilterTemplate, 'filter_json.rating', {}),\n\t\tmember: get(selectedFilterTemplate, 'filter_json.member', []),\n\t\tassignees: get(selectedFilterTemplate, 'filter_json.assignees', [])\n\t};\n\n\treturn {\n\t\tflatSubdepartments,\n\t\tinitialValues,\n\t\tmakeFlatSubdepartments,\n\t\tsetDepartments\n\t};\n}\n","import { ErrorBoundary } from '../../shared/components';\nimport React from 'react';\nimport { AllCasesList } from './AllCasesList';\nimport { AllCasesFilter } from './AllCasesFilter';\n\ntype Props = {\n\ttype: string | string[] | null;\n};\n\nfunction AllCasesInner({ type }: Props) {\n\treturn (\n\t\t<div>\n\t\t\t<AllCasesFilter type={type} />\n\t\t\t<AllCasesList type={type} />\n\t\t</div>\n\t);\n}\n\nexport function AllCases(props: Props) {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<AllCasesInner {...props} />\n\t\t</ErrorBoundary>\n\t);\n}\n","import { StandardPageLayout } from 'shared/layouts';\nimport { useUnreadCaseTab } from 'shared/hooks';\nimport { Helmet } from 'react-helmet';\nimport { CustomMuiTabs, ErrorBoundary } from 'shared/components';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport React, { useEffect, useState } from 'react';\nimport qs from 'query-string';\nimport { AllCases } from './AllCases';\nimport { AllCasesContextProvider } from './context/AllCasesContext';\nimport { useTranslation } from 'react-i18next';\n\ntype Props = {\n\tmatch: {\n\t\tparams: {\n\t\t\tclientType: string;\n\t\t};\n\t\turl: string;\n\t\tpath: string;\n\t};\n};\n\nfunction a11yProps(index: number) {\n\treturn {\n\t\tid: `simple-tab-${index}`,\n\t\t'aria-controls': `simple-tabpanel-${index}`\n\t};\n}\n\nfunction AllCasesMainInner({ match }: Props) {\n\tconst { unreadCasesQuantity, isHidden } = useUnreadCaseTab('All Cases');\n\tconst [primeTab, setPrimeTab] = useState(0);\n\tconst { url } = match;\n\tconst history = useHistory();\n\tconst location = useLocation();\n\tconst query = qs.parse(location.search);\n\tconst { t } = useTranslation();\n\n\tuseEffect(() => {\n\t\tswitch (query.type) {\n\t\t\tcase '':\n\t\t\t\tsetPrimeTab(0);\n\t\t\t\tbreak;\n\t\t\tcase 'client':\n\t\t\t\tsetPrimeTab(1);\n\t\t\t\tbreak;\n\t\t\tcase 'staff':\n\t\t\t\tsetPrimeTab(2);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tsetPrimeTab(0);\n\t\t}\n\t}, [query.type]);\n\n\tconst handlePageQuery = (type?: any) => {\n\t\thistory.push({\n\t\t\tsearch: qs.stringify(\n\t\t\t\t{\n\t\t\t\t\t...(type ? { type } : {})\n\t\t\t\t},\n\t\t\t\t{ encode: false }\n\t\t\t)\n\t\t});\n\t};\n\n\tconst handleChange = (event: any, newValue: any) => {\n\t\tswitch (newValue) {\n\t\t\tcase 0: {\n\t\t\t\thandlePageQuery();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 1: {\n\t\t\t\thandlePageQuery('client');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 2: {\n\t\t\t\thandlePageQuery('staff');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t\tsetPrimeTab(newValue);\n\t};\n\n\treturn (\n\t\t<StandardPageLayout>\n\t\t\t<div className=\"profile\">\n\t\t\t\t{(!isHidden || unreadCasesQuantity === 0) && (\n\t\t\t\t\t<Helmet>\n\t\t\t\t\t\t<title>KENNEKT | User profile</title>\n\t\t\t\t\t</Helmet>\n\t\t\t\t)}\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\t<div className=\"prime-tabs prime-tabs_no-bottom-extend\">\n\t\t\t\t\t\t<CustomMuiTabs.Tabs\n\t\t\t\t\t\t\tscrollButtons=\"auto\"\n\t\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\t\tvalue={primeTab}\n\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\taria-label=\"simple tabs example\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CustomMuiTabs.Tab label={t('all')} component={Link} to={url} {...a11yProps(0)} />\n\t\t\t\t\t\t\t<CustomMuiTabs.Tab\n\t\t\t\t\t\t\t\tlabel={t('client_cases')}\n\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\tto={`${url}?type=client`}\n\t\t\t\t\t\t\t\t{...a11yProps(1)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<CustomMuiTabs.Tab\n\t\t\t\t\t\t\t\tlabel={t('staff_cases')}\n\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\tto={`${url}?type=staff`}\n\t\t\t\t\t\t\t\t{...a11yProps(2)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</CustomMuiTabs.Tabs>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"business-profile-tab-content\">\n\t\t\t\t\t\t<AllCases type={query.type || null} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</StandardPageLayout>\n\t);\n}\n\nexport function AllCasesMain(props: Props) {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<AllCasesContextProvider>\n\t\t\t\t<AllCasesMainInner {...props} />\n\t\t\t</AllCasesContextProvider>\n\t\t</ErrorBoundary>\n\t);\n}\n","import { AllCasesMain } from './AllCasesMain';\n\nexport default AllCasesMain;\n"],"names":["AllCasesContext","createContext","reducer","state","action","type","searchQuery","payload","AllCasesContextProvider","children","useReducer","dispatch","setSearchQuery","useCallback","query","contextValues","Provider","value","useAllCasesContext","allCasesContext","useContext","Error","AllCasesListInner","companyId","useAppState","usePagination","page","handlePage","location","useLocation","useDebounce","search","t","useTranslation","qs","department","sub_department","status","every","field","className","entity","name","url","params","limit","extra","items","meta","isFetched","requests","map","item","classes","root","id","case_number","title","created_by","created_date","priority","first_name","last_name","dayjs","format","Pagination","count","last_page","defaultPage","siblingCount","color","onChange","AllCasesList","props","AllCasesFilterInner","isFromAllCasesPage","caseType","selectedFilterTemplate","selectedCaseFilter","useState","flatSubdepartments","setState","setDepartments","deps","subdeps","prev","departments","sub_departments","Set","makeFlatSubdepartments","subdepartments","depSupDeps","length","reduce","acc","curr","hierarchy","dep","subdep","firstLevelDepartmentsOfSubdepartments","firstLevelDepartmentsFromValues","filteredSubDeps","filter","includes","filteredTopLevelDeps","useEffect","filter_json","isArray","initialValues","get","clientType","client_company","client_user","unread","unresponded","rating","member","assignees","useAllCaseFilter","history","useHistory","onSubmit","values","setSubmitting","depSubs","filterQuery","join","Array","push","encode","enableReinitialize","handleSubmit","setFieldValue","isSubmitting","isThereAnySubdepartments","sub_departments_count","label","labelClasses","component","AsyncSelectJs","customStylesProps","caseFilterStyle","optionLabel","optionValue","loadOptionsUrl","loadOptionsParams","is_staff","reverse","isSearchable","isMobile","loadOptionsKey","placeholder","maxMenuHeight","isMulti","convertToLocalizationKey","option","undefined","AsyncSelectSubDep","department_ids","KntInputField","inputElementClassNames","onChangeHandler","e","target","AllCasesFilter","AllCasesInner","AllCases","a11yProps","index","AllCasesMainInner","match","useUnreadCaseTab","unreadCasesQuantity","isHidden","primeTab","setPrimeTab","handlePageQuery","Helmet","scrollButtons","variant","event","newValue","Link","to"],"sourceRoot":""}