!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=(new Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="00f2139e-4cc0-4f3c-9817-7ff3da22d8c4",e._sentryDebugIdIdentifier="sentry-dbid-00f2139e-4cc0-4f3c-9817-7ff3da22d8c4")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"fb1fa34f10cc71f430d2612c84ee00a7489f3038"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[3833],{92651:function(e,a,t){t.d(a,{Z:function(){return ue}});var n=t(4942),s=t(70885),r=t(1413),o=t(42982),i=t(72791),l=t(26513),c=t(89526),d=t(1288),u=t(26864),m=t(92977),p=t(91523),f=t(16293),b=t(26181),h=t.n(b),x=t(70272),v=t(8826),g=t(9895),j=t(37714),_=t(54241),y=t(97892),Z=t.n(y),N=t(75288),w=t(12377),S=t(80184),C=t(83027);Z().extend(C);var k,E=function(e){var a=(0,i.useState)(null),t=(0,s.Z)(a,2),n=t[0],r=t[1],o=(0,i.useState)(0),l=(0,s.Z)(o,2),c=l[0],d=l[1],u=(0,i.useState)(0),m=(0,s.Z)(u,2),p=m[0],b=m[1],h=(0,i.useState)(!1),y=(0,s.Z)(h,2),C=y[0],k=y[1],E=(0,N.fd)().uploadAudioFile,T=(0,w.vd)().audioUploadProgress;return(0,S.jsxs)("div",{className:"recorder-box flex items-center",children:["start"===n&&(0,S.jsx)("div",{className:"recorder-box__counter mr-5",children:(0,S.jsxs)("div",{className:"w-100 mr-4 flex",children:[(0,S.jsx)("div",{className:"knx-recording-pulse"}),(0,S.jsx)(x.Z,{className:"rct-notify mr-2.5 rounded-full !bg-kred-pink",style:{width:"20px",height:"20px"},children:" "}),(0,S.jsx)("div",{className:"knx-recording-text",children:Z()(c).utc().format("HH:mm:ss")})]})}),(0,S.jsxs)("div",{className:"recorder-box__actions",children:["start"===n&&(0,S.jsx)(v.Z,{color:"primary",size:"small",className:"!mr-2",onClick:function(){k(!0),clearInterval(p),r("stop")},children:(0,S.jsx)(_.Z,{})}),"start"===n&&(0,S.jsx)(v.Z,{color:"primary","aria-label":"voice-message",size:"small",onClick:function(){clearInterval(p),k(!1),r("stop")},children:(0,S.jsx)(j.Z,{})}),!n&&(0,S.jsx)("div",{className:"case-chat-btn-wr mic-scroll",children:(0,S.jsx)(v.Z,{color:"primary","aria-label":"voice-message",size:"small",disabled:!!T,onClick:function(){var e=setInterval((function(){d((function(e){return e+1e3}))}),1e3);b(e),r("start"),d(0)},children:(0,S.jsx)(g.Z,{})})})]}),(0,S.jsx)(f.Si,{command:n,onStop:function(e){C||E(e),r(null)}})]})},T=t(74569),M=t.n(T),I=t(52417),O=t(18335),V=t(40084),D=t(9478),z=t(97689),R=M().CancelToken;function q(e){var a=e.uploadMeta,t=e.setUploadMeta,n=e.cancelSending,c=e.setCancelSending,d=e.setFiles,u=(0,V.m)().companyId,m=(0,z.a)().token,p=(0,i.useState)(null),f=(0,s.Z)(p,2),b=f[0],h=f[1];(0,i.useEffect)((function(){t(b)}),[b]),(0,i.useEffect)((function(){if(n){k("Operation canceled by the user.")}}),[n]);var x="".concat(D.Z.API_ROOT,"/").concat(u,"/upload/");return(0,S.jsx)("div",{children:a?(0,S.jsx)(l.Z,{variant:"outlined",className:"pending-upload__btn",color:"default",disabled:!!a,endIcon:(0,S.jsx)(I.Z,{}),children:"Upload"}):(0,S.jsx)(O.Z,{beforeUpload:function(e){var a=e;(new FileReader).readAsDataURL(a),(0,r.Z)((0,r.Z)({},e),{},{uid:e.uid,type:e.type,name:e.name,key:e.key,size:e.size,lastModified:e.lastModified})},customRequest:function(e){var a=e.file,t=e.filename,n=e.headers,s=void 0===n?{Authorization:"Token "+m}:n,r=new FormData;return r.append(t,a),M().post(x,r,{headers:s,onUploadProgress:function(e){var a=e.total,t=e.loaded;!function(e){var a=e.percent;h(Number(a))}({percent:Math.round(t/a*100).toFixed(2)})},cancelToken:new R((function(e){k=e}))}).then((function(e){!function(e,a,t){h(null),d((function(a){return[].concat((0,o.Z)(a),[e])}))}(e.data)})).catch((function(e){c(!1),h(null)})),{abort:function(){console.log("upload progress is aborted.")}}},children:(0,S.jsx)(l.Z,{variant:"outlined",className:"pending-upload__btn",color:"default",disabled:!!a,endIcon:(0,S.jsx)(I.Z,{}),children:"Upload"})})})}function F(e){return(0,S.jsx)(f.SV,{children:(0,S.jsx)(q,(0,r.Z)({},e))})}var U=t(35720),A="".concat(D.Z.PUBLIC_ASSETS,"img/");var L=function(e){var a=e.uploadMeta,t=e.setUploadMeta,n=e.cancelSending,s=e.setCancelSending,r=e.files,o=e.setFiles,i=function(e){var a=r.filter((function(a){return a.id!==e}));o(a)},l=(0,w.vd)(),c=l.audioUploadProgress,d=l.setAudioCancelSending;return(0,S.jsxs)("div",{className:"uploadbox flex items-center",children:[(0,S.jsx)("div",{className:"uploadbox__btn mr-5",children:(0,S.jsx)(F,{uploadMeta:a,setUploadMeta:t,cancelSending:n,setCancelSending:s,files:r,setFiles:o})}),(0,S.jsx)("div",{className:"uploadbox__display",children:(0,S.jsxs)("div",{className:"uploadbox__display-list  flex items-center",children:[r.map((function(e){return e.thumbnail?(0,S.jsxs)("div",{className:"uploadbox__display-item mb-2.5",children:[(0,S.jsx)("img",{src:h()(e,"thumbnail_150"),alt:""}),(0,S.jsx)("div",{className:"uploadbox__display-item-remove",onClick:function(){return i(e.id)}})]},e.name):"wav"===e.name.split(".").pop()?(0,S.jsxs)("div",{className:"uploadbox__display-item uploadbox__display-item_audio mb-2.5",children:[(0,S.jsx)("div",{className:"uploadbox__display-item-remove",onClick:function(){return i(e.id)}}),(0,S.jsxs)("audio",{controls:!0,children:[(0,S.jsx)("source",{src:e&&e.url,type:"audio/wav"}),(0,S.jsx)("source",{src:e&&e.url,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]},e.name):(0,S.jsxs)("div",{className:"uploadbox__display-item mb-2.5",children:[(0,S.jsx)("div",{className:"uploadbox__display-item-remove",onClick:function(){return i(e.id)}}),(0,S.jsx)("span",{className:"inline-block text-xs leading-3",children:e.name})]},e.name)})),(0,S.jsxs)("div",{className:"uploadbox__display-item uploadbox__display-item_placeholder mb-2.5",children:[(0,S.jsx)("img",{src:"".concat(A,"image-placeholder.png"),alt:""}),(null!==a||null!==c)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"upload-media-spinner",children:(0,S.jsx)(U.Z,{variant:"determinate",value:a||c})}),(0,S.jsx)("span",{className:"upload-cancel-icon",onClick:function(){c?d(!0):(s(!0),t(null))}})]})]})]})})]})},P=t(94135),Y=t(89908),H=t(28912),K=t(92475),W=t(42124),B=t(13925),$=t(85247),Q=t(51859),G=t(66828),J=t(38596),X=t(92005),ee=t(57407),ae=t(67025),te=t(93188),ne=t(81201),se=function(e){var a=e.newsType,t=e.handleChange,n=e.values,s=e.companyId,r=e.setFieldValue,o=e.isUpdate,i=void 0===o?null:o;return(0,S.jsxs)(S.Fragment,{children:[!i&&(0,S.jsx)(d.Z,{container:!0,spacing:3,children:(0,S.jsx)(d.Z,{item:!0,xs:12,children:(0,S.jsxs)(K.Z,{"aria-label":"News type",name:"news-type",value:a,onChange:t,className:"news-types flex !flex-row items-center",children:[(0,S.jsx)(P.Z,{value:"staff",control:(0,S.jsx)(H.Z,{color:"primary"}),label:"Staff"}),(0,S.jsx)(P.Z,{value:"client",control:(0,S.jsx)(H.Z,{color:"primary"}),label:"Clients"})]})})}),"staff"===a&&(0,S.jsx)(d.Z,{container:!0,spacing:3,children:(0,S.jsx)(d.Z,{item:!0,xs:12,sm:4,children:(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold",children:"Department"}),(0,S.jsx)(f.qb,{name:"route",customStylesProps:ne.gb,label:"",placeholder:"Select Department Name",optionLabel:"name",optionValue:"id",loadOptionsUrl:"/".concat(s,"/departments/"),loadOptionsParams:function(e){return{extra:{search:e,is_staff:"true"}}},value:h()(n,"staff_departments"),loadOptionsKey:"results",isMulti:!0,isSearchable:!0,isClearable:!0,onChange:function(e){r("staff_departments",e)}})]})})}),"client"===a&&(0,S.jsx)(d.Z,{container:!0,spacing:3,children:(0,S.jsx)(d.Z,{item:!0,xs:12,sm:4,children:(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold",children:"Client groups (Optional)"}),(0,S.jsx)(f.qb,{name:"route",customStylesProps:ne.gb,label:"",placeholder:"Client groups here",optionLabel:"name",optionValue:"id",loadOptionsUrl:"/".concat(s,"/categories/"),loadOptionsParams:function(e){return{extra:{search:e}}},value:h()(n,"categories"),loadOptionsKey:"results",isMulti:!0,isSearchable:!0,isClearable:!0,onChange:function(e){r("categories",e)}})]})})})]})},re=t(32461),oe=t(27945),ie=t(67688),le=t(55636),ce=function(e){var a=e.newsValues,t=e.onSuccess,n=(0,V.m)().companyId,s=(0,le.eC)().showNotification;return console.log("newsValues",a),(0,S.jsx)(oe.Z.Main,{entity:"templates",name:"AllTemplates",url:"/".concat(n,"/notification-templates/"),sendAsFormData:!1,method:"post",fields:[{name:"subject",required:!0,onSubmitKey:""},{name:"title",required:!0,value:a.subject,onSubmitKey:""},{name:"body",required:!0,value:a.body,onSubmitKey:""}],onSuccess:function(){t()},onError:function(e,a){var t,n,r=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Something went wrong";s({message:r,variant:"error"})},children:function(e){var a=e.values,n=e.isSubmitting;return(0,S.jsxs)("div",{className:"case-form",children:[(0,S.jsx)("div",{className:"case-form__content",children:(0,S.jsxs)("div",{className:"case-form__input-row mb-15",children:[(0,S.jsx)("div",{className:"case-form__input-row-label text-base font-bold",children:"Template name"}),(0,S.jsx)(u.gN,{component:ie.Mg,type:"text",placeholder:"Template name here",name:"subject",autoComplete:"off"})]})}),(0,S.jsxs)("div",{className:"case-form__submit-row flex-center-end",children:[(0,S.jsx)(l.Z,{variant:"contained",disabled:n,onClick:function(){t()},children:"Cancel"}),(0,S.jsx)(l.Z,{className:"!ml-5",variant:"contained",color:"primary",disabled:n||!a.subject,type:"submit",children:"Create"})]}),n?(0,S.jsx)(f.aN,{tiled:!0,withOverlay:!0}):null]})}})},de=(0,J.Z)((function(e){return{formControl:{width:"100%"},selectEmpty:{marginTop:e.spacing(2)},pullLeft:{}}})),ue=function(e){var a=e.isSubmitting,t=e.values,b=e.setFieldValue,x=e.keywords,v=e.frequencies,g=e.statuses,j=e.campaignId,_=e.setFieldError,y=e.errors,N=e.isUpdate,C=void 0!==N&&N,k=de(),T=(0,w.vd)(),M=T.audioResponse,I=T.setAudioResponse,O=function(e){switch(e){case"ONE_TIME":case"EVENTS":default:return"DAILY";case"DAILY":case"WEEKLY":case"MONTHLY":case"YEARLY":case"QUARTERLY":return e}},D=function(e){return e.slice(0,-1)},z=(0,X.x0)(),R=(0,i.useState)(""),q=(0,s.Z)(R,2),F=q[0],U=q[1],A=(0,i.useState)(!1),J=(0,s.Z)(A,2),oe=J[0],le=J[1],ue=(0,i.useState)(null),pe=(0,s.Z)(ue,2),fe=pe[0],be=pe[1],he=(0,i.useState)(!1),xe=(0,s.Z)(he,2),ve=xe[0],ge=xe[1],je=(0,i.useState)(t.files),_e=(0,s.Z)(je,2),ye=_e[0],Ze=_e[1],Ne=(0,i.useState)("schedule"),we=(0,s.Z)(Ne,2),Se=we[0],Ce=we[1],ke=(0,i.useState)(O(C?O(C.frequency):"DAILY")),Ee=(0,s.Z)(ke,2),Te=Ee[0],Me=Ee[1],Ie=(0,i.useState)(t.frequency),Oe=(0,s.Z)(Ie,2),Ve=Oe[0],De=Oe[1],ze=(0,i.useState)(C?new Date(D(null===C||void 0===C?void 0:C.start_time)):new Date(t.start_time)),Re=(0,s.Z)(ze,2),qe=Re[0],Fe=Re[1],Ue=(0,i.useState)({start:new Date(C?D(null===C||void 0===C?void 0:C.start_time):t.start_time),end:new Date(C?D(null===C||void 0===C?void 0:C.end_time):t.end_time)}),Ae=(0,s.Z)(Ue,2),Le=Ae[0],Pe=Ae[1],Ye=(0,i.useState)("EVENTS"===C.frequency?C.event_times.reduce((function(e,a){return[].concat((0,o.Z)(e),[(0,r.Z)((0,r.Z)({},a),{},{date:new Date(a.time)})])}),[]):[{id:z,date:new Date}]),He=(0,s.Z)(Ye,2),Ke=He[0],We=He[1],Be=i.useState({startNow:!1,forever:!1,staffOnly:!1,newsType:C?t.type:"staff",isSubmitting:!1,open_for_cases:!!C&&t.open_for_cases}),$e=(0,s.Z)(Be,2),Qe=$e[0],Ge=$e[1],Je=(0,V.m)().companyId,Xe=(0,i.useRef)(!0),ea=Qe.staffOnly,aa=Qe.newsType,ta=function(e){Ge((0,r.Z)((0,r.Z)({},Qe),{},(0,n.Z)({},e.target.name,e.target.checked)))};(0,i.useEffect)((function(){b("open_for_cases",Qe.open_for_cases)}),[Qe.open_for_cases]),(0,i.useEffect)((function(){(function(e){var a=document.createElement("div");return a.innerHTML=e,me(a)})(t.body)&&(_("body","Required"),b("body",""))}),[t.body]),(0,i.useEffect)((function(){M&&Ze((function(e){return[].concat((0,o.Z)(e),[M])}))}),[M]),(0,i.useEffect)((function(){return function(){Ze([]),I(null)}}),[]),(0,i.useEffect)((function(){b("files",ye)}),[ye]),(0,i.useEffect)((function(){"now"===Se?(b("start_time","now"),b("end_time","now"),b("frequency","ONE_TIME")):(b("start_time",qe),b("frequency",Ve))}),[Se]);var na=function(e,a,t){Qe[e]?b(a,"now"):b(a,t)};(0,i.useEffect)((function(){!function(){switch(Ve){case"ONE_TIME":b("frequency","ONE_TIME");break;case"REPEAT":b("frequency",Te),na("startNow","start_time",Le.start),na("forever","end_time",Le.end);break;case"EVENTS":b("frequency","EVENTS");break;default:;}}()}),[Ve,Te]),(0,i.useEffect)((function(){b("start_time",qe),b("end_time",qe)}),[qe]),(0,i.useEffect)((function(){na("startNow","start_time",Le.start),na("forever","end_time",Le.end)}),[Le]),(0,i.useEffect)((function(){na("startNow","start_time",Le.start),na("forever","end_time",Le.end)}),[Qe]),(0,i.useEffect)((function(){var e=Ke.map((function(e){return{time:Z()(e.date).format("YYYY-MM-DDTHH:mm:ss")}}));b("event_times",e)}),[Ke]),(0,i.useEffect)((function(){ea&&b("company_ids",void 0)}),[ea]),(0,i.useEffect)((function(){Xe.current?Xe.current=!1:("subject"in y&&Qe.isSubmitting&&ra("subject"),"body"in y&&!("subject"in y)&&Qe.isSubmitting&&ra("body"))}),[y,Qe.isSubmitting]),(0,i.useEffect)((function(){Qe.isSubmitting&&setTimeout((function(){Ge((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isSubmitting:!1})}))}),100)}),[Qe.isSubmitting]);var sa=function(e){var a=e.target,t=a.value;switch(a.name){case"sendTime":Ce(t);break;case"delivFrequency":De(t);break;case"frequency":Me(t);break;case"news-type":Ge((function(e){return(0,r.Z)((0,r.Z)({},e),{},{newsType:t})})),b("type",t);break;default:return null}};function ra(e){var a=document.querySelector("#subject"),t=document.querySelector("#body");"subject"===e&&(null===a||void 0===a||a.scrollIntoView({block:"start",behavior:"smooth"})),"body"===e&&(null===t||void 0===t||t.scrollIntoView({block:"start",behavior:"smooth"}))}var oa=function(){return le((function(e){return!e}))};return(0,S.jsx)(c.Z,{className:"uni-page__paper",children:(0,S.jsx)(W.M,{utils:B.Z,children:(0,S.jsxs)("div",{className:"form-page react-select-dropdown p-2 sm:p-6",children:[!j&&(0,S.jsx)(se,{newsType:aa,handleChange:sa,values:t,companyId:Je,setFieldValue:b,isUpdate:C}),!C&&(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(d.Z,{container:!0,spacing:3,alignItems:"center",children:[(0,S.jsx)(d.Z,{item:!0,xs:12,sm:8,md:6,lg:4,children:(0,S.jsx)("div",{className:"react-select-dropdown",children:(0,S.jsx)(f.qb,{name:"route",customStylesProps:ne.gb,label:"",placeholder:"Choose Template (Optional)",optionLabel:"subject",optionValue:"id",loadOptionsUrl:"/".concat(Je,"/notification-templates/"),loadOptionsParams:function(e){return{extra:{search:e}}},value:F,loadOptionsKey:"results",isSearchable:!0,isClearable:!0,onChange:function(e){U(e),e?(b("subject",e.title),b("body",e.body)):(b("subject"," "),b("body"," "))}})})}),(0,S.jsx)(d.Z,{item:!0,xs:12,sm:4,md:4,children:(0,S.jsx)(l.Z,{variant:"contained",color:"primary",disabled:a,component:p.rU,className:"!text-white",to:"/".concat(Je,"/app/announcement/templates/add/"),children:"New Template"})})]})}),(0,S.jsx)(d.Z,{container:!0,spacing:3,children:(0,S.jsx)(d.Z,{item:!0,xs:12,sm:8,md:6,lg:4,children:(0,S.jsxs)("div",{className:"form-page__row mb-5",id:"subject",children:[(0,S.jsxs)("div",{className:"form-page__label text-md mb-2.5 font-bold",children:["News title",(0,S.jsx)(f.jH,{className:"text-kred-pink"})]}),(0,S.jsx)(u.gN,{component:ie.Mg,type:"text",placeholder:"News title here",name:"subject",variant:"outlined",size:"small",fullWidth:!0,autoComplete:"off"})]})})}),(0,S.jsxs)("div",{className:"form-page__row mb-5",id:"body",children:[(0,S.jsxs)("div",{className:"form-page__label text-md mb-2.5 font-bold",children:["Description",(0,S.jsx)(f.jH,{className:"text-kred-pink"})]}),(0,S.jsx)(u.gN,{component:m.Z,type:"text",name:"body",bounds:".form-page",keywords:x,option:F}),(0,S.jsx)(u.Bc,{name:"body",children:function(e){return(0,S.jsx)("div",{className:"MuiFormHelperText-root MuiFormHelperText-contained Mui-error MuiFormHelperText-marginDense",children:e})}})]}),(0,S.jsxs)(d.Z,{container:!0,spacing:3,children:[(0,S.jsx)(d.Z,{item:!0,xs:12,sm:9,children:(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold",children:"File Upload"}),(0,S.jsx)(L,{uploadMeta:fe,setUploadMeta:be,cancelSending:ve,setCancelSending:ge,files:ye,setFiles:Ze})]})}),(0,S.jsxs)(d.Z,{item:!0,xs:12,sm:8,md:6,lg:4,children:[(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold",children:"Record Audio"}),(0,S.jsx)(E,{})]}),(0,S.jsxs)("div",{className:"form-page__row custom-date-picker mb-5",children:[(0,S.jsx)("div",{className:"form-page__label mb-2 font-bold",children:"Sending status"}),(0,S.jsx)(u.gN,{component:ie.mg,className:"basic-single",classNamePrefix:"select",isClearable:!0,isSearchable:!0,name:"status",options:g,placeholder:"Select sending status",styles:ne.C2})]}),(0,S.jsx)("div",{className:"form-page__row mb-5",children:(0,S.jsx)(P.Z,{control:(0,S.jsx)($.Z,{checked:Qe.open_for_cases,onChange:ta,name:"open_for_cases",color:"primary"}),label:"Allow Case Creation",classes:{label:"whitespace-nowrap"}})}),t.open_for_cases&&(0,S.jsxs)("div",{className:"form-page__row react-select-dropdown mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold ",children:"Department"}),(0,S.jsx)("div",{className:"react-select-dropdown",children:(0,S.jsx)(f.qb,{name:"route",label:"",customStylesProps:ne.gb,placeholder:"Select Department Name",optionLabel:"name",optionValue:"id",loadOptionsUrl:"/".concat(Je,"/departments/"),loadOptionsParams:function(e){return{extra:{search:e,is_staff:"staff"===aa?"true":"false"}}},value:h()(t,"department"),loadOptionsKey:"results",isSearchable:!0,isClearable:!0,customStyles:"KntTwilioStyle",onChange:function(e){b("department",e)}})})]}),t.department&&(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold ",children:"Sub department"}),(0,S.jsx)("div",{className:"react-select-dropdown",children:(0,S.jsx)(f.qb,{name:"route",customStylesProps:ne.gb,label:"",placeholder:"Select Sub Department Name",optionLabel:"name",optionValue:"id",loadOptionsUrl:"/".concat(Je,"/departments/").concat(h()(t,"department.id"),"/sub_departments/"),loadOptionsParams:function(e){return{extra:{search:e}}},value:h()(t,"sub_department"),loadOptionsKey:"results",isSearchable:!0,isClearable:!0,onChange:function(e){b("sub_department",e)}})})]}),function(){for(;h()(t,"sub_department.sub_departments_count")>0;)return(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold ",children:"Select sub department of sub deparment"}),(0,S.jsx)("div",{className:"react-select-dropdown",children:(0,S.jsx)(f.qb,{name:"route",customStyles:"KntTwilioStyle",label:"",placeholder:"Select Sub Department Name",optionLabel:"name",optionValue:"id",loadOptionsUrl:"/".concat(Je,"/departments/").concat(h()(t,"sub_department.id"),"/sub_departments/"),loadOptionsParams:function(e){return{extra:{search:e}}},value:h()(t,"sub_department"),loadOptionsKey:"results",isSearchable:!0,isClearable:!0,onChange:function(e){b("sub_department",e)}})})]})}(),(0,S.jsx)("div",{className:"form-page__row mb-5",children:(0,S.jsx)(K.Z,{"aria-label":"time",name:"sendTime",value:Se,onChange:sa,children:(0,S.jsxs)("div",{className:"flex",children:[(0,S.jsx)(P.Z,{value:"now",control:(0,S.jsx)(H.Z,{color:"primary"}),label:"Send now"}),(0,S.jsx)(P.Z,{value:"schedule",control:(0,S.jsx)(H.Z,{color:"primary"}),label:"Schedule"})]})})}),"schedule"===Se&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold",children:"Delivery Frequency"}),(0,S.jsx)(K.Z,{"aria-label":"frequency",name:"delivFrequency",value:Ve,onChange:sa,children:(0,S.jsxs)("div",{className:"flex",children:[(0,S.jsx)(P.Z,{value:"ONE_TIME",control:(0,S.jsx)(H.Z,{color:"primary"}),label:"One time"}),(0,S.jsx)(P.Z,{value:"REPEAT",control:(0,S.jsx)(H.Z,{color:"primary"}),label:"Repeat"}),(0,S.jsx)(P.Z,{value:"EVENTS",control:(0,S.jsx)(H.Z,{color:"primary"}),label:"Multiple Events"})]})})]}),"ONE_TIME"===Ve&&(0,S.jsx)("div",{className:"form-page__row custom-date-picker mb-5",children:(0,S.jsx)(Y.x,{label:"Send time",size:"small",fullWidth:!0,inputVariant:"outlined",value:qe,onChange:Fe})}),"REPEAT"===Ve&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"form-page__row custom-date-picker mb-5",children:(0,S.jsx)(G.Z,{variant:"outlined",className:k.formControl,children:(0,S.jsx)(te.Z,{id:"standard-select-currency",select:!0,name:"frequency",value:Te,label:"Select Frequency",variant:"outlined",size:"small",onChange:sa,children:v.map((function(e){return(0,S.jsx)(Q.Z,{value:e.code,children:e.name},e.code)}))})})}),(0,S.jsx)("div",{className:"form-page__row custom-date-picker mb-5",children:(0,S.jsxs)(d.Z,{container:!0,item:!0,xs:12,spacing:3,alignItems:"center",children:[!Qe.startNow&&(0,S.jsx)(d.Z,{item:!0,xs:12,sm:8,children:(0,S.jsx)(Y.x,{label:"Start time",inputVariant:"outlined",value:Le.start,size:"small",fullWidth:!0,onChange:function(e){return Pe((function(a){return(0,r.Z)((0,r.Z)({},a),{},{start:e})}))}})}),(0,S.jsx)(d.Z,{item:!0,xs:12,sm:4,children:(0,S.jsx)(P.Z,{control:(0,S.jsx)($.Z,{checked:Qe.startNow,onChange:ta,name:"startNow",color:"primary"}),label:"Start now",classes:{label:"whitespace-nowrap"}})})]})}),(0,S.jsx)("div",{className:"form-page__row custom-date-picker mb-5",children:(0,S.jsxs)(d.Z,{container:!0,item:!0,xs:12,spacing:3,alignItems:"center",children:[!Qe.forever&&(0,S.jsx)(d.Z,{item:!0,xs:12,sm:8,children:(0,S.jsx)(Y.x,{label:"End time",inputVariant:"outlined",size:"small",fullWidth:!0,value:Le.end,onChange:function(e){return Pe((function(a){return(0,r.Z)((0,r.Z)({},a),{},{end:e})}))}})}),(0,S.jsx)(d.Z,{item:!0,xs:12,sm:4,children:(0,S.jsx)(P.Z,{control:(0,S.jsx)($.Z,{checked:Qe.forever,onChange:ta,name:"forever",color:"primary"}),label:"Forever"})})]})})]}),"EVENTS"===Ve&&(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"mb-5",children:Ke.map((function(e){return(0,S.jsx)("div",{className:"form-page__row custom-date-picker mb-5",children:(0,S.jsxs)(d.Z,{container:!0,item:!0,xs:12,spacing:1,alignItems:"center",children:[(0,S.jsx)(d.Z,{item:!0,xs:10,sm:8,children:(0,S.jsx)(Y.x,{label:"Start time",inputVariant:"outlined",size:"small",fullWidth:!0,value:e.date,onChange:function(a){!function(e,a){var t=Ke.find((function(e){return e.id===a})),n=Ke.filter((function(e){return e.id!==a}));t.date=e;var s=[].concat((0,o.Z)(n),[t]);We(s)}(a,e.id)}})}),(0,S.jsx)(d.Z,{item:!0,xs:2,sm:4,children:(0,S.jsx)(ae.Z,{"aria-label":"delete",className:k.pullLeft,onClick:function(){return function(e){var a=Ke.filter((function(a){return a.id!==e}));We(a)}(e.id)},children:(0,S.jsx)(ee.Z,{})})})]})},e.id)}))}),(0,S.jsx)(l.Z,{variant:"outlined",color:"primary",onClick:function(){We((function(e){return[].concat((0,o.Z)(e),[{id:z,date:new Date}])}))},children:"Add one more"})]}),(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)("div",{className:"form-page__label text-md mb-2.5 font-bold",children:"Timezone"}),(0,S.jsx)("div",{className:"react-select-dropdown",children:(0,S.jsx)(f.qb,{name:"route",customStylesProps:ne.gb,label:"",placeholder:"Choose Timezones here",optionLabel:"title",optionValue:"id",loadOptionsUrl:"/timezones/",loadOptionsParams:function(e){return{extra:{search:e}}},value:h()(t,"timezone"),loadOptionsKey:"results",isSearchable:!0,isClearable:!0,customStyles:"KntTwilioStyle",onChange:function(e){b("timezone",e)}})})]})]})]})]}),(0,S.jsxs)("div",{className:"form-page__row mb-5",children:[(0,S.jsx)(l.Z,{variant:"contained",disabled:a,component:p.rU,className:"!mr-5",to:j?"/news/campaigns/view/".concat(j):"/news/news-list",children:"Cancel"}),(0,S.jsx)(l.Z,{className:"ml-20",variant:"contained",color:"primary",disabled:a,type:"submit",onClick:function(){setTimeout((function(){ra("subject")}),0),Ge((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isSubmitting:!0})}))},children:"".concat(C?"Update":"Create")}),a?(0,S.jsx)(f.aN,{tiled:!0,withOverlay:!0}):null,!F&&t.subject&&t.body&&!C&&(0,S.jsx)(l.Z,{className:"!ml-5",variant:"contained",color:"primary",disabled:a,onClick:oa,children:"Save as template"})]}),(0,S.jsx)(re.C,{handleModalOpen:oa,open:!!oe,children:(0,S.jsx)(ce,{newsValues:t,onSuccess:oa})})]})})})};function me(e){for(var a=0;a<e.childNodes.length;a++){var t=e.childNodes[a];if(t instanceof Text)return!1;if(!1===me(t))return!1}return!0}},44453:function(e,a,t){t.d(a,{L:function(){return r}});var n=t(97892),s=t.n(n);function r(e){return"now"===e?s()(new Date).format("YYYY-MM-DDTHH:mm:ss"):s()(new Date(e)).format("YYYY-MM-DDTHH:mm:ss")}},2451:function(e,a,t){t.d(a,{Z:function(){return b}});var n=t(87462),s=t(42982),r=t(45987),o=t(72791),i=(t(57441),t(28182)),l=t(38317),c=t(38302),d=t(13108),u=(0,t(94327).Z)(o.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),m=t(95051);var p=(0,l.Z)((function(e){return{root:{display:"flex",marginLeft:e.spacing(.5),marginRight:e.spacing(.5),backgroundColor:e.palette.grey[100],color:e.palette.grey[700],borderRadius:2,cursor:"pointer","&:hover, &:focus":{backgroundColor:e.palette.grey[200]},"&:active":{boxShadow:e.shadows[0],backgroundColor:(0,d._4)(e.palette.grey[200],.12)}},icon:{width:24,height:16}}}),{name:"PrivateBreadcrumbCollapsed"})((function(e){var a=e.classes,t=(0,r.Z)(e,["classes"]);return o.createElement(m.Z,(0,n.Z)({component:"li",className:a.root,focusRipple:!0},t),o.createElement(u,{className:a.icon}))}));var f=o.forwardRef((function(e,a){var t=e.children,l=e.classes,d=e.className,u=e.component,m=void 0===u?"nav":u,f=e.expandText,b=void 0===f?"Show path":f,h=e.itemsAfterCollapse,x=void 0===h?1:h,v=e.itemsBeforeCollapse,g=void 0===v?1:v,j=e.maxItems,_=void 0===j?8:j,y=e.separator,Z=void 0===y?"/":y,N=(0,r.Z)(e,["children","classes","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"]),w=o.useState(!1),S=w[0],C=w[1],k=o.Children.toArray(t).filter((function(e){return o.isValidElement(e)})).map((function(e,a){return o.createElement("li",{className:l.li,key:"child-".concat(a)},e)}));return o.createElement(c.Z,(0,n.Z)({ref:a,component:m,color:"textSecondary",className:(0,i.Z)(l.root,d)},N),o.createElement("ol",{className:l.ol},function(e,a,t){return e.reduce((function(n,s,r){return r<e.length-1?n=n.concat(s,o.createElement("li",{"aria-hidden":!0,key:"separator-".concat(r),className:a},t)):n.push(s),n}),[])}(S||_&&k.length<=_?k:function(e){return g+x>=e.length?e:[].concat((0,s.Z)(e.slice(0,g)),[o.createElement(p,{"aria-label":b,key:"ellipsis",onClick:function(e){C(!0);var a=e.currentTarget.parentNode.querySelector("a[href],button,[tabindex]");a&&a.focus()}})],(0,s.Z)(e.slice(e.length-x,e.length)))}(k),l.separator,Z)))})),b=(0,l.Z)({root:{},ol:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"},li:{},separator:{display:"flex",userSelect:"none",marginLeft:8,marginRight:8}},{name:"MuiBreadcrumbs"})(f)},8826:function(e,a,t){var n=t(45987),s=t(87462),r=t(72791),o=t(28182),i=t(38317),l=t(95051),c=t(91122),d=r.forwardRef((function(e,a){var t=e.children,i=e.classes,d=e.className,u=e.color,m=void 0===u?"default":u,p=e.component,f=void 0===p?"button":p,b=e.disabled,h=void 0!==b&&b,x=e.disableFocusRipple,v=void 0!==x&&x,g=e.focusVisibleClassName,j=e.size,_=void 0===j?"large":j,y=e.variant,Z=void 0===y?"round":y,N=(0,n.Z)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return r.createElement(l.Z,(0,s.Z)({className:(0,o.Z)(i.root,d,"round"!==Z&&i.extended,"large"!==_&&i["size".concat((0,c.Z)(_))],h&&i.disabled,{primary:i.primary,secondary:i.secondary,inherit:i.colorInherit}[m]),component:f,disabled:h,focusRipple:!v,focusVisibleClassName:(0,o.Z)(i.focusVisible,g),ref:a},N),r.createElement("span",{className:i.label},t))}));a.Z=(0,i.Z)((function(e){return{root:(0,s.Z)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(d)},54241:function(e,a,t){var n=t(64836),s=t(75263);a.Z=void 0;var r=s(t(72791)),o=(0,n(t(44894)).default)(r.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");a.Z=o},57407:function(e,a,t){var n=t(64836),s=t(75263);a.Z=void 0;var r=s(t(72791)),o=(0,n(t(44894)).default)(r.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");a.Z=o},9895:function(e,a,t){var n=t(64836),s=t(75263);a.Z=void 0;var r=s(t(72791)),o=(0,n(t(44894)).default)(r.createElement("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.91-3c-.49 0-.9.36-.98.85C16.52 14.2 14.47 16 12 16s-4.52-1.8-4.93-4.15c-.08-.49-.49-.85-.98-.85-.61 0-1.09.54-1 1.14.49 3 2.89 5.35 5.91 5.78V20c0 .55.45 1 1 1s1-.45 1-1v-2.08c3.02-.43 5.42-2.78 5.91-5.78.1-.6-.39-1.14-1-1.14z"}),"MicRounded");a.Z=o},37714:function(e,a,t){var n=t(64836),s=t(75263);a.Z=void 0;var r=s(t(72791)),o=(0,n(t(44894)).default)(r.createElement("path",{d:"M6 6h12v12H6z"}),"Stop");a.Z=o}}]);
//# sourceMappingURL=3833.c10573b5.chunk.js.map