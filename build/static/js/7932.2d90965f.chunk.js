"use strict";(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[7932],{7932:function(e,l,t){t.r(l),t.d(l,{default:function(){return j}});var n=t(70885),a=(t(47313),t(95762)),s=t(26926),r=t(41559),i=t(77344),o=t(90214),c=t(94024),d=t(37986),m=t(17439),u=t(28303),h=t(57730),p=t(57009),x=t(84365),v=t(17480),y=t(94715),f=t(46417);function g(e){var l=e.csvEmployee,t=e.onSuccess,n=(0,i.m)().companyId,a=(0,o.tv)().params,s=parseInt(null===a||void 0===a?void 0:a.csvId),c=(0,o.eC)().showNotification;return(0,f.jsx)("div",{children:(0,f.jsx)(x.Z.Main,{entity:"csvEmployees",name:"csvEmployees",url:"/".concat(n,"/my/company/imports/").concat(s,"/data/").concat(null===l||void 0===l?void 0:l.id,"/"),method:"patch",primaryKey:"id",sendAsFormData:!1,normalizeData:function(e){return e},updateData:!0,fields:[{name:"first_name",required:!0,value:(null===l||void 0===l?void 0:l.first_name)||"",onSubmitKey:""},{name:"last_name",required:!0,value:(null===l||void 0===l?void 0:l.last_name)||"",onSubmitKey:""},{name:"phone",required:!0,value:(null===l||void 0===l?void 0:l.phone)||"",onSubmitKey:""},{name:"email",required:!0,value:(null===l||void 0===l?void 0:l.email)||"",onSubmitKey:""},{name:"role",required:!0,value:(null===l||void 0===l?void 0:l.role)||"",onSubmitKey:""}],onSuccess:function(e,l){c({message:"Successfully Edited!"}),t(),l()},onError:function(e,l){var t,n,a=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Something went wrong";c({message:a,variant:"error"})},children:function(e){e.values;var l=e.isSubmitting;return(0,f.jsxs)(f.Fragment,{children:[l&&(0,f.jsx)(r.aN,{tiled:!0,withOverlay:!0}),(0,f.jsx)("h2",{className:"font-bold mb-4 text-lg",children:"Edit Employee"}),(0,f.jsx)(y.gN,{label:"First Name",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"first_name",component:v.Mg,placeholder:"Type your first name",required:!0}),(0,f.jsx)(y.gN,{label:"Last Name",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"last_name",component:v.Mg,placeholder:"Type your last name",required:!0}),(0,f.jsx)(y.gN,{label:"Email",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"email",component:v.Mg,placeholder:"Type your email",required:!0}),(0,f.jsx)(y.gN,{label:"Phone",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"phone",component:v.Mg,placeholder:"Type your phone",required:!0}),(0,f.jsx)(y.gN,{label:"Role",labelClasses:"ml-6 text-xs font-light text-kgrey-welcome mb-2 block",name:"role",component:v.Mg,placeholder:"Type your role",required:!0}),(0,f.jsxs)("div",{className:"flex-center-end",children:[(0,f.jsx)(r.zx,{type:"button",onClickHandler:t,children:"Cancel"}),(0,f.jsx)(r.zx,{variant:"contained",className:"ml-4 hover:!text-primary",type:"submit",disabled:l,children:"Update"})]})]})}})})}var j=function(){var e=(0,i.m)().companyId,l=(0,o.h0)(),t=l.page,x=l.handlePage,v=(0,m.$)().searchQuery,y=(0,o.tv)().params,j=parseInt(null===y||void 0===y?void 0:y.csvId),b=(0,d.tL)(),k=b.deleteLoading,N=b.handleClientDelete,E=b.showDeleteVisible,w=b.closeDeletePopup,C=b.deleteVisible,_=b.editVisible,S=b.showEditVisible,Z=b.closeEditPopup,q=(0,c.Z)(v,500),A=(0,n.Z)(q,1)[0];return(0,f.jsx)("div",{children:(0,f.jsx)(a.Z.One,{id:j,relations:"",entity:"csv-list",name:"Csv",url:"/".concat(e,"/my/company/imports/").concat(j,"/"),params:{},children:function(l){var n=l.item,i=l.isFetched;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"news-breadcrumb mb-5",children:i?(0,f.jsxs)(h.Z,{"aria-label":"breadcrumb",children:[(0,f.jsx)(u.rU,{to:"/csv",children:(0,f.jsx)("span",{className:"hover:text-kgrey",children:"All CSV files"})}),(0,f.jsx)(p.Z,{color:"textPrimary",children:n.file_name})]}):(0,f.jsx)("div",{className:"w-[200px]",children:(0,f.jsx)(s.Od,{})})}),e?(0,f.jsx)(a.Z.All,{entity:"csvEmployees",name:"AllCsvEmployees",url:"/".concat(e,"/my/company/imports/").concat(j,"/data/"),params:{limit:10,extra:{search:A},page:t},children:function(e){var l=e.items,n=e.isFetched,a=e.meta,i=l;return(0,f.jsxs)("div",{children:[(0,f.jsxs)(s.xJ,{classes:{root:"relative "},children:[(0,f.jsxs)(r.k6,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,f.jsx)(s.ss,{children:(0,f.jsxs)(r.AF,{children:[(0,f.jsx)(r.EU,{style:{width:"16%"},children:"Full Name"}),(0,f.jsx)(r.EU,{style:{width:"20%"},children:"Email"}),(0,f.jsx)(r.EU,{style:{width:"10%"},children:"Phone"}),(0,f.jsx)(r.EU,{style:{width:"7%"},children:"Position"}),(0,f.jsx)(r.EU,{style:{width:"7%"},children:"Status"}),(0,f.jsx)(r.EU,{style:{width:"10%"},children:"Company Name"}),(0,f.jsx)(r.EU,{style:{width:"15%"},children:"Description"}),(0,f.jsx)(r.EU,{style:{width:"15%"},children:"Actions"})]})}),(0,f.jsx)(s.RM,{children:i.map((function(e){var l=e.id,t=e.company_name,n=e.description,a=e.email,s=e.first_name,i=e.last_name,o=e.phone,c=e.role,d=e.status,m="".concat(s," ").concat(i);return(0,f.jsxs)(r.AF,{children:[(0,f.jsx)(r.Yk,{children:(0,f.jsx)("div",{title:m,children:m})}),(0,f.jsx)(r.Yk,{className:"truncate",title:a,children:a}),(0,f.jsx)(r.Yk,{children:(0,f.jsx)("div",{className:" truncate",title:o,children:o})}),(0,f.jsx)(r.Yk,{children:(0,f.jsx)("div",{className:" truncate",title:c,children:c})}),(0,f.jsx)(r.Yk,{children:(0,f.jsx)("div",{className:" truncate",title:null!==d&&void 0!==d?d:"",children:d})}),(0,f.jsx)(r.Yk,{children:(0,f.jsx)("div",{className:" truncate",title:t,children:t})}),(0,f.jsx)(r.Yk,{children:(0,f.jsx)("div",{className:" truncate",title:null!==n&&void 0!==n?n:"",children:n})}),(0,f.jsx)(r.Yk,{children:(0,f.jsxs)("div",{className:"flex items-center justify-end ",children:[(0,f.jsx)(r.cP.DeleteButton,{clickHandler:function(){return E(e)}}),(0,f.jsx)(r.cP.EditButton,{clickHandler:function(){return S(e)}})]})})]},l)}))})]}),!n&&(0,f.jsx)(r.aN,{tiled:!0,withOverlay:!0})]}),(0,f.jsx)(r.sm,{featureHandler:function(){return N(C)},isOpen:Boolean(C),toggleHandler:w,title:"Are you sure delete ".concat(null===C||void 0===C?void 0:C.first_name," ").concat(null===C||void 0===C?void 0:C.last_name,"?"),hasLoader:!0,isLoading:k}),(0,f.jsx)(s.Cx,{handleModalOpen:Z,open:Boolean(_),children:(0,f.jsx)(g,{csvEmployee:_,onSuccess:Z})}),(0,f.jsx)("div",{className:"news__pagination my-4",children:l.length?(0,f.jsx)(s.tl,{count:null===a||void 0===a?void 0:a.last_page,page:t?+t:1,defaultPage:6,siblingCount:1,color:"primary",onChange:x}):null})]})}}):(0,f.jsx)("div",{className:"flex justify-center",children:(0,f.jsx)(r.aN,{})})]})}})})}},57730:function(e,l,t){t.d(l,{Z:function(){return x}});var n=t(87462),a=t(42982),s=t(45987),r=t(47313),i=(t(96214),t(83061)),o=t(80454),c=t(57009),d=t(13644),m=(0,t(14214).Z)(r.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),u=t(22327);var h=(0,o.Z)((function(e){return{root:{display:"flex",marginLeft:e.spacing(.5),marginRight:e.spacing(.5),backgroundColor:e.palette.grey[100],color:e.palette.grey[700],borderRadius:2,cursor:"pointer","&:hover, &:focus":{backgroundColor:e.palette.grey[200]},"&:active":{boxShadow:e.shadows[0],backgroundColor:(0,d._4)(e.palette.grey[200],.12)}},icon:{width:24,height:16}}}),{name:"PrivateBreadcrumbCollapsed"})((function(e){var l=e.classes,t=(0,s.Z)(e,["classes"]);return r.createElement(u.Z,(0,n.Z)({component:"li",className:l.root,focusRipple:!0},t),r.createElement(m,{className:l.icon}))}));var p=r.forwardRef((function(e,l){var t=e.children,o=e.classes,d=e.className,m=e.component,u=void 0===m?"nav":m,p=e.expandText,x=void 0===p?"Show path":p,v=e.itemsAfterCollapse,y=void 0===v?1:v,f=e.itemsBeforeCollapse,g=void 0===f?1:f,j=e.maxItems,b=void 0===j?8:j,k=e.separator,N=void 0===k?"/":k,E=(0,s.Z)(e,["children","classes","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"]),w=r.useState(!1),C=w[0],_=w[1],S=r.Children.toArray(t).filter((function(e){return r.isValidElement(e)})).map((function(e,l){return r.createElement("li",{className:o.li,key:"child-".concat(l)},e)}));return r.createElement(c.Z,(0,n.Z)({ref:l,component:u,color:"textSecondary",className:(0,i.Z)(o.root,d)},E),r.createElement("ol",{className:o.ol},function(e,l,t){return e.reduce((function(n,a,s){return s<e.length-1?n=n.concat(a,r.createElement("li",{"aria-hidden":!0,key:"separator-".concat(s),className:l},t)):n.push(a),n}),[])}(C||b&&S.length<=b?S:function(e){return g+y>=e.length?e:[].concat((0,a.Z)(e.slice(0,g)),[r.createElement(h,{"aria-label":x,key:"ellipsis",onClick:function(e){_(!0);var l=e.currentTarget.parentNode.querySelector("a[href],button,[tabindex]");l&&l.focus()}})],(0,a.Z)(e.slice(e.length-y,e.length)))}(S),o.separator,N)))})),x=(0,o.Z)({root:{},ol:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"},li:{},separator:{display:"flex",userSelect:"none",marginLeft:8,marginRight:8}},{name:"MuiBreadcrumbs"})(p)}}]);