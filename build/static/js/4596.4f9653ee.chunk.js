!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="25c94e58-4801-495b-8195-76c1ef163f75",e._sentryDebugIdIdentifier="sentry-dbid-25c94e58-4801-495b-8195-76c1ef163f75")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"a086bfaddc61e7dbbcac0a9c42145052439dbbf3"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[4596],{94596:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var a=t(15861),s=t(70885),c=t(64687),i=t.n(c),r=t(72791),o=t(31102),u=t(40084),d=t(79271),f=t(92017),l=t(80184);var y=function(){var e=(0,r.useState)("Checking data. Please, wait a while..."),n=(0,s.Z)(e,2),t=n[0],c=n[1],y=(0,r.useRef)(!1),p=(0,o.Kx)().query,b=(0,u.m)(),h=b.companyId,v=b.setCaseType,g=(0,f.y)().handleChangeCompany,_=(0,d.k6)(),m="case"===(null===p||void 0===p?void 0:p.entity_type);(0,r.useEffect)((function(){if(!y.current){p.entity_type,p.status,p.entity_id;var e=p.business_company,n=p.caseType;if(v(n),h!==Number(e))return c("Switching business... Please, wait a while..."),I({url:"/user/companies/",notificationFromCompany:e,params:{limit:100}}),void(y.current=!0);w()}}),[h]);var w=(0,o.bK)({url:"/".concat(null===p||void 0===p?void 0:p.business_company,"/").concat(m?"cases/as_business":"ims/groups","/").concat(null===p||void 0===p?void 0:p.entity_id,"/"),cb:{success:function(e){if(e){var n=e.id,t=e.status,a=e.last_read_message;!function(e){var n=e.entityId,t=e.lastReadMessageId,a=e.statusId,s="",c="",i=t?"&hasUnreadMessage=true&lastReadMessage=".concat(t,"&unread=").concat(t):"";"case"===(null===p||void 0===p?void 0:p.entity_type)?(c="/case-messages/",s="?case=".concat(n,"&status=").concat(a).concat(i)):(c="/group-chat/",s="?chat=".concat(n).concat(i)),_.push({pathname:c,search:s})}({entityId:n,statusId:null===t||void 0===t?void 0:t.id,lastReadMessageId:a})}},error:function(e){console.error(e,"PreloaderPage > fetchSingleChatEntity")}}}).fetchData,k=(0,o.bK)({url:"",dynamicUrl:!0,cb:{success:function(){var e=(0,a.Z)(i().mark((function e(n,t){var a,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.results,s=t[0].notificationFromCompany,c=a.find((function(e){return e.company.id===Number(s)})),e.next=5,g(c);case 5:w();case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),error:function(e,n){}}}),I=k.fetchData;return(0,l.jsx)("div",{className:"h-full w-full p-8 dark:text-white",children:t})}}}]);
//# sourceMappingURL=4596.4f9653ee.chunk.js.map