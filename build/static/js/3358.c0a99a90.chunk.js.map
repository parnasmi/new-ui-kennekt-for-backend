{"version":3,"file":"static/js/3358.c0a99a90.chunk.js","mappings":"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","sources":["pages/StaffManagement/components/staffDetails/StaffDetails.tsx","pages/StaffManagement/hooks/useStaff.ts","pages/StaffManagement/components/staffDetails/index.tsx"],"sourcesContent":["import React, { lazy, Suspense, useState } from 'react';\nimport { /*CustomMuiTabs,*/ ErrorBoundary, Loader } from 'shared/components';\nimport { Helmet } from 'react-helmet';\nimport { WhiteModal } from '../../../../shared/components/Elements';\nimport { Route, Switch } from 'react-router-dom';\nimport { StandardPageLayout } from '../../../../shared/layouts';\nimport { useStaff } from '../../hooks/useStaff';\nimport EditStaffForm from '../EditStaffForm';\nimport { useStaffManagementList } from '../../hooks/useStaffManagement';\nimport { useAppState } from '../../../../shared/state';\nimport { useAuth } from '../../../../modules/auth/hooks/useAuth';\n\nconst StaffDetailsCases = lazy(() => import('./components/StaffDetailsCases'));\nconst StaffDetailsGeneral = lazy(() => import('./components/StaffDetailsGeneral'));\n\n// function a11yProps(index: number) {\n// \treturn {\n// \t\tid: `simple-tabpanel-${index}`,\n// \t\t'aria-controls': `simple-tab-${index}`\n// \t};\n// }\n\nfunction StaffDetailsInner() {\n\tconst { isAdmin } = useAppState();\n\tconst { pageName, path, unreadCasesQuantity, isHidden /*, handleChangePrime,primeTab,url */ } =\n\t\tuseStaff();\n\tconst { editVisible, closeEditPopup, showEditVisible } = useStaffManagementList();\n\tconst [modalItem, setModalItem] = useState<any>(null);\n\tconst { company, userData } = useAuth();\n\n\tconst isBusinessOwner = userData.id === company?.company?.owner?.id;\n\n\t//\n\t// useEffect(() => {\n\t// \tif (primeTab === 0) {\n\t// \t\thistory.push(`${url}/general`);\n\t// \t}\n\t// }, [isRequestPageGeneral, history]);\n\n\treturn (\n\t\t<StandardPageLayout>\n\t\t\t<div className=\"relative flex min-h-full max-w-full flex-grow flex-col p-4\">\n\t\t\t\t{(!isHidden || unreadCasesQuantity === 0) && (\n\t\t\t\t\t<Helmet>\n\t\t\t\t\t\t<title>{`KENNEKT | ${pageName}`}</title>\n\t\t\t\t\t</Helmet>\n\t\t\t\t)}\n\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"mb-5 flex w-full items-center justify-between\">\n\t\t\t\t\t\t<h2 className=\"text-xl font-bold dark:text-white md:text-3xl\">Staff Details</h2>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\tisBusinessOwner\n\t\t\t\t\t\t\t\t\t? false || modalItem?.state === 'Pending'\n\t\t\t\t\t\t\t\t\t: modalItem?.is_business_owner || !isAdmin || modalItem?.state === 'Pending'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={() => showEditVisible(modalItem)}\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t'rounded-xl bg-kgrey-bg font-poppins text-sm md:text-base' +\n\t\t\t\t\t\t\t\t' ml-5 px-4 py-2 text-center transition hover:bg-primary-200 disabled:opacity-70 dark:bg-primary-300 dark:text-white'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tEdit staff\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<WhiteModal\n\t\t\t\t\t\thandleModalOpen={closeEditPopup}\n\t\t\t\t\t\topen={Boolean(editVisible)}\n\t\t\t\t\t\tscrollable\n\t\t\t\t\t\tmaxWidth={490}\n\t\t\t\t\t\tminWidth={490}\n\t\t\t\t\t\tnoPadding\n\t\t\t\t\t>\n\t\t\t\t\t\t<EditStaffForm entity={editVisible!} onSuccess={closeEditPopup} />\n\t\t\t\t\t</WhiteModal>\n\t\t\t\t\t{/*<div>*/}\n\t\t\t\t\t{/*\t<CustomMuiTabs.Tabs*/}\n\t\t\t\t\t{/*\t\troundedTop*/}\n\t\t\t\t\t{/*\t\tvalue={primeTab}*/}\n\t\t\t\t\t{/*\t\t// @ts-ignore*/}\n\t\t\t\t\t{/*\t\tonChange={handleChangePrime}*/}\n\t\t\t\t\t{/*\t\taria-label=\"simple tabs\">*/}\n\t\t\t\t\t{/*\t\t<CustomMuiTabs.Tab*/}\n\t\t\t\t\t{/*\t\t\tlabel=\"General\"*/}\n\t\t\t\t\t{/*\t\t\tcomponent={Link}*/}\n\t\t\t\t\t{/*\t\t\tto={`${url}/general`}*/}\n\t\t\t\t\t{/*\t\t\t{...a11yProps(0)}*/}\n\t\t\t\t\t{/*\t\t/>*/}\n\t\t\t\t\t{/*\t\t<CustomMuiTabs.Tab*/}\n\t\t\t\t\t{/*\t\t\tlabel=\"Cases\"*/}\n\t\t\t\t\t{/*\t\t\tcomponent={Link}*/}\n\t\t\t\t\t{/*\t\t\tto={`${url}/cases`}*/}\n\t\t\t\t\t{/*\t\t\t{...a11yProps(1)}*/}\n\t\t\t\t\t{/*\t\t/>*/}\n\t\t\t\t\t{/*\t</CustomMuiTabs.Tabs>*/}\n\t\t\t\t\t{/*</div>*/}\n\n\t\t\t\t\t<div className=\"relative flex max-w-full flex-grow flex-col\">\n\t\t\t\t\t\t<div className=\"relative flex-grow\">\n\t\t\t\t\t\t\t<Suspense fallback={<Loader tiled />}>\n\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t<Route exact path={`${path}/`}>\n\t\t\t\t\t\t\t\t\t\t<StaffDetailsGeneral setModalItem={setModalItem} />\n\t\t\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t\t\t<Route exact path={`${path}/cases/`} component={StaffDetailsCases} />\n\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</StandardPageLayout>\n\t);\n}\n\nexport function StaffDetails() {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<StaffDetailsInner />\n\t\t</ErrorBoundary>\n\t);\n}\n","import React, { useEffect, useState } from 'react';\nimport { useRouter, useUnreadCaseTab } from 'shared/hooks';\n\nexport function useStaff() {\n\tconst [primeTab, setPrimeTab] = React.useState(0);\n\tconst [pageName, setPageName] = React.useState('Clients List');\n\n\tconst [editStaff, setEditStaff] = useState(false);\n\n\tconst { location, match } = useRouter();\n\tconst { url, path } = match;\n\tconst { unreadCasesQuantity, isHidden } = useUnreadCaseTab('ClientsManagement');\n\n\tconst handleChangePrime = (\n\t\tevent: React.ChangeEvent<Record<string, unknown>>,\n\t\tnewValue: number\n\t) => {\n\t\tsetPrimeTab(newValue);\n\t};\n\n\tconst toggleEditStaff = () => setEditStaff((prev) => !prev);\n\n\t//Just to setup tab active tab indication\n\tuseEffect(() => {\n\t\tconst locationSplitterArray = location.pathname.split('/').filter(Boolean).filter(String);\n\t\tconst nestedPageType = locationSplitterArray[locationSplitterArray.length - 1] || '';\n\n\t\t(() => {\n\t\t\tswitch (nestedPageType) {\n\t\t\t\tcase 'general': {\n\t\t\t\t\tsetPrimeTab(0);\n\t\t\t\t\tsetPageName('General');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'cases': {\n\t\t\t\t\tsetPrimeTab(1);\n\t\t\t\t\tsetPageName('Cases');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t})();\n\t}, [location]);\n\n\treturn {\n\t\tprimeTab,\n\t\tpageName,\n\t\turl,\n\t\tpath,\n\t\tunreadCasesQuantity,\n\t\tisHidden,\n\t\thandleChangePrime,\n\t\tsetEditStaff,\n\t\teditStaff,\n\t\ttoggleEditStaff\n\t};\n}\n","import { StaffDetails } from './StaffDetails';\nexport default StaffDetails;\n"],"names":["StaffDetailsCases","lazy","StaffDetailsGeneral","StaffDetailsInner","isAdmin","useAppState","React","primeTab","setPrimeTab","pageName","setPageName","useState","editStaff","setEditStaff","useRouter","location","match","url","path","useUnreadCaseTab","unreadCasesQuantity","isHidden","useEffect","locationSplitterArray","pathname","split","filter","Boolean","String","nestedPageType","length","handleChangePrime","event","newValue","toggleEditStaff","prev","useStaff","useStaffManagementList","editVisible","closeEditPopup","showEditVisible","modalItem","setModalItem","useAuth","company","isBusinessOwner","userData","id","owner","className","Helmet","type","disabled","state","is_business_owner","onClick","handleModalOpen","open","scrollable","maxWidth","minWidth","noPadding","EditStaffForm","entity","onSuccess","Suspense","fallback","tiled","exact","component"],"sourceRoot":""}