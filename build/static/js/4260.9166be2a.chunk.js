!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="cb192cb3-3799-4658-ba82-04c01ff9ad30",e._sentryDebugIdIdentifier="sentry-dbid-cb192cb3-3799-4658-ba82-04c01ff9ad30")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"fb1fa34f10cc71f430d2612c84ee00a7489f3038"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[4260],{64260:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var a=t(1413),r=(t(72791),t(91523)),i=t(54270),o=t(35741),u=t(38302),c=t(2451),s=t(16293),l=t(43264),m=t(55636),d=t(40084),f=t(50834),b=t(80184),p=function(){var e=(0,m.tv)().params,n=parseInt(null===e||void 0===e?void 0:e.campaignId),t=(0,d.m)().companyId;return(0,b.jsx)(o.Z.One,{id:n,entity:"campaigns",name:"Campaign-".concat(n),url:"/".concat(t,"/campaigns/").concat(n,"/"),relations:"",params:{},children:function(e){var t=e.isFetched,a=e.item;return(0,b.jsxs)("div",{className:"news-page py-4",children:[(0,b.jsxs)(i.Z,{children:[(0,b.jsx)("title",{children:"KENNEKT | Create News"}),(0,b.jsx)("meta",{name:"description",content:"KENNEKT Announcement"})]}),(0,b.jsx)("h1",{className:"mb-2 text-2xl font-bold",children:"Create News"}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)(c.Z,{"aria-label":"breadcrumb",children:[t?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(r.rU,{to:"/news/campaigns/view/".concat(n),children:(0,b.jsx)("span",{className:"text-sm text-primary transition hover:text-primary-dark",children:a.name})})}):(0,b.jsx)("div",{className:"w-200",children:(0,b.jsx)(l.Z,{})}),(0,b.jsx)(u.Z,{color:"textPrimary",className:"!text-sm",children:"Create news"})]})}),(0,b.jsx)("div",{className:"uni-page__content",children:(0,b.jsx)(f.Z,{})})]})}})};var v=function(e){return(0,b.jsx)(s.SV,{children:(0,b.jsx)(p,(0,a.Z)({},e))})}},50834:function(e,n,t){var a=t(42982),r=t(15861),i=t(70885),o=t(64687),u=t.n(o),c=t(72791),s=t(27945),l=t(92651),m=t(81201),d=t(79271),f=t(26181),b=t.n(f),p=t(55636),v=t(40084),y=t(44453),h=t(97892),S=t.n(h),_=t(80184),g=[{name:"Reader First Name",code:"{reader_first_name}"},{name:"Reader Last Name",code:"{reader_last_name}"},{name:"Reader Company",code:"{business_company}"},{name:"Author First Name",code:"{author_first_name}"},{name:"Author Last Name",code:"{author_last_name}"},{name:"Author company",code:"{client_company}"}],w=[{name:"Daily",code:"DAILY"},{name:"Weekly",code:"WEEKLY"},{name:"Monthly",code:"MONTHLY"},{name:"Yearly",code:"YEARLY"},{name:"Quarterly",code:"QUARTERLY"}],j=[{value:"ACTIVE",label:"Active"},{label:"On hold",value:"ON_HOLD"}];n.Z=function(){var e=(0,c.useState)({}),n=(0,i.Z)(e,2),t=n[0],o=n[1],f=-(new Date).getTimezoneOffset(),h=(0,d.k6)(),x=(0,p.tv)().params,N=parseInt(null===x||void 0===x?void 0:x.campaignId),E=(0,v.m)().companyId,K=(0,p.eC)().showNotification,V=(0,c.useMemo)((function(){return S()().hour(8).minute(0).format()}),[]),k=(0,c.useMemo)((function(){return S()().format()}),[]);return(0,c.useEffect)((function(){(0,r.Z)(u().mark((function e(){var n,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.hi.request.get((0,m.kB)("/timezones/current_timezone/".concat(f,"/"),{}));case 3:n=e.sent,t=n.data,o(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]),(0,_.jsx)(s.Z.Main,{entity:"news",name:"".concat(N?"AllNews-".concat(N):"AllRegularNews"),url:"/".concat(E,"/notifications/"),primaryKey:"id",sendAsFormData:!1,normalizeData:function(e){return e},prependData:!0,method:"post",fields:[{name:"subject",required:!0,value:"",onSubmitKey:""},{name:"body",required:!0,value:"",onSubmitKey:""},{name:"files",value:[],onSubmitKey:"",type:"object"},{name:"type",value:"staff",onSubmitValue:function(e){return N?"campaign":e},onSubmitKey:""},{name:"status",value:{value:"ACTIVE",label:"Active"},onSubmitValue:function(e){return e.value},type:"object",onSubmitKey:""},{name:"open_for_cases",value:!1,onSubmitKey:""},{name:"frequency",value:"ONE_TIME",onSubmitKey:""},{name:"timezone",onSubmitValue:function(e){return{id:b()(e,"id")}},value:t,onSubmitKey:"",type:"object"},{name:"campaign",value:null,onSubmitValue:function(){return N?Number(N):void 0},onSubmitKey:""},{name:"start_time",value:V,onSubmitValue:function(){return(0,y.L)(S()().hour(8).minute(0).format())},onSubmitKey:""},{name:"end_time",value:k,onSubmitValue:function(){return(0,y.L)(S()().format())},onSubmitKey:""},{name:"event_times",onSubmitValue:function(e,n){return"EVENTS"===n.frequency?e:null},onSubmitKey:"",type:"object"},{name:"department",onSubmitValue:function(e){return b()(e,"id")},onSubmitKey:"",type:"object"},{name:"sub_department",onSubmitValue:function(e){return b()(e,"id")},onSubmitKey:"",type:"object"},{name:"staff_departments",value:null,onSubmitValue:function(e){return null===e||void 0===e?void 0:e.reduce((function(e,n){return[].concat((0,a.Z)(e),[n.id])}),[])},onSubmitKey:"",type:"object"},{name:"staff_sub_departments",value:void 0,onSubmitKey:"",type:"object"},{name:"categories",value:null,onSubmitValue:function(e){return null===e||void 0===e?void 0:e.reduce((function(e,n){return[].concat((0,a.Z)(e),[n.id])}),[])},onSubmitKey:"",type:"object"}],onSuccess:function(e,n){n(),N||null!==e&&void 0!==e&&e.receiver.campaign?h.push("/news/campaigns/view/".concat(N)):h.push("/news/news-list")},onError:function(e,n){var t,a,r=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Something went wrong";K({message:r,variant:"error"})},children:function(e){var n=e.isSubmitting,t=e.values,a=e.setFieldValue,r=e.errors,i=e.setFieldError;return(0,_.jsx)(l.Z,{isSubmitting:n,values:t,setFieldValue:a,keywords:g,frequencies:w,statuses:j,campaignId:N,setFieldError:i,errors:r})}})}}}]);
//# sourceMappingURL=4260.9166be2a.chunk.js.map