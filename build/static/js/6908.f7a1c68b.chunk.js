!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="b53fc53c-4b0c-4206-a487-ef6bfb90ac12",e._sentryDebugIdIdentifier="sentry-dbid-b53fc53c-4b0c-4206-a487-ef6bfb90ac12")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"a086bfaddc61e7dbbcac0a9c42145052439dbbf3"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[6908],{23331:function(e,n,t){t.d(n,{je:function(){return l},JL:function(){return u}});var a=t(70885),i=t(1413),r=t(72791),c=t(80184),s=(0,r.createContext)(null),o=function(e,n){switch(n.type){case"SET_SEARCH_QUERY":return(0,i.Z)((0,i.Z)({},e),{},{searchQuery:n.payload});case"SET_PAYMENT_FREQUENCY":return(0,i.Z)((0,i.Z)({},e),{},{paymentFrequency:n.payload});default:return e}};function l(e){var n=e.children,t=(0,r.useReducer)(o,{searchQuery:null,paymentFrequency:"year"}),i=(0,a.Z)(t,2),l=i[0],u=i[1],d=l.searchQuery,f=l.paymentFrequency,b=(0,r.useCallback)((function(e){u({type:"SET_SEARCH_QUERY",payload:e})}),[]),h=(0,r.useCallback)((function(e){u({type:"SET_PAYMENT_FREQUENCY",payload:e})}),[]),p={searchQuery:d,setSearchQuery:b,paymentFrequency:f,setPaymentFrequency:h};return(0,c.jsx)(s.Provider,{value:p,children:n})}var u=function(){var e=(0,r.useContext)(s);if(!e)throw new Error("useNewsContext must be used within the NewsContextProvider");return e}},43682:function(e,n,t){t.d(n,{I:function(){return c},m:function(){return f}});var a=t(70885),i=t(72791),r=t(31102);function c(){var e=i.useState(0),n=(0,a.Z)(e,2),t=n[0],c=n[1],s=i.useState("Billing"),o=(0,a.Z)(s,2),l=o[0],u=o[1],d=(0,r.tv)(),f=d.location,b=d.match,h=b.url,p=b.path,m=(0,r.gQ)("Billing"),v=m.unreadCasesQuantity,y=m.isHidden;return(0,i.useEffect)((function(){var e=f.pathname.split("/").filter(Boolean).filter(String),n=e[e.length-1]||"";!function(){switch(n){case"billing":c(0),u("Billing");break;case"invoice":c(1),u("Invoice");break;default:;}}()}),[f]),{primeTab:t,pageName:l,url:h,path:p,unreadCasesQuantity:v,setPrimeTab:c,isHidden:y,handleChangePrime:function(e,n){c(n)}}}var s=t(15861),o=t(64687),l=t.n(o),u=t(40084),d=t(97689);function f(){var e=(0,u.m)().companyId,n=(0,d.a)().companies,t=(0,r.tv)().history,c=(0,i.useState)(!1),o=(0,a.Z)(c,2),f=o[0],b=o[1],h=(0,i.useState)(!1),p=(0,a.Z)(h,2),m=p[0],v=p[1],y=(0,r.eC)().showNotification,g=(0,i.useState)(!1),x=(0,a.Z)(g,2),w=x[0],C=x[1],E=(0,i.useState)(null),j=(0,a.Z)(E,2),_=j[0],k=j[1],S=(0,r.bK)({url:"/".concat(e,"/payment/").concat(e,"/cancel-subscription/"),method:"put",cb:{success:function(){y({message:"Your subscription has been cancelled",variant:"success"}),b(!1),v(!1)},error:function(e,n){var t,a;y({message:(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Something went wrong",variant:"error"}),b(!1)}}}).fetchData,N=(0,r.bK)({url:"/payment/".concat(e,"/invoices/?page_size=10"),cb:{success:function(e){var n;null!==e&&void 0!==e&&null!==(n=e.results)&&void 0!==n&&n.length&&C(!0)},error:function(e,n){}}}).fetchData;(0,i.useEffect)((function(){if(N(),e&&n.length){var t=n.find((function(n){return n.company.id===e})),a=null===t||void 0===t?void 0:t.company.comp_subscription;a&&k(a)}}),[n,e]);var T=(0,i.useCallback)((0,s.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,S();case 3:case"end":return e.stop()}}),e)}))),[]);return{navigateToCheckout:(0,i.useCallback)((function(){return t.push("/checkout")}),[]),subscription:_,handleCancelRequest:T,setCancelSubscription:v,cancelSubscription:m,cancelLoading:f,hasUserAlreadyPaidInvoice:w}}},76908:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var a=t(1413),i=t(72791),r=t(59028),c=t(43682),s=t(54270),o=t(28182),l=t(55248),u=t(91523),d=t(79271),f=t(23331),b=t(80184);function h(e){return{id:"payments-tabpanel-".concat(e),"aria-controls":"payments-tab-".concat(e)}}var p=(0,i.lazy)((function(){return Promise.all([t.e(4076),t.e(4365)]).then(t.bind(t,34365))})),m=(0,i.lazy)((function(){return t.e(3115).then(t.bind(t,73115))}));function v(){var e=(0,c.I)(),n=e.primeTab,t=e.setPrimeTab,f=e.pageName,v=e.url,y=e.path,g=e.unreadCasesQuantity,x=e.isHidden,w=e.handleChangePrime,C=location.pathname.includes("invoices"),E=["billing"].find((function(e){return location.pathname.includes(e)}));return(0,i.useEffect)((function(){C&&t(1)}),[location,C]),(0,b.jsx)(r.d,{children:(0,b.jsxs)("div",{children:[(!x||0===g)&&(0,b.jsx)(s.q,{children:(0,b.jsx)("title",{children:"KENNEKT | ".concat(f)})}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h1",{className:"text-2xl font-medium dark:text-white",children:"Billing & Invoices"}),(0,b.jsx)("p",{className:"text-sm text-kgrey",children:"Choose plan that\u2019s right for your business"})]}),(0,b.jsx)("div",{className:(0,o.Z)("prime-tabs",{"prime-tabs_no-bottom-extend":E}),children:(0,b.jsxs)(l.sJ.Tabs,{roundedTop:!E,value:n,onChange:w,"aria-label":"simple tabs",children:[(0,b.jsx)(l.sJ.Tab,(0,a.Z)({label:"Billing",component:u.rU,to:"".concat(v,"/billing")},h(0))),(0,b.jsx)(l.sJ.Tab,(0,a.Z)({label:"Invoices",component:u.rU,to:"".concat(v,"/invoices")},h(1)))]})}),(0,b.jsx)("div",{className:"relative flex max-w-full flex-grow flex-col",children:(0,b.jsx)("div",{className:"relative flex-grow",children:(0,b.jsx)(i.Suspense,{fallback:(0,b.jsx)(l.aN,{tiled:!0}),children:(0,b.jsxs)(d.rs,{children:[(0,b.jsx)(d.AW,{exact:!0,path:"".concat(y,"/billing"),component:p}),(0,b.jsx)(d.AW,{exact:!0,path:"".concat(y,"/invoices"),component:m})]})})})})]})})}var y=function(){return(0,b.jsx)(l.SV,{children:(0,b.jsx)(f.je,{children:(0,b.jsx)(v,{})})})}}}]);
//# sourceMappingURL=6908.f7a1c68b.chunk.js.map