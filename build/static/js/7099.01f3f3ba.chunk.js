!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=(new Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="22c09a4c-636e-41ac-822a-1e23797d5a5f",e._sentryDebugIdIdentifier="sentry-dbid-22c09a4c-636e-41ac-822a-1e23797d5a5f")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"1d419c3c8a5f66a775a003b801a7dad6c0430a71"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[7099],{87099:function(e,a,n){n.r(a),n.d(a,{default:function(){return A}});var t=n(1413),s=n(72791),l=n(27945),o=n(66364),i=n.n(o),r=n(97689),d=n(80266),c=n(87818),m=n(32380),u=n(49078),p=n(76188),b=n(77917),g=n(37099),h=n(40084),y=n(7993),f=n(66128),x=n(28182),k=n(30014),v=n(67025),_=n(57407),j=n(16178),N=n(17173),w=n(90218),S=n(80184);function C(e){var a,n=e.field,l=e.setFieldValue,o=(0,u.j)(),i=o.uploadMeta,r=o.setUploadMeta,d=o.cancelSending,c=o.setCancelSending,m=o.setFiles,p=o.files,b=o.deleteBusinessProfileAvatar,g=o.isDeleteBusinessAvatarRequestLoading,y=(0,h.m)().isAdmin,C=(0,N.$G)().t,E=(0,w.K)().isRTL,K=(0,j.dF)(),F=K.open,L=K.modalHandler;(0,s.useEffect)((function(){p[n]&&l(n,p[n])}),[p]);var Z=n.includes("logo");return(0,S.jsxs)("div",{className:"lg:flex",children:[(0,S.jsx)(f.bA,{uploadMeta:i,setUploadMeta:r,cancelSending:d,setCancelSending:c,setFile:m,isBusinessProfile:!0,field:n}),(0,S.jsxs)("div",{className:"flex-grow-1 mt-4 lg:mx-6 lg:mt-0",children:[(0,S.jsxs)("div",{className:(0,x.Z)("group relative overflow-hidden border border-kgrey-border-solid ",{"h-24 w-24 rounded-full":!Z,"h-16 w-64 rounded-md":Z}),children:[(0,S.jsx)("img",{src:(null==p||null===(a=p[n])||void 0===a?void 0:a.url)||("icon"===n?"https://via.placeholder.com/96x96/":"https://via.placeholder.com/263x60/"),alt:n,className:"h-full w-full object-cover"}),null!==i.progress&&i.field===n&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"position-centered absolute  z-10",children:(0,S.jsx)(f.aN,{variant:"static",value:i.progress})}),(0,S.jsx)(v.Z,{disabled:g,onClick:function(){c(!0),r((function(e){return(0,t.Z)((0,t.Z)({},e),{},{progress:null})}))},className:"position-centered !absolute z-20 text-white",children:(0,S.jsx)(k.Z,{className:"text-primary"})})]}),p[n]?(0,S.jsx)("div",{className:"absolute bottom-0 left-0 hidden h-1/3 w-full group-hover:block group-hover:bg-kgrey group-hover:bg-opacity-50 ",children:(0,S.jsx)(v.Z,{className:(0,x.Z)("absolute top-1/4 h-full",{"!top-0 !left-[40%]":Z},E?"right-1/4":"left-1/4"),disabled:!y,onClick:L,children:(0,S.jsx)(_.Z,{className:"text-red-400"})})}):null]}),(0,S.jsx)("div",{className:"mt-1 text-xs text-kgrey",children:n.includes("icon")?C("please_use_fit_image"):C("please_use_following_dimensioned_image")}),(0,S.jsx)(f.sm,{toggleHandler:L,isOpen:F,featureHandler:function(){b(n),L()},title:C("delete_business_logo_confirmation",{itemName:Z?"logo":"icon"}),isLoading:g}),(0,S.jsx)("div",{className:"safelist-classNames !top-[20%] !left-[40%] hidden"})]})]})}var E=n(50576),K=n(78029),F=n(78820),L=n(53148),Z=n(62876),I=n(86053),D={width:"100%",height:"400px"};function z(e){var a,n,t,l=(0,N.$G)().t,o=(0,h.m)(),c=o.isAdmin,m=o.companyId,x=(o.isDarkMode,(0,r.a)()),k=x.company,_=x.userData,w=(null==k||null===(a=k.company)||void 0===a||null===(n=a.owner)||void 0===n?void 0:n.id)===_.id,z=(0,j.eC)().showNotification,M=(0,j.h9)({darkIcon:!1}),T=M.checked,A=M.handleChange,O=(0,j.h9)({darkLogo:!1}),V=O.checked,U=O.handleChange,P=(0,u.j)(!0),R=P.searchInputRef,B=P.calcedLat,q=P.calcedLng,H=P.onLoad,G=P.onUnmount,Y=P.selected,$=P.onMarkerDrag,J=P.isLoaded,Q=P.placeAddress,W=P.files,X=P.map,ee=e.values,ae=e.setFieldValue,ne=e.isSubmitting,te=e.errors,se=e.setFieldError;return(0,E.Y)({setFieldValue:ae,searchInputRef:R}),(0,s.useEffect)((function(){i()(Q)||(ae("city",Q.city),ae("address",Q.plain()),ae("state",Q.state),ae("country",Q.country),ae("zipcode",Q.zip))}),[Q]),(0,s.useEffect)((function(){Y&&"lat"in Y&&"lng"in Y&&(ae("lat",Number(null==Y?void 0:Y.lat).toFixed(9)),ae("lng",Number(null==Y?void 0:Y.lng).toFixed(9)))}),[Y]),(0,s.useEffect)((function(){W.icon&&ae("icon",W.icon),W.icon_dark&&ae("icon_dark",W.icon_dark),W.logo&&ae("logo",W.logo),W.logo_dark&&ae("logo_dark",W.logo_dark)}),[W]),(0,s.useEffect)((function(){i()(te)||(0,d.lZ)("business-profile-form")}),[te]),(0,s.useEffect)((function(){ae("sub_industry",null)}),[ee.industry]),(0,s.useEffect)((function(){ne&&!i()(te)&&Object.keys(te).forEach((function(e){return se(e,!1)}))}),[ne]),(0,s.useEffect)((function(){if(J&&X){var e=new google.maps.LatLng(Number(null==ee?void 0:ee.lat),Number(null==ee?void 0:ee.lng));X.panTo(e)}}),[J,X]),(0,S.jsxs)("div",{className:"w-100 mt-6 gap-x-11 lg:grid lg:grid-cols-2",id:"business-profile-form",children:[(0,S.jsxs)("div",{className:"col-1",children:[(0,S.jsx)(p.gN,{label:l("name"),name:"name",component:b.Mg,placeholder:l("enter_name_here"),inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white",disabled:!w}),(0,S.jsx)(p.gN,{label:l("website"),name:"website",component:b.Mg,placeholder:l("enter_website"),inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white"}),(0,S.jsxs)("div",{className:"react-select-dropdown mb-4",children:[(0,S.jsxs)("div",{className:"ml-2 mb-2 block text-sm font-light text-kgrey-menuText",children:[(0,S.jsx)("span",{children:l("industry")}),(0,S.jsx)("sup",{children:"*"})]}),(0,S.jsx)(p.gN,{component:g.Z,customStylesProps:d.gb,name:"industry",placeholder:l("industry_name_placeholder"),optionLabel:"name",optionValue:"id",isSearchable:!0,isClearable:!1,loadOptionsKey:"results",isDisabled:!c,loadOptionsUrl:"/industries/",loadOptionsParams:function(e){return{extra:{search:e}}}})]}),ee.industry?(0,S.jsxs)("div",{className:"react-select-dropdown mb-4",id:"industry",children:[(0,S.jsxs)("div",{className:"ml-2 mb-2 block text-sm font-light text-kgrey-menuText",children:[(0,S.jsx)("span",{children:l("sub_industry")}),(0,S.jsx)("sup",{children:"*"})]}),(0,S.jsx)(p.gN,{component:g.Z,customStylesProps:d.gb,name:"sub_industry",placeholder:l("sub_industry_name_placeholder"),optionLabel:"name",optionValue:"id",isSearchable:!0,isClearable:!1,loadOptionsKey:"results",isDisabled:!c,loadOptionsUrl:"/industries/".concat(null===(t=ee.industry)||void 0===t?void 0:t.id,"/sub_industries/"),loadOptionsParams:function(e){return{extra:{search:e}}}})]}):null,(0,S.jsx)(p.gN,{label:l("about"),name:"about",type:"textarea",component:b.Mg,placeholder:l("company_description_placeholder"),rows:"5",inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white"}),(0,S.jsx)(L.D8,{control:(0,S.jsx)(I.k,{checked:T.darkIcon,onChange:A,name:"darkIcon"}),label:l("icon_for_dark_mode"),className:"mb-4",classes:{label:"!text-xs font-light text-kgrey-welcome"}}),(0,S.jsxs)("div",{className:"react-select-dropdown mb-4",children:[(0,S.jsx)("div",{className:"mx-2 mb-2 block text-sm font-light text-kgrey-menuText",children:(0,S.jsxs)("span",{children:[" ",T.darkIcon?l("business_dark_icon"):l("business_icon")," "]})}),(0,S.jsx)(C,{field:T.darkIcon?"icon_dark":"icon",setFieldValue:ae})]}),(0,S.jsx)(L.D8,{control:(0,S.jsx)(I.k,{checked:V.darkLogo,onChange:U,name:"darkLogo"}),label:l("logo_for_dark_mode"),className:"mb-4",classes:{label:"!text-xs font-light text-kgrey-welcome"}}),(0,S.jsxs)("div",{className:"react-select-dropdown mb-4",children:[(0,S.jsx)("div",{className:"mx-2 mb-2 block text-sm font-light text-kgrey-menuText",children:(0,S.jsxs)("span",{children:[" ",V.darkLogo?l("business_dark_logo"):l("business_logo")]})}),(0,S.jsx)(C,{field:V.darkLogo?"logo_dark":"logo",setFieldValue:ae})]}),(0,S.jsx)("h1",{className:"mb-4 text-2xl font-bold dark:text-white",children:l("social_connection")}),(0,S.jsx)(p.gN,{label:"Facebook",name:"facebook_url",component:b.Mg,placeholder:l("enter_facebook_address"),disabled:!c,inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white"}),(0,S.jsx)(p.gN,{label:"Twitter",name:"twitter_url",component:b.Mg,placeholder:l("enter_twitter_address"),disabled:!c,inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white"}),(0,S.jsxs)("div",{className:"profile__header-user-name ",children:[(0,S.jsx)(K.CopyToClipboard,{text:"https://t.me/KennektFeedbackBot?start=".concat(m),onCopy:function(){z({message:l("feedback_link_copied"),variant:"success"})},children:(0,S.jsx)(L.zx,{variant:"contained",className:"!mb-2",children:l("copy_feedback_link")})}),(0,S.jsx)(Z.ZP,{title:(0,S.jsx)("div",{className:"text-sm",children:l("copy_link_instruction")}),placement:"top",className:"!mb-1 !ml-2",children:(0,S.jsx)(v.Z,{className:"mr-20 p-0",children:(0,S.jsx)(F.kA6,{})})})]})]}),(0,S.jsxs)("div",{className:"col-2",children:[(0,S.jsxs)("div",{className:"mb-4",children:[(0,S.jsx)("label",{htmlFor:"address",className:"ml-2 mb-2 block text-sm font-light text-kgrey-menuText",children:l("address")}),(0,S.jsx)("input",{id:"xyz123",name:"xyz123",autoComplete:"xyz123",placeholder:l("enter_address"),type:"search",ref:R,disabled:!c,className:"w-full rounded-lg border border-transparent bg-kgrey-light-grey-1 px-6 py-3.5 text-xs font-medium placeholder-current placeholder-kgrey outline-none transition hover:border-primary focus:border-primary focus:shadow-lg dark:bg-kdark-lighter dark:text-white"})]}),(0,S.jsx)(p.gN,{label:l("city"),name:"city",component:b.Mg,placeholder:l("enter_city"),disabled:!c,inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white"}),(0,S.jsx)(p.gN,{label:l("state"),name:"state",component:b.Mg,disabled:!c,placeholder:l("enter_state"),inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white"}),(0,S.jsx)(p.gN,{label:l("zip_code"),name:"zipcode",component:b.Mg,disabled:!c,placeholder:l("enter_zip_code"),inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white"}),(0,S.jsx)(p.gN,{label:l("country"),name:"country",component:b.Mg,disabled:!c,placeholder:l("enter_country"),inputElementClassNames:"dark:bg-kdark-lighter font-medium dark:text-white"}),(0,S.jsx)(p.gN,{label:l("phone_number"),name:"phone",component:b.UO,disabled:!c,placeholder:l("enter_company_phone-number"),enableSearch:!0,onChangeHandler:ae,className:"tel-input-profile"}),(0,S.jsxs)("div",{className:"react-select-dropdown mb-4",children:[(0,S.jsx)("div",{className:"ml-2 mb-2 block text-sm font-light text-kgrey-menuText",children:(0,S.jsx)("span",{children:l("map")})}),J?(0,S.jsx)(y.b6,{mapContainerStyle:D,center:{lat:Number(B)||-3.745,lng:Number(q)||-38.523},zoom:10,onLoad:H,onUnmount:G,onClick:$,children:(0,S.jsx)(y.Jx,{draggable:!0,position:{lat:Number(null==Y?void 0:Y.lat)||Number(B),lng:Number(null==Y?void 0:Y.lng)||Number(q)},onDragEnd:$})}):(0,S.jsx)("p",{className:"dark:text-white",children:"There is problem with loading map or location has not been set."})]}),(0,S.jsx)("div",{className:"flex justify-start",children:(0,S.jsx)(f.Ik,{className:"dark:text-white dark:hover:bg-primary-300 dark:focus:ring-primary-300",type:"submit",isSubmitting:ne,isDisabled:!c||ne,color:"primary",children:l("update")})})]})]})}var M=n(92017),T=m.Z.user.setUserCompany;var A=function(){var e,a,n=(0,N.$G)().t,s=(0,r.a)().company,o=(0,u.j)(!0),m=o.files,p=o.selected,b=o.placeAddress,g=o.calcedLat,h=o.calcedLng,y=o.companyId,f=(0,j.eC)().showNotification,x=(0,c.I0)(),k=(0,M.y)().loadAllBusiness;return(0,S.jsx)("div",{className:"business-profile",children:s?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(l.Z.Main,{entity:"profile",name:"business-profile",url:"/".concat(y,"/my/company/"),method:"patch",sendAsFormData:!1,normalizeData:"",prependData:!0,fields:[{name:"name",value:s.company.name||"",onSubmitKey:""},{name:"status",value:"ACTIVE",onSubmitKey:""},{name:"created_date",value:s.company.created_date,onSubmitKey:""},{name:"website",value:s.company.website||"",type:"website",onSubmitKey:""},{name:"city",value:(i()(b)?s.company.city:b.city)||"",onSubmitKey:""},{name:"address",value:(i()(b)?s.company.address:b.plain())||"",onSubmitKey:""},{name:"address_2",value:s.company.address_2||"",onSubmitKey:""},{name:"zipcode",value:(i()(b)?s.company.zipcode:b.zip)||"",onSubmitKey:""},{name:"country",value:(i()(b)?"object"==typeof s.company.country&&null!==s.company.country?null===(e=s.company.country)||void 0===e?void 0:e.name:s.company.country:b.country)||"",required:!0,onSubmitKey:""},{name:"state",value:(i()(b)?"object"==typeof s.company.state&&null!==s.company.state?null===(a=s.company.state)||void 0===a?void 0:a.name:s.company.state:b.state)||"",required:!0,onSubmitKey:""},{name:"phone",value:s.company.phone||"",onSubmitKey:""},{name:"about",value:s.company.about||"",onSubmitKey:""},{name:"industry",value:s.company.industry,onSubmitKey:"",type:"object",required:!0},{name:"sub_industry",value:s.company.sub_industry,onSubmitKey:"",type:"object",required:!1},{name:"icon",value:m.icon,onSubmitKey:"",type:"object"},{name:"icon_dark",value:m.icon_dark,onSubmitKey:"",type:"object"},{name:"logo",value:m.logo,onSubmitKey:"",type:"object"},{name:"logo_dark",value:m.logo_dark,onSubmitKey:"",type:"object"},{name:"facebook_url",value:s.company.facebook_url,onSubmitKey:"",type:"website"},{name:"twitter_url",value:s.company.twitter_url||"",onSubmitKey:"",type:"website"},{name:"lat",value:(p?Number(p.lat).toFixed(9):String(g))||"",onSubmitKey:""},{name:"lng",value:(p?Number(p.lng).toFixed(9):String(h))||"",onSubmitKey:""}],onSuccess:function(e,a){var l,o=(0,t.Z)((0,t.Z)({},s),{},{company:(0,t.Z)((0,t.Z)({},e),{},{owner:(null==s||null===(l=s.company)||void 0===l?void 0:l.owner)||{}})});d.tO.set("company",JSON.stringify(o)),x(T(o)),k(),f({message:n("update_success"),variant:"success"})},onError:function(e,a){var t;a();var s=n("something_went_wrong");if(e.response&&null!==(t=e.response)&&void 0!==t&&t.data){var l,o,i=null===(l=e.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.message;s=i.match("Company already Exists!")?"The Business Name Already Exists!":i}f({message:s,variant:"error"})},children:function(e){var a=e.isSubmitting,n=e.values,t=e.setFieldValue,s=e.errors,l=e.setFieldError;return(0,S.jsx)(z,{values:n,setFieldValue:t,isSubmitting:a,errors:s,setFieldError:l})}})," "]}):null})}},50576:function(e,a,n){n.d(a,{Y:function(){return s}});var t=n(72791);function s(e){var a=e.setFieldValue,n=e.searchInputRef,s=e.field,l=void 0===s?"address":s,o=(0,t.useCallback)((function(e){var n=e.target.value;a(l,n)}),[]);(0,t.useEffect)((function(){var e=n.current;return n.current&&n.current.addEventListener("change",o),function(){e.removeEventListener("change",o)}}),[n,o])}}}]);
//# sourceMappingURL=7099.01f3f3ba.chunk.js.map