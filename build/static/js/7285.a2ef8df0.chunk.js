!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="7a209eff-7f44-4f3d-bf6b-90a4c47ad7bc",e._sentryDebugIdIdentifier="sentry-dbid-7a209eff-7f44-4f3d-bf6b-90a4c47ad7bc")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"e2b8a9729dacac74d98888be46c5988a7fe8bfbc"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[7285],{77285:function(e,n,t){t.r(n),t.d(n,{default:function(){return d}});var a=t(1413),r=(t(72791),t(91523)),o=t(54270),i=t(38302),u=t(2451),s=t(16293),c=t(50834),l=t(80184),m=function(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"news-page -mt-5 pb-4",children:[(0,l.jsxs)(o.Z,{children:[(0,l.jsx)("title",{children:"KENNEKT | Create News"}),(0,l.jsx)("meta",{name:"description",content:"KENNEKT Announcement"})]}),(0,l.jsx)("h1",{className:"mb-2 text-2xl font-bold dark:text-white",children:"Create News"}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)(u.Z,{"aria-label":"breadcrumb",children:[(0,l.jsx)(r.rU,{to:"/news/news-list/",children:(0,l.jsx)("span",{className:"text-sm text-primary transition hover:text-primary-dark",children:"News List"})}),(0,l.jsx)(i.Z,{color:"textPrimary",className:"!text-sm",children:"Create news"})]})}),(0,l.jsx)("div",{className:"uni-page__content",children:(0,l.jsx)(c.Z,{})})]})})};var d=function(e){return(0,l.jsx)(s.SV,{children:(0,l.jsx)(m,(0,a.Z)({},e))})}},50834:function(e,n,t){var a=t(42982),r=t(15861),o=t(70885),i=t(64687),u=t.n(i),s=t(72791),c=t(27945),l=t(92651),m=t(81201),d=t(79271),f=t(26181),b=t.n(f),y=t(31102),p=t(40084),v=t(44453),S=t(97892),_=t.n(S),h=t(80184),w=[{name:"Reader First Name",code:"{reader_first_name}"},{name:"Reader Last Name",code:"{reader_last_name}"},{name:"Reader Company",code:"{business_company}"},{name:"Author First Name",code:"{author_first_name}"},{name:"Author Last Name",code:"{author_last_name}"},{name:"Author company",code:"{client_company}"}],g=[{name:"Daily",code:"DAILY"},{name:"Weekly",code:"WEEKLY"},{name:"Monthly",code:"MONTHLY"},{name:"Yearly",code:"YEARLY"},{name:"Quarterly",code:"QUARTERLY"}],x=[{value:"ACTIVE",label:"Active"},{label:"On hold",value:"ON_HOLD"}];n.Z=function(){var e=(0,s.useState)({}),n=(0,o.Z)(e,2),t=n[0],i=n[1],f=-(new Date).getTimezoneOffset(),S=(0,d.k6)(),j=(0,y.tv)().params,N=parseInt(null===j||void 0===j?void 0:j.campaignId),E=(0,p.m)().companyId,K=(0,y.eC)().showNotification,V=(0,s.useMemo)((function(){return _()().format()}),[]),k=(0,s.useMemo)((function(){return _()().format()}),[]);return(0,s.useEffect)((function(){(0,r.Z)(u().mark((function e(){var n,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.hi.request.get((0,m.kB)("/timezones/current_timezone/".concat(f,"/"),{}));case 3:n=e.sent,t=n.data,i(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]),(0,h.jsx)(c.Z.Main,{entity:"news",name:"".concat(N?"AllNews-".concat(N):"AllRegularNews"),url:"/".concat(E,"/notifications/"),primaryKey:"id",sendAsFormData:!1,normalizeData:function(e){return e},prependData:!0,method:"post",fields:[{name:"subject",required:!0,value:"",onSubmitKey:""},{name:"body",required:!0,value:"",onSubmitKey:""},{name:"files",value:[],onSubmitKey:"",type:"object"},{name:"type",value:"staff",onSubmitValue:function(e){return N?"campaign":e},onSubmitKey:""},{name:"status",value:{value:"ACTIVE",label:"Active"},onSubmitValue:function(e){return e.value},type:"object",onSubmitKey:""},{name:"open_for_cases",value:!1,onSubmitKey:""},{name:"frequency",value:"ONE_TIME",onSubmitKey:""},{name:"timezone",onSubmitValue:function(e){return{id:b()(e,"id")}},value:t,onSubmitKey:"",type:"object"},{name:"campaign",value:null,onSubmitValue:function(){return N?Number(N):void 0},onSubmitKey:""},{name:"start_time",value:V,onSubmitValue:function(e){return(0,v.L)(e)},onSubmitKey:"",type:"date",customValidation:function(e){return"now"===e}},{name:"end_time",value:k,onSubmitValue:function(e){return e?(0,v.L)(e):e},onSubmitKey:"",type:"date",customValidation:function(e){return"now"===e}},{name:"event_times",onSubmitValue:function(e,n){return"EVENTS"===n.frequency?e:null},onSubmitKey:"",type:"object"},{name:"department",onSubmitValue:function(e){return b()(e,"id")},onSubmitKey:"",type:"object"},{name:"sub_department",onSubmitValue:function(e){return b()(e,"id")},onSubmitKey:"",type:"object"},{name:"staff_departments",value:null,onSubmitValue:function(e){return null===e||void 0===e?void 0:e.reduce((function(e,n){return[].concat((0,a.Z)(e),[n.id])}),[])},onSubmitKey:"",type:"object"},{name:"staff_sub_departments",value:void 0,onSubmitKey:"",type:"object"},{name:"categories",value:null,onSubmitValue:function(e){return null===e||void 0===e?void 0:e.reduce((function(e,n){return[].concat((0,a.Z)(e),[n.id])}),[])},onSubmitKey:"",type:"object"}],onSuccess:function(e,n){n(),N||null!==e&&void 0!==e&&e.receiver.campaign?S.push("/news/campaigns/view/".concat(N)):S.push("/news/news-list")},onError:function(e,n){var t,a,r=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Something went wrong";K({message:r,variant:"error"})},children:function(e){var n=e.isSubmitting,t=e.values,a=e.setFieldValue,r=e.errors,o=e.setFieldError;return(0,h.jsx)(l.Z,{isSubmitting:n,values:t,setFieldValue:a,keywords:w,frequencies:g,statuses:x,campaignId:N,setFieldError:o,errors:r})}})}}}]);
//# sourceMappingURL=7285.a2ef8df0.chunk.js.map