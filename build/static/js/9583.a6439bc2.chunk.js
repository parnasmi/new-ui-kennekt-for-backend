!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="8da6dd0b-6bca-463b-a2e5-96f8f7c531e3",e._sentryDebugIdIdentifier="sentry-dbid-8da6dd0b-6bca-463b-a2e5-96f8f7c531e3")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"92c588a922034147d52c8df4651841419a0c4114"},(self.webpackChunkkennekt_front_end_client=self.webpackChunkkennekt_front_end_client||[]).push([[9583],{79583:function(e,n,i){i.r(n),i.d(n,{default:function(){return j}});var t=i(29439),l=(i(72791),i(62055)),s=i(40084),a=i(35741),d=i(53148),r=i(16178),o=i(95900),c=i(22553),u=i(87818),m=i(49935),f=i(17173);function h(){var e=(0,s.m)().companyId,n=(0,u.I0)(),i=(0,r.eC)().showNotification,t=(0,f.$G)().t,l=(0,r.iR)(),a=l.visible,d=l.showVisible,o=l.loading,c=l.toggleLoading,h=l.closePopup,p=(0,r.iR)(),g=p.visible,y=p.showVisible,x=p.closePopup,b=(0,r.e)({pageKey:"page",entity:"linkedClientsRole",entityName:"AllLinkedClientsRole"}).forwardToPreviousPage;return{deleteLinkedClientHandler:function(){return function(){return l=a,c(),void n((0,m.Bi)({entity:"linkedClientsRole",name:"AllLinkedClientsRole",method:"delete",url:"/".concat(e,"/my/company/client/roles/").concat(l.id,"/"),deleteData:!0,id:l.id,cb:{success:function(){b(),i({message:t("successfully_deleted"),variant:"success"})},error:function(e){i({message:t("something_went_wrong"),variant:"error"})},finally:function(){c(),h()}},params:{},primaryKey:"id",values:{}}));var l}},deleteVisible:a,showDeleteVisible:d,deleteLoading:o,closeDeletePopup:h,showEditVisible:y,closeEditPopup:x,editVisible:g}}var p=i(27945),g=i(41639),y=i(80184);function x(e){var n=e.onSuccess,i=e.entity,t=(0,s.m)().companyId,a=(0,r.eC)().showNotification,d=(0,f.$G)().t;return i?(0,y.jsx)("div",{className:"max-w-[446px]",children:(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(p.Z.Main,{entity:"linkedClientsRole",name:"AllLinkedClientsRole",url:"/".concat(t,"/my/company/client/roles/").concat(i.id,"/"),method:"put",primaryKey:"id",sendAsFormData:!1,normalizeData:function(e){return e},updateData:!0,fields:[{name:"name",onSubmitKey:"",required:!0,value:i.name},{name:"description",onSubmitKey:"",required:!0,value:i.description}],onSuccess:function(e,i){a({message:d("update_success")}),n(),i()},onError:function(e,n){var i,t,l=(null==e||null===(i=e.response)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.message)||d("something_went_wrong");a({message:l,variant:"error"})},children:function(e){var i=e.isSubmitting,t=(e.values,e.resetForm);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(l.ph,{resetForm:t,title:d("edit_client_group"),isEditing:!0}),(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:"flex items-center",children:[(0,y.jsx)(g.Z,{isSubmitting:i,onSuccess:n,isEditing:!0}),i&&(0,y.jsx)(l.aN,{tiled:!0,withOverlay:!0})]})})]})}})})}):null}function b(){var e=(0,f.$G)().t,n=(0,s.m)(),i=n.companyId,u=n.isPermitted,m=(0,r.h0)(),p=m.page,g=m.handlePage,b=(0,o.k0)().searchQuery,j=(0,c.Z)(b,500),v=(0,t.Z)(j,1)[0],w=h(),k=w.deleteLinkedClientHandler,_=w.deleteVisible,C=w.showDeleteVisible,E=w.deleteLoading,D=w.closeDeletePopup,N=w.showEditVisible,P=w.closeEditPopup,R=w.editVisible;return(0,y.jsx)("div",{children:i?(0,y.jsx)(a.Z.All,{entity:"linkedClientsRole",name:"AllLinkedClientsRole",url:"/".concat(i,"/my/company/client/roles/"),params:{limit:10,extra:{search:v},page:p},children:function(n){var i=n.items,t=n.isFetched,s=n.meta,a=i;return(0,y.jsxs)("div",{children:[(0,y.jsxs)(d.xJ,{classes:{root:"relative "},children:[(0,y.jsxs)(l.k6,{"aria-label":"simple table",classes:{root:"table-fixed dark-mode-styled-table"},children:[(0,y.jsx)(d.ss,{children:(0,y.jsxs)(l.AF,{children:[(0,y.jsx)(l.EU,{style:{width:"60%"},children:e("role_name")}),(0,y.jsx)(l.EU,{style:{width:"20%"},children:e("description")}),(0,y.jsx)(l.EU,{style:{width:"20%"},children:(0,y.jsx)("div",{className:"flex items-center justify-center",children:e("actions")})})]})}),(0,y.jsx)(d.RM,{children:a.map((function(e){var n=e.description,i=e.name,t=e.id;return(0,y.jsxs)(l.AF,{children:[(0,y.jsx)(l.Yk,{children:i}),(0,y.jsx)(l.Yk,{children:n}),(0,y.jsx)(l.Yk,{children:(0,y.jsxs)("div",{className:"flex items-center justify-center",children:[(0,y.jsx)(l.cP.DeleteButton,{isDisabled:!u,clickHandler:function(){return C(e)}}),(0,y.jsx)(l.cP.EditButton,{isDisabled:!u,clickHandler:function(){return N(e)}})]})})]},t)}))})]}),!t&&(0,y.jsx)(l.aN,{tiled:!0,withOverlay:!0})]}),(0,y.jsx)(l.sm,{featureHandler:k(),isOpen:Boolean(_),toggleHandler:D,title:e("delete_linked_client_confirmation",{name:null==_?void 0:_.name}),hasLoader:!0,isLoading:E}),(0,y.jsx)(d.Cx,{handleModalOpen:P,open:Boolean(R),children:(0,y.jsx)(x,{onSuccess:P,entity:R})}),(0,y.jsx)("div",{className:"news__pagination my-4",children:i.length?(0,y.jsx)(d.tl,{count:null==s?void 0:s.last_page,page:p?+p:1,defaultPage:6,siblingCount:1,color:"primary",onChange:g}):null})]})}}):(0,y.jsx)("div",{className:"flex justify-center",children:(0,y.jsx)(l.aN,{})})})}var j=function(){return(0,y.jsx)(l.SV,{children:(0,y.jsx)(b,{})})}}}]);
//# sourceMappingURL=9583.a6439bc2.chunk.js.map