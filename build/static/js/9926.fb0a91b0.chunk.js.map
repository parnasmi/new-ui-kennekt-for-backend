{"version":3,"file":"static/js/9926.fb0a91b0.chunk.js","mappings":"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","sources":["pages/News/NestedPages/EditRegularNews/EditRegularNews.tsx","pages/News/NestedPages/EditRegularNews/index.ts","pages/News/components/EditNewsForm.tsx"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Helmet from 'react-helmet';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { ErrorBoundary } from 'shared/components';\n\nimport { EditNewsForm } from '../../components/EditNewsForm';\n\nconst EditRegularNews = () => {\n\treturn (\n\t\t<div className=\"news-page py-4\">\n\t\t\t<Helmet>\n\t\t\t\t<title>KENNEKT | Edit News</title>\n\t\t\t\t<meta name=\"description\" content=\"KENNEKT Announcement\" />\n\t\t\t</Helmet>\n\t\t\t<h1 className=\"mb-2 -mt-12 text-2xl font-bold dark:text-white\">Edit News</h1>\n\t\t\t<div className=\"mb-4\">\n\t\t\t\t<Breadcrumbs aria-label=\"breadcrumb\">\n\t\t\t\t\t<Link to={`/news/news-list/`}>\n\t\t\t\t\t\t<span className=\"text-sm text-primary transition hover:text-primary-dark\">\n\t\t\t\t\t\t\tNews List\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Link>\n\t\t\t\t</Breadcrumbs>\n\t\t\t</div>\n\t\t\t<div className=\"uni-page__content\">\n\t\t\t\t<EditNewsForm />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default function EditCampaignNewsWithErrorBoundary(props: any) {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<EditRegularNews {...props} />\n\t\t</ErrorBoundary>\n\t);\n}\n","import EditRegularNews from './EditRegularNews';\n\nexport default EditRegularNews;\n","import React from 'react';\n// import { Link } from 'react-router-dom';\nimport EntityForm from 'modules/entity/forms';\nimport { formatNewsTime } from '../utils';\nimport get from 'lodash/get';\nimport EntityContainer from 'modules/entity/containers';\nimport { ErrorBoundary, Loader } from 'shared/components';\nimport NewsForm from './NewsFormElements';\nimport { useNotistack, useRouter } from 'shared/hooks';\nimport { useAppState } from 'shared/state';\nimport { NewsEntity } from 'shared/typings/news.types';\n\n//TODO: Clean up after all Edit related tasks done\n\nconst keywords = [\n\t{ name: 'Reader First Name', code: '{reader_first_name}' },\n\t{ name: 'Reader Last Name', code: '{reader_last_name}' },\n\t{ name: 'Reader Company', code: '{business_company}' },\n\t{ name: 'Author First Name', code: '{author_first_name}' },\n\t{ name: 'Author Last Name', code: '{author_last_name}' },\n\t{ name: 'Author company', code: '{client_company}' }\n];\n\nconst frequencies = [\n\t{\n\t\tname: 'Daily',\n\t\tcode: 'DAILY'\n\t},\n\t{\n\t\tname: 'Weekly',\n\t\tcode: 'WEEKLY'\n\t},\n\t{\n\t\tname: 'Monthly',\n\t\tcode: 'MONTHLY'\n\t},\n\t{\n\t\tname: 'Yearly',\n\t\tcode: 'YEARLY'\n\t},\n\t{\n\t\tname: 'Quarterly',\n\t\tcode: 'QUARTERLY'\n\t}\n];\n\nconst statuses = [\n\t{\n\t\tvalue: 'ACTIVE',\n\t\tlabel: 'Active'\n\t},\n\t{\n\t\tlabel: 'On hold',\n\t\tvalue: 'ON_HOLD'\n\t}\n];\n\nconst EditNewsInner = (props: any) => {\n\t// const { news } = useSelector(({ entities }) => {\n\t// \treturn {\n\t// \t\tnews: entities.news\n\t// \t};\n\t// });\n\t// const history = useHistory();\n\t// const { campaignId, companyId, id } = useParams();\n\n\tconst { params, history } = useRouter();\n\tconst { companyId } = useAppState();\n\tconst campaignId = parseInt((params as { campaignId: string })?.campaignId);\n\tconst newsId = parseInt((params as { newsId: string })?.newsId);\n\n\t// const [timezone, setTimeZone] = useState({});\n\t// const dispatch = useDispatch();\n\t// const offset = -new Date().getTimezoneOffset();\n\n\tconst { showNotification } = useNotistack();\n\n\t// const defaultStartTime = dayjs().hour(8).minute(0).format();\n\t// const defaultEndTime = dayjs().format();\n\n\t// let selected;\n\n\t// useEffect(() => {\n\t// \t(async function () {\n\t// \t\ttry {\n\t// \t\t\tconst { data } = await api.request.get(\n\t// \t\t\t\tqueryBuilder(`/timezones/current_timezone/${offset}/`, {})\n\t// \t\t\t);\n\t// \t\t\tsetTimeZone(data);\n\t// \t\t} catch (err) {\n\t// \t\t\tconsole.error(err);\n\t// \t\t}\n\t// \t})();\n\t// }, []);\n\n\tconst selectFrequency = (frequency: string) => {\n\t\tswitch (frequency) {\n\t\t\tcase 'ONE_TIME':\n\t\t\t\treturn 'ONE_TIME';\n\t\t\tcase 'DAILY':\n\t\t\tcase 'WEEKLY':\n\t\t\tcase 'MONTHLY':\n\t\t\tcase 'YEARLY':\n\t\t\tcase 'QUARTERLY': {\n\t\t\t\treturn 'REPEAT';\n\t\t\t}\n\t\t\tcase 'EVENTS': {\n\t\t\t\treturn 'EVENTS';\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\treturn 'ONE_TIME';\n\t\t}\n\t};\n\n\t// console.log(\"edit params\", { campaignId, companyId, id });\n\tif (!companyId) {\n\t\treturn <Loader />;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<EntityContainer.One\n\t\t\t\tid={newsId}\n\t\t\t\tentity=\"news\"\n\t\t\t\tname={`news-${campaignId}`}\n\t\t\t\turl={`/${companyId}/notifications/${newsId}/`}\n\t\t\t\tparams={{}}\n\t\t\t\trelations=\"\"\n\t\t\t>\n\t\t\t\t{({ item, isFetched }) => {\n\t\t\t\t\tconst newsItem = item as NewsEntity;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"uni-page__content\">\n\t\t\t\t\t\t\t{isFetched ? (\n\t\t\t\t\t\t\t\t<EntityForm.Main\n\t\t\t\t\t\t\t\t\tid={newsId}\n\t\t\t\t\t\t\t\t\tentity=\"news\"\n\t\t\t\t\t\t\t\t\tname={`${campaignId ? 'AllCampaignNews' : 'AllRegularNews'}`}\n\t\t\t\t\t\t\t\t\turl={`/${companyId}/notifications/${newsItem.id}/`}\n\t\t\t\t\t\t\t\t\tmethod=\"put\"\n\t\t\t\t\t\t\t\t\tsendAsFormData={false}\n\t\t\t\t\t\t\t\t\tfields={[\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'subject',\n\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\tvalue: newsItem.subject,\n\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'body',\n\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\tvalue: newsItem.body,\n\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'files',\n\t\t\t\t\t\t\t\t\t\t\tvalue: newsItem.files,\n\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\ttype: 'object'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'type',\n\t\t\t\t\t\t\t\t\t\t\tvalue: newsItem?.receiver.type,\n\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\ttype: 'object'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'status',\n\t\t\t\t\t\t\t\t\t\t\tvalue: newsItem.status,\n\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'open_for_cases',\n\t\t\t\t\t\t\t\t\t\t\tvalue: newsItem.open_for_cases,\n\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'frequency',\n\t\t\t\t\t\t\t\t\t\t\tvalue: selectFrequency(newsItem.frequency),\n\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'timezone',\n\t\t\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => ({ id: get(value, 'id') }),\n\t\t\t\t\t\t\t\t\t\t\tvalue: newsItem.timezone,\n\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\ttype: 'object'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'campaign',\n\t\t\t\t\t\t\t\t\t\t\tvalue: newsItem?.receiver.campaign\n\t\t\t\t\t\t\t\t\t\t\t\t? newsItem?.receiver?.campaign?.id\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: ''\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'start_time',\n\t\t\t\t\t\t\t\t\t\t\tvalue: newsItem.start_time,\n\t\t\t\t\t\t\t\t\t\t\t// value: newsItem.start_time || defaultStartTime,\n\t\t\t\t\t\t\t\t\t\t\t// onSubmitValue: (value) => moment(value).format()\n\t\t\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => formatNewsTime(value),\n\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\ttype: 'date',\n\t\t\t\t\t\t\t\t\t\t\tcustomValidation: (value) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn value === 'now';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'end_time',\n\t\t\t\t\t\t\t\t\t\t\tvalue: newsItem.end_time,\n\t\t\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => formatNewsTime(value),\n\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\ttype: 'date',\n\t\t\t\t\t\t\t\t\t\t\tcustomValidation: (value) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn value === 'now';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'event_times',\n\t\t\t\t\t\t\t\t\t\t\tvalue: newsItem.event_times || [],\n\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\ttype: 'object'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'department',\n\t\t\t\t\t\t\t\t\t\t\tvalue: newsItem.department,\n\t\t\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => get(value, 'id'),\n\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\ttype: 'object'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'sub_department',\n\t\t\t\t\t\t\t\t\t\t\tonSubmitValue: (value) => get(value, 'id'),\n\t\t\t\t\t\t\t\t\t\t\tvalue: newsItem.sub_department,\n\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\ttype: 'object'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'staff_departments',\n\t\t\t\t\t\t\t\t\t\t\tvalue: newsItem?.receiver.staff_departments,\n\t\t\t\t\t\t\t\t\t\t\tonSubmitValue: (value, values) =>\n\t\t\t\t\t\t\t\t\t\t\t\tvalue && (values as any).type === 'staff'\n\t\t\t\t\t\t\t\t\t\t\t\t\t? value?.reduce((acc: any, curr: any) => [...acc, curr.id], [])\n\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\ttype: 'object'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'categories',\n\t\t\t\t\t\t\t\t\t\t\tvalue: newsItem?.receiver.categories,\n\t\t\t\t\t\t\t\t\t\t\tonSubmitValue: (value, values) =>\n\t\t\t\t\t\t\t\t\t\t\t\tvalue && (values as any)?.type === 'client'\n\t\t\t\t\t\t\t\t\t\t\t\t\t? value?.reduce((acc: any, curr: any) => [...acc, curr.id], [])\n\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t\t\t\t\tonSubmitKey: '',\n\t\t\t\t\t\t\t\t\t\t\ttype: 'object'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\tonSuccess={(data, resetForm) => {\n\t\t\t\t\t\t\t\t\t\tresetForm();\n\t\t\t\t\t\t\t\t\t\tshowNotification({ message: 'Successfully Updated', variant: 'success' });\n\t\t\t\t\t\t\t\t\t\tif (campaignId || data?.receiver.campaign) {\n\t\t\t\t\t\t\t\t\t\t\thistory.push(`/news/campaigns/view/${campaignId}`);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\thistory.push(`/news/news-list`);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonError={(error, resetForm): any => {\n\t\t\t\t\t\t\t\t\t\tconst errorText = error?.response?.data?.message || 'Something went wrong';\n\t\t\t\t\t\t\t\t\t\tshowNotification({ message: errorText, variant: 'error' });\n\t\t\t\t\t\t\t\t\t}}\n\n\t\t\t\t\t\t\t\t\t// onSuccess={(data, values, { resetForm }) => {\n\t\t\t\t\t\t\t\t\t// \tresetForm();\n\t\t\t\t\t\t\t\t\t// \t// if (id && news) {\n\t\t\t\t\t\t\t\t\t// \t// \tselected = news[id];\n\t\t\t\t\t\t\t\t\t// \t// }\n\t\t\t\t\t\t\t\t\t// \t// const newPayload = { ...selected, files: values.files };\n\t\t\t\t\t\t\t\t\t// \t// dispatch(\n\t\t\t\t\t\t\t\t\t// \t// \tUpdateEntitiesAction({\n\t\t\t\t\t\t\t\t\t// \t// \t\tentity: 'news',\n\t\t\t\t\t\t\t\t\t// \t// \t\tentityId: id,\n\t\t\t\t\t\t\t\t\t// \t// \t\tpayload: newPayload\n\t\t\t\t\t\t\t\t\t// \t// \t})\n\t\t\t\t\t\t\t\t\t// \t// );\n\t\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t\t\t// \tif (campaignId) {\n\t\t\t\t\t\t\t\t\t// \t\thistory.push(`/${companyId}/app/announcement/campaign/view/${campaignId}`);\n\t\t\t\t\t\t\t\t\t// \t} else {\n\t\t\t\t\t\t\t\t\t// \t\thistory.push(`/${companyId}/app/announcement/news-list`);\n\t\t\t\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t\t\t\t// }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{({ isSubmitting, values, setFieldValue, errors, setFieldError }) => {\n\t\t\t\t\t\t\t\t\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('edit news values', values);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<NewsForm\n\t\t\t\t\t\t\t\t\t\t\t\tisUpdate={item}\n\t\t\t\t\t\t\t\t\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t\t\t\t\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue={setFieldValue}\n\t\t\t\t\t\t\t\t\t\t\t\tkeywords={keywords}\n\t\t\t\t\t\t\t\t\t\t\t\tfrequencies={frequencies}\n\t\t\t\t\t\t\t\t\t\t\t\tstatuses={statuses}\n\t\t\t\t\t\t\t\t\t\t\t\tcampaignId={campaignId}\n\t\t\t\t\t\t\t\t\t\t\t\tsetFieldError={setFieldError}\n\t\t\t\t\t\t\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\t\t\t\t\t\t\t//TODO: remove if everything works and not necessary\n\t\t\t\t\t\t\t\t\t\t\t\t// defaultStartTime={defaultStartTime}\n\t\t\t\t\t\t\t\t\t\t\t\t// defaultEndTime={defaultEndTime}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t</EntityForm.Main>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Loader tiled withOverlay />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</EntityContainer.One>\n\t\t</>\n\t);\n};\n\nexport function EditNewsForm(props: any) {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<EditNewsInner {...props} />\n\t\t</ErrorBoundary>\n\t);\n}\n"],"names":["EditRegularNews","className","Helmet","name","content","Breadcrumbs","to","EditNewsForm","props","keywords","code","frequencies","statuses","value","label","EditNewsInner","useRouter","params","history","companyId","useAppState","campaignId","parseInt","newsId","showNotification","useNotistack","selectFrequency","frequency","id","entity","url","relations","item","isFetched","newsItem","method","sendAsFormData","fields","required","subject","onSubmitKey","body","files","type","receiver","status","open_for_cases","onSubmitValue","get","timezone","campaign","undefined","start_time","formatNewsTime","customValidation","end_time","event_times","department","sub_department","staff_departments","values","reduce","acc","curr","categories","onSuccess","data","resetForm","message","variant","push","onError","error","errorText","response","isSubmitting","setFieldValue","errors","setFieldError","isUpdate","tiled","withOverlay"],"sourceRoot":""}