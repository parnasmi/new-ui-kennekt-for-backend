{"version":3,"file":"static/js/2667.95facef5.chunk.js","mappings":"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","sources":["pages/UserProfile/components/EditProfile.tsx","pages/UserProfile/UserProfile.tsx","pages/UserProfile/index.ts"],"sourcesContent":["import React, { useState } from 'react';\nimport { useFormik } from 'formik';\nimport { KntInput, KntPhoneInput } from 'shared/components/Fields';\nimport * as yup from 'yup';\nimport { useAuth } from 'modules/auth/hooks/useAuth';\nimport config from 'config';\nimport { Loader, FileUploader, ActionsButtons, ConfirmModal } from 'shared/components';\nimport get from 'lodash/get';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { useAxios, useNotistack } from 'shared/hooks';\nimport { useDispatch } from 'react-redux';\nimport Actions from 'store/actions';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\n\nconst imgPath = `${config.PUBLIC_ASSETS}img/`;\n\nfunction extractKeyValuePairs(inputString: string) {\n\tconst keyValuePairs: Record<string, string> = {};\n\tconst lines = inputString.split('\\n').filter(Boolean);\n\n\tfor (const line of lines) {\n\t\tconst [key, value] = line.split(':');\n\t\tkeyValuePairs[key.trim()] = value.trim();\n\t}\n\n\treturn keyValuePairs;\n}\n\nconst validationSchema = yup.object({\n\tusername: yup\n\t\t.string()\n\t\t.strict()\n\t\t.trim('Field cannot be blank')\n\t\t.email('Enter a valid email')\n\t\t.required('Email is required'),\n\tfirst_name: yup.string().strict().trim('Field cannot be blank').required('Firstname is required'),\n\tlast_name: yup.string().strict().trim('Field cannot be blank').required('Lastname is required'),\n\tmobile: yup.string().required('Mobile number is required'),\n\tgender: yup.string()\n});\n\ntype Props = {\n\tmodalHandler: () => void;\n};\n\nconst useStyles = makeStyles(\n\tcreateStyles({\n\t\tselectMenu: {\n\t\t\tpaddingTop: '13px',\n\t\t\tpaddingBottom: '13px',\n\t\t\tborderColor: '#e0e0e0',\n\t\t\tfontSize: '13px'\n\t\t},\n\t\troot: {\n\t\t\twidth: '100%',\n\t\t\t'MuiInputBase-formControl': {\n\t\t\t\tcolor: 'red'\n\t\t\t}\n\t\t},\n\t\tformControl: {\n\t\t\tborderRadius: '8px'\n\t\t}\n\t})\n);\n\nexport function EditProfile({ modalHandler }: Props) {\n\tconst { userData } = useAuth();\n\tconst [showDeleteModalVisible, setShowDeleteModalVisible] = useState(false);\n\tconst [uploadMeta, setUploadMeta] = useState<any>(null);\n\tconst [cancelSending, setCancelSending] = useState<any>(false);\n\tconst [file, setFile] = useState(userData.avatar ? userData.avatar : null);\n\tconst [gender, setGender] = useState<string>(userData.gender ? userData.gender : 'other');\n\tconst classes = useStyles();\n\tconst dispatch = useDispatch();\n\tconst { showNotification } = useNotistack();\n\n\tconst formik = useFormik({\n\t\tinitialValues: {\n\t\t\tusername: userData.username,\n\t\t\tfirst_name: userData.first_name,\n\t\t\tlast_name: userData.last_name,\n\t\t\tmobile: userData.mobile,\n\t\t\tavatar: userData.avatar?.id,\n\t\t\tgender\n\t\t},\n\t\tvalidationSchema: validationSchema,\n\t\tonSubmit: (values, { setFieldError, setSubmitting }) => {\n\t\t\tconst filteredValues = { ...values, avatar: file?.id };\n\t\t\tupdateProfile({ values: filteredValues });\n\t\t}\n\t});\n\n\tconst { fetchData: deleteProfileAvatar, loading: isDeleteProfileLoading } = useAxios({\n\t\turl: '/my/profile/avatar/delete/',\n\t\tmethod: 'delete',\n\t\tcb: {\n\t\t\tsuccess: (data) => {\n\t\t\t\tshowNotification({\n\t\t\t\t\tmessage: 'Profile photo deleted!'\n\t\t\t\t});\n\t\t\t\tsetFile(null);\n\t\t\t\tdispatch(\n\t\t\t\t\tActions.auth.GetMe.success({\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t...userData,\n\t\t\t\t\t\t\tavatar: null\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\ttoggleDeleteModal();\n\t\t\t},\n\t\t\terror: (error) => {\n\t\t\t\tshowNotification({\n\t\t\t\t\tmessage: error?.response?.data?.message || 'Something went wrong',\n\t\t\t\t\tvariant: 'error'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\tconst { fetchData: updateProfile } = useAxios({\n\t\turl: '/my/profile/',\n\t\tdynamicValues: true,\n\t\tmethod: 'put',\n\t\tcb: {\n\t\t\tsuccess: (data, args) => {\n\t\t\t\t// const [entityId, isCase, entityName, url] = args;\n\t\t\t\tformik.setSubmitting(false);\n\t\t\t\tdispatch(\n\t\t\t\t\tActions.auth.GetMe.success({\n\t\t\t\t\t\tdata\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tshowNotification({\n\t\t\t\t\tmessage: 'Profile updated'\n\t\t\t\t});\n\t\t\t\tmodalHandler();\n\t\t\t},\n\t\t\terror: (error, args) => {\n\t\t\t\tformik.setSubmitting(false);\n\t\t\t\tconst message = error?.response?.data?.message?.replace('display name', 'user name');\n\t\t\t\tconst errorObject = extractKeyValuePairs(message);\n\t\t\t\tformik.setErrors(errorObject);\n\t\t\t}\n\t\t}\n\t});\n\n\tconst handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n\t\tsetGender(event.target.value as string);\n\t};\n\n\tconst handleDeleteProfileAvatar = async () => {\n\t\tawait deleteProfileAvatar();\n\t};\n\n\tfunction toggleDeleteModal() {\n\t\tsetShowDeleteModalVisible((prev) => !prev);\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<form onSubmit={formik.handleSubmit}>\n\t\t\t\t<div className=\"mb-6 text-xl font-semibold\">Edit Profile</div>\n\t\t\t\t<div className=\"flex-center-center mb-4\">\n\t\t\t\t\t<div className=\"mr-4\">\n\t\t\t\t\t\t<FileUploader\n\t\t\t\t\t\t\tuploadMeta={uploadMeta}\n\t\t\t\t\t\t\tsetUploadMeta={setUploadMeta}\n\t\t\t\t\t\t\tcancelSending={cancelSending}\n\t\t\t\t\t\t\tsetCancelSending={setCancelSending}\n\t\t\t\t\t\t\tsetFile={setFile}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"user-avatar-box__display flex-centered group relative h-20 w-20 overflow-hidden rounded-full\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={get(file, 'thumbnail_150') || `${imgPath}chat-placeholder.png`}\n\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\tclassName={'h-full object-cover'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{file && !uploadMeta && (\n\t\t\t\t\t\t\t<div className=\"absolute bottom-0 left-0 hidden h-1/3 w-full justify-center bg-kgrey-bg group-hover:flex\">\n\t\t\t\t\t\t\t\t<ActionsButtons.DeleteButton clickHandler={toggleDeleteModal} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{uploadMeta !== null && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'absolute top-1/2 left-1/2 z-10 h-10 w-10 -translate-y-1/2 -translate-x-1/2'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"upload-media-spinner\">\n\t\t\t\t\t\t\t\t\t<Loader variant=\"determinate\" value={uploadMeta} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetCancelSending(true);\n\t\t\t\t\t\t\t\t\t\tsetUploadMeta(null);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t'absolute top-1/2 left-1/2 z-20 h-8 w-8 -translate-y-1/2 -translate-x-1/2 ' +\n\t\t\t\t\t\t\t\t\t\t'cursor-pointer text-3xl text-primary-dark transition hover:text-primary'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<AiOutlineCloseCircle />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<KntInput\n\t\t\t\t\tname={'first_name'}\n\t\t\t\t\tplaceholder={'Enter you first name'}\n\t\t\t\t\tlabel={'First name'}\n\t\t\t\t\trequired\n\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\tvalue={formik.values.first_name}\n\t\t\t\t\terror={formik.touched.first_name && Boolean(formik.errors.first_name)}\n\t\t\t\t\thelperText={formik.touched.first_name && formik.errors.first_name}\n\t\t\t\t/>\n\t\t\t\t<KntInput\n\t\t\t\t\tname={'last_name'}\n\t\t\t\t\tplaceholder={'Enter you last name'}\n\t\t\t\t\tlabel={'Last name'}\n\t\t\t\t\trequired\n\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\tvalue={formik.values.last_name}\n\t\t\t\t\terror={formik.touched.last_name && Boolean(formik.errors.last_name)}\n\t\t\t\t\thelperText={formik.touched.last_name && formik.errors.last_name}\n\t\t\t\t/>\n\t\t\t\t<KntInput\n\t\t\t\t\tname={'username'}\n\t\t\t\t\tplaceholder={'Enter your email'}\n\t\t\t\t\tlabel={'Email address'}\n\t\t\t\t\trequired\n\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\ttype={'email'}\n\t\t\t\t\tvalue={formik.values.username}\n\t\t\t\t\terror={formik.touched.username && Boolean(formik.errors.username)}\n\t\t\t\t\thelperText={formik.touched.username && formik.errors.username}\n\t\t\t\t/>\n\t\t\t\t<KntPhoneInput\n\t\t\t\t\tname={'mobile'}\n\t\t\t\t\tplaceholder={'Enter your mobile phone number'}\n\t\t\t\t\tlabel={'Phone number'}\n\t\t\t\t\trequired\n\t\t\t\t\tsetPhoneValue={formik.setFieldValue}\n\t\t\t\t\tvalue={formik.values.mobile}\n\t\t\t\t\terror={formik.touched.mobile && Boolean(formik.errors.mobile)}\n\t\t\t\t\thelperText={formik.touched.mobile && formik.errors.mobile}\n\t\t\t\t\tenableSearch\n\t\t\t\t/>\n\n\t\t\t\t<div className={'mb-4'}>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\troot: classes.root\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p className={'ml-6 mb-2 block text-xs font-light text-kgrey-welcome'}>Gender</p>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabelId=\"Gender-select\"\n\t\t\t\t\t\t\tid=\"gender-select\"\n\t\t\t\t\t\t\tvalue={gender}\n\t\t\t\t\t\t\tvariant={'outlined'}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\thandleChange(e);\n\t\t\t\t\t\t\t\tformik.setFieldValue('gender', e.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tautoWidth\n\t\t\t\t\t\t\tclasses={{ selectMenu: classes.selectMenu, root: classes.root }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={'OTHER'}>Other</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={'MALE'}>Male</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={'FEMALE'}>Female</MenuItem>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"flex-center-between\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype={'submit'}\n\t\t\t\t\t\tdisabled={formik.isSubmitting}\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'bg-primary py-3.5 uppercase transition ' +\n\t\t\t\t\t\t\t'w-full rounded-lg text-center text-sm font-light text-white hover:bg-primary-dark'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{formik.isSubmitting ? 'Updating. Please wait a while' : 'Update'}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tdisabled={formik.isSubmitting}\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'bg-primary py-3.5 uppercase transition ' +\n\t\t\t\t\t\t\t'ml-2 w-full rounded-lg text-center text-sm font-light text-white hover:bg-primary-dark sm:ml-0 sm:hidden'\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttype={'button'}\n\t\t\t\t\t\tonClick={modalHandler}\n\t\t\t\t\t>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<ConfirmModal\n\t\t\t\t\tisLoading={isDeleteProfileLoading}\n\t\t\t\t\ttoggleHandler={toggleDeleteModal}\n\t\t\t\t\tisOpen={showDeleteModalVisible}\n\t\t\t\t\tfeatureHandler={handleDeleteProfileAvatar}\n\t\t\t\t\ttitle=\"Are you sure to delete the profile photo?\"\n\t\t\t\t/>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n","/** @jsxImportSource @emotion/react */\nimport { StandardPageLayout } from 'shared/layouts';\nimport { useAuth } from 'modules/auth/hooks/useAuth';\nimport { css } from '@emotion/react';\nimport clsx from 'clsx';\nimport { useUnreadCaseTab, useWhiteModal } from 'shared/hooks';\nimport { EditProfile } from './components/EditProfile';\nimport { isMobile } from 'react-device-detect';\nimport { Helmet } from 'react-helmet';\nimport { ErrorBoundary } from 'shared/components';\nimport { MdEdit } from 'react-icons/md';\n\nfunction UserProfileInner() {\n\tconst { userData } = useAuth();\n\tconst { open, modalHandler, WhiteModal } = useWhiteModal();\n\tconst { unreadCasesQuantity, isHidden } = useUnreadCaseTab('User Profile');\n\n\treturn (\n\t\t<StandardPageLayout>\n\t\t\t<div className={'profile'}>\n\t\t\t\t{(!isHidden || unreadCasesQuantity === 0) && (\n\t\t\t\t\t<Helmet>\n\t\t\t\t\t\t<title>KENNEKT | User profile</title>\n\t\t\t\t\t</Helmet>\n\t\t\t\t)}\n\t\t\t\t<div className=\"profile__header mb-20 h-40 w-full rounded-xl bg-user-profile p-4 text-white\">\n\t\t\t\t\t<div className=\"profile__header-heading text-2xl font-medium \">Profile</div>\n\t\t\t\t\t<div className=\"profile__header-info  relative mx-2  mt-12 overflow-hidden rounded-2xl p-5 shadow-xl\">\n\t\t\t\t\t\t<div className=\"blurred absolute inset-0 z-0 bg-white/80 backdrop-blur-sm dark:bg-kdark/40\" />\n\t\t\t\t\t\t<div className=\"profile__header-info-inner relative z-10 flex items-center justify-between\">\n\t\t\t\t\t\t\t<div className=\"profile__header-user flex items-center\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t'profile__header-user-img flex-centered h-20 w-20 overflow-hidden rounded-2xl shadow-xl',\n\t\t\t\t\t\t\t\t\t\t{ 'bg-white': !userData.avatar }\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{userData.avatar ? (\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc={userData?.avatar?.thumbnail}\n\t\t\t\t\t\t\t\t\t\t\talt=\"Image\"\n\t\t\t\t\t\t\t\t\t\t\tclassName={'object-fit h-full w-full'}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\tclassName={'text-2xl text-kgrey'}\n\t\t\t\t\t\t\t\t\t\t>{`${userData.first_name[0]}${userData.last_name[0]}`}</p>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"profile__header-user-name ml-5 w-[500px]\">\n\t\t\t\t\t\t\t\t\t<div className=\"truncate text-2xl font-semibold text-kdark dark:text-white\">{`${userData.first_name} ${userData.last_name}`}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"profile-info min-h-[215px] rounded-2xl border border-transparent border-white/30 bg-white px-5 py-4 shadow-lg dark:bg-kdark\"\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\twidth: ${isMobile ? '100%' : '428px'};\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"profile-info__top flex-center-between border-b border-[#f0f0f0] pb-4\">\n\t\t\t\t\t\t\t<div className=\"font-semibold text-kdark dark:text-white\">Profile information</div>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"flex-centered h-4 w-4 text-[#67748E] transition hover:text-primary\"\n\t\t\t\t\t\t\t\ttype={'button'}\n\t\t\t\t\t\t\t\tonClick={modalHandler}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MdEdit />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"profile-info__content py-4\">\n\t\t\t\t\t\t\t<ProfileItem\n\t\t\t\t\t\t\t\tfield={'Full Name'}\n\t\t\t\t\t\t\t\tvalue={`${userData.first_name} ${userData.last_name}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ProfileItem field={'Mobile'} value={userData.mobile} />\n\t\t\t\t\t\t\t<ProfileItem field={'Email'} value={userData.username} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<WhiteModal handleModalOpen={modalHandler} open={open}>\n\t\t\t\t\t\t<EditProfile modalHandler={modalHandler} />\n\t\t\t\t\t</WhiteModal>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</StandardPageLayout>\n\t);\n}\n\nexport function UserProfile() {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<UserProfileInner />\n\t\t</ErrorBoundary>\n\t);\n}\n\nfunction ProfileItem({ field, value }: { field: string; value: string | React.ReactNode }) {\n\treturn (\n\t\t<div className=\"profile-info__item flex-center-y mb-4 text-sm font-medium\">\n\t\t\t<div className=\"text-[#67748E]\">{field}:</div>\n\t\t\t<div className=\"ml-2 truncate text-kdark dark:text-white\">{value}</div>\n\t\t</div>\n\t);\n}\n","import { UserProfile } from './UserProfile';\nexport default UserProfile;\n"],"names":["imgPath","config","validationSchema","yup","username","strict","trim","email","required","first_name","last_name","mobile","gender","useStyles","makeStyles","createStyles","selectMenu","paddingTop","paddingBottom","borderColor","fontSize","root","width","color","formControl","borderRadius","EditProfile","modalHandler","userData","useAuth","useState","showDeleteModalVisible","setShowDeleteModalVisible","uploadMeta","setUploadMeta","cancelSending","setCancelSending","avatar","file","setFile","setGender","classes","dispatch","useDispatch","showNotification","useNotistack","formik","useFormik","initialValues","id","onSubmit","values","setFieldError","setSubmitting","filteredValues","updateProfile","useAxios","url","method","cb","success","data","message","Actions","toggleDeleteModal","error","response","variant","deleteProfileAvatar","fetchData","isDeleteProfileLoading","loading","dynamicValues","args","errorObject","inputString","keyValuePairs","lines","split","filter","Boolean","key","value","extractKeyValuePairs","replace","setErrors","handleDeleteProfileAvatar","prev","handleSubmit","className","src","get","alt","clickHandler","onClick","name","placeholder","label","onChange","handleChange","touched","errors","helperText","type","setPhoneValue","setFieldValue","enableSearch","FormControl","Select","labelId","e","target","autoWidth","MenuItem","disabled","isSubmitting","isLoading","toggleHandler","isOpen","featureHandler","title","UserProfileInner","useWhiteModal","open","WhiteModal","useUnreadCaseTab","unreadCasesQuantity","isHidden","Helmet","clsx","thumbnail","css","isMobile","ProfileItem","field","handleModalOpen"],"sourceRoot":""}